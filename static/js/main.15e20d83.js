/*! For license information please see main.15e20d83.js.LICENSE.txt */
!function(){var e={6708:function(){},7440:function(){},9791:function(e,t,n){"use strict";var i=n(9797),r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=(0,i.Z)((function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));t.Z=o},9797:function(e,t){"use strict";t.Z=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},4569:function(e,t,n){e.exports=n(8036)},3381:function(e,t,n){"use strict";var i=n(3589),r=n(7297),o=n(9301),a=n(9774),s=n(1804),l=n(9145),c=n(5411),u=n(6467),d=n(6789),h=n(9346);e.exports=function(e){return new Promise((function(t,n){var p,f=e.data,m=e.headers,g=e.responseType;function v(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}i.isFormData(f)&&delete m["Content-Type"];var y=new XMLHttpRequest;if(e.auth){var x=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(x+":"+b)}var _=s(e.baseURL,e.url);function w(){if(y){var i="getAllResponseHeaders"in y?l(y.getAllResponseHeaders()):null,o={data:g&&"text"!==g&&"json"!==g?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:i,config:e,request:y};r((function(e){t(e),v()}),(function(e){n(e),v()}),o),y=null}}if(y.open(e.method.toUpperCase(),a(_,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,"onloadend"in y?y.onloadend=w:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(w)},y.onabort=function(){y&&(n(u("Request aborted",e,"ECONNABORTED",y)),y=null)},y.onerror=function(){n(u("Network Error",e,null,y)),y=null},y.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",i=e.transitional||d;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,i.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},i.isStandardBrowserEnv()){var k=(e.withCredentials||c(_))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;k&&(m[e.xsrfHeaderName]=k)}"setRequestHeader"in y&&i.forEach(m,(function(e,t){"undefined"===typeof f&&"content-type"===t.toLowerCase()?delete m[t]:y.setRequestHeader(t,e)})),i.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),g&&"json"!==g&&(y.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&y.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){y&&(n(!e||e&&e.type?new h("canceled"):e),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),f||(f=null),y.send(f)}))}},8036:function(e,t,n){"use strict";var i=n(3589),r=n(4049),o=n(3773),a=n(777);var s=function e(t){var n=new o(t),s=r(o.prototype.request,n);return i.extend(s,o.prototype,n),i.extend(s,n),s.create=function(n){return e(a(t,n))},s}(n(1709));s.Axios=o,s.Cancel=n(9346),s.CancelToken=n(6857),s.isCancel=n(5517),s.VERSION=n(7600).version,s.all=function(e){return Promise.all(e)},s.spread=n(8089),s.isAxiosError=n(9580),e.exports=s,e.exports.default=s},9346:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},6857:function(e,t,n){"use strict";var i=n(9346);function r(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,i=n._listeners.length;for(t=0;t<i;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,i=new Promise((function(e){n.subscribe(e),t=e})).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e((function(e){n.reason||(n.reason=new i(e),t(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},r.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r},5517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3773:function(e,t,n){"use strict";var i=n(3589),r=n(9774),o=n(7470),a=n(2733),s=n(777),l=n(7835),c=l.validators;function u(e){this.defaults=e,this.interceptors={request:new o,response:new o}}u.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&l.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var i=[],r=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(r=r&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));var o,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!r){var d=[a,void 0];for(Array.prototype.unshift.apply(d,i),d=d.concat(u),o=Promise.resolve(t);d.length;)o=o.then(d.shift(),d.shift());return o}for(var h=t;i.length;){var p=i.shift(),f=i.shift();try{h=p(h)}catch(m){f(m);break}}try{o=a(h)}catch(m){return Promise.reject(m)}for(;u.length;)o=o.then(u.shift(),u.shift());return o},u.prototype.getUri=function(e){return e=s(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),i.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,i){return this.request(s(i||{},{method:e,url:t,data:n}))}})),e.exports=u},7470:function(e,t,n){"use strict";var i=n(3589);function r(){this.handlers=[]}r.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},1804:function(e,t,n){"use strict";var i=n(4044),r=n(9549);e.exports=function(e,t){return e&&!i(t)?r(e,t):t}},6467:function(e,t,n){"use strict";var i=n(6460);e.exports=function(e,t,n,r,o){var a=new Error(e);return i(a,t,n,r,o)}},2733:function(e,t,n){"use strict";var i=n(3589),r=n(2693),o=n(5517),a=n(1709),s=n(9346);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=r.call(e,e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return l(e),t.data=r.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(l(e),t&&t.response&&(t.response.data=r.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},6460:function(e){"use strict";e.exports=function(e,t,n,i,r){return e.config=t,n&&(e.code=n),e.request=i,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},777:function(e,t,n){"use strict";var i=n(3589);e.exports=function(e,t){t=t||{};var n={};function r(e,t){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge(e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function o(n){return i.isUndefined(t[n])?i.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function a(e){if(!i.isUndefined(t[e]))return r(void 0,t[e])}function s(n){return i.isUndefined(t[n])?i.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function l(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return i.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||o,r=t(e);i.isUndefined(r)&&t!==l||(n[e]=r)})),n}},7297:function(e,t,n){"use strict";var i=n(6467);e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(i("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},2693:function(e,t,n){"use strict";var i=n(3589),r=n(1709);e.exports=function(e,t,n){var o=this||r;return i.forEach(n,(function(n){e=n.call(o,e,t)})),e}},1709:function(e,t,n){"use strict";var i=n(3589),r=n(4341),o=n(6460),a=n(6789),s={"Content-Type":"application/x-www-form-urlencoded"};function l(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c={transitional:a,adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(3381)),e}(),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(l(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)||t&&"application/json"===t["Content-Type"]?(l(t,"application/json"),function(e,t,n){if(i.isString(e))try{return(t||JSON.parse)(e),i.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||c.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||r&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(a){if("SyntaxError"===s.name)throw o(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){c.headers[e]=i.merge(s)})),e.exports=c},6789:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7600:function(e){e.exports={version:"0.26.1"}},4049:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},9774:function(e,t,n){"use strict";var i=n(3589);function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var a=[];i.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),a.push(r(t)+"="+r(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},9549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9301:function(e,t,n){"use strict";var i=n(3589);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,r,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4044:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},9580:function(e,t,n){"use strict";var i=n(3589);e.exports=function(e){return i.isObject(e)&&!0===e.isAxiosError}},5411:function(e,t,n){"use strict";var i=n(3589);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=i.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},4341:function(e,t,n){"use strict";var i=n(3589);e.exports=function(e,t){i.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))}},9145:function(e,t,n){"use strict";var i=n(3589),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(i.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=i.trim(e.substr(0,o)).toLowerCase(),n=i.trim(e.substr(o+1)),t){if(a[t]&&r.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},8089:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7835:function(e,t,n){"use strict";var i=n(7600).version,r={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){r[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};r.transitional=function(e,t,n){function r(e,t){return"[Axios v"+i+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new Error(r(i," has been removed"+(t?" in "+t:"")));return t&&!o[i]&&(o[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var i=Object.keys(e),r=i.length;r-- >0;){var o=i[r],a=t[o];if(a){var s=e[o],l=void 0===s||a(s,o,e);if(!0!==l)throw new TypeError("option "+o+" must be "+l)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:r}},3589:function(e,t,n){"use strict";var i=n(4049),r=Object.prototype.toString;function o(e){return Array.isArray(e)}function a(e){return"undefined"===typeof e}function s(e){return"[object ArrayBuffer]"===r.call(e)}function l(e){return null!==e&&"object"===typeof e}function c(e){if("[object Object]"!==r.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===r.call(e)}function d(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}e.exports={isArray:o,isArrayBuffer:s,isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===r.call(e)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&s(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:l,isPlainObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:u,isStream:function(e){return l(e)&&u(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===r.call(e)},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:d,merge:function e(){var t={};function n(n,i){c(t[i])&&c(n)?t[i]=e(t[i],n):c(n)?t[i]=e({},n):o(n)?t[i]=n.slice():t[i]=n}for(var i=0,r=arguments.length;i<r;i++)d(arguments[i],n);return t},extend:function(e,t,n){return d(t,(function(t,r){e[r]=n&&"function"===typeof t?i(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},4632:function(e,t,n){var i,r=n(8416).default;!function(){function n(e,t){e.prototype=function(e){function t(){}return t.prototype=e,new t}(t.prototype),e.prototype.constructor=e,e.base=t.prototype}function o(e,t,n){return"millisecond"===n?e.setMilliseconds(e.getMilliseconds()+1*t):"second"===n?e.setSeconds(e.getSeconds()+1*t):"minute"===n?e.setMinutes(e.getMinutes()+1*t):"hour"===n?e.setHours(e.getHours()+1*t):"day"===n?e.setDate(e.getDate()+1*t):"week"===n?e.setDate(e.getDate()+7*t):"month"===n?e.setMonth(e.getMonth()+1*t):"year"===n&&e.setFullYear(e.getFullYear()+1*t),e}function a(e,t){var n=!1;for(0>e&&(n=!0,e*=-1),e=""+e,t=t||1;e.length<t;)e="0"+e;return n?"-"+e:e}function s(e){if(!e)return e;for(var t=/\s/,n=(e=e.replace(/^\s\s*/,"")).length;t.test(e.charAt(--n)););return e.slice(0,n+1)}function l(e){e.roundRect=function(e,t,n,i,r,o,a,s){a&&(this.fillStyle=a),s&&(this.strokeStyle=s),"undefined"===typeof r&&(r=5),this.lineWidth=o,this.beginPath(),this.moveTo(e+r,t),this.lineTo(e+n-r,t),this.quadraticCurveTo(e+n,t,e+n,t+r),this.lineTo(e+n,t+i-r),this.quadraticCurveTo(e+n,t+i,e+n-r,t+i),this.lineTo(e+r,t+i),this.quadraticCurveTo(e,t+i,e,t+i-r),this.lineTo(e,t+r),this.quadraticCurveTo(e,t,e+r,t),this.closePath(),a&&this.fill(),s&&0<o&&this.stroke()}}function c(e,t){return e-t}function u(e,t,n){if(e&&t&&n){n=n+"."+t;var i="image/"+t;e=e.toDataURL(i);var r=!1,o=document.createElement("a");if(o.download=n,o.href=e,"undefined"!==typeof Blob&&new Blob){for(var a=e.replace(/^data:[a-z\/]*;base64,/,""),s=(a=atob(a),new ArrayBuffer(a.length)),l=(s=new Uint8Array(s),0);l<a.length;l++)s[l]=a.charCodeAt(l);t=new Blob([s.buffer],{type:"image/"+t});try{window.navigator.msSaveBlob(t,n),r=!0}catch(c){o.dataset.downloadurl=[i,o.download,o.href].join(":"),o.href=window.URL.createObjectURL(t)}}if(!r)try{event=document.createEvent("MouseEvents"),event.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent?o.dispatchEvent(event):o.fireEvent&&o.fireEvent("onclick")}catch(J){(t=window.open()).document.write("<img src='"+e+"'></img><div>Please right click on the image and save it to your device</div>"),t.document.close()}}}function d(e){var t=((16711680&e)>>16).toString(16),n=((65280&e)>>8).toString(16);return e=((255&e)>>0).toString(16),"#"+(t=2>t.length?"0"+t:t)+(n=2>n.length?"0"+n:n)+(e=2>e.length?"0"+e:e)}function h(e,t){var n,i=this.length>>>0;for(0>(n=0>(n=Number(t)||0)?Math.ceil(n):Math.floor(n))&&(n+=i);n<i;n++)if(n in this&&this[n]===e)return n;return-1}function p(e){return null===e||"undefined"===typeof e}function f(e){return e.indexOf||(e.indexOf=h),e}function m(e){W.fSDec&&e[pe("`eeDwdouMhrudods")](pe("e`u`@ohl`uhnoHuds`uhnoDoe"),(function(){W._fTWm&&W._fTWm(e)}))}function g(e,t,n){var i=e+"_"+t+"_"+(n=n||"normal"),r=te[i];if(isNaN(r)){try{if(e="position:absolute; left:0px; top:-20000px; padding:0px;margin:0px;border:none;white-space:pre;line-height:normal;font-family:"+e+"; font-size:"+t+"px; font-weight:"+n+";",!ne){var o=document.body;(ne=document.createElement("span")).innerHTML="";var a=document.createTextNode("Mpgyi");ne.appendChild(a),o.appendChild(ne)}ne.style.display="",ne.setAttribute("style",e),r=Math.round(ne.offsetHeight),ne.style.display="none"}catch(s){r=Math.ceil(1.1*t)}r=Math.max(r,t),te[i]=r}return r}function v(e,t){var n=[];if(n={solid:[],shortDash:[3,1],shortDot:[1,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],dot:[1,2],dash:[4,2],dashDot:[4,2,1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2]}[e||"solid"])for(var i=0;i<n.length;i++)n[i]*=t;else n=[];return n}function y(e,t,n,i,r){return r=r||!1,(i=i||[]).push([e,t,n,r]),e.addEventListener?(e.addEventListener(t,n,r),n):!!e.attachEvent&&(i=function(t){(t=t||window.event).preventDefault=t.preventDefault||function(){t.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){t.cancelBubble=!0},n.call(e,t)},e.attachEvent("on"+t,i),i)}function x(e,t,n){for(e*=de,t*=de,e=n.getImageData(e,t,2,2).data,t=!0,n=0;4>n;n++)if(e[n]!==e[n+4]|e[n]!==e[n+8]|e[n]!==e[n+12]){t=!1;break}return t?e[0]<<16|e[1]<<8|e[2]:0}function b(e,t,n){return e in t?t[e]:n[e]}function _(e,t,n){if(U&&le){var i=e.getContext("2d");ue=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1,de=ce/ue,e.width=t*de,e.height=n*de,ce!==ue&&(e.style.width=t+"px",e.style.height=n+"px",i.scale(de,de))}else e.width=t,e.height=n}function w(e){if(!me){var t=!1,n=!1;"undefined"===typeof H.Chart.creditHref?(e.creditHref=pe("iuuqr;..b`ow`rkr/bnl."),e.creditText=pe("B`ow`rKR/bnl")):(t=e.updateOption("creditText"),n=e.updateOption("creditHref")),e.creditHref&&e.creditText&&(e._creditLink||(e._creditLink=document.createElement("a"),e._creditLink.setAttribute("class","canvasjs-chart-credit"),e._creditLink.setAttribute("title","JavaScript Charts"),e._creditLink.setAttribute("style","outline:none;margin:0px;position:absolute;right:2px;top:"+(e.height-14)+"px;color:dimgrey;text-decoration:none;font-size:11px;font-family: Calibri, Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"),e._creditLink.setAttribute("tabIndex",-1),e._creditLink.setAttribute("target","_blank")),(0===e.renderCount||t||n)&&(e._creditLink.setAttribute("href",e.creditHref),e._creditLink.innerHTML=e.creditText),e._creditLink&&e.creditHref&&e.creditText?(e._creditLink.parentElement||e._canvasJSContainer.appendChild(e._creditLink),e._creditLink.style.top=e.height-14+"px"):e._creditLink.parentElement&&e._canvasJSContainer.removeChild(e._creditLink))}}function k(e,t){V&&(this.canvasCount|=0,window.console.log(++this.canvasCount));var n=document.createElement("canvas");return n.setAttribute("class","canvasjs-chart-canvas"),_(n,e,t),U||"undefined"===typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(n),n}function S(e,t,n){for(var i in n)t.style[i]=n[i]}function C(e,t,n){t.getAttribute("state")||(t.style.backgroundColor=e.toolbar.backgroundColor,t.style.color=e.toolbar.fontColor,t.style.border="none",S(0,t,{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"})),t.getAttribute("state")!==n&&(t.setAttribute("state",n),t.setAttribute("type","button"),S(0,t,{padding:"5px 12px",cursor:"pointer",float:"left",width:"40px",height:"25px",outline:"0px",verticalAlign:"baseline",lineHeight:"0"}),t.setAttribute("title",e._cultureInfo[n+"Text"]),t.innerHTML="<img style='height:95%; pointer-events: none;' src='"+ge[n].image+"' alt='"+e._cultureInfo[n+"Text"]+"' />")}function E(){for(var e=null,t=0;t<arguments.length;t++)(e=arguments[t]).style&&(e.style.display="inline")}function T(){for(var e=null,t=0;t<arguments.length;t++)(e=arguments[t])&&e.style&&(e.style.display="none")}function M(e,t,n,i,r){this._defaultsKey=e,this._themeOptionsKey=t,this._index=i,this.parent=r,this._eventListeners=[],e={},this.theme&&p(t)&&p(i)?e=p(Q[this.theme])?Q.light1:Q[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[t]&&(null===i?e=this.parent.themeOptions[t]:0<this.parent.themeOptions[t].length&&(i=Math.min(this.parent.themeOptions[t].length-1,i),e=this.parent.themeOptions[t][i])),this.themeOptions=e,this.options=n||{_isPlaceholder:!0},this.setOptions(this.options,e)}function P(e,t,n,i,r){"undefined"===typeof r&&(r=0),this._padding=r,this._x1=e,this._y1=t,this._x2=n,this._y2=i,this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding}function A(e,t){A.base.constructor.call(this,"TextBlock",null,t,null,null),this.ctx=e,this._isDirty=!0,this._wrappedText=null,this._initialize()}function I(e,t){I.base.constructor.call(this,"Toolbar","toolbar",t,null,e),this.chart=e,this.canvas=e.canvas,this.ctx=this.chart.ctx,this.optionsName="toolbar"}function L(e,t){if(L.base.constructor.call(this,"Title","title",t,null,e),this.chart=e,this.canvas=e.canvas,this.ctx=this.chart.ctx,this.optionsName="title",p(this.options.margin)&&e.options.subtitles)for(var n=e.options.subtitles,i=0;i<n.length;i++)if((p(n[i].horizontalAlign)&&"center"===this.horizontalAlign||n[i].horizontalAlign===this.horizontalAlign)&&(p(n[i].verticalAlign)&&"top"===this.verticalAlign||n[i].verticalAlign===this.verticalAlign)&&!n[i].dockInsidePlotArea===!this.dockInsidePlotArea){this.margin=0;break}"undefined"===typeof this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function D(e,t,n){D.base.constructor.call(this,"Subtitle","subtitles",t,n,e),this.chart=e,this.canvas=e.canvas,this.ctx=this.chart.ctx,this.optionsName="subtitles",this.isOptionsInArray=!0,"undefined"===typeof this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function O(){this.pool=[]}function R(e){var t;e&&X[e]&&(t=X[e]),R.base.constructor.call(this,"CultureInfo",null,t,null,null)}var z,F,B,N,j,V=!1,W={},U=!!document.createElement("canvas").getContext,H={Chart:{width:500,height:400,zoomEnabled:!1,zoomType:"x",backgroundColor:"white",theme:"light1",animationEnabled:!1,animationDuration:1200,dataPointWidth:null,dataPointMinWidth:null,dataPointMaxWidth:null,colorSet:"colorSet1",culture:"en",creditHref:"",creditText:"CanvasJS",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart",rangeChanging:null,rangeChanged:null,publicProperties:{title:"readWrite",subtitles:"readWrite",toolbar:"readWrite",toolTip:"readWrite",legend:"readWrite",axisX:"readWrite",axisY:"readWrite",axisX2:"readWrite",axisY2:"readWrite",data:"readWrite",options:"readWrite",bounds:"readOnly",container:"readOnly"}},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:U?"transparent":null,margin:5,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Subtitle:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:14,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:2,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Toolbar:{backgroundColor:"white",backgroundColorOnHover:"#2196f3",borderColor:"#2196f3",borderThickness:1,fontColor:"black",fontColorOnHover:"white",publicProperties:{options:"readWrite",chart:"readOnly"}},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null,dockInsidePlotArea:!1,reversed:!1,backgroundColor:U?"transparent":null,borderColor:U?"transparent":null,borderThickness:0,cornerRadius:0,maxWidth:null,maxHeight:null,markerMargin:null,itemMaxWidth:null,itemWidth:null,itemWrap:!0,itemTextFormatter:null,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},ToolTip:{enabled:!0,shared:!1,animationEnabled:!0,content:null,contentFormatter:null,reversed:!1,backgroundColor:U?"rgba(255,255,255,.9)":"rgb(255,255,255)",borderColor:null,borderThickness:2,cornerRadius:5,fontSize:14,fontColor:"black",fontFamily:"Calibri, Arial, Georgia, serif;",fontWeight:"normal",fontStyle:"italic",publicProperties:{options:"readWrite",chart:"readOnly"}},Axis:{minimum:null,maximum:null,viewportMinimum:null,viewportMaximum:null,interval:null,intervalType:null,reversed:!1,logarithmic:!1,logarithmBase:10,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",titleWrap:!0,titleMaxWidth:null,titleBackgroundColor:U?"transparent":null,titleBorderColor:U?"transparent":null,titleBorderThickness:0,titleCornerRadius:0,labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!0,labelWrap:!0,labelMaxWidth:null,labelFormatter:null,labelBackgroundColor:U?"transparent":null,labelBorderColor:U?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelPlacement:"outside",prefix:"",suffix:"",includeZero:!0,tickLength:5,tickColor:"black",tickThickness:1,lineColor:"black",lineThickness:1,lineDashType:"solid",gridColor:"A0A0A0",gridThickness:0,gridDashType:"solid",interlacedColor:U?"transparent":null,valueFormatString:null,margin:2,publicProperties:{options:"readWrite",stripLines:"readWrite",scaleBreaks:"readWrite",crosshair:"readWrite",bounds:"readOnly",chart:"readOnly"}},StripLine:{value:null,startValue:null,endValue:null,color:"orange",opacity:null,thickness:2,lineDashType:"solid",label:"",labelPlacement:"inside",labelAlign:"far",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:null,labelBorderColor:U?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,showOnTop:!1,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},ScaleBreaks:{autoCalculate:!1,collapsibleThreshold:"25%",maxNumberOfAutoBreaks:2,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",customBreaks:"readWrite",axis:"readOnly",autoBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Break:{startValue:null,endValue:null,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",scaleBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Crosshair:{enabled:!1,snapToDataPoint:!1,color:"grey",opacity:null,thickness:2,lineDashType:"solid",label:"",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:U?"grey":null,labelBorderColor:U?"grey":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:U?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:12,labelFontColor:"#fff",labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,valueFormatString:null,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,highlightEnabled:!0,cursor:"default",indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:"gray",indexLabelLineThickness:1,indexLabelLineDashType:"solid",indexLabelMaxWidth:null,indexLabelWrap:!0,indexLabelFormatter:null,lineThickness:2,lineDashType:"solid",connectNullData:!1,nullDataLineDashType:"dash",color:null,lineColor:null,risingColor:"white",fallingColor:"red",fillOpacity:null,startAngle:0,radius:null,innerRadius:null,neckHeight:null,neckWidth:null,reversed:!1,valueRepresents:null,linkedDataSeriesIndex:null,whiskerThickness:2,whiskerDashType:"solid",whiskerColor:null,whiskerLength:null,stemThickness:2,stemColor:null,stemDashType:"solid",upperBoxColor:"white",lowerBoxColor:"white",type:"column",xValueType:"number",axisXType:"primary",axisYType:"primary",axisXIndex:0,axisYIndex:0,xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:U?"transparent":null,legendMarkerBorderThickness:0,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:U?"transparent":null,markerBorderThickness:0,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0,publicProperties:{options:"readWrite",axisX:"readWrite",axisY:"readWrite",chart:"readOnly"}},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPEG",savePNGText:"Save as PNG",printText:"Print",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},X={en:{}},G=U?"Trebuchet MS, Helvetica, sans-serif":"Arial",Y=U?"Impact, Charcoal, sans-serif":"Arial",q={colorSet1:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #7F6084 #77A033 #33558B #E59566".split(" "),colorSet2:"#6D78AD #51CDA0 #DF7970 #4C9CA0 #AE7D99 #C9D45C #5592AD #DF874D #52BCA8 #8E7AA3 #E3CB64 #C77B85 #C39762 #8DD17E #B57952 #FCC26C".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},K={colorSet:"colorSet1",backgroundColor:"#FFFFFF",title:{fontFamily:Y,fontSize:32,fontColor:F="#333333",fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:Y,fontSize:J=14,fontColor:F,fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:G,indexLabelFontSize:J,indexLabelFontColor:F,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:G,titleFontSize:Z=20,titleFontColor:F,titleFontWeight:"normal",labelFontFamily:G,labelFontSize:J,labelFontColor:B="#000000",labelFontWeight:"normal",lineThickness:1,lineColor:z="#666666",tickThickness:1,tickColor:z,gridThickness:0,gridColor:z,stripLines:[{labelFontFamily:G,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:G,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:j=N="#000000",color:N,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:G,titleFontSize:Z,titleFontColor:F,titleFontWeight:"normal",labelFontFamily:G,labelFontSize:J,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:z,tickThickness:1,tickColor:z,gridThickness:0,gridColor:z,stripLines:[{labelFontFamily:G,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:G,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:j,color:N,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:G,titleFontSize:Z,titleFontColor:F,titleFontWeight:"normal",labelFontFamily:G,labelFontSize:J,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:z,tickThickness:1,tickColor:z,gridThickness:1,gridColor:z,stripLines:[{labelFontFamily:G,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:G,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:j,color:N,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:G,titleFontSize:Z,titleFontColor:F,titleFontWeight:"normal",labelFontFamily:G,labelFontSize:J,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:z,tickThickness:1,tickColor:z,gridThickness:1,gridColor:z,stripLines:[{labelFontFamily:G,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:G,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:j,color:N,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:G,fontSize:14,fontColor:F,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:G,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1}};B=F="#F5F5F5",z="#FFFFFF",N="#40BAF1",j="#F5F5F5";var $={colorSet:"colorSet2",title:{fontFamily:G,fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},subtitles:[{fontFamily:G,fontSize:J=14,fontColor:"#3A3A3A",fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:G,indexLabelFontSize:J,indexLabelFontColor:"#666666",indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:G,titleFontSize:Z=20,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:G,labelFontSize:J,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickThickness:1,tickColor:"#BBBBBB",gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:G,labelFontSize:J,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:G,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:G,titleFontSize:Z,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:G,labelFontSize:J,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:G,labelFontSize:J,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:G,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:G,titleFontSize:Z,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:G,labelFontSize:J,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:G,labelFontSize:J,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:G,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:G,titleFontSize:Z,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:G,labelFontSize:J,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:G,labelFontSize:J,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:G,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:G,fontSize:14,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:G,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1}};B=F="#F5F5F5",Y={colorSet:"colorSet12",backgroundColor:"#2A2A2A",title:{fontFamily:Y,fontSize:32,fontColor:F,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:Y,fontSize:J=14,fontColor:F,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{backgroundColor:"#666666",backgroundColorOnHover:"#FF7372",borderColor:"#FF7372",borderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:G,indexLabelFontSize:J,indexLabelFontColor:B,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:G,titleFontSize:Z=20,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:G,labelFontSize:J,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:z="#FFFFFF",tickThickness:1,tickColor:z,gridThickness:0,gridColor:z,stripLines:[{labelFontFamily:G,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:G,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:j="#F5F5F5",color:N="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:G,titleFontSize:Z,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:G,labelFontSize:J,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:z,tickThickness:1,tickColor:z,gridThickness:0,gridColor:z,stripLines:[{labelFontFamily:G,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:G,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:j,color:N,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:G,titleFontSize:Z,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:G,labelFontSize:J,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:z,tickThickness:1,tickColor:z,gridThickness:1,gridColor:z,stripLines:[{labelFontFamily:G,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:G,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:j,color:N,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:G,titleFontSize:Z,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:G,labelFontSize:J,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:z,tickThickness:1,tickColor:z,gridThickness:1,gridColor:z,stripLines:[{labelFontFamily:G,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:G,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:j,color:N,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:G,fontSize:14,fontColor:F,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:G,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:B,backgroundColor:"rgba(0, 0, 0, .7)"}},B=F="#FAFAFA";var Z,J,Q={light1:K,light2:$,dark1:Y,dark2:{colorSet:"colorSet2",backgroundColor:"#32373A",title:{fontFamily:G,fontSize:32,fontColor:F,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:G,fontSize:J=14,fontColor:F,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{backgroundColor:"#666666",backgroundColorOnHover:"#FF7372",borderColor:"#FF7372",borderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:G,indexLabelFontSize:J,indexLabelFontColor:B,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:G,titleFontSize:Z=20,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:G,labelFontSize:J,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:z="#FFFFFF",tickThickness:1,tickColor:z,gridThickness:0,gridColor:z,stripLines:[{labelFontFamily:G,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:G,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:j="#F5F5F5",color:N="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:G,titleFontSize:Z,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:G,labelFontSize:J,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:z,tickThickness:1,tickColor:z,gridThickness:0,gridColor:z,stripLines:[{labelFontFamily:G,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:G,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:j,color:N,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:G,titleFontSize:Z,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:G,labelFontSize:J,labelFontColor:B,labelFontWeight:"normal",lineThickness:0,lineColor:z,tickThickness:1,tickColor:z,gridThickness:1,gridColor:z,stripLines:[{labelFontFamily:G,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:G,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:j,color:N,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:G,titleFontSize:Z,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:G,labelFontSize:J,labelFontColor:B,labelFontWeight:"normal",lineThickness:0,lineColor:z,tickThickness:1,tickColor:z,gridThickness:1,gridColor:z,stripLines:[{labelFontFamily:G,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:G,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:j,color:N,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:G,fontSize:14,fontColor:F,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:G,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:B,backgroundColor:"rgba(0, 0, 0, .7)"}},theme1:K,theme2:$,theme3:K},ee={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")};W.fSDec=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(Math.ceil(e.length/57/5)^e.charCodeAt(n));return t},W.obj={trVs:"Ush`m!Wdsrhno",fntStr:"qy!B`mhcsh-!Mtbhe`!Fs`oed-!Mtbhe`!R`or!Tohbned-!@sh`m-!r`or,rdshg",txtBl:"udyuC`rdmhod",fnt:"gnou",fSy:"ghmmRuxmd",fTx:"ghmmUdyu",grClr:"fsdx",cntx:"buy",tp:"unq"},delete H[W.fSDec("Bi`su")][W.fSDec("bsdehuIsdg")],W.pro={sCH:H[W.fSDec("Bi`su")][W.fSDec("bsdehuIsdg")]},W._fTWm=function(e){if("undefined"===typeof W.pro.sCH&&!fe)try{var t=e[W.fSDec(W.obj.cntx)];t[W.fSDec(W.obj.txtBl)]=W.fSDec(W.obj.tp),t[W.fSDec(W.obj.fnt)]=11+W.fSDec(W.obj.fntStr),t[W.fSDec(W.obj.fSy)]=W.fSDec(W.obj.grClr),t[W.fSDec(W.obj.fTx)](W.fSDec(W.obj.trVs),2,e.height-11-2)}catch(U){}};var te={},ne=null,ie=function(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))},re=function(e,t,n){return t=Math.min(this.width,this.height),Math.max("theme4"===this.theme?0:300<=t?12:10,Math.round(t*(e/400)))},oe=function(){var e=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,t="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),n="Sun Mon Tue Wed Thu Fri Sat".split(" "),i="January February March April May June July August September October November December".split(" "),r="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),o=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,s=/[^-+\dA-Z]/g;return function(l,c,u){var d=u?u.days:t,h=u?u.months:i,p=u?u.shortDays:n,f=u?u.shortMonths:r;u="";var m=!1;if(l=l&&l.getTime?l:l?new Date(l):new Date,isNaN(l))throw SyntaxError("invalid date");"UTC:"===c.slice(0,4)&&(c=c.slice(4),m=!0);var g=l[(u=m?"getUTC":"get")+"Date"](),v=l[u+"Day"](),y=l[u+"Month"](),x=l[u+"FullYear"](),b=l[u+"Hours"](),_=l[u+"Minutes"](),w=l[u+"Seconds"](),k=l[u+"Milliseconds"](),S=m?0:l.getTimezoneOffset();return c.replace(e,(function(e){switch(e){case"D":return g;case"DD":return a(g,2);case"DDD":return p[v];case"DDDD":return d[v];case"M":return y+1;case"MM":return a(y+1,2);case"MMM":return f[y];case"MMMM":return h[y];case"Y":return parseInt(String(x).slice(-2));case"YY":return a(String(x).slice(-2),2);case"YYY":return a(String(x).slice(-3),3);case"YYYY":return a(x,4);case"h":return b%12||12;case"hh":return a(b%12||12,2);case"H":return b;case"HH":return a(b,2);case"m":return _;case"mm":return a(_,2);case"s":return w;case"ss":return a(w,2);case"f":return String(k).slice(0,1);case"ff":return a(String(k).slice(0,2),2);case"fff":return a(String(k).slice(0,3),3);case"t":return 12>b?"a":"p";case"tt":return 12>b?"am":"pm";case"T":return 12>b?"A":"P";case"TT":return 12>b?"AM":"PM";case"K":return m?"UTC":(String(l).match(o)||[""]).pop().replace(s,"");case"z":return(0<S?"-":"+")+Math.floor(Math.abs(S)/60);case"zz":return(0<S?"-":"+")+a(Math.floor(Math.abs(S)/60),2);case"zzz":return(0<S?"-":"+")+a(Math.floor(Math.abs(S)/60),2)+a(Math.abs(S)%60,2);default:return e.slice(1,e.length-1)}}))}}(),ae=function(e,t,n){if(null===e)return"";if(!isFinite(e))return e;var i=0>(e=Number(e));i&&(e*=-1);var r=n?n.decimalSeparator:".",o=n?n.digitGroupSeparator:",",s="";t=String(t);s=1;var l=n="",c=-1,u=[],d=[],h=0,p=0,f=0,m=!1,g=0;l=t.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g);t=null;for(var v=0;l&&v<l.length;v++)if("."===(t=l[v])&&0>c)c=v;else{if("%"===t)s*=100;else{if("\u2030"===t){s*=1e3;continue}if(","===t[0]&&"."===t[t.length-1]){s/=Math.pow(1e3,t.length-1),c=v+t.length-1;continue}"E"!==t[0]&&"e"!==t[0]||"0"!==t[t.length-1]||(m=!0)}0>c?(u.push(t),"#"===t||"0"===t?h++:","===t&&f++):(d.push(t),"#"!==t&&"0"!==t||p++)}for(m&&(t=Math.floor(e),l=-Math.floor(Math.log(e)/Math.LN10+1),g=0===e?0:0===t?-(h+l):String(t).length-h,s/=Math.pow(10,g)),0>c&&(c=v),t=(s=(e*s).toFixed(p)).split("."),s=(t[0]+"").split(""),e=(t[1]+"").split(""),s&&"0"===s[0]&&s.shift(),m=l=v=p=c=0;0<u.length;)if("#"===(t=u.pop())||"0"===t)if(++c===h){var y=s;s=[];if("0"===t)for(t=h-p-(y?y.length:0);0<t;)y.unshift("0"),t--;for(;0<y.length;)n=y.pop()+n,0===++m%l&&v===f&&0<y.length&&(n=o+n)}else 0<s.length?(n=s.pop()+n,p++,m++):"0"===t&&(n="0"+n,p++,m++),0===m%l&&v===f&&0<s.length&&(n=o+n);else"E"!==t[0]&&"e"!==t[0]||"0"!==t[t.length-1]||!/[eE][+-]*[0]+/.test(t)?","===t?(v++,l=m,m=0,0<s.length&&(n=o+n)):n=1<t.length&&('"'===t[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1])?t.slice(1,t.length-1)+n:t+n:n+=(t=0>g?t.replace("+","").replace("-",""):t.replace("-","")).replace(/[0]+/,(function(e){return a(g,e.length)}));for(o="",u=!1;0<d.length;)"#"===(t=d.shift())||"0"===t?0<e.length&&0!==Number(e.join(""))?(o+=e.shift(),u=!0):"0"===t&&(o+="0",u=!0):1<t.length&&('"'===t[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1])?o+=t.slice(1,t.length-1):"E"!==t[0]&&"e"!==t[0]||"0"!==t[t.length-1]||!/[eE][+-]*[0]+/.test(t)?o+=t:o+=(t=0>g?t.replace("+","").replace("-",""):t.replace("-","")).replace(/[0]+/,(function(e){return a(g,e.length)}));return n+=(u?r:"")+o,i?"-"+n:n},se=function(e){var t=0,n=0;return(e=e||window.event).offsetX||0===e.offsetX?(t=e.offsetX,n=e.offsetY):e.layerX||0==e.layerX?(t=e.layerX,n=e.layerY):(t=e.pageX-e.target.offsetLeft,n=e.pageY-e.target.offsetTop),{x:t,y:n}},le=!0,ce=window.devicePixelRatio||1,ue=1,de=le?ce/ue:1,he=function(e,t,n,i,r,o,a,s,l,c,u,d,h){"undefined"===typeof h&&(h=1),a=a||0,s=s||"black";var p=15<i-t&&15<r-n?8:.35*Math.min(i-t,r-n);e.beginPath(),e.moveTo(t,n),e.save(),e.fillStyle=o,e.globalAlpha=h,e.fillRect(t,n,i-t,r-n),e.globalAlpha=1,0<a&&(h=0===a%2?0:.5,e.beginPath(),e.lineWidth=a,e.strokeStyle=s,e.moveTo(t,n),e.rect(t-h,n-h,i-t+2*h,r-n+2*h),e.stroke()),e.restore(),!0===l&&(e.save(),e.beginPath(),e.moveTo(t,n),e.lineTo(t+p,n+p),e.lineTo(i-p,n+p),e.lineTo(i,n),e.closePath(),(a=e.createLinearGradient((i+t)/2,n+p,(i+t)/2,n)).addColorStop(0,o),a.addColorStop(1,"rgba(255, 255, 255, .4)"),e.fillStyle=a,e.fill(),e.restore()),!0===c&&(e.save(),e.beginPath(),e.moveTo(t,r),e.lineTo(t+p,r-p),e.lineTo(i-p,r-p),e.lineTo(i,r),e.closePath(),(a=e.createLinearGradient((i+t)/2,r-p,(i+t)/2,r)).addColorStop(0,o),a.addColorStop(1,"rgba(255, 255, 255, .4)"),e.fillStyle=a,e.fill(),e.restore()),!0===u&&(e.save(),e.beginPath(),e.moveTo(t,n),e.lineTo(t+p,n+p),e.lineTo(t+p,r-p),e.lineTo(t,r),e.closePath(),(a=e.createLinearGradient(t+p,(r+n)/2,t,(r+n)/2)).addColorStop(0,o),a.addColorStop(1,"rgba(255, 255, 255, 0.1)"),e.fillStyle=a,e.fill(),e.restore()),!0===d&&(e.save(),e.beginPath(),e.moveTo(i,n),e.lineTo(i-p,n+p),e.lineTo(i-p,r-p),e.lineTo(i,r),(a=e.createLinearGradient(i-p,(r+n)/2,i,(r+n)/2)).addColorStop(0,o),a.addColorStop(1,"rgba(255, 255, 255, 0.1)"),e.fillStyle=a,a.addColorStop(0,o),a.addColorStop(1,"rgba(255, 255, 255, 0.1)"),e.fillStyle=a,e.fill(),e.closePath(),e.restore())},pe=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(Math.ceil(e.length/57/5)^e.charCodeAt(n));return t},fe=window&&window[pe("mnb`uhno")]&&window[pe("mnb`uhno")].href&&window[pe("mnb`uhno")].href.indexOf&&(-1!==window[pe("mnb`uhno")].href.indexOf(pe("b`ow`rkr/bnl"))||-1!==window[pe("mnb`uhno")].href.indexOf(pe("gdonqhy/bnl"))||-1!==window[pe("mnb`uhno")].href.indexOf(pe("gheemd"))),me=fe&&-1===window[pe("mnb`uhno")].href.indexOf(pe("gheemd")),ge={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPjSURBVFhHxVdJaFNRFP1J/jwkP5MxsbaC1WJEglSxOFAXIsFpVRE3ggi1K90obioRRBA33XXnQnciirhQcMCdorgQxBkXWlREkFKsWkv5npvckp/XnzRpKh64kLw733fffe9L/wrL0+mVUdO8uTSZ3MBL/we2qg4rkuSpodCELstXE46ziVkLQ6FQcGOmeSSq6wd4aV50d3drWjj8kQKZJTUc9kxFGenv79dZrDksTSTWWJp2QYtEPiErysyzdX0LsxsCQR8keX8gs6RHIk8ysdgKFg2G53mhuOPsshTlBjKaFo1g7SqLNoShKLdFXT8huQ/paLSbxatYnc2mHMM4hr18Vi8TIvCmXF3vYrW6cF23gGTOk0M1wA4RKvOmq6vLZRVJipvmSWT6tZ6CSEYkco5V50VPT4+D7RwOqi6RiSZm0fJ+vggSqkeoypdsNmuyelNwbXsbgvkWYMtzDWNvWaijoyOBqE+hVK8abcssUeXQ/YfKyi0gFYv1Ipgfoj34fYGTJLOYJA0ODirok32GLN8XhUWCwSes1hIwBg6LydJ/tEeRRapAdUp+wSAiZchtZZWWgAZ+JNpD8peYXQVK9UwUxNpzOK8pq97kURZhYTCKBwPD7h2zK+js7Myi7D8Fod+0TkMI8+EMAngLGc/WtBFWawkFHFnoj/t9KLgGmF0B3QfkxC+EarxkdhnFYlFLY06USqUwL7UMjICHfh/wOc2sCqhpxGbCkLvL7EUDbF73+6DkmVWB6zi7xUDQSLeYvWjAILvm9zEnkJhlbRcDQZcv6Kg2AipyT/Axw6wKlqVSqxDdjF8Izfod13qURdrG/nxehY+xGh+h0CSzKygGvSNQIcc097BI24jb9hax6kj2E7OrMFX1il+ICEf2NrPbhiXLl+fYl+U7zK4iYdsDcyLGf+ofFlkwcN+s10KhmpuYhhtm0hCLVIFL0MDsqNlDIqy9x2CLs1jL6OvrI7vPRbtohXG6eFmsFnHDGAp6n9AgyuVySRZrGvROxRgIfLXhzjrNYnNBUxNX/dMgRWT1mt4XLDovaApD53E9W3ilNX5M55LJHpRtIsgAvciR4WWcgK2Dvb1YqgXevmF8z2zEBTcKG39EfSKsT9EbhVUaI2FZO+oZIqImxol6j66/hcAu4sSN4vc1ZPoKeoE6RGhYL2YYA+ymOSSi0Z0wWntbtkGUWCvfSDXIxONraZ/FY90KUfNTpfC5spnNLgxoYNnR9RO4F8ofXEHOgogCQE99w+fF2Xw+b7O59rEOsyRqGEfpVoaDMQQ1CZrG46bcM6AZ0C/wPqNfHliqejyTySxh9TqQpL+xmbIlkB9SlAAAAABJRU5ErkJggg=="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAICSURBVEhLxZbPahNRGMUn/5MpuAiBEAIufQGfzr5E40YptBXajYzudCEuGqS+gGlrFwquDGRTutBdYfydzJ3LzeQmJGZue+Dw/Z17Mnfmu5Pof9Hr9Z61Wq0bWZMKj263O6xWq99wU9lOpzPMKgEhEcRucNOcioOK+0RzBhNvt9tPV4nmVF19+OWhVqt9xXgFXZq+8lCv119UKpUJ7iX2FmvFTKz8RH34YdBsNk8wVtjE4fGYwm8wrrDi3WBG5oKXZGRSS9hGuNFojLTe2lFz5xThWZIktayyiE2FdT3rzXBXz7krKiL8c17wAKFDjCus2AvW+YGZ9y2JF0VFRuMPfI//rsCE/C+s26s4gQu9ul7r4NteKx7H8XOC724xNNGbaNu++IrBqbOV7Tj3FgMRvc/YKOr3+3sE47wgEt/Bl/gaK5cHbNU11vYSXylfpK7XOvjuumPp4Wcoipu30Qsez2uMXYz4lfI+mOmwothY+SLiXJy7mKVpWs3Si0CoOMfeI9Od43Wic+jO+ZVv+crsm9QSNhUW9LXSeoPBYLXopthGuFQgdIxxhY+UDwlt1x5CZ1hX+NTUdt/OIvjKaDSmuOJfaIVNPKX+W18j/PLA2/kR44p5Sd8HbHngT/yTfNRWUXX14ZcL3wmX0+TLf8YO7CGT8yFE5zB3/gney25/OETRP9CtPDFe5jShAAAAAElFTkSuQmCC"},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALWSURBVEhLvZZLaBNRFIabyftBIgEfqCCBoCC6MYqiXYiIj4U76U4X7sUHbhQhUBfixhZEUBDB16YuFERaUaQLK7ooCOJj4UKtYEFU0EptShO/A9Ph3js3k8lo/eHnP7n3nP/M3LlzMz1hkUwmNziOcyKRSFyFt+LxeD/c2Wq1Ym7Kv0M2m11Os1OxWGycn1OwZXCGuXfwIhezkd9/jRgNT2L4ldhs1pbkX5OLJe4euVxuGQaPCa3mnUjtJx7BDuKusJTCV6jVVGHTMuYRjxma7yIOhTgFY6jNaAKew2xPKpVay9ganmkvj+M448/MfJdT5K5Gg4HJacRngPFgqVRaRNwW1B4i7yehWfsEDdz1K+A01AoxPIqGAiuwGfkOTY8+1A6u7AyiFTB2Hu0KPIrdiOnzHLWDybeImvy+Wq2mZa5bUHsD0Zpz+KxHdWQymV6kAb1ElqeORgJLvgnRdj1+R1AfzkIvSUjxVjQSarVakrueIPT8+H1F5jSUy+WXiJrUYBVWyVxU4PEU8TzhfaijUqnMIWrjaY492eWRwdKOIqrnIxnXwLLeRLwk2GQzrEMjg0avEbXxkIxr4OoOImpj2QwyFgms1koa/SZUG8s+0iGnEhNfCNXEhzIXBVz0McTzEvJ+70P9oNFtxEzei3aFYrFYxmuSUPWSv9Yi9IMm2xE1We56Mp1OV4nDwqFmBDV9gk9AEh4gZtFHNt8W4kAUCoXF5MorY9Z/kDni9nDv7hc0i2fhgLvTtX8a99PoMPPagTFPxofRzmDJ9yM+AyEmTfgGysYbQcfhDzPPJDmX0c7gDg4gs9BqFIWhm/Nct5H8gtBq1I7UfIbtvmIuoaGQcp+fdpbbSM43eEH5wrwLbXmhm/fU63VHXjcuok7hEByFY/AeHGC8L5/PL3HT5xGH1uYwfPOICGo+CBcU0vwO1BqzUqILDl/z/9VYIMfpddiAc47jDP8BsUpb13wOLRwAAAAASUVORK5CYII="},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVFhH7dc9CsJAFATgRxIIBCwCqZKATX5sbawsY2MvWOtF9AB6AU8gguAJbD2AnZ2VXQT/Ko2TYGCL2OYtYQc+BuYA+1hCtnCVwMm27SGaXpDJIAiCvCkVR05hGOZNN3HkFMdx3nQRR06+76/R1IcFLJlNQEWlmWlBTwJtKLKHynehZqnjOGM0PYWRVXk61C37p7xlZ3Hk5HneCk1dmMH811xGoKLSzDiQwIBZB4ocoPJdqNkDt2yKlueWRVGUtzy3rPwo3sWRU3nLjuLI6OO67oZM00wMw3hrmpZx0XU9syxrR0T0BeMpb9dneSR2AAAAAElFTkSuQmCC"},handle:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAAAZiS0dEANAAzwDP4Z7KegAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sHGw0cMqdt1UwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAaElEQVQoz+3SsRFAQBCF4Z9WJM8KCDVwownl6YXsTmCUsyKGkZzcl7zkz3YLkypgAnreFmDEpHkIwVOMfpdi9CEEN2nGpFdwD03yEqDtOgCaun7sqSTDH32I1pQA2Pb9sZecAxc5r3IAb21d6878xsAAAAAASUVORK5CYII="}};M.prototype.setOptions=function(e,t){if(H[this._defaultsKey]){var n,i=H[this._defaultsKey];for(n in i)"publicProperties"!==n&&i.hasOwnProperty(n)&&(this[n]=e&&n in e?e[n]:t&&n in t?t[n]:i[n])}else V&&window.console&&console.log("defaults not set")},M.prototype.get=function(e){var t=H[this._defaultsKey];return"options"===e?this.options&&this.options._isPlaceholder?null:this.options:t.hasOwnProperty(e)||t.publicProperties&&t.publicProperties.hasOwnProperty(e)?this[e]:void(window.console&&window.console.log('Property "'+e+"\" doesn't exist. Please check for typo."))},M.prototype.set=function(e,t,n){n="undefined"===typeof n||n;var i=H[this._defaultsKey];if("options"===e)this.createUserOptions(t);else{if(!(i.hasOwnProperty(e)||i.publicProperties&&i.publicProperties.hasOwnProperty(e)&&"readWrite"===i.publicProperties[e]))return void(window.console&&(i.publicProperties&&i.publicProperties.hasOwnProperty(e)&&"readOnly"===i.publicProperties[e]?window.console.log('Property "'+e+'" is read-only.'):window.console.log('Property "'+e+"\" doesn't exist. Please check for typo.")));this.options._isPlaceholder&&this.createUserOptions(),this.options[e]=t}n&&(this.stockChart||this.chart||this).render()},M.prototype.addTo=function(e,t,n,i){i="undefined"===typeof i||i;var r=H[this._defaultsKey];r.hasOwnProperty(e)||r.publicProperties&&r.publicProperties.hasOwnProperty(e)&&"readWrite"===r.publicProperties[e]?(this.options._isPlaceholder&&this.createUserOptions(),"undefined"===typeof this.options[e]&&(this.options[e]=[]),e=this.options[e],n="undefined"===typeof n||null===n?e.length:n,e.splice(n,0,t),i&&(this.chart||this).render()):window.console&&(r.publicProperties&&r.publicProperties.hasOwnProperty(e)&&"readOnly"===r.publicProperties[e]?window.console.log('Property "'+e+'" is read-only.'):window.console.log('Property "'+e+"\" doesn't exist. Please check for typo."))},M.prototype.createUserOptions=function(e){if("undefined"!==typeof e||this.options._isPlaceholder)if(this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.isOptionsInArray){this.parent.options[this.optionsName]||(this.parent.options[this.optionsName]=[]);var t=this.parent.options[this.optionsName],n=t.length;this.options._isPlaceholder||(f(t),n=t.indexOf(this.options)),this.options="undefined"===typeof e?{}:e,t[n]=this.options}else this.options="undefined"===typeof e?{}:e,e=this.parent.options,this.optionsName?t=this.optionsName:(t=this._defaultsKey)&&0!==t.length?(n=t.charAt(0).toLowerCase(),1<t.length&&(n=n.concat(t.slice(1))),t=n):t=void 0,e[t]=this.options},M.prototype.remove=function(e){if(e="undefined"===typeof e||e,this.isOptionsInArray){var t=this.parent.options[this.optionsName];f(t);var n=t.indexOf(this.options);0<=n&&t.splice(n,1)}else delete this.parent.options[this.optionsName];e&&(this.chart||this).render()},M.prototype.updateOption=function(e){!H[this._defaultsKey]&&V&&window.console&&console.log("defaults not set");var t=H[this._defaultsKey],n={},i=this[e],r=this._themeOptionsKey,o=this._index;return this.theme&&p(r)&&p(o)?n=p(Q[this.theme])?Q.light1:Q[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[r]&&(null===o?n=this.parent.themeOptions[r]:0<this.parent.themeOptions[r].length&&(n=Math.min(this.parent.themeOptions[r].length-1,o),n=this.parent.themeOptions[r][n])),this.themeOptions=n,e in t&&(i=e in this.options?this.options[e]:n&&e in n?n[e]:t[e]),i!==this[e]&&(this[e]=i,!0)},M.prototype.trackChanges=function(e){if(!this.sessionVariables)throw"Session Variable Store not set";this.sessionVariables[e]=this.options[e]},M.prototype.isBeingTracked=function(e){return this.options._oldOptions||(this.options._oldOptions={}),!!this.options._oldOptions[e]},M.prototype.hasOptionChanged=function(e){if(!this.sessionVariables)throw"Session Variable Store not set";return this.sessionVariables[e]!==this.options[e]},M.prototype.addEventListener=function(e,t,n){e&&t&&(this._eventListeners[e]=this._eventListeners[e]||[],this._eventListeners[e].push({context:n||this,eventHandler:t}))},M.prototype.removeEventListener=function(e,t){if(e&&t&&this._eventListeners[e])for(var n=this._eventListeners[e],i=0;i<n.length;i++)if(n[i].eventHandler===t){n[i].splice(i,1);break}},M.prototype.removeAllEventListeners=function(){this._eventListeners=[]},M.prototype.dispatchEvent=function(e,t,n){if(e&&this._eventListeners[e]){t=t||{};for(var i=this._eventListeners[e],r=0;r<i.length;r++)i[r].eventHandler.call(i[r].context,t)}"function"===typeof this[e]&&this[e].call(n||this.chart,t)},P.prototype.registerSpace=function(e,t){"top"===e?this._topOccupied+=t.height:"bottom"===e?this._bottomOccupied+=t.height:"left"===e?this._leftOccupied+=t.width:"right"===e&&(this._rightOccupied+=t.width)},P.prototype.unRegisterSpace=function(e,t){"top"===e?this._topOccupied-=t.height:"bottom"===e?this._bottomOccupied-=t.height:"left"===e?this._leftOccupied-=t.width:"right"===e&&(this._rightOccupied-=t.width)},P.prototype.getFreeSpace=function(){return{x1:this._x1+this._leftOccupied,y1:this._y1+this._topOccupied,x2:this._x2-this._rightOccupied,y2:this._y2-this._bottomOccupied,width:this._x2-this._x1-this._rightOccupied-this._leftOccupied,height:this._y2-this._y1-this._bottomOccupied-this._topOccupied}},P.prototype.reset=function(){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding},n(A,M),A.prototype._initialize=function(){p(this.padding)||"object"!==typeof this.padding?this.topPadding=this.rightPadding=this.bottomPadding=this.leftPadding=0|Number(this.padding):(this.topPadding=p(this.padding.top)?0:0|Number(this.padding.top),this.rightPadding=p(this.padding.right)?0:0|Number(this.padding.right),this.bottomPadding=p(this.padding.bottom)?0:0|Number(this.padding.bottom),this.leftPadding=p(this.padding.left)?0:0|Number(this.padding.left))},A.prototype.render=function(e){if(0!==this.fontSize){e&&this.ctx.save();var t=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var n=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+n),"middle"===this.textBaseline&&(n=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var i=0,r=this.topPadding,o=null;for(this.ctx.roundRect||l(this.ctx),(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,n,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor,n=0;n<this._wrappedText.lines.length;n++)o=this._wrappedText.lines[n],"right"===this.horizontalAlign?i=(this.width-(this.leftPadding+this.rightPadding))/2-o.width/2+this.leftPadding:"left"===this.horizontalAlign?i=this.leftPadding:"center"===this.horizontalAlign&&(i=(this.width-(this.leftPadding+this.rightPadding))/2-o.width/2+this.leftPadding),this.ctx.fillText(o.text,i,r),r+=o.height;this.ctx.font=t,e&&this.ctx.restore()}},A.prototype.setText=function(e){this.text=e,this._isDirty=!0,this._wrappedText=null},A.prototype.measureText=function(){if(this._lineHeight=g(this.fontFamily,this.fontSize,this.fontWeight),null===this.maxWidth)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},A.prototype._getLineWithWidth=function(e,t,n){if(!(e=String(e)))return{text:"",width:0};var i=n=0,r=e.length-1,o=1/0;for(this.ctx.font=this._getFontString();i<=r;){o=Math.floor((i+r)/2);var a=e.substr(0,o+1);if((n=this.ctx.measureText(a).width)<t)i=o+1;else{if(!(n>t))break;r=o-1}}return n>t&&1<a.length&&(a=a.substr(0,a.length-1),n=this.ctx.measureText(a).width),t=!0,a.length!==e.length&&" "!==e[a.length]||(t=!1),t&&(1<(e=a.split(" ")).length&&e.pop(),a=e.join(" "),n=this.ctx.measureText(a).width),{text:a,width:n}},A.prototype._wrapText=function(){var e=new String(s(String(this.text))),t=[],n=this.ctx.font,i=0,r=0;if(this.ctx.font=this._getFontString(),0===this.frontSize)r=i=0;else for(;0<e.length;){var o=this.maxHeight-(this.topPadding+this.bottomPadding),a=this._getLineWithWidth(e,this.maxWidth-(this.leftPadding+this.rightPadding),!1);a.height=this._lineHeight,t.push(a);var l=r;r=Math.max(r,a.width),i=i+a.height,e=s(e.slice(a.text.length,e.length));o&&i>o&&(i-=(a=t.pop()).height,r=l)}this._wrappedText={lines:t,width:r,height:i},this.width=r+(this.leftPadding+this.rightPadding),this.height=i+(this.topPadding+this.bottomPadding),this.ctx.font=n},A.prototype._getFontString=function(){var e;e=this.fontStyle?this.fontStyle+" ":"",e+=this.fontWeight?this.fontWeight+" ":"",e+=this.fontSize?this.fontSize+"px ":"";var t=this.fontFamily?this.fontFamily+"":"";return!U&&t&&("'"!==(t=t.split(",")[0])[0]&&'"'!==t[0]&&(t="'"+t+"'")),e+t},n(I,M),n(L,M),L.prototype.setLayout=function(){if(this.text){var e,t,n,i=this.dockInsidePlotArea?this.chart.plotArea:this.chart,r=i.layoutManager.getFreeSpace(),o=r.x1,a=r.y1,s=0,l=0,c=this.chart._menuButton&&this.chart.exportEnabled&&"top"===this.verticalAlign?22:0;"top"===this.verticalAlign||"bottom"===this.verticalAlign?(null===this.maxWidth&&(this.maxWidth=r.width-4-c*("center"===this.horizontalAlign?2:1)),l=.5*r.height-this.margin-2,s=0):"center"===this.verticalAlign&&("left"===this.horizontalAlign||"right"===this.horizontalAlign?(null===this.maxWidth&&(this.maxWidth=r.height-4),l=.5*r.width-this.margin-2):"center"===this.horizontalAlign&&(null===this.maxWidth&&(this.maxWidth=r.width-4),l=.5*r.height-4)),p(this.padding)||"number"!==typeof this.padding?p(this.padding)||"object"!==typeof this.padding||(n=this.padding.top?this.padding.top:this.padding.bottom?this.padding.bottom:0,n+=this.padding.bottom?this.padding.bottom:this.padding.top?this.padding.top:0,n*=1.25):n=2.5*this.padding,this.wrap||(l=Math.min(l,Math.max(1.5*this.fontSize,this.fontSize+n))),n=(l=new A(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:this.maxWidth,maxHeight:l,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"top"})).measureText(),"top"===this.verticalAlign||"bottom"===this.verticalAlign?("top"===this.verticalAlign?(a=r.y1+2,t="top"):"bottom"===this.verticalAlign&&(a=r.y2-2-n.height,t="bottom"),"left"===this.horizontalAlign?o=r.x1+2:"center"===this.horizontalAlign?o=r.x1+r.width/2-n.width/2:"right"===this.horizontalAlign&&(o=r.x2-2-n.width-c),e=this.horizontalAlign,this.width=n.width,this.height=n.height):"center"===this.verticalAlign&&("left"===this.horizontalAlign?(o=r.x1+2,a=r.y2-2-(this.maxWidth/2-n.width/2),s=-90,t="left",this.width=n.height,this.height=n.width):"right"===this.horizontalAlign?(o=r.x2-2,a=r.y1+2+(this.maxWidth/2-n.width/2),s=90,t="right",this.width=n.height,this.height=n.width):"center"===this.horizontalAlign&&(a=i.y1+(i.height/2-n.height/2),o=i.x1+(i.width/2-n.width/2),t="center",this.width=n.width,this.height=n.height),e="center"),l.x=o,l.y=a,l.angle=s,l.horizontalAlign=e,this._textBlock=l,i.layoutManager.registerSpace(t,{width:this.width+("left"===t||"right"===t?this.margin+2:0),height:this.height+("top"===t||"bottom"===t?this.margin+2:0)}),this.bounds={x1:o,y1:a,x2:o+this.width,y2:a+this.height},this.ctx.textBaseline="top"}},L.prototype.render=function(){this._textBlock&&this._textBlock.render(!0)},n(D,M),D.prototype.setLayout=L.prototype.setLayout,D.prototype.render=L.prototype.render,O.prototype.get=function(e,t){var n=null;return 0<this.pool.length?_(n=this.pool.pop(),e,t):n=k(e,t),n},O.prototype.release=function(e){this.pool.push(e)},n(R,M);var ve={addTheme:function(e,t){Q[e]=t},addColorSet:function(e,t){q[e]=t},addCultureInfo:function(e,t){X[e]=t},formatNumber:function(e,t,n){if(X[n=n||"en"])return ae(e,t||"#,##0.##",new R(n));throw"Unknown Culture Name"},formatDate:function(e,t,n){if(X[n=n||"en"])return oe(e,t||"DD MMM YYYY",new R(n));throw"Unknown Culture Name"}};"undefined"!==typeof e.exports?e.exports=ve:void 0===(i=function(){return ve}.apply(t,[]))||(e.exports=i),ve.Chart=function(){function e(e,t){return e.x-t.x}function t(e,n){n=n||{},this.theme=p(n.theme)||p(Q[n.theme])?"light1":n.theme,t.base.constructor.call(this,"Chart",null,n,null,null);var i=this;if(this._containerId=e,this._objectsInitialized=!1,this.overlaidCanvasCtx=this.ctx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.disableToolTip=this.animatedRender=!1,this.canvasPool=new O,this.allDOMEventHandlers=[],this.panEnabled=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],this.container="string"===typeof this._containerId?document.getElementById(this._containerId):this._containerId){this.container.innerHTML="";var r=this.options.width?this.width:0<this.container.clientWidth?this.container.clientWidth:this.width,o=this.options.height?this.height:0<this.container.clientHeight?this.container.clientHeight:this.height;this.width=r,this.height=o,this.x1=this.y1=0,this.x2=this.width,this.y2=this.height,this._selectedColorSet="undefined"!==typeof q[this.colorSet]?q[this.colorSet]:q.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",U||(this._canvasJSContainer.style.height="0px"),this.container.appendChild(this._canvasJSContainer),this.canvas=k(r,o),this._preRenderCanvas=k(r,o),this.canvas.style.position="absolute",this.canvas.style.WebkitUserSelect="none",this.canvas.style.MozUserSelect="none",this.canvas.style.msUserSelect="none",this.canvas.style.userSelect="none",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",l(this.ctx),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this._preRenderCtx.textBaseline="top",l(this._preRenderCtx),U?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=k(r,o),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=k(r,o),this.overlaidCanvas.style.position="absolute",this.overlaidCanvas.style.webkitTapHighlightColor="transparent",this.overlaidCanvas.style.WebkitUserSelect="none",this.overlaidCanvas.style.MozUserSelect="none",this.overlaidCanvas.style.msUserSelect="none",this.overlaidCanvas.style.userSelect="none",this.overlaidCanvas.getContext&&(this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",l(this.overlaidCanvasCtx)),this._eventManager=new Y(this),this.windowResizeHandler=y(window,"resize",(function(){i._updateSize()&&i.render()}),this.allDOMEventHandlers),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),this._toolBar.style.cssText="position: absolute; right: 1px; top: 1px;",this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},y(this.overlaidCanvas,"click",(function(e){i._mouseEventHandler(e)}),this.allDOMEventHandlers),y(this.overlaidCanvas,"mousemove",(function(e){i._mouseEventHandler(e)}),this.allDOMEventHandlers),y(this.overlaidCanvas,"mouseup",(function(e){i._mouseEventHandler(e)}),this.allDOMEventHandlers),y(this.overlaidCanvas,"mousedown",(function(e){i._mouseEventHandler(e),T(i._dropdownMenu)}),this.allDOMEventHandlers),y(this.overlaidCanvas,"mouseout",(function(e){i._mouseEventHandler(e)}),this.allDOMEventHandlers),y(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",(function(e){i._touchEventHandler(e)}),this.allDOMEventHandlers),y(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",(function(e){i._touchEventHandler(e)}),this.allDOMEventHandlers),y(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",(function(e){i._touchEventHandler(e)}),this.allDOMEventHandlers),y(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",(function(e){i._touchEventHandler(e)}),this.allDOMEventHandlers),this.toolTip=new G(this,this.options.toolTip),this.data=null,this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this.sessionVariables={axisX:[],axisX2:[],axisY:[],axisY2:[]})}else window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function i(e,t){for(var n,i=[],r=0;r<e.length;r++)if(0==r)i.push(e[0]);else{var o,a,s;o=0===(s=r-1)?0:s-1,a=s===e.length-1?s:s+1,n=Math.abs((e[a].x-e[o].x)/(0===e[a].x-e[s].x?.01:e[a].x-e[s].x))*(t-1)/2+1;var l=(e[a].x-e[o].x)/n;n=(e[a].y-e[o].y)/n,i[i.length]=e[s].x>e[o].x&&0<l||e[s].x<e[o].x&&0>l?{x:e[s].x+l/3,y:e[s].y+n/3}:{x:e[s].x,y:e[s].y+n/9},o=0===(s=r)?0:s-1,a=s===e.length-1?s:s+1,n=Math.abs((e[a].x-e[o].x)/(0===e[s].x-e[o].x?.01:e[s].x-e[o].x))*(t-1)/2+1,l=(e[a].x-e[o].x)/n,n=(e[a].y-e[o].y)/n,i[i.length]=e[s].x>e[o].x&&0<l||e[s].x<e[o].x&&0>l?{x:e[s].x-l/3,y:e[s].y-n/3}:{x:e[s].x,y:e[s].y-n/9},i[i.length]=e[r]}return i}function a(e,t,n,i,r,o,a,s,l,c){var u=0;c?(a.color=o,s.color=o):c=1,u=l?Math.abs(r-n):Math.abs(i-t),u=0<a.trimLength?Math.abs(u*a.trimLength/100):Math.abs(u-a.length),l?(n+=u/2,r-=u/2):(t+=u/2,i-=u/2);u=1===Math.round(a.thickness)%2?.5:0;var d=1===Math.round(s.thickness)%2?.5:0;e.save(),e.globalAlpha=c,e.strokeStyle=s.color||o,e.lineWidth=s.thickness||2,e.setLineDash&&e.setLineDash(v(s.dashType,s.thickness)),e.beginPath(),l&&0<s.thickness?(e.moveTo(i-a.thickness/2,Math.round((n+r)/2)-d),e.lineTo(t+a.thickness/2,Math.round((n+r)/2)-d)):0<s.thickness&&(e.moveTo(Math.round((t+i)/2)-d,n+a.thickness/2),e.lineTo(Math.round((t+i)/2)-d,r-a.thickness/2)),e.stroke(),e.strokeStyle=a.color||o,e.lineWidth=a.thickness||2,e.setLineDash&&e.setLineDash(v(a.dashType,a.thickness)),e.beginPath(),l&&0<a.thickness?(e.moveTo(i-u,n),e.lineTo(i-u,r),e.moveTo(t+u,n),e.lineTo(t+u,r)):0<a.thickness&&(e.moveTo(t,n+u),e.lineTo(i,n+u),e.moveTo(t,r-u),e.lineTo(i,r-u)),e.stroke(),e.restore()}function h(e,t,n,i,r){return null===e||"undefined"===typeof e?"undefined"===typeof n?t:n:(e=parseFloat(e.toString())*(0<=e.toString().indexOf("%")?t/100:1),"undefined"!==typeof i&&(e=Math.min(i,e),"undefined"!==typeof r&&(e=Math.max(r,e))),!isNaN(e)&&e<=t&&0<=e?e:"undefined"===typeof n?t:n)}function z(e,t){z.base.constructor.call(this,"Legend","legend",t,null,e),this.chart=e,this.canvas=e.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.optionsName="legend",this.height=this.width=0,this.orientation=null,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},"undefined"===typeof this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=g(this.fontFamily,this.fontSize,this.fontWeight),this.horizontalSpacing=this.fontSize}function F(e,t,n,i){for(F.base.constructor.call(this,"DataSeries","data",t,n,e),this.chart=e,this.canvas=e.canvas,this._ctx=e.canvas.ctx,this.index=n,this.noDataPointsInPlotArea=0,this.id=i,this.chart._eventManager.objectMap[i]={id:i,objectType:"dataSeries",dataSeriesIndex:n},e=t.dataPoints?t.dataPoints.length:0,this.dataPointEOs=[],t=0;t<e;t++)this.dataPointEOs[t]={};this.dataPointIds=[],this.plotUnit=[],this.axisY=this.axisX=null,this.optionsName="data",this.isOptionsInArray=!0,null===this.fillOpacity&&(this.type.match(/area/i)?this.fillOpacity=.7:this.fillOpacity=1),this.axisPlacement=this.getDefaultAxisPlacement(),"undefined"===typeof this.options.indexLabelFontSize&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function B(e,t,n,i,r,o){if(B.base.constructor.call(this,"Axis",t,n,i,e),this.chart=e,this.canvas=e.canvas,this.ctx=e.ctx,this.intervalStartPosition=this.maxHeight=this.maxWidth=0,this.labels=[],this.dataSeries=[],this._stripLineLabels=this._ticks=this._labels=null,this.dataInfo={min:1/0,max:-1/0,viewPortMin:1/0,viewPortMax:-1/0,minDiff:1/0},this.isOptionsInArray=!0,"axisX"===r?("left"===o||"bottom"===o?(this.optionsName="axisX",p(this.chart.sessionVariables.axisX[i])&&(this.chart.sessionVariables.axisX[i]={}),this.sessionVariables=this.chart.sessionVariables.axisX[i]):(this.optionsName="axisX2",p(this.chart.sessionVariables.axisX2[i])&&(this.chart.sessionVariables.axisX2[i]={}),this.sessionVariables=this.chart.sessionVariables.axisX2[i]),this.options.interval||(this.intervalType=null)):"left"===o||"bottom"===o?(this.optionsName="axisY",p(this.chart.sessionVariables.axisY[i])&&(this.chart.sessionVariables.axisY[i]={}),this.sessionVariables=this.chart.sessionVariables.axisY[i]):(this.optionsName="axisY2",p(this.chart.sessionVariables.axisY2[i])&&(this.chart.sessionVariables.axisY2[i]={}),this.sessionVariables=this.chart.sessionVariables.axisY2[i]),"undefined"===typeof this.options.titleFontSize&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),"undefined"===typeof this.options.labelFontSize&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=r,"axisX"!==r||n&&"undefined"!==typeof n.gridThickness||(this.gridThickness=0),this._position=o,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360),this.options.scaleBreaks&&(this.scaleBreaks=new N(this.chart,this.options.scaleBreaks,++this.chart._eventManager.lastObjectId,this)),this.stripLines=[],this.options.stripLines&&0<this.options.stripLines.length)for(e=0;e<this.options.stripLines.length;e++)this.stripLines.push(new H(this.chart,this.options.stripLines[e],e,++this.chart._eventManager.lastObjectId,this));this.options.crosshair&&(this.crosshair=new X(this.chart,this.options.crosshair,this)),this._titleTextBlock=null,this.hasOptionChanged("viewportMinimum")&&null===this.viewportMinimum&&(this.options.viewportMinimum=void 0,this.sessionVariables.viewportMinimum=null),this.hasOptionChanged("viewportMinimum")||isNaN(this.sessionVariables.newViewportMinimum)||null===this.sessionVariables.newViewportMinimum?this.sessionVariables.newViewportMinimum=null:this.viewportMinimum=this.sessionVariables.newViewportMinimum,this.hasOptionChanged("viewportMaximum")&&null===this.viewportMaximum&&(this.options.viewportMaximum=void 0,this.sessionVariables.viewportMaximum=null),this.hasOptionChanged("viewportMaximum")||isNaN(this.sessionVariables.newViewportMaximum)||null===this.sessionVariables.newViewportMaximum?this.sessionVariables.newViewportMaximum=null:this.viewportMaximum=this.sessionVariables.newViewportMaximum,null!==this.minimum&&null!==this.viewportMinimum&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),null!==this.maximum&&null!==this.viewportMaximum&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.trackChanges("viewportMinimum"),this.trackChanges("viewportMaximum")}function N(e,t,n,i){if(N.base.constructor.call(this,"ScaleBreaks","scaleBreaks",t,null,i),this.id=n,this.chart=e,this.ctx=this.chart.ctx,this.axis=i,this.optionsName="scaleBreaks",this.isOptionsInArray=!1,this._appliedBreaks=[],this.customBreaks=[],this.autoBreaks=[],"string"===typeof this.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?8:(10<this.spacing?10:this.spacing)+"%"):"number"!==typeof this.spacing&&(this.spacing=8),this.autoCalculate&&(this.maxNumberOfAutoBreaks=Math.min(this.maxNumberOfAutoBreaks,5)),this.options.customBreaks&&0<this.options.customBreaks.length){for(e=0;e<this.options.customBreaks.length;e++)this.customBreaks.push(new j(this.chart,"customBreaks",this.options.customBreaks[e],e,++this.chart._eventManager.lastObjectId,this)),"number"===typeof this.customBreaks[e].startValue&&"number"===typeof this.customBreaks[e].endValue&&this.customBreaks[e].endValue!==this.customBreaks[e].startValue&&this._appliedBreaks.push(this.customBreaks[e]);for(this._appliedBreaks.sort((function(e,t){return e.startValue-t.startValue})),e=0;e<this._appliedBreaks.length-1;e++)this._appliedBreaks[e].endValue>=this._appliedBreaks[e+1].startValue&&(this._appliedBreaks[e].endValue=Math.max(this._appliedBreaks[e].endValue,this._appliedBreaks[e+1].endValue),window.console&&window.console.log("CanvasJS Error: Breaks "+e+" and "+(e+1)+" are overlapping."),this._appliedBreaks.splice(e,2),e--)}}function j(e,t,n,i,r,o){j.base.constructor.call(this,"Break",t,n,i,o),this.id=r,this.chart=e,this.ctx=this.chart.ctx,this.scaleBreaks=o,this.optionsName=t,this.isOptionsInArray=!0,this.type=n.type?this.type:o.type,this.fillOpacity=p(n.fillOpacity)?o.fillOpacity:this.fillOpacity,this.lineThickness=p(n.lineThickness)?o.lineThickness:this.lineThickness,this.color=n.color?this.color:o.color,this.lineColor=n.lineColor?this.lineColor:o.lineColor,this.lineDashType=n.lineDashType?this.lineDashType:o.lineDashType,!p(this.startValue)&&this.startValue.getTime&&(this.startValue=this.startValue.getTime()),!p(this.endValue)&&this.endValue.getTime&&(this.endValue=this.endValue.getTime()),"number"===typeof this.startValue&&"number"===typeof this.endValue&&this.endValue<this.startValue&&(e=this.startValue,this.startValue=this.endValue,this.endValue=e),this.spacing="undefined"===typeof n.spacing?o.spacing:n.spacing,"string"===typeof this.options.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?0:(10<this.spacing?10:this.spacing)+"%"):"number"!==typeof this.options.spacing&&(this.spacing=o.spacing),this.size=o.parent.logarithmic?1:0}function H(e,t,n,i,r){H.base.constructor.call(this,"StripLine","stripLines",t,n,r),this.id=i,this.chart=e,this.ctx=this.chart.ctx,this.label=this.label,this.axis=r,this.optionsName="stripLines",this.isOptionsInArray=!0,this._thicknessType="pixel",null!==this.startValue&&null!==this.endValue&&(this.value=r.logarithmic?Math.sqrt((this.startValue.getTime?this.startValue.getTime():this.startValue)*(this.endValue.getTime?this.endValue.getTime():this.endValue)):((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this._thicknessType=null)}function X(e,t,n){X.base.constructor.call(this,"Crosshair","crosshair",t,null,n),this.chart=e,this.ctx=this.chart.ctx,this.axis=n,this.optionsName="crosshair",this._thicknessType="pixel"}function G(e,t){G.base.constructor.call(this,"ToolTip","toolTip",t,null,e),this.chart=e,this.canvas=e.canvas,this.ctx=this.chart.ctx,this.currentDataPointIndex=this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,this.containerTransitionDuration=.1,this.mozContainerTransition=this.getContainerTransition(this.containerTransitionDuration),this.optionsName="toolTip",this._initialize()}function Y(e){this.chart=e,this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=k(this.chart.width,this.chart.height),this.ghostCtx=this.ghostCanvas.getContext("2d"),this.mouseoveredObjectMaps=[]}function K(e){this.chart=e,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}n(t,M),t.prototype.destroy=function(){var e=this.allDOMEventHandlers;this._animator&&this._animator.cancelAllAnimations(),this._panTimerId&&clearTimeout(this._panTimerId);for(var t=0;t<e.length;t++){var n=e[t][0],i=e[t][1],r=e[t][2],o=(o=e[t][3])||!1;n.removeEventListener?n.removeEventListener(i,r,o):n.detachEvent&&n.detachEvent("on"+i,r)}for(this.allDOMEventHandlers=[],this.removeAllEventListeners();this._canvasJSContainer&&this._canvasJSContainer.hasChildNodes();)this._canvasJSContainer.removeChild(this._canvasJSContainer.lastChild);for(;this.container&&this.container.hasChildNodes();)this.container.removeChild(this.container.lastChild);for(;this._dropdownMenu&&this._dropdownMenu.hasChildNodes();)this._dropdownMenu.removeChild(this._dropdownMenu.lastChild);this.overlaidCanvas=this.canvas=this.container=this._canvasJSContainer=null,this._toolBar=this._dropdownMenu=this._menuButton=this._resetButton=this._zoomButton=this._breaksCanvas=this._preRenderCanvas=this.toolTip.container=null},t.prototype._updateOptions=function(){var e=this;if(this.updateOption("width"),this.updateOption("height"),this.updateOption("dataPointWidth"),this.updateOption("dataPointMinWidth"),this.updateOption("dataPointMaxWidth"),this.updateOption("interactivityEnabled"),this.updateOption("theme"),this.updateOption("colorSet")&&(this._selectedColorSet="undefined"!==typeof q[this.colorSet]?q[this.colorSet]:q.colorSet1),this.updateOption("backgroundColor"),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this._cultureInfo=new R(this.options.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&U,this.updateOption("animationDuration"),this.updateOption("rangeChanging"),this.updateOption("rangeChanged"),this.updateOption("exportEnabled"),this.updateOption("exportFileName"),this.updateOption("zoomType"),this.options.zoomEnabled){if(!this._zoomButton){var t=!1;T(this._zoomButton=document.createElement("button")),C(this,this._zoomButton,"pan"),this._toolBar.appendChild(this._zoomButton),this._zoomButton.style.borderRight=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,y(this._zoomButton,"touchstart",(function(e){t=!0}),this.allDOMEventHandlers),y(this._zoomButton,"click",(function(){e.zoomEnabled?(e.zoomEnabled=!1,e.panEnabled=!0,C(e,e._zoomButton,"zoom")):(e.zoomEnabled=!0,e.panEnabled=!1,C(e,e._zoomButton,"pan")),e.render()}),this.allDOMEventHandlers),y(this._zoomButton,"mouseover",(function(){t?t=!1:(S(0,e._zoomButton,{backgroundColor:e.toolbar.backgroundColorOnHover,color:e.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&S(0,e._zoomButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))}),this.allDOMEventHandlers),y(this._zoomButton,"mouseout",(function(){t||(S(0,e._zoomButton,{backgroundColor:e.toolbar.backgroundColor,color:e.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&S(0,e._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))}),this.allDOMEventHandlers)}this._resetButton||(t=!1,T(this._resetButton=document.createElement("button")),C(this,this._resetButton,"reset"),this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.borderThickness:0)+"px solid "+this.toolbar.borderColor,this._toolBar.appendChild(this._resetButton),y(this._resetButton,"touchstart",(function(e){t=!0}),this.allDOMEventHandlers),y(this._resetButton,"click",(function(){if(e.toolTip.hide(),e.zoomEnabled||e.panEnabled?(e.zoomEnabled=!0,e.panEnabled=!1,C(e,e._zoomButton,"pan"),e._defaultCursor="default",e.overlaidCanvas.style.cursor=e._defaultCursor):(e.zoomEnabled=!1,e.panEnabled=!1),e.sessionVariables.axisX)for(var t=0;t<e.sessionVariables.axisX.length;t++)e.sessionVariables.axisX[t].newViewportMinimum=null,e.sessionVariables.axisX[t].newViewportMaximum=null;if(e.sessionVariables.axisX2)for(t=0;t<e.sessionVariables.axisX2.length;t++)e.sessionVariables.axisX2[t].newViewportMinimum=null,e.sessionVariables.axisX2[t].newViewportMaximum=null;if(e.sessionVariables.axisY)for(t=0;t<e.sessionVariables.axisY.length;t++)e.sessionVariables.axisY[t].newViewportMinimum=null,e.sessionVariables.axisY[t].newViewportMaximum=null;if(e.sessionVariables.axisY2)for(t=0;t<e.sessionVariables.axisY2.length;t++)e.sessionVariables.axisY2[t].newViewportMinimum=null,e.sessionVariables.axisY2[t].newViewportMaximum=null;e.resetOverlayedCanvas(),T(e._zoomButton,e._resetButton),e._dispatchRangeEvent("rangeChanging","reset"),e.render(),e._dispatchRangeEvent("rangeChanged","reset"),e.syncCharts&&e.syncCharts(null,null)}),this.allDOMEventHandlers),y(this._resetButton,"mouseover",(function(){t||(S(0,e._resetButton,{backgroundColor:e.toolbar.backgroundColorOnHover,color:e.toolbar.hoverFfontColorOnHoverontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&S(0,e._resetButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))}),this.allDOMEventHandlers),y(this._resetButton,"mouseout",(function(){t||(S(0,e._resetButton,{backgroundColor:e.toolbar.backgroundColor,color:e.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&S(0,e._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))}),this.allDOMEventHandlers),this.overlaidCanvas.style.cursor=e._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(e._zoomButton.getAttribute("state")===e._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),E(e._zoomButton,e._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))}else this.panEnabled=this.zoomEnabled=!1;if(this._menuButton?this.exportEnabled?E(this._menuButton):T(this._menuButton):this.exportEnabled&&U&&(t=!1,this._menuButton=document.createElement("button"),C(this,this._menuButton,"menu"),this._toolBar.appendChild(this._menuButton),y(this._menuButton,"touchstart",(function(e){t=!0}),this.allDOMEventHandlers),y(this._menuButton,"click",(function(){"none"!==e._dropdownMenu.style.display||e._dropDownCloseTime&&500>=(new Date).getTime()-e._dropDownCloseTime.getTime()||(e._dropdownMenu.style.display="block",e._menuButton.blur(),e._dropdownMenu.focus())}),this.allDOMEventHandlers,!0),y(this._menuButton,"mouseover",(function(){t||(S(0,e._menuButton,{backgroundColor:e.toolbar.backgroundColorOnHover,color:e.toolbar.fontColorOnHover}),0>=navigator.userAgent.search("MSIE")&&S(0,e._menuButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))}),this.allDOMEventHandlers,!0),y(this._menuButton,"mouseout",(function(){t||(S(0,e._menuButton,{backgroundColor:e.toolbar.backgroundColor,color:e.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&S(0,e._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))}),this.allDOMEventHandlers,!0)),!this._dropdownMenu&&this.exportEnabled&&U){t=!1,this._dropdownMenu=document.createElement("div"),this._dropdownMenu.setAttribute("tabindex",-1);var n=-1!==this.theme.indexOf("dark")?"black":"#888888";this._dropdownMenu.style.cssText="position: absolute; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: pointer;right: 0px;top: 25px;min-width: 120px;outline: 0;font-size: 14px; font-family: Arial, Helvetica, sans-serif;padding: 5px 0px 5px 0px;text-align: left;line-height: 10px;background-color:"+this.toolbar.backgroundColor+";box-shadow: 2px 2px 10px "+n,e._dropdownMenu.style.display="none",this._toolBar.appendChild(this._dropdownMenu),y(this._dropdownMenu,"blur",(function(){T(e._dropdownMenu),e._dropDownCloseTime=new Date}),this.allDOMEventHandlers,!0),(n=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",n.innerHTML=this._cultureInfo.printText,n.style.backgroundColor=this.toolbar.backgroundColor,n.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(n),y(n,"touchstart",(function(e){t=!0}),this.allDOMEventHandlers),y(n,"mouseover",(function(){t||(this.style.backgroundColor=e.toolbar.backgroundColorOnHover,this.style.color=e.toolbar.fontColorOnHover)}),this.allDOMEventHandlers,!0),y(n,"mouseout",(function(){t||(this.style.backgroundColor=e.toolbar.backgroundColor,this.style.color=e.toolbar.fontColor)}),this.allDOMEventHandlers,!0),y(n,"click",(function(){e.print(),T(e._dropdownMenu)}),this.allDOMEventHandlers,!0),(n=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",n.innerHTML=this._cultureInfo.saveJPGText,n.style.backgroundColor=this.toolbar.backgroundColor,n.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(n),y(n,"touchstart",(function(e){t=!0}),this.allDOMEventHandlers),y(n,"mouseover",(function(){t||(this.style.backgroundColor=e.toolbar.backgroundColorOnHover,this.style.color=e.toolbar.fontColorOnHover)}),this.allDOMEventHandlers,!0),y(n,"mouseout",(function(){t||(this.style.backgroundColor=e.toolbar.backgroundColor,this.style.color=e.toolbar.fontColor)}),this.allDOMEventHandlers,!0),y(n,"click",(function(){u(e.canvas,"jpeg",e.exportFileName),T(e._dropdownMenu)}),this.allDOMEventHandlers,!0),(n=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",n.innerHTML=this._cultureInfo.savePNGText,n.style.backgroundColor=this.toolbar.backgroundColor,n.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(n),y(n,"touchstart",(function(e){t=!0}),this.allDOMEventHandlers),y(n,"mouseover",(function(){t||(this.style.backgroundColor=e.toolbar.backgroundColorOnHover,this.style.color=e.toolbar.fontColorOnHover)}),this.allDOMEventHandlers,!0),y(n,"mouseout",(function(){t||(this.style.backgroundColor=e.toolbar.backgroundColor,this.style.color=e.toolbar.fontColor)}),this.allDOMEventHandlers,!0),y(n,"click",(function(){u(e.canvas,"png",e.exportFileName),T(e._dropdownMenu)}),this.allDOMEventHandlers,!0)}for(var i in"none"!==this._toolBar.style.display&&this._zoomButton&&(this.panEnabled?C(e,e._zoomButton,"zoom"):C(e,e._zoomButton,"pan"),e._resetButton.getAttribute("state")!==e._cultureInfo.resetText&&C(e,e._resetButton,"reset")),this.options.toolTip&&this.toolTip.options!==this.options.toolTip&&(this.toolTip.options=this.options.toolTip),this.toolTip.options)this.toolTip.options.hasOwnProperty(i)&&this.toolTip.updateOption(i)},t.prototype._updateSize=function(){var e;e=[this.canvas,this.overlaidCanvas,this._eventManager.ghostCanvas];var t=0,n=0;if(this.options.width?t=this.width:this.width=t=0<this.container.clientWidth?this.container.clientWidth:this.width,this.options.height?n=this.height:this.height=n=0<this.container.clientHeight?this.container.clientHeight:this.height,this.canvas.width!==t*de||this.canvas.height!==n*de){for(var i=0;i<e.length;i++)_(e[i],t,n);e=!0}else e=!1;return e},t.prototype._initialize=function(){this.isNavigator=!p(this.parent)&&!p(this.parent._defaultsKey)&&"Navigator"===this.parent._defaultsKey,this.toolbar=new I(this,this.options.toolbar),this._animator?this._animator.cancelAllAnimations():this._animator=new K(this),this.removeAllEventListeners(),this.disableToolTip=!1,this._axes=[],this.funnelPyramidClickHandler=this.pieDoughnutClickHandler=null,this._updateOptions(),this.animatedRender=U&&this.animationEnabled&&0===this.renderCount,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,plotTypes:[]},this.layoutManager=new P(0,0,this.width,this.height,this.isNavigator?0:2),this.plotArea.layoutManager&&this.plotArea.layoutManager.reset(),this.data=[];var n=0,i=null;if(this.options.data){for(var r=0;r<this.options.data.length;r++)if(n++,!this.options.data[r].type||0<=t._supportedChartTypes.indexOf(this.options.data[r].type)){var o=new F(this,this.options.data[r],n-1,++this._eventManager.lastObjectId);"error"===o.type&&(o.linkedDataSeriesIndex=p(this.options.data[r].linkedDataSeriesIndex)?r-1:this.options.data[r].linkedDataSeriesIndex,0>o.linkedDataSeriesIndex||o.linkedDataSeriesIndex>=this.options.data.length||"number"!==typeof o.linkedDataSeriesIndex||"error"===this.options.data[o.linkedDataSeriesIndex].type)&&(o.linkedDataSeriesIndex=null),null===o.name&&(o.name="DataSeries "+n),null===o.color?1<this.options.data.length?(o._colorSet=[this._selectedColorSet[o.index%this._selectedColorSet.length]],o.color=this._selectedColorSet[o.index%this._selectedColorSet.length]):o._colorSet="line"===o.type||"stepLine"===o.type||"spline"===o.type||"area"===o.type||"stepArea"===o.type||"splineArea"===o.type||"stackedArea"===o.type||"stackedArea100"===o.type||"rangeArea"===o.type||"rangeSplineArea"===o.type||"candlestick"===o.type||"ohlc"===o.type||"waterfall"===o.type||"boxAndWhisker"===o.type?[this._selectedColorSet[0]]:this._selectedColorSet:o._colorSet=[o.color],null===o.markerSize&&(("line"===o.type||"stepLine"===o.type||"spline"===o.type||0<=o.type.toLowerCase().indexOf("area"))&&o.dataPoints&&o.dataPoints.length<this.width/16||"scatter"===o.type)&&(o.markerSize=8),"bubble"!==o.type&&"scatter"!==o.type||!o.dataPoints||(o.dataPoints.some?o.dataPoints.some((function(e){return e.x}))&&o.dataPoints.sort(e):o.dataPoints.sort(e)),this.data.push(o);var a,s=o.axisPlacement;i=i||s;if("normal"===s?"xySwapped"===this.plotInfo.axisPlacement?a='You cannot combine "'+o.type+'" with bar chart':"none"===this.plotInfo.axisPlacement?a='You cannot combine "'+o.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="normal"):"xySwapped"===s?"normal"===this.plotInfo.axisPlacement?a='You cannot combine "'+o.type+'" with line, area, column or pie chart':"none"===this.plotInfo.axisPlacement?a='You cannot combine "'+o.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="xySwapped"):"none"===s?"normal"===this.plotInfo.axisPlacement?a='You cannot combine "'+o.type+'" with line, area, column or bar chart':"xySwapped"===this.plotInfo.axisPlacement?a='You cannot combine "'+o.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="none"):null===s&&"none"===this.plotInfo.axisPlacement&&(a='You cannot combine "'+o.type+'" with pie chart'),a&&window.console)return void window.console.log(a)}for(r=0;r<this.data.length;r++){if("none"==i&&"error"===this.data[r].type&&window.console)return void window.console.log('You cannot combine "'+o.type+'" with error chart');"error"===this.data[r].type&&(this.data[r].axisPlacement=this.plotInfo.axisPlacement=i||"normal",this.data[r]._linkedSeries=null===this.data[r].linkedDataSeriesIndex?null:this.data[this.data[r].linkedDataSeriesIndex])}}this._objectsInitialized=!0,this._plotAreaElements=[]},t._supportedChartTypes=f("line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 candlestick ohlc boxAndWhisker rangeColumn error rangeBar rangeArea rangeSplineArea pie doughnut funnel pyramid waterfall".split(" ")),t.prototype.setLayout=function(){for(var e=this._plotAreaElements,t=0;t<this.data.length;t++)if("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement){if(!this.data[t].axisYType||"primary"===this.data[t].axisYType)if(this.options.axisY&&0<this.options.axisY.length){if(!this.axisY.length)for(var n=0;n<this.options.axisY.length;n++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[n]=new B(this,"axisY",this.options.axisY[n],n,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[n]=new B(this,"axisY",this.options.axisY[n],n,"axisY","bottom"));this.data[t].axisY=this.axisY[0<=this.data[t].axisYIndex&&this.data[t].axisYIndex<this.axisY.length?this.data[t].axisYIndex:0],this.axisY[0<=this.data[t].axisYIndex&&this.data[t].axisYIndex<this.axisY.length?this.data[t].axisYIndex:0].dataSeries.push(this.data[t])}else this.axisY.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[0]=new B(this,"axisY",this.options.axisY,0,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[0]=new B(this,"axisY",this.options.axisY,0,"axisY","bottom"))),this.data[t].axisY=this.axisY[0],this.axisY[0].dataSeries.push(this.data[t]);if("secondary"===this.data[t].axisYType)if(this.options.axisY2&&0<this.options.axisY2.length){if(!this.axisY2.length)for(n=0;n<this.options.axisY2.length;n++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[n]=new B(this,"axisY2",this.options.axisY2[n],n,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[n]=new B(this,"axisY2",this.options.axisY2[n],n,"axisY","top"));this.data[t].axisY=this.axisY2[0<=this.data[t].axisYIndex&&this.data[t].axisYIndex<this.axisY2.length?this.data[t].axisYIndex:0],this.axisY2[0<=this.data[t].axisYIndex&&this.data[t].axisYIndex<this.axisY2.length?this.data[t].axisYIndex:0].dataSeries.push(this.data[t])}else this.axisY2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[0]=new B(this,"axisY2",this.options.axisY2,0,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[0]=new B(this,"axisY2",this.options.axisY2,0,"axisY","top"))),this.data[t].axisY=this.axisY2[0],this.axisY2[0].dataSeries.push(this.data[t]);if(!this.data[t].axisXType||"primary"===this.data[t].axisXType)if(this.options.axisX&&0<this.options.axisX.length){if(!this.axisX.length)for(n=0;n<this.options.axisX.length;n++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[n]=new B(this,"axisX",this.options.axisX[n],n,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[n]=new B(this,"axisX",this.options.axisX[n],n,"axisX","left"));this.data[t].axisX=this.axisX[0<=this.data[t].axisXIndex&&this.data[t].axisXIndex<this.axisX.length?this.data[t].axisXIndex:0],this.axisX[0<=this.data[t].axisXIndex&&this.data[t].axisXIndex<this.axisX.length?this.data[t].axisXIndex:0].dataSeries.push(this.data[t])}else this.axisX.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[0]=new B(this,"axisX",this.options.axisX,0,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[0]=new B(this,"axisX",this.options.axisX,0,"axisX","left"))),this.data[t].axisX=this.axisX[0],this.axisX[0].dataSeries.push(this.data[t]);if("secondary"===this.data[t].axisXType)if(this.options.axisX2&&0<this.options.axisX2.length){if(!this.axisX2.length)for(n=0;n<this.options.axisX2.length;n++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[n]=new B(this,"axisX2",this.options.axisX2[n],n,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[n]=new B(this,"axisX2",this.options.axisX2[n],n,"axisX","right"));this.data[t].axisX=this.axisX2[0<=this.data[t].axisXIndex&&this.data[t].axisXIndex<this.axisX2.length?this.data[t].axisXIndex:0],this.axisX2[0<=this.data[t].axisXIndex&&this.data[t].axisXIndex<this.axisX2.length?this.data[t].axisXIndex:0].dataSeries.push(this.data[t])}else this.axisX2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[0]=new B(this,"axisX2",this.options.axisX2,0,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[0]=new B(this,"axisX2",this.options.axisX2,0,"axisX","right"))),this.data[t].axisX=this.axisX2[0],this.axisX2[0].dataSeries.push(this.data[t])}if(this.axisY){for(n=1;n<this.axisY.length;n++)"undefined"===typeof this.axisY[n].options.gridThickness&&(this.axisY[n].gridThickness=0);for(n=0;n<this.axisY.length-1;n++)"undefined"===typeof this.axisY[n].options.margin&&(this.axisY[n].margin=10)}if(this.axisY2){for(n=1;n<this.axisY2.length;n++)"undefined"===typeof this.axisY2[n].options.gridThickness&&(this.axisY2[n].gridThickness=0);for(n=0;n<this.axisY2.length-1;n++)"undefined"===typeof this.axisY2[n].options.margin&&(this.axisY2[n].margin=10)}if(this.axisY&&0<this.axisY.length&&this.axisY2&&0<this.axisY2.length&&(0<this.axisY[0].gridThickness&&"undefined"===typeof this.axisY2[0].options.gridThickness?this.axisY2[0].gridThickness=0:0<this.axisY2[0].gridThickness&&"undefined"===typeof this.axisY[0].options.gridThickness&&(this.axisY[0].gridThickness=0)),this.axisX)for(n=0;n<this.axisX.length;n++)"undefined"===typeof this.axisX[n].options.gridThickness&&(this.axisX[n].gridThickness=0);if(this.axisX2)for(n=0;n<this.axisX2.length;n++)"undefined"===typeof this.axisX2[n].options.gridThickness&&(this.axisX2[n].gridThickness=0);if(this.axisX&&0<this.axisX.length&&this.axisX2&&0<this.axisX2.length&&(0<this.axisX[0].gridThickness&&"undefined"===typeof this.axisX2[0].options.gridThickness?this.axisX2[0].gridThickness=0:0<this.axisX2[0].gridThickness&&"undefined"===typeof this.axisX[0].options.gridThickness&&(this.axisX[0].gridThickness=0)),n=!1,0<this._axes.length&&(this.zoomEnabled||this.panEnabled))for(t=0;t<this._axes.length;t++)if(null!==this._axes[t].viewportMinimum||null!==this._axes[t].viewportMaximum){n=!0;break}if(n?(E(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,this._zoomButton.style.borderRight=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.borderThickness:0)+"px solid "+this.toolbar.borderColor):(T(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.borderThickness+"px solid transparent",this.options.zoomEnabled&&(this.zoomEnabled=!0,this.panEnabled=!1)),m(this),this._processData(),this.options.title&&(this.title=new L(this,this.options.title),this.title.dockInsidePlotArea?e.push(this.title):this.title.setLayout()),this.subtitles=[],this.options.subtitles)for(t=0;t<this.options.subtitles.length;t++)n=new D(this,this.options.subtitles[t],t),this.subtitles.push(n),n.dockInsidePlotArea?e.push(n):n.setLayout();for(this.legend=new z(this,this.options.legend),t=0;t<this.data.length;t++)(this.data[t].showInLegend||"pie"===this.data[t].type||"doughnut"===this.data[t].type||"funnel"===this.data[t].type||"pyramid"===this.data[t].type)&&this.legend.dataSeries.push(this.data[t]);for(this.legend.dockInsidePlotArea?e.push(this.legend):this.legend.setLayout(),t=0;t<this._axes.length;t++)if(this._axes[t].scaleBreaks&&this._axes[t].scaleBreaks._appliedBreaks.length){U?(this._breaksCanvas=k(this.width,this.height),this._breaksCanvasCtx=this._breaksCanvas.getContext("2d")):(this._breaksCanvas=this.canvas,this._breaksCanvasCtx=this.ctx);break}this._preRenderCanvas=k(this.width,this.height),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),"normal"!==this.plotInfo.axisPlacement&&"xySwapped"!==this.plotInfo.axisPlacement||B.setLayout(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace())},t.prototype.renderElements=function(){var e=this._plotAreaElements;this.title&&!this.title.dockInsidePlotArea&&this.title.render();for(var t=0;t<this.subtitles.length;t++)this.subtitles[t].dockInsidePlotArea||this.subtitles[t].render();if(this.legend.dockInsidePlotArea||this.legend.render(),"normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)B.render(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement);else{if("none"!==this.plotInfo.axisPlacement)return;this.preparePlotArea()}for(t=0;t<e.length;t++)e[t].setLayout(),e[t].render();var n=[];if(this.animatedRender){var i=k(this.width,this.height);i.getContext("2d").drawImage(this.canvas,0,0,this.width,this.height)}w(this);var r;e=this.ctx.miterLimit;for(this.ctx.miterLimit=3,U&&this._breaksCanvas&&(this._preRenderCtx.drawImage(this.canvas,0,0,this.width,this.height),this._preRenderCtx.drawImage(this._breaksCanvas,0,0,this.width,this.height),this._breaksCanvasCtx.globalCompositeOperation="source-atop",this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),this._preRenderCtx.clearRect(0,0,this.width,this.height)),t=0;t<this.plotInfo.plotTypes.length;t++)for(var o=this.plotInfo.plotTypes[t],a=0;a<o.plotUnits.length;a++){var s=o.plotUnits[a],l=null;s.targetCanvas=null,this.animatedRender&&(s.targetCanvas=k(this.width,this.height),s.targetCanvasCtx=s.targetCanvas.getContext("2d"),r=s.targetCanvasCtx.miterLimit,s.targetCanvasCtx.miterLimit=3),"line"===s.type?l=this.renderLine(s):"stepLine"===s.type?l=this.renderStepLine(s):"spline"===s.type?l=this.renderSpline(s):"column"===s.type?l=this.renderColumn(s):"bar"===s.type?l=this.renderBar(s):"area"===s.type?l=this.renderArea(s):"stepArea"===s.type?l=this.renderStepArea(s):"splineArea"===s.type?l=this.renderSplineArea(s):"stackedColumn"===s.type?l=this.renderStackedColumn(s):"stackedColumn100"===s.type?l=this.renderStackedColumn100(s):"stackedBar"===s.type?l=this.renderStackedBar(s):"stackedBar100"===s.type?l=this.renderStackedBar100(s):"stackedArea"===s.type?l=this.renderStackedArea(s):"stackedArea100"===s.type?l=this.renderStackedArea100(s):"bubble"===s.type?l=l=this.renderBubble(s):"scatter"===s.type?l=this.renderScatter(s):"pie"===s.type||"doughnut"===s.type?this.renderPie(s):"funnel"===s.type||"pyramid"===s.type?l=this.renderFunnel(s):"candlestick"===s.type||"ohlc"===s.type?l=this.renderCandlestick(s):"rangeColumn"===s.type?l=this.renderRangeColumn(s):"error"===s.type?l=this.renderError(s):"rangeBar"===s.type?l=this.renderRangeBar(s):"rangeArea"===s.type?l=this.renderRangeArea(s):"rangeSplineArea"===s.type?l=this.renderRangeSplineArea(s):"waterfall"===s.type?l=this.renderWaterfall(s):"boxAndWhisker"===s.type&&(l=this.renderBoxAndWhisker(s));for(var c=0;c<s.dataSeriesIndexes.length;c++)this._dataInRenderedOrder.push(this.data[s.dataSeriesIndexes[c]]);this.animatedRender&&(s.targetCanvasCtx.miterLimit=r,l&&n.push(l))}this.ctx.miterLimit=e,this.animatedRender&&this._breaksCanvasCtx&&n.push({source:this._breaksCanvasCtx,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0,startTimePercent:.7}),this.animatedRender&&0<this._indexLabels.length&&(r=k(this.width,this.height).getContext("2d"),n.push(this.renderIndexLabels(r)));var u=this;if(0<n.length)u.disableToolTip=!0,u._animator.animate(200,u.animationDuration,(function(e){u.ctx.clearRect(0,0,u.width,u.height),u.ctx.drawImage(i,0,0,Math.floor(u.width*de),Math.floor(u.height*de),0,0,u.width,u.height);for(var t=0;t<n.length;t++)l=n[t],1>e&&"undefined"!==typeof l.startTimePercent?e>=l.startTimePercent&&l.animationCallback(l.easingFunction(e-l.startTimePercent,0,1,1-l.startTimePercent),l):l.animationCallback(l.easingFunction(e,0,1,1),l);u.dispatchEvent("dataAnimationIterationEnd",{chart:u})}),(function(){n=[];for(var e=0;e<u.plotInfo.plotTypes.length;e++)for(var t=u.plotInfo.plotTypes[e],r=0;r<t.plotUnits.length;r++)t.plotUnits[r].targetCanvas=null;i=null,u.disableToolTip=!1}));else{if(u._breaksCanvas)if(U)u.plotArea.ctx.drawImage(u._breaksCanvas,0,0,this.width,this.height);else for(c=0;c<u._axes.length;c++)u._axes[c].createMask();0<u._indexLabels.length&&u.renderIndexLabels(),u.dispatchEvent("dataAnimationIterationEnd",{chart:u})}for(this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||"none"===this._zoomButton.style.display||T(this._zoomButton,this._resetButton),this.toolTip._updateToolTip(),this.renderCount++,V&&(u=this,setTimeout((function(){var e=document.getElementById("ghostCanvasCopy");e&&(_(e,u.width,u.height),e.getContext("2d").drawImage(u._eventManager.ghostCanvas,0,0))}),2e3)),this._breaksCanvas&&(delete this._breaksCanvas,delete this._breaksCanvasCtx),c=0;c<this._axes.length;c++)this._axes[c].maskCanvas&&(delete this._axes[c].maskCanvas,delete this._axes[c].maskCtx)},t.prototype.render=function(e){e&&(this.options=e),this._initialize(),this.setLayout(),this.renderElements(),this._preRenderCanvas=null},t.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},t.prototype.categoriseDataSeries=function(){for(var e="",n=0;n<this.data.length;n++)if((e=this.data[n]).dataPoints&&0!==e.dataPoints.length&&e.visible&&0<=t._supportedChartTypes.indexOf(e.type)){for(var i=null,r=!1,o=null,a=!1,s=0;s<this.plotInfo.plotTypes.length;s++)if(this.plotInfo.plotTypes[s].type===e.type){r=!0,i=this.plotInfo.plotTypes[s];break}for(r||(i={type:e.type,totalDataSeries:0,plotUnits:[]},this.plotInfo.plotTypes.push(i)),s=0;s<i.plotUnits.length;s++)if(i.plotUnits[s].axisYType===e.axisYType&&i.plotUnits[s].axisXType===e.axisXType&&i.plotUnits[s].axisYIndex===e.axisYIndex&&i.plotUnits[s].axisXIndex===e.axisXIndex){a=!0,o=i.plotUnits[s];break}a||(o={type:e.type,previousDataSeriesCount:0,index:i.plotUnits.length,plotType:i,axisXType:e.axisXType,axisYType:e.axisYType,axisYIndex:e.axisYIndex,axisXIndex:e.axisXIndex,axisY:"primary"===e.axisYType?this.axisY[0<=e.axisYIndex&&e.axisYIndex<this.axisY.length?e.axisYIndex:0]:this.axisY2[0<=e.axisYIndex&&e.axisYIndex<this.axisY2.length?e.axisYIndex:0],axisX:"primary"===e.axisXType?this.axisX[0<=e.axisXIndex&&e.axisXIndex<this.axisX.length?e.axisXIndex:0]:this.axisX2[0<=e.axisXIndex&&e.axisXIndex<this.axisX2.length?e.axisXIndex:0],dataSeriesIndexes:[],yTotals:[]},i.plotUnits.push(o)),i.totalDataSeries++,o.dataSeriesIndexes.push(n),e.plotUnit=o}for(n=0;n<this.plotInfo.plotTypes.length;n++)for(i=this.plotInfo.plotTypes[n],s=e=0;s<i.plotUnits.length;s++)i.plotUnits[s].previousDataSeriesCount=e,e+=i.plotUnits[s].dataSeriesIndexes.length},t.prototype.assignIdToDataPoints=function(){for(var e=0;e<this.data.length;e++){var t=this.data[e];if(t.dataPoints)for(var n=t.dataPoints.length,i=0;i<n;i++)t.dataPointIds[i]=++this._eventManager.lastObjectId}},t.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var e=0;e<this.plotInfo.plotTypes.length;e++)for(var t=this.plotInfo.plotTypes[e],n=0;n<t.plotUnits.length;n++){var i=t.plotUnits[n];"line"===i.type||"stepLine"===i.type||"spline"===i.type||"column"===i.type||"area"===i.type||"stepArea"===i.type||"splineArea"===i.type||"bar"===i.type||"bubble"===i.type||"scatter"===i.type?this._processMultiseriesPlotUnit(i):"stackedColumn"===i.type||"stackedBar"===i.type||"stackedArea"===i.type?this._processStackedPlotUnit(i):"stackedColumn100"===i.type||"stackedBar100"===i.type||"stackedArea100"===i.type?this._processStacked100PlotUnit(i):"candlestick"===i.type||"ohlc"===i.type||"rangeColumn"===i.type||"rangeBar"===i.type||"rangeArea"===i.type||"rangeSplineArea"===i.type||"error"===i.type||"boxAndWhisker"===i.type?this._processMultiYPlotUnit(i):"waterfall"===i.type&&this._processSpecificPlotUnit(i)}this.calculateAutoBreaks()},t.prototype._processMultiseriesPlotUnit=function(e){if(e.dataSeriesIndexes&&!(1>e.dataSeriesIndexes.length))for(var t,n,i=e.axisY.dataInfo,r=e.axisX.dataInfo,o=!1,a=0;a<e.dataSeriesIndexes.length;a++){var s,l=this.data[e.dataSeriesIndexes[a]],c=0,u=!1,d=!1;if("normal"===l.axisPlacement||"xySwapped"===l.axisPlacement)var h=e.axisX.sessionVariables.newViewportMinimum?e.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:e.axisX.logarithmic?0:-1/0,p=e.axisX.sessionVariables.newViewportMaximum?e.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((l.dataPoints[c].x&&l.dataPoints[c].x.getTime||"dateTime"===l.xValueType)&&(o=!0),c=0;c<l.dataPoints.length;c++){if("undefined"===typeof l.dataPoints[c].x&&(l.dataPoints[c].x=c+(e.axisX.logarithmic?1:0)),l.dataPoints[c].x.getTime?(o=!0,t=l.dataPoints[c].x.getTime()):t=l.dataPoints[c].x,n=l.dataPoints[c].y,t<r.min&&(r.min=t),t>r.max&&(r.max=t),n<i.min&&"number"===typeof n&&(i.min=n),n>i.max&&"number"===typeof n&&(i.max=n),0<c){if(e.axisX.logarithmic){var f=t/l.dataPoints[c-1].x;1>f&&(f=1/f),r.minDiff>f&&1!==f&&(r.minDiff=f)}else 0>(f=t-l.dataPoints[c-1].x)&&(f*=-1),r.minDiff>f&&0!==f&&(r.minDiff=f);null!==n&&null!==l.dataPoints[c-1].y&&(e.axisY.logarithmic?(1>(f=n/l.dataPoints[c-1].y)&&(f=1/f),i.minDiff>f&&1!==f&&(i.minDiff=f)):(0>(f=n-l.dataPoints[c-1].y)&&(f*=-1),i.minDiff>f&&0!==f&&(i.minDiff=f)))}if(t<h&&!u)null!==n&&(s=t);else{if(!u&&(u=!0,0<c)){c-=2;continue}if(t>p&&!d)d=!0;else if(t>p&&d)continue;l.dataPoints[c].label&&(e.axisX.labels[t]=l.dataPoints[c].label),t<r.viewPortMin&&(r.viewPortMin=t),t>r.viewPortMax&&(r.viewPortMax=t),null===n?r.viewPortMin===t&&s<t&&(r.viewPortMin=s):(n<i.viewPortMin&&"number"===typeof n&&(i.viewPortMin=n),n>i.viewPortMax&&"number"===typeof n&&(i.viewPortMax=n))}}l.axisX.valueType=l.xValueType=o?"dateTime":"number"}},t.prototype._processStackedPlotUnit=function(e){if(e.dataSeriesIndexes&&!(1>e.dataSeriesIndexes.length)){for(var t,n,i=e.axisY.dataInfo,r=e.axisX.dataInfo,o=!1,a=[],s=[],l=1/0,c=-1/0,u=0;u<e.dataSeriesIndexes.length;u++){var d,h=this.data[e.dataSeriesIndexes[u]],f=0,m=!1,g=!1;if("normal"===h.axisPlacement||"xySwapped"===h.axisPlacement)var v=e.axisX.sessionVariables.newViewportMinimum?e.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,y=e.axisX.sessionVariables.newViewportMaximum?e.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((h.dataPoints[f].x&&h.dataPoints[f].x.getTime||"dateTime"===h.xValueType)&&(o=!0),f=0;f<h.dataPoints.length;f++){if("undefined"===typeof h.dataPoints[f].x&&(h.dataPoints[f].x=f+(e.axisX.logarithmic?1:0)),h.dataPoints[f].x.getTime?(o=!0,t=h.dataPoints[f].x.getTime()):t=h.dataPoints[f].x,n=p(h.dataPoints[f].y)?0:h.dataPoints[f].y,t<r.min&&(r.min=t),t>r.max&&(r.max=t),0<f){if(e.axisX.logarithmic){var x=t/h.dataPoints[f-1].x;1>x&&(x=1/x),r.minDiff>x&&1!==x&&(r.minDiff=x)}else 0>(x=t-h.dataPoints[f-1].x)&&(x*=-1),r.minDiff>x&&0!==x&&(r.minDiff=x);null!==n&&null!==h.dataPoints[f-1].y&&(e.axisY.logarithmic?0<n&&(1>(x=n/h.dataPoints[f-1].y)&&(x=1/x),i.minDiff>x&&1!==x&&(i.minDiff=x)):(0>(x=n-h.dataPoints[f-1].y)&&(x*=-1),i.minDiff>x&&0!==x&&(i.minDiff=x)))}if(t<v&&!m)null!==h.dataPoints[f].y&&(d=t);else{if(!m&&(m=!0,0<f)){f-=2;continue}if(t>y&&!g)g=!0;else if(t>y&&g)continue;h.dataPoints[f].label&&(e.axisX.labels[t]=h.dataPoints[f].label),t<r.viewPortMin&&(r.viewPortMin=t),t>r.viewPortMax&&(r.viewPortMax=t),null===h.dataPoints[f].y?r.viewPortMin===t&&d<t&&(r.viewPortMin=d):(e.yTotals[t]=(e.yTotals[t]?e.yTotals[t]:0)+n,0<=n?a[t]?a[t]+=n:(a[t]=n,l=Math.min(n,l)):s[t]?s[t]+=n:(s[t]=n,c=Math.max(n,c)))}}e.axisY.scaleBreaks&&e.axisY.scaleBreaks.autoCalculate&&1<=e.axisY.scaleBreaks.maxNumberOfAutoBreaks&&(i.dataPointYPositiveSums?(i.dataPointYPositiveSums.push.apply(i.dataPointYPositiveSums,a),i.dataPointYNegativeSums.push.apply(i.dataPointYPositiveSums,s)):(i.dataPointYPositiveSums=a,i.dataPointYNegativeSums=s)),h.axisX.valueType=h.xValueType=o?"dateTime":"number"}for(f in a)a.hasOwnProperty(f)&&!isNaN(f)&&((e=a[f])<i.min&&(i.min=Math.min(e,l)),e>i.max&&(i.max=e),f<r.viewPortMin||f>r.viewPortMax||(e<i.viewPortMin&&(i.viewPortMin=Math.min(e,l)),e>i.viewPortMax&&(i.viewPortMax=e)));for(f in s)s.hasOwnProperty(f)&&!isNaN(f)&&((e=s[f])<i.min&&(i.min=e),e>i.max&&(i.max=Math.max(e,c)),f<r.viewPortMin||f>r.viewPortMax||(e<i.viewPortMin&&(i.viewPortMin=e),e>i.viewPortMax&&(i.viewPortMax=Math.max(e,c))))}},t.prototype._processStacked100PlotUnit=function(e){if(e.dataSeriesIndexes&&!(1>e.dataSeriesIndexes.length)){for(var t,n,i=e.axisY.dataInfo,r=e.axisX.dataInfo,o=!1,a=!1,s=!1,l=[],c=0;c<e.dataSeriesIndexes.length;c++){var u,d=this.data[e.dataSeriesIndexes[c]],h=0,f=!1,m=!1;if("normal"===d.axisPlacement||"xySwapped"===d.axisPlacement)var g=e.axisX.sessionVariables.newViewportMinimum?e.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,v=e.axisX.sessionVariables.newViewportMaximum?e.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((d.dataPoints[h].x&&d.dataPoints[h].x.getTime||"dateTime"===d.xValueType)&&(o=!0),h=0;h<d.dataPoints.length;h++){if("undefined"===typeof d.dataPoints[h].x&&(d.dataPoints[h].x=h+(e.axisX.logarithmic?1:0)),d.dataPoints[h].x.getTime?(o=!0,t=d.dataPoints[h].x.getTime()):t=d.dataPoints[h].x,n=p(d.dataPoints[h].y)?null:d.dataPoints[h].y,t<r.min&&(r.min=t),t>r.max&&(r.max=t),0<h){if(e.axisX.logarithmic){var y=t/d.dataPoints[h-1].x;1>y&&(y=1/y),r.minDiff>y&&1!==y&&(r.minDiff=y)}else 0>(y=t-d.dataPoints[h-1].x)&&(y*=-1),r.minDiff>y&&0!==y&&(r.minDiff=y);p(n)||null===d.dataPoints[h-1].y||(e.axisY.logarithmic?0<n&&(1>(y=n/d.dataPoints[h-1].y)&&(y=1/y),i.minDiff>y&&1!==y&&(i.minDiff=y)):(0>(y=n-d.dataPoints[h-1].y)&&(y*=-1),i.minDiff>y&&0!==y&&(i.minDiff=y)))}if(t<g&&!f)null!==n&&(u=t);else{if(!f&&(f=!0,0<h)){h-=2;continue}if(t>v&&!m)m=!0;else if(t>v&&m)continue;d.dataPoints[h].label&&(e.axisX.labels[t]=d.dataPoints[h].label),t<r.viewPortMin&&(r.viewPortMin=t),t>r.viewPortMax&&(r.viewPortMax=t),null===n?r.viewPortMin===t&&u<t&&(r.viewPortMin=u):(e.yTotals[t]=(e.yTotals[t]?e.yTotals[t]:0)+n,0<=n?a=!0:0>n&&(s=!0),l[t]=l[t]?l[t]+Math.abs(n):Math.abs(n))}}d.axisX.valueType=d.xValueType=o?"dateTime":"number"}e.axisY.logarithmic?(i.max=p(i.viewPortMax)?99*Math.pow(e.axisY.logarithmBase,-.05):Math.max(i.viewPortMax,99*Math.pow(e.axisY.logarithmBase,-.05)),i.min=p(i.viewPortMin)?1:Math.min(i.viewPortMin,1)):a&&!s?(i.max=p(i.viewPortMax)?99:Math.max(i.viewPortMax,99),i.min=p(i.viewPortMin)?1:Math.min(i.viewPortMin,1)):a&&s?(i.max=p(i.viewPortMax)?99:Math.max(i.viewPortMax,99),i.min=p(i.viewPortMin)?-99:Math.min(i.viewPortMin,-99)):!a&&s&&(i.max=p(i.viewPortMax)?-1:Math.max(i.viewPortMax,-1),i.min=p(i.viewPortMin)?-99:Math.min(i.viewPortMin,-99)),i.viewPortMin=i.min,i.viewPortMax=i.max,e.dataPointYSums=l}},t.prototype._processMultiYPlotUnit=function(e){if(e.dataSeriesIndexes&&!(1>e.dataSeriesIndexes.length))for(var t,n,i,r,o=e.axisY.dataInfo,a=e.axisX.dataInfo,s=!1,l=0;l<e.dataSeriesIndexes.length;l++){var c,u,d,h=this.data[e.dataSeriesIndexes[l]],p=0,f=!1,m=!1;if("normal"===h.axisPlacement||"xySwapped"===h.axisPlacement)var g=e.axisX.sessionVariables.newViewportMinimum?e.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:e.axisX.logarithmic?0:-1/0,v=e.axisX.sessionVariables.newViewportMaximum?e.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((h.dataPoints[p].x&&h.dataPoints[p].x.getTime||"dateTime"===h.xValueType)&&(s=!0),p=0;p<h.dataPoints.length;p++){if("undefined"===typeof h.dataPoints[p].x&&(h.dataPoints[p].x=p+(e.axisX.logarithmic?1:0)),h.dataPoints[p].x.getTime?(s=!0,t=h.dataPoints[p].x.getTime()):t=h.dataPoints[p].x,(n=h.dataPoints[p].y)&&n.length){i=Math.min.apply(null,n),r=Math.max.apply(null,n),u=!0;for(var y=0;y<n.length;y++)null===n.k&&(u=!1);u&&(f||(d=c),c=t)}if(t<a.min&&(a.min=t),t>a.max&&(a.max=t),i<o.min&&(o.min=i),r>o.max&&(o.max=r),0<p&&(e.axisX.logarithmic?(1>(u=t/h.dataPoints[p-1].x)&&(u=1/u),a.minDiff>u&&1!==u&&(a.minDiff=u)):(0>(u=t-h.dataPoints[p-1].x)&&(u*=-1),a.minDiff>u&&0!==u&&(a.minDiff=u)),n&&null!==n[0]&&h.dataPoints[p-1].y&&null!==h.dataPoints[p-1].y[0]&&(e.axisY.logarithmic?(1>(u=n[0]/h.dataPoints[p-1].y[0])&&(u=1/u),o.minDiff>u&&1!==u&&(o.minDiff=u)):(0>(u=n[0]-h.dataPoints[p-1].y[0])&&(u*=-1),o.minDiff>u&&0!==u&&(o.minDiff=u)))),!(t<g)||f){if(!f&&(f=!0,0<p)){p-=2,c=d;continue}if(t>v&&!m)m=!0;else if(t>v&&m)continue;if(h.dataPoints[p].label&&(e.axisX.labels[t]=h.dataPoints[p].label),t<a.viewPortMin&&(a.viewPortMin=t),t>a.viewPortMax&&(a.viewPortMax=t),a.viewPortMin===t&&n)for(y=0;y<n.length;y++)if(null===n[y]&&c<t){a.viewPortMin=c;break}null===n?a.viewPortMin===t&&c<t&&(a.viewPortMin=c):(i<o.viewPortMin&&(o.viewPortMin=i),r>o.viewPortMax&&(o.viewPortMax=r))}}h.axisX.valueType=h.xValueType=s?"dateTime":"number"}},t.prototype._processSpecificPlotUnit=function(e){if("waterfall"===e.type&&e.dataSeriesIndexes&&!(1>e.dataSeriesIndexes.length))for(var t,n,i=e.axisY.dataInfo,r=e.axisX.dataInfo,o=!1,a=0;a<e.dataSeriesIndexes.length;a++){var s=this.data[e.dataSeriesIndexes[a]],l=0,c=!1,u=!1,d=t=0;if("normal"===s.axisPlacement||"xySwapped"===s.axisPlacement)var h=e.axisX.sessionVariables.newViewportMinimum?e.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:e.axisX.logarithmic?0:-1/0,p=e.axisX.sessionVariables.newViewportMaximum?e.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((s.dataPoints[l].x&&s.dataPoints[l].x.getTime||"dateTime"===s.xValueType)&&(o=!0),l=0;l<s.dataPoints.length;l++)"undefined"!==typeof s.dataPoints[l].isCumulativeSum&&!0===s.dataPoints[l].isCumulativeSum?(s.dataPointEOs[l].cumulativeSumYStartValue=0,s.dataPointEOs[l].cumulativeSum=0===l?0:s.dataPointEOs[l-1].cumulativeSum,s.dataPoints[l].y=0===l?0:s.dataPointEOs[l-1].cumulativeSum):"undefined"!==typeof s.dataPoints[l].isIntermediateSum&&!0===s.dataPoints[l].isIntermediateSum?(s.dataPointEOs[l].cumulativeSumYStartValue=d,s.dataPointEOs[l].cumulativeSum=0===l?0:s.dataPointEOs[l-1].cumulativeSum,s.dataPoints[l].y=0===l?0:t,d=0===l?0:s.dataPointEOs[l-1].cumulativeSum,t=0):(n="number"!==typeof s.dataPoints[l].y?0:s.dataPoints[l].y,s.dataPointEOs[l].cumulativeSumYStartValue=0===l?0:s.dataPointEOs[l-1].cumulativeSum,s.dataPointEOs[l].cumulativeSum=0===l?n:s.dataPointEOs[l-1].cumulativeSum+n,t+=n);for(l=0;l<s.dataPoints.length;l++)if("undefined"===typeof s.dataPoints[l].x&&(s.dataPoints[l].x=l+(e.axisX.logarithmic?1:0)),s.dataPoints[l].x.getTime?(o=!0,t=s.dataPoints[l].x.getTime()):t=s.dataPoints[l].x,n=s.dataPoints[l].y,t<r.min&&(r.min=t),t>r.max&&(r.max=t),s.dataPointEOs[l].cumulativeSum<i.min&&(i.min=s.dataPointEOs[l].cumulativeSum),s.dataPointEOs[l].cumulativeSum>i.max&&(i.max=s.dataPointEOs[l].cumulativeSum),0<l&&(e.axisX.logarithmic?(1>(d=t/s.dataPoints[l-1].x)&&(d=1/d),r.minDiff>d&&1!==d&&(r.minDiff=d)):(0>(d=t-s.dataPoints[l-1].x)&&(d*=-1),r.minDiff>d&&0!==d&&(r.minDiff=d)),null!==n&&null!==s.dataPoints[l-1].y&&(e.axisY.logarithmic?(1>(n=s.dataPointEOs[l].cumulativeSum/s.dataPointEOs[l-1].cumulativeSum)&&(n=1/n),i.minDiff>n&&1!==n&&(i.minDiff=n)):(0>(n=s.dataPointEOs[l].cumulativeSum-s.dataPointEOs[l-1].cumulativeSum)&&(n*=-1),i.minDiff>n&&0!==n&&(i.minDiff=n)))),!(t<h)||c){if(!c&&(c=!0,0<l)){l-=2;continue}if(t>p&&!u)u=!0;else if(t>p&&u)continue;s.dataPoints[l].label&&(e.axisX.labels[t]=s.dataPoints[l].label),t<r.viewPortMin&&(r.viewPortMin=t),t>r.viewPortMax&&(r.viewPortMax=t),0<l&&(s.dataPointEOs[l-1].cumulativeSum<i.viewPortMin&&(i.viewPortMin=s.dataPointEOs[l-1].cumulativeSum),s.dataPointEOs[l-1].cumulativeSum>i.viewPortMax&&(i.viewPortMax=s.dataPointEOs[l-1].cumulativeSum)),s.dataPointEOs[l].cumulativeSum<i.viewPortMin&&(i.viewPortMin=s.dataPointEOs[l].cumulativeSum),s.dataPointEOs[l].cumulativeSum>i.viewPortMax&&(i.viewPortMax=s.dataPointEOs[l].cumulativeSum)}s.axisX.valueType=s.xValueType=o?"dateTime":"number"}},t.prototype.calculateAutoBreaks=function(){function e(e,t,n,i){return i?(1>=(n=Math.pow(Math.min(n*e/t,t/e),.2))&&(n=Math.pow(1>e?1/e:Math.min(t/e,e),.25)),{startValue:e*n,endValue:t/n}):(0>=(n=.2*Math.min(n-t+e,t-e))&&(n=.25*Math.min(t-e,Math.abs(e))),{startValue:e+n,endValue:t-n})}function t(e){if(e.dataSeriesIndexes&&!(1>e.dataSeriesIndexes.length)){var t=e.axisX.scaleBreaks&&e.axisX.scaleBreaks.autoCalculate&&1<=e.axisX.scaleBreaks.maxNumberOfAutoBreaks,n=e.axisY.scaleBreaks&&e.axisY.scaleBreaks.autoCalculate&&1<=e.axisY.scaleBreaks.maxNumberOfAutoBreaks;if(t||n)for(var i,o,a=e.axisY.dataInfo,s=(d=e.axisX.dataInfo).min,l=d.max,c=a.min,u=a.max,d=d._dataRanges,h=(a=a._dataRanges,0),f=0;f<e.dataSeriesIndexes.length;f++){var m=r.data[e.dataSeriesIndexes[f]];if(!(4>m.dataPoints.length))for(h=0;h<m.dataPoints.length;h++)if(t&&(o=(l+1-s)*Math.max(parseFloat(e.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(i=m.dataPoints[h].x.getTime?m.dataPoints[h].x.getTime():m.dataPoints[h].x)<d[o=Math.floor((i-s)/o)].min&&(d[o].min=i),i>d[o].max&&(d[o].max=i)),n){var g=(u+1-c)*Math.max(parseFloat(e.axisY.scaleBreaks.collapsibleThreshold)||10,10)/100;if((i="waterfall"===e.type?m.dataPointEOs[h].cumulativeSum:m.dataPoints[h].y)&&i.length)for(var v=0;v<i.length;v++)o=Math.floor((i[v]-c)/g),i[v]<a[o].min&&(a[o].min=i[v]),i[v]>a[o].max&&(a[o].max=i[v]);else p(i)||(i<a[o=Math.floor((i-c)/g)].min&&(a[o].min=i),i>a[o].max&&(a[o].max=i))}}}}function n(e){if(e.dataSeriesIndexes&&!(1>e.dataSeriesIndexes.length)&&e.axisX.scaleBreaks&&e.axisX.scaleBreaks.autoCalculate&&1<=e.axisX.scaleBreaks.maxNumberOfAutoBreaks)for(var t,n=e.axisX.dataInfo,i=n.min,o=n.max,a=n._dataRanges,s=0,l=0;l<e.dataSeriesIndexes.length;l++){var c=r.data[e.dataSeriesIndexes[l]];if(!(4>c.dataPoints.length))for(s=0;s<c.dataPoints.length;s++)t=(o+1-i)*Math.max(parseFloat(e.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(n=c.dataPoints[s].x.getTime?c.dataPoints[s].x.getTime():c.dataPoints[s].x)<a[t=Math.floor((n-i)/t)].min&&(a[t].min=n),n>a[t].max&&(a[t].max=n)}}for(var i,r=this,o=!1,a=0;a<this._axes.length;a++)if(this._axes[a].scaleBreaks&&this._axes[a].scaleBreaks.autoCalculate&&1<=this._axes[a].scaleBreaks.maxNumberOfAutoBreaks){o=!0,this._axes[a].dataInfo._dataRanges=[];for(var s=0;s<100/Math.max(parseFloat(this._axes[a].scaleBreaks.collapsibleThreshold)||10,10);s++)this._axes[a].dataInfo._dataRanges.push({min:1/0,max:-1/0})}if(o){for(a=0;a<this.plotInfo.plotTypes.length;a++)for(o=this.plotInfo.plotTypes[a],s=0;s<o.plotUnits.length;s++)"line"===(i=o.plotUnits[s]).type||"stepLine"===i.type||"spline"===i.type||"column"===i.type||"area"===i.type||"stepArea"===i.type||"splineArea"===i.type||"bar"===i.type||"bubble"===i.type||"scatter"===i.type||"candlestick"===i.type||"ohlc"===i.type||"rangeColumn"===i.type||"rangeBar"===i.type||"rangeArea"===i.type||"rangeSplineArea"===i.type||"waterfall"===i.type||"error"===i.type||"boxAndWhisker"===i.type?t(i):0<=i.type.indexOf("stacked")&&n(i);for(a=0;a<this._axes.length;a++)if(this._axes[a].dataInfo._dataRanges){var l=this._axes[a].dataInfo.min;i=(this._axes[a].dataInfo.max+1-l)*Math.max(parseFloat(this._axes[a].scaleBreaks.collapsibleThreshold)||10,10)/100;var c,u,d=this._axes[a].dataInfo._dataRanges;o=[];if(this._axes[a].dataInfo.dataPointYPositiveSums){var h=this._axes[a].dataInfo.dataPointYPositiveSums;for(s in c=d,h)if(h.hasOwnProperty(s)&&!isNaN(s)&&!p(u=h[s])){var f=Math.floor((u-l)/i);u<c[f].min&&(c[f].min=u),u>c[f].max&&(c[f].max=u)}delete this._axes[a].dataInfo.dataPointYPositiveSums}if(this._axes[a].dataInfo.dataPointYNegativeSums){for(s in c=d,h=this._axes[a].dataInfo.dataPointYNegativeSums)h.hasOwnProperty(s)&&!isNaN(s)&&(p(u=-1*h[s])||(u<c[f=Math.floor((u-l)/i)].min&&(c[f].min=u),u>c[f].max&&(c[f].max=u)));delete this._axes[a].dataInfo.dataPointYNegativeSums}for(s=0;s<d.length-1;s++)if(c=d[s].max,isFinite(c))for(;s<d.length-1;){if(l=d[s+1].min,isFinite(l)){(u=l-c)>i&&o.push({diff:u,start:c,end:l});break}s++}if(this._axes[a].scaleBreaks.customBreaks)for(s=0;s<this._axes[a].scaleBreaks.customBreaks.length;s++)for(i=0;i<o.length;i++)(this._axes[a].scaleBreaks.customBreaks[s].startValue<=o[i].start&&o[i].start<=this._axes[a].scaleBreaks.customBreaks[s].endValue||this._axes[a].scaleBreaks.customBreaks[s].startValue<=o[i].start&&o[i].start<=this._axes[a].scaleBreaks.customBreaks[s].endValue||o[i].start<=this._axes[a].scaleBreaks.customBreaks[s].startValue&&this._axes[a].scaleBreaks.customBreaks[s].startValue<=o[i].end||o[i].start<=this._axes[a].scaleBreaks.customBreaks[s].endValue&&this._axes[a].scaleBreaks.customBreaks[s].endValue<=o[i].end)&&(o.splice(i,1),i--);for(o.sort((function(e,t){return t.diff-e.diff})),s=0;s<Math.min(o.length,this._axes[a].scaleBreaks.maxNumberOfAutoBreaks);s++)i=e(o[s].start,o[s].end,this._axes[a].logarithmic?this._axes[a].dataInfo.max/this._axes[a].dataInfo.min:this._axes[a].dataInfo.max-this._axes[a].dataInfo.min,this._axes[a].logarithmic),this._axes[a].scaleBreaks.autoBreaks.push(new j(this,"autoBreaks",i,s,++this._eventManager.lastObjectId,this._axes[a].scaleBreaks)),this._axes[a].scaleBreaks._appliedBreaks.push(this._axes[a].scaleBreaks.autoBreaks[this._axes[a].scaleBreaks.autoBreaks.length-1]);this._axes[a].scaleBreaks._appliedBreaks.sort((function(e,t){return e.startValue-t.startValue}))}}},t.prototype.getDataPointAtXY=function(e,t,n){n=n||!1;for(var i=[],r=this._dataInRenderedOrder.length-1;0<=r;r--){var o;(o=this._dataInRenderedOrder[r].getDataPointAtXY(e,t,n))&&i.push(o)}for(e=null,t=!1,n=0;n<i.length;n++)if(("line"===i[n].dataSeries.type||"stepLine"===i[n].dataSeries.type||"area"===i[n].dataSeries.type||"stepArea"===i[n].dataSeries.type)&&(r=b("markerSize",i[n].dataPoint,i[n].dataSeries)||8,i[n].distance<=r/2)){t=!0;break}for(n=0;n<i.length;n++)t&&"line"!==i[n].dataSeries.type&&"stepLine"!==i[n].dataSeries.type&&"area"!==i[n].dataSeries.type&&"stepArea"!==i[n].dataSeries.type||(e?i[n].distance<=e.distance&&(e=i[n]):e=i[n]);return e},t.prototype.getObjectAtXY=function(e,t,n){var i=null;if(n=this.getDataPointAtXY(e,t,n||!1))i=n.dataSeries.dataPointIds[n.dataPointIndex];else if(U)i=x(e,t,this._eventManager.ghostCtx);else for(n=0;n<this.legend.items.length;n++){var r=this.legend.items[n];e>=r.x1&&e<=r.x2&&t>=r.y1&&t<=r.y2&&(i=r.id)}return i},t.prototype.getAutoFontSize=re,t.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},t.prototype.clearCanvas=ie,t.prototype.attachEvent=function(e){this._events.push(e)},t.prototype._touchEventHandler=function(e){if(e.changedTouches&&this.interactivityEnabled){var t=[],n=e.changedTouches,i=n?n[0]:e,r=null;switch(e.type){case"touchstart":case"MSPointerDown":t=["mousemove","mousedown"],this._lastTouchData=se(i),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":t=["mousemove"];break;case"touchend":case"MSPointerUp":var o=this._lastTouchData&&this._lastTouchData.time?new Date-this._lastTouchData.time:0;t="touchstart"===this._lastTouchEventType||"MSPointerDown"===this._lastTouchEventType||300>o?["mouseup","click"]:["mouseup"];break;default:return}if(!(n&&1<n.length)){(r=se(i)).time=new Date;try{var a=r.y-this._lastTouchData.y;o=r.time-this._lastTouchData.time;(1<Math.abs(a)&&this._lastTouchData.scroll||5<Math.abs(a)&&250>o)&&(this._lastTouchData.scroll=!0)}catch(s){}if(this._lastTouchEventType=e.type,this._lastTouchData.scroll&&this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(n=0;n<t.length;n++)r=t[n],(a=document.createEvent("MouseEvent")).initMouseEvent(r,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(a),(!p(this._lastTouchData.scroll)&&!this._lastTouchData.scroll||!this._lastTouchData.scroll&&250<o||"click"===r)&&(e.preventManipulation&&e.preventManipulation(),e.preventDefault&&e.preventDefault())}}},t.prototype._dispatchRangeEvent=function(e,t){var n={chart:this};n.type=e,n.trigger=t;var i=[];this.axisX&&0<this.axisX.length&&i.push("axisX"),this.axisX2&&0<this.axisX2.length&&i.push("axisX2"),this.axisY&&0<this.axisY.length&&i.push("axisY"),this.axisY2&&0<this.axisY2.length&&i.push("axisY2");for(var r=0;r<i.length;r++)if(p(n[i[r]])&&(n[i[r]]=[]),"axisY"===i[r])for(var o=0;o<this.axisY.length;o++)n[i[r]].push({viewportMinimum:this[i[r]][o].sessionVariables.newViewportMinimum,viewportMaximum:this[i[r]][o].sessionVariables.newViewportMaximum});else if("axisY2"===i[r])for(o=0;o<this.axisY2.length;o++)n[i[r]].push({viewportMinimum:this[i[r]][o].sessionVariables.newViewportMinimum,viewportMaximum:this[i[r]][o].sessionVariables.newViewportMaximum});else if("axisX"===i[r])for(o=0;o<this.axisX.length;o++)n[i[r]].push({viewportMinimum:this[i[r]][o].sessionVariables.newViewportMinimum,viewportMaximum:this[i[r]][o].sessionVariables.newViewportMaximum});else if("axisX2"===i[r])for(o=0;o<this.axisX2.length;o++)n[i[r]].push({viewportMinimum:this[i[r]][o].sessionVariables.newViewportMinimum,viewportMaximum:this[i[r]][o].sessionVariables.newViewportMaximum});this.dispatchEvent(e,n,this)},t.prototype._mouseEventHandler=function(e){"undefined"===typeof e.target&&e.srcElement&&(e.target=e.srcElement);var n,i,r=se(e),o=e.type;if(e.which?i=3==e.which:e.button&&(i=2==e.button),t.capturedEventParam&&(n=t.capturedEventParam,"mouseup"===o&&(t.capturedEventParam=null,n.chart.overlaidCanvas.releaseCapture?n.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",n.chart._mouseEventHandler,!1)),n.hasOwnProperty(o)&&("mouseup"!==o||n.chart.overlaidCanvas.releaseCapture?e.target!==n.chart.overlaidCanvas&&U||n[o].call(n.context,r.x,r.y):e.target!==n.chart.overlaidCanvas&&(n.chart.isDrag=!1))),this.interactivityEnabled)if(this._ignoreNextEvent)this._ignoreNextEvent=!1;else if(e.preventManipulation&&e.preventManipulation(),e.preventDefault&&e.preventDefault(),V&&window.console&&(window.console.log(o+" --\x3e x: "+r.x+"; y:"+r.y),i&&window.console.log(e.which),"mouseup"===o&&window.console.log("mouseup")),!i){if(!t.capturedEventParam&&this._events){for(var a=0;a<this._events.length;a++)if(this._events[a].hasOwnProperty(o)){if(i=(n=this._events[a]).bounds,r.x>=i.x1&&r.x<=i.x2&&r.y>=i.y1&&r.y<=i.y2){n[o].call(n.context,r.x,r.y),"mousedown"===o&&!0===n.capture?(t.capturedEventParam=n,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.documentElement.addEventListener("mouseup",this._mouseEventHandler,!1)):"mouseup"===o&&(n.chart.overlaidCanvas.releaseCapture?n.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",this._mouseEventHandler,!1));break}n=null}e.target.style.cursor=n&&n.cursor?n.cursor:this._defaultCursor}o=this.plotArea,(r.x<o.x1||r.x>o.x2||r.y<o.y1||r.y>o.y2)&&(this.toolTip&&this.toolTip.enabled?this.toolTip.hide():this.resetOverlayedCanvas()),this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(e)}},t.prototype._plotAreaMouseDown=function(e,t){this.isDrag=!0,this.dragStartPoint={x:e,y:t}},t.prototype._plotAreaMouseUp=function(e,t){if(("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&this.isDrag){var n=t-this.dragStartPoint.y,i=e-this.dragStartPoint.x,r=0<=this.zoomType.indexOf("x"),o=0<=this.zoomType.indexOf("y"),a=!1;if(this.resetOverlayedCanvas(),"xySwapped"===this.plotInfo.axisPlacement){var s=o;o=r,r=s}if(this.panEnabled||this.zoomEnabled){if(this.panEnabled)for(r=o=0;r<this._axes.length;r++)(n=this._axes[r]).logarithmic?n.viewportMinimum<n.minimum?(o=n.minimum/n.viewportMinimum,n.sessionVariables.newViewportMinimum=n.viewportMinimum*o,n.sessionVariables.newViewportMaximum=n.viewportMaximum*o,a=!0):n.viewportMaximum>n.maximum&&(o=n.viewportMaximum/n.maximum,n.sessionVariables.newViewportMinimum=n.viewportMinimum/o,n.sessionVariables.newViewportMaximum=n.viewportMaximum/o,a=!0):n.viewportMinimum<n.minimum?(o=n.minimum-n.viewportMinimum,n.sessionVariables.newViewportMinimum=n.viewportMinimum+o,n.sessionVariables.newViewportMaximum=n.viewportMaximum+o,a=!0):n.viewportMaximum>n.maximum&&(o=n.viewportMaximum-n.maximum,n.sessionVariables.newViewportMinimum=n.viewportMinimum-o,n.sessionVariables.newViewportMaximum=n.viewportMaximum-o,a=!0);else if((!r||2<Math.abs(i))&&(!o||2<Math.abs(n))&&this.zoomEnabled){if(!this.dragStartPoint)return;n=r?this.dragStartPoint.x:this.plotArea.x1,i=o?this.dragStartPoint.y:this.plotArea.y1,r=r?e:this.plotArea.x2,o=o?t:this.plotArea.y2,2<Math.abs(n-r)&&2<Math.abs(i-o)&&this._zoomPanToSelectedRegion(n,i,r,o)&&(a=!0)}a&&(this._ignoreNextEvent=!0,this._dispatchRangeEvent("rangeChanging","zoom"),this.render(),this._dispatchRangeEvent("rangeChanged","zoom"),a&&this.zoomEnabled&&"none"===this._zoomButton.style.display&&(E(this._zoomButton,this._resetButton),C(this,this._zoomButton,"pan"),C(this,this._resetButton,"reset")))}}if(this.isDrag=!1,"none"!==this.plotInfo.axisPlacement){if(this.resetOverlayedCanvas(),this.axisX&&0<this.axisX.length)for(a=0;a<this.axisX.length;a++)this.axisX[a].crosshair&&this.axisX[a].crosshair.enabled&&this.axisX[a].renderCrosshair(e,t);if(this.axisX2&&0<this.axisX2.length)for(a=0;a<this.axisX2.length;a++)this.axisX2[a].crosshair&&this.axisX2[a].crosshair.enabled&&this.axisX2[a].renderCrosshair(e,t);if(this.axisY&&0<this.axisY.length)for(a=0;a<this.axisY.length;a++)this.axisY[a].crosshair&&this.axisY[a].crosshair.enabled&&this.axisY[a].renderCrosshair(e,t);if(this.axisY2&&0<this.axisY2.length)for(a=0;a<this.axisY2.length;a++)this.axisY2[a].crosshair&&this.axisY2[a].crosshair.enabled&&this.axisY2[a].renderCrosshair(e,t)}},t.prototype._plotAreaMouseMove=function(e,t){if(this.isDrag&&"none"!==this.plotInfo.axisPlacement){var n=0,i=0,r=n=null,o=(r=0<=this.zoomType.indexOf("x"),0<=this.zoomType.indexOf("y")),a=this;if("xySwapped"===this.plotInfo.axisPlacement&&(n=o,o=r,r=n),n=this.dragStartPoint.x-e,i=this.dragStartPoint.y-t,2<Math.abs(n)&&8>Math.abs(n)&&(this.panEnabled||this.zoomEnabled)?this.toolTip.hide():this.panEnabled||this.zoomEnabled||this.toolTip.mouseMoveHandler(e,t),(!r||2<Math.abs(n)||!o||2<Math.abs(i))&&(this.panEnabled||this.zoomEnabled))if(this.panEnabled)r={x1:r?this.plotArea.x1+n:this.plotArea.x1,y1:o?this.plotArea.y1+i:this.plotArea.y1,x2:r?this.plotArea.x2+n:this.plotArea.x2,y2:o?this.plotArea.y2+i:this.plotArea.y2},clearTimeout(a._panTimerId),a._panTimerId=setTimeout(function(n,i,r,o){return function(){a._zoomPanToSelectedRegion(n,i,r,o,!0)&&(a._dispatchRangeEvent("rangeChanging","pan"),a.render(),a._dispatchRangeEvent("rangeChanged","pan"),a.dragStartPoint.x=e,a.dragStartPoint.y=t)}}(r.x1,r.y1,r.x2,r.y2),0);else if(this.zoomEnabled){this.resetOverlayedCanvas(),n=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.fillStyle="#A89896";i=r?this.dragStartPoint.x:this.plotArea.x1;var s=o?this.dragStartPoint.y:this.plotArea.y1,l=r?e-this.dragStartPoint.x:this.plotArea.x2-this.plotArea.x1,c=o?t-this.dragStartPoint.y:this.plotArea.y2-this.plotArea.y1;this.validateRegion(i,s,r?e:this.plotArea.x2-this.plotArea.x1,o?t:this.plotArea.y2-this.plotArea.y1,"xy"!==this.zoomType).isValid&&(this.resetOverlayedCanvas(),this.overlaidCanvasCtx.fillStyle="#99B2B5"),this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillRect(i,s,l,c),this.overlaidCanvasCtx.globalAlpha=n}}else if(this.toolTip.mouseMoveHandler(e,t),"none"!==this.plotInfo.axisPlacement){if(this.axisX&&0<this.axisX.length)for(r=0;r<this.axisX.length;r++)this.axisX[r].crosshair&&this.axisX[r].crosshair.enabled&&this.axisX[r].renderCrosshair(e,t);if(this.axisX2&&0<this.axisX2.length)for(r=0;r<this.axisX2.length;r++)this.axisX2[r].crosshair&&this.axisX2[r].crosshair.enabled&&this.axisX2[r].renderCrosshair(e,t);if(this.axisY&&0<this.axisY.length)for(r=0;r<this.axisY.length;r++)this.axisY[r].crosshair&&this.axisY[r].crosshair.enabled&&this.axisY[r].renderCrosshair(e,t);if(this.axisY2&&0<this.axisY2.length)for(r=0;r<this.axisY2.length;r++)this.axisY2[r].crosshair&&this.axisY2[r].crosshair.enabled&&this.axisY2[r].renderCrosshair(e,t)}},t.prototype._zoomPanToSelectedRegion=function(e,t,n,i,r){if(t=(e=this.validateRegion(e,t,n,i,r)).axesWithValidRange,n=e.axesRanges,e.isValid)for(i=0;i<t.length;i++)r=n[i],t[i].setViewPortRange(r.val1,r.val2),this.syncCharts&&this.syncCharts(r.val1,r.val2);return e.isValid},t.prototype.validateRegion=function(e,t,n,i,r){r=r||!1;for(var o=0<=this.zoomType.indexOf("x"),a=0<=this.zoomType.indexOf("y"),s=!1,l=[],c=[],u=[],d=0;d<this._axes.length;d++)("axisX"===this._axes[d].type&&o||"axisY"===this._axes[d].type&&a)&&c.push(this._axes[d]);for(a=0;a<c.length;a++){o=!1;if((f=(d=c[a]).convertPixelToValue({x:e,y:t}))>(p=d.convertPixelToValue({x:n,y:i})))var h=p,p=f,f=h;if(d.scaleBreaks)for(h=0;!o&&h<d.scaleBreaks._appliedBreaks.length;h++)o=d.scaleBreaks._appliedBreaks[h].startValue<=f&&d.scaleBreaks._appliedBreaks[h].endValue>=p;if(isFinite(d.dataInfo.minDiff))if(h=d.getApparentDifference(f,p,null,!0),o||!(this.panEnabled&&d.scaleBreaks&&d.scaleBreaks._appliedBreaks.length)&&(d.logarithmic&&h<Math.pow(d.dataInfo.minDiff,3)||!d.logarithmic&&h<3*Math.abs(d.dataInfo.minDiff))||f<d.minimum||p>d.maximum){if(!r){s=!1;break}}else l.push(d),u.push({val1:f,val2:p}),s=!0}return{isValid:s,axesWithValidRange:l,axesRanges:u}},t.prototype.preparePlotArea=function(){var e=this.plotArea;if(!U&&(0<e.x1||0<e.y1)&&e.ctx.translate(e.x1,e.y1),(this.axisX[0]||this.axisX2[0])&&(this.axisY[0]||this.axisY2[0])){var t=this.axisX[0]?this.axisX[0].lineCoordinates:this.axisX2[0].lineCoordinates;if(this.axisY&&0<this.axisY.length&&this.axisY[0]){var n=this.axisY[0];e.x1=t.x1<t.x2?t.x1:n.lineCoordinates.x1,e.y1=t.y1<n.lineCoordinates.y1?t.y1:n.lineCoordinates.y1,e.x2=t.x2>n.lineCoordinates.x2?t.x2:n.lineCoordinates.x2,e.y2=t.y2>t.y1?t.y2:n.lineCoordinates.y2,e.width=e.x2-e.x1,e.height=e.y2-e.y1}this.axisY2&&0<this.axisY2.length&&this.axisY2[0]&&(n=this.axisY2[0],e.x1=t.x1<t.x2?t.x1:n.lineCoordinates.x1,e.y1=t.y1<n.lineCoordinates.y1?t.y1:n.lineCoordinates.y1,e.x2=t.x2>n.lineCoordinates.x2?t.x2:n.lineCoordinates.x2,e.y2=t.y2>t.y1?t.y2:n.lineCoordinates.y2,e.width=e.x2-e.x1,e.height=e.y2-e.y1)}else t=this.layoutManager.getFreeSpace(),e.x1=t.x1,e.x2=t.x2,e.y1=t.y1,e.y2=t.y2,e.width=t.width,e.height=t.height;U||(e.canvas.width=e.width,e.canvas.height=e.height,e.canvas.style.left=e.x1+"px",e.canvas.style.top=e.y1+"px",(0<e.x1||0<e.y1)&&e.ctx.translate(-e.x1,-e.y1)),e.layoutManager=new P(e.x1,e.y1,e.x2,e.y2,2)},t.prototype.renderIndexLabels=function(e){var t=e||this.plotArea.ctx,n=this.plotArea,i=0,r=0,o=0,a=0,s=i=a=r=o=0,l=0;for(e=0;e<this._indexLabels.length;e++){var c,u,d=this._indexLabels[e],h=d.chartType.toLowerCase();s=b("indexLabelFontColor",d.dataPoint,d.dataSeries),l=b("indexLabelFontSize",d.dataPoint,d.dataSeries);c=b("indexLabelFontFamily",d.dataPoint,d.dataSeries),u=b("indexLabelFontStyle",d.dataPoint,d.dataSeries);a=b("indexLabelFontWeight",d.dataPoint,d.dataSeries);var f=b("indexLabelBackgroundColor",d.dataPoint,d.dataSeries),m=(r=b("indexLabelMaxWidth",d.dataPoint,d.dataSeries),o=b("indexLabelWrap",d.dataPoint,d.dataSeries),b("indexLabelLineDashType",d.dataPoint,d.dataSeries)),g=b("indexLabelLineColor",d.dataPoint,d.dataSeries),y=p(d.dataPoint.indexLabelLineThickness)?p(d.dataSeries.options.indexLabelLineThickness)?0:d.dataSeries.options.indexLabelLineThickness:d.dataPoint.indexLabelLineThickness,x=(i=0<y?Math.min(10,("normal"===this.plotInfo.axisPlacement?this.plotArea.height:this.plotArea.width)<<0):0,{percent:null,total:null}),_=null;(0<=d.dataSeries.type.indexOf("stacked")||"pie"===d.dataSeries.type||"doughnut"===d.dataSeries.type)&&(x=this.getPercentAndTotal(d.dataSeries,d.dataPoint)),(d.dataSeries.indexLabelFormatter||d.dataPoint.indexLabelFormatter)&&(_={chart:this,dataSeries:d.dataSeries,dataPoint:d.dataPoint,index:d.indexKeyword,total:x.total,percent:x.percent});var w=d.dataPoint.indexLabelFormatter?d.dataPoint.indexLabelFormatter(_):d.dataPoint.indexLabel?this.replaceKeywordsWithValue(d.dataPoint.indexLabel,d.dataPoint,d.dataSeries,null,d.indexKeyword):d.dataSeries.indexLabelFormatter?d.dataSeries.indexLabelFormatter(_):d.dataSeries.indexLabel?this.replaceKeywordsWithValue(d.dataSeries.indexLabel,d.dataPoint,d.dataSeries,null,d.indexKeyword):null;if(null!==w&&""!==w){x=b("indexLabelPlacement",d.dataPoint,d.dataSeries),_=b("indexLabelOrientation",d.dataPoint,d.dataSeries);var k=d.direction,S=d.dataSeries.axisX,C=d.dataSeries.axisY,E=!1;if((f=new A(t,{x:0,y:0,maxWidth:r||.5*this.width,maxHeight:o?5*l:1.5*l,angle:"horizontal"===_?0:-90,text:w,padding:0,backgroundColor:f,horizontalAlign:"left",fontSize:l,fontFamily:c,fontWeight:a,fontColor:s,fontStyle:u,textBaseline:"top"})).measureText(),d.dataSeries.indexLabelMaxWidth=f.maxWidth,"stackedarea100"===h){if(d.point.x<n.x1||d.point.x>n.x2||d.point.y<n.y1-1||d.point.y>n.y2+1)continue}else if("rangearea"===h||"rangesplinearea"===h){if(d.dataPoint.x<S.viewportMinimum||d.dataPoint.x>S.viewportMaximum||Math.max.apply(null,d.dataPoint.y)<C.viewportMinimum||Math.min.apply(null,d.dataPoint.y)>C.viewportMaximum)continue}else if(0<=h.indexOf("line")||0<=h.indexOf("area")||0<=h.indexOf("bubble")||0<=h.indexOf("scatter")){if(d.dataPoint.x<S.viewportMinimum||d.dataPoint.x>S.viewportMaximum||d.dataPoint.y<C.viewportMinimum||d.dataPoint.y>C.viewportMaximum)continue}else if(0<=h.indexOf("column")||"waterfall"===h||"error"===h&&!d.axisSwapped){if(d.dataPoint.x<S.viewportMinimum||d.dataPoint.x>S.viewportMaximum||d.bounds.y1>n.y2||d.bounds.y2<n.y1)continue}else if(0<=h.indexOf("bar")||"error"===h){if(d.dataPoint.x<S.viewportMinimum||d.dataPoint.x>S.viewportMaximum||d.bounds.x1>n.x2||d.bounds.x2<n.x1)continue}else if("candlestick"===h||"ohlc"===h){if(d.dataPoint.x<S.viewportMinimum||d.dataPoint.x>S.viewportMaximum||Math.max.apply(null,d.dataPoint.y)<C.viewportMinimum||Math.min.apply(null,d.dataPoint.y)>C.viewportMaximum)continue}else if(d.dataPoint.x<S.viewportMinimum||d.dataPoint.x>S.viewportMaximum)continue;r=a=2,"horizontal"===_?(s=f.width,l=f.height):(l=f.width,s=f.height),"normal"===this.plotInfo.axisPlacement?(0<=h.indexOf("line")||0<=h.indexOf("area")?(x="auto",a=4):0<=h.indexOf("stacked")?"auto"===x&&(x="inside"):"bubble"!==h&&"scatter"!==h||(x="inside"),c=d.point.x-s/2,"inside"!==x?(r=n.y1,o=n.y2,0<k?(u=d.point.y-l-a-i)<r&&(E=(u="auto"===x?Math.max(d.point.y,r)+a+i:r+a+i)+l>d.point.y):(u=d.point.y+a+i)>o-l-a-i&&(E=(u="auto"===x?Math.min(d.point.y,o)-l-a-i:o-l-a-i)<d.point.y)):(r=Math.max(d.bounds.y1,n.y1),o=Math.min(d.bounds.y2,n.y2),i=0<=h.indexOf("range")||"error"===h?0<k?Math.max(d.bounds.y1,n.y1)+l/2+a:Math.min(d.bounds.y2,n.y2)-l/2-a:(Math.max(d.bounds.y1,n.y1)+Math.min(d.bounds.y2,n.y2))/2,0<k?(u=Math.max(d.point.y,i)-l/2)<r&&("bubble"===h||"scatter"===h)&&(u=Math.max(d.point.y-l-a,n.y1+a)):(u=Math.min(d.point.y,i)-l/2)>o-l-a&&("bubble"===h||"scatter"===h)&&(u=Math.min(d.point.y+a,n.y2-l-a)),u=Math.min(u,o-l))):(0<=h.indexOf("line")||0<=h.indexOf("area")||0<=h.indexOf("scatter")?(x="auto",r=4):0<=h.indexOf("stacked")?"auto"===x&&(x="inside"):"bubble"===h&&(x="inside"),u=d.point.y-l/2,"inside"!==x?(a=n.x1,o=n.x2,0>k?(c=d.point.x-s-r-i)<a&&(E=(c="auto"===x?Math.max(d.point.x,a)+r+i:a+r+i)+s>d.point.x):(c=d.point.x+r+i)>o-s-r-i&&(E=(c="auto"===x?Math.min(d.point.x,o)-s-r-i:o-s-r-i)<d.point.x)):(a=Math.max(d.bounds.x1,n.x1),Math.min(d.bounds.x2,n.x2),i=0<=h.indexOf("range")||"error"===h?0>k?Math.max(d.bounds.x1,n.x1)+s/2+r:Math.min(d.bounds.x2,n.x2)-s/2-r:(Math.max(d.bounds.x1,n.x1)+Math.min(d.bounds.x2,n.x2))/2,c=0>k?Math.max(d.point.x,i)-s/2:Math.min(d.point.x,i)-s/2,c=Math.max(c,a))),"vertical"===_&&(u+=l),f.x=c,f.y=u,f.render(!0),y&&"inside"!==x&&(0>h.indexOf("bar")&&("error"!==h||!d.axisSwapped)&&d.point.x>n.x1&&d.point.x<n.x2||!E)&&(0>h.indexOf("column")&&("error"!==h||d.axisSwapped)&&d.point.y>n.y1&&d.point.y<n.y2||!E)&&(t.lineWidth=y,t.strokeStyle=g||"gray",t.setLineDash&&t.setLineDash(v(m,y)),t.beginPath(),t.moveTo(d.point.x,d.point.y),0<=h.indexOf("bar")||"error"===h&&d.axisSwapped?t.lineTo(c+(0<d.direction?0:s),u+("horizontal"===_?l:-l)/2):0<=h.indexOf("column")||"error"===h&&!d.axisSwapped?t.lineTo(c+s/2,u+((0<d.direction?l:-l)+("horizontal"===_?l:-l))/2):t.lineTo(c+s/2,u+((u<d.point.y?l:-l)+("horizontal"===_?l:-l))/2),t.stroke())}}for(t={source:t,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0,startTimePercent:.7},e=0;e<this._indexLabels.length;e++)f=b("indexLabelBackgroundColor",(d=this._indexLabels[e]).dataPoint,d.dataSeries),d.dataSeries.indexLabelBackgroundColor=p(f)?U?"transparent":null:f;return t},t.prototype.renderLine=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var i=this._eventManager.ghostCtx;n.save();var r=this.plotArea;n.beginPath(),n.rect(r.x1,r.y1,r.width,r.height),n.clip();for(var o,a=[],s=0;s<e.dataSeriesIndexes.length;s++){var l=e.dataSeriesIndexes[s],c=this.data[l];n.lineWidth=c.lineThickness;var u=c.dataPoints,h="solid";if(n.setLineDash){var p=v(c.nullDataLineDashType,c.lineThickness),f=v(h=c.lineDashType,c.lineThickness);n.setLineDash(f)}var m=c.id;this._eventManager.objectMap[m]={objectType:"dataSeries",dataSeriesIndex:l},m=d(m),i.strokeStyle=m,i.lineWidth=0<c.lineThickness?Math.max(c.lineThickness,4):0;m=c._colorSet;var g=m=c.lineColor=c.options.lineColor?c.options.lineColor:m[0];n.strokeStyle=m;var y,x,b=!0,_=0;if(n.beginPath(),0<u.length){var w=!1;for(_=0;_<u.length;_++)if(!((y=u[_].x.getTime?u[_].x.getTime():u[_].x)<e.axisX.dataInfo.viewPortMin||y>e.axisX.dataInfo.viewPortMax&&(!c.connectNullData||!w)))if("number"!==typeof u[_].y)0<_&&!(c.connectNullData||w||b)&&(n.stroke(),U&&i.stroke()),w=!0;else{y=e.axisX.convertValueToPixel(y),x=e.axisY.convertValueToPixel(u[_].y);var k=c.dataPointIds[_];if(this._eventManager.objectMap[k]={id:k,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:_,x1:y,y1:x},b||w?(!b&&c.connectNullData?(n.setLineDash&&(c.options.nullDataLineDashType||h===c.lineDashType&&c.lineDashType!==c.nullDataLineDashType)&&(n.stroke(),n.beginPath(),n.moveTo(o.x,o.y),h=c.nullDataLineDashType,n.setLineDash(p)),n.lineTo(y,x),U&&i.lineTo(y,x)):(n.beginPath(),n.moveTo(y,x),U&&(i.beginPath(),i.moveTo(y,x))),w=b=!1):(n.lineTo(y,x),U&&i.lineTo(y,x),0==_%500&&(n.stroke(),n.beginPath(),n.moveTo(y,x),U&&(i.stroke(),i.beginPath(),i.moveTo(y,x)))),o={x:y,y:x},_<u.length-1&&(g!==(u[_].lineColor||m)||h!==(u[_].lineDashType||c.lineDashType))&&(n.stroke(),n.beginPath(),n.moveTo(y,x),g=u[_].lineColor||m,n.strokeStyle=g,n.setLineDash&&(u[_].lineDashType?(h=u[_].lineDashType,n.setLineDash(v(h,c.lineThickness))):(h=c.lineDashType,n.setLineDash(f)))),0<u[_].markerSize||0<c.markerSize){var S=c.getMarkerProperties(_,y,x,n);a.push(S),k=d(k),U&&a.push({x:y,y:x,ctx:i,type:S.type,size:S.size,color:k,borderColor:k,borderThickness:S.borderThickness})}(u[_].indexLabel||c.indexLabel||u[_].indexLabelFormatter||c.indexLabelFormatter)&&this._indexLabels.push({chartType:"line",dataPoint:u[_],dataSeries:c,point:{x:y,y:x},direction:0>u[_].y===e.axisY.reversed?1:-1,color:m})}n.stroke(),U&&i.stroke()}}return te.drawMarkers(a),U&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(r.x1,r.y1,r.width,r.height),i.beginPath()),n.restore(),n.beginPath(),{source:t,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},t.prototype.renderStepLine=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var i=this._eventManager.ghostCtx;n.save();var r=this.plotArea;n.beginPath(),n.rect(r.x1,r.y1,r.width,r.height),n.clip();for(var o,a=[],s=0;s<e.dataSeriesIndexes.length;s++){var l=e.dataSeriesIndexes[s],c=this.data[l];n.lineWidth=c.lineThickness;var u=c.dataPoints,h="solid";if(n.setLineDash){var p=v(c.nullDataLineDashType,c.lineThickness),f=v(h=c.lineDashType,c.lineThickness);n.setLineDash(f)}var m=c.id;this._eventManager.objectMap[m]={objectType:"dataSeries",dataSeriesIndex:l},m=d(m),i.strokeStyle=m,i.lineWidth=0<c.lineThickness?Math.max(c.lineThickness,4):0;m=c._colorSet;var g=m=c.lineColor=c.options.lineColor?c.options.lineColor:m[0];n.strokeStyle=m;var y,x,b=!0,_=0;if(n.beginPath(),0<u.length){var w=!1;for(_=0;_<u.length;_++)if(!((y=u[_].getTime?u[_].x.getTime():u[_].x)<e.axisX.dataInfo.viewPortMin||y>e.axisX.dataInfo.viewPortMax&&(!c.connectNullData||!w)))if("number"!==typeof u[_].y)0<_&&!(c.connectNullData||w||b)&&(n.stroke(),U&&i.stroke()),w=!0;else{var k=x;y=e.axisX.convertValueToPixel(y),x=e.axisY.convertValueToPixel(u[_].y);var S=c.dataPointIds[_];this._eventManager.objectMap[S]={id:S,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:_,x1:y,y1:x},b||w?(!b&&c.connectNullData?(n.setLineDash&&(c.options.nullDataLineDashType||h===c.lineDashType&&c.lineDashType!==c.nullDataLineDashType)&&(n.stroke(),n.beginPath(),n.moveTo(o.x,o.y),h=c.nullDataLineDashType,n.setLineDash(p)),n.lineTo(y,k),n.lineTo(y,x),U&&(i.lineTo(y,k),i.lineTo(y,x))):(n.beginPath(),n.moveTo(y,x),U&&(i.beginPath(),i.moveTo(y,x))),w=b=!1):(n.lineTo(y,k),U&&i.lineTo(y,k),n.lineTo(y,x),U&&i.lineTo(y,x),0==_%500&&(n.stroke(),n.beginPath(),n.moveTo(y,x),U&&(i.stroke(),i.beginPath(),i.moveTo(y,x)))),o={x:y,y:x},_<u.length-1&&(g!==(u[_].lineColor||m)||h!==(u[_].lineDashType||c.lineDashType))&&(n.stroke(),n.beginPath(),n.moveTo(y,x),g=u[_].lineColor||m,n.strokeStyle=g,n.setLineDash&&(u[_].lineDashType?(h=u[_].lineDashType,n.setLineDash(v(h,c.lineThickness))):(h=c.lineDashType,n.setLineDash(f)))),(0<u[_].markerSize||0<c.markerSize)&&(k=c.getMarkerProperties(_,y,x,n),a.push(k),S=d(S),U&&a.push({x:y,y:x,ctx:i,type:k.type,size:k.size,color:S,borderColor:S,borderThickness:k.borderThickness})),(u[_].indexLabel||c.indexLabel||u[_].indexLabelFormatter||c.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepLine",dataPoint:u[_],dataSeries:c,point:{x:y,y:x},direction:0>u[_].y===e.axisY.reversed?1:-1,color:m})}n.stroke(),U&&i.stroke()}}return te.drawMarkers(a),U&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(r.x1,r.y1,r.width,r.height),i.beginPath()),n.restore(),n.beginPath(),{source:t,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},t.prototype.renderSpline=function(e){function t(e){if(0<(e=i(e,2)).length){r.beginPath(),U&&o.beginPath(),r.moveTo(e[0].x,e[0].y),e[0].newStrokeStyle&&(r.strokeStyle=e[0].newStrokeStyle),e[0].newLineDashArray&&r.setLineDash(e[0].newLineDashArray),U&&o.moveTo(e[0].x,e[0].y);for(var t=0;t<e.length-3;t+=3)r.bezierCurveTo(e[t+1].x,e[t+1].y,e[t+2].x,e[t+2].y,e[t+3].x,e[t+3].y),U&&o.bezierCurveTo(e[t+1].x,e[t+1].y,e[t+2].x,e[t+2].y,e[t+3].x,e[t+3].y),(0<t&&0===t%3e3||e[t+3].newStrokeStyle||e[t+3].newLineDashArray)&&(r.stroke(),r.beginPath(),r.moveTo(e[t+3].x,e[t+3].y),e[t+3].newStrokeStyle&&(r.strokeStyle=e[t+3].newStrokeStyle),e[t+3].newLineDashArray&&r.setLineDash(e[t+3].newLineDashArray),U&&(o.stroke(),o.beginPath(),o.moveTo(e[t+3].x,e[t+3].y)));r.stroke(),U&&o.stroke()}}var n=e.targetCanvasCtx||this.plotArea.ctx,r=U?this._preRenderCtx:n;if(!(0>=e.dataSeriesIndexes.length)){var o=this._eventManager.ghostCtx;r.save();var a=this.plotArea;r.beginPath(),r.rect(a.x1,a.y1,a.width,a.height),r.clip();for(var s=[],l=0;l<e.dataSeriesIndexes.length;l++){var c=e.dataSeriesIndexes[l],u=this.data[c];r.lineWidth=u.lineThickness;var h=u.dataPoints,p="solid";if(r.setLineDash){var f=v(u.nullDataLineDashType,u.lineThickness),m=v(p=u.lineDashType,u.lineThickness);r.setLineDash(m)}var g=u.id;this._eventManager.objectMap[g]={objectType:"dataSeries",dataSeriesIndex:c},g=d(g),o.strokeStyle=g,o.lineWidth=0<u.lineThickness?Math.max(u.lineThickness,4):0;g=u._colorSet;var y=g=u.lineColor=u.options.lineColor?u.options.lineColor:g[0];r.strokeStyle=g;var x,b,_=0,w=[];if(r.beginPath(),0<h.length)for(b=!1,_=0;_<h.length;_++)if(!((x=h[_].getTime?h[_].x.getTime():h[_].x)<e.axisX.dataInfo.viewPortMin||x>e.axisX.dataInfo.viewPortMax&&(!u.connectNullData||!b)))if("number"!==typeof h[_].y)0<_&&!b&&(u.connectNullData?r.setLineDash&&0<w.length&&(u.options.nullDataLineDashType||!h[_-1].lineDashType)&&(w[w.length-1].newLineDashArray=f,p=u.nullDataLineDashType):(t(w),w=[])),b=!0;else{x=e.axisX.convertValueToPixel(x),b=e.axisY.convertValueToPixel(h[_].y);var k=u.dataPointIds[_];if(this._eventManager.objectMap[k]={id:k,objectType:"dataPoint",dataSeriesIndex:c,dataPointIndex:_,x1:x,y1:b},w[w.length]={x:x,y:b},_<h.length-1&&(y!==(h[_].lineColor||g)||p!==(h[_].lineDashType||u.lineDashType))&&(y=h[_].lineColor||g,w[w.length-1].newStrokeStyle=y,r.setLineDash&&(h[_].lineDashType?(p=h[_].lineDashType,w[w.length-1].newLineDashArray=v(p,u.lineThickness)):(p=u.lineDashType,w[w.length-1].newLineDashArray=m))),0<h[_].markerSize||0<u.markerSize){var S=u.getMarkerProperties(_,x,b,r);s.push(S),k=d(k),U&&s.push({x:x,y:b,ctx:o,type:S.type,size:S.size,color:k,borderColor:k,borderThickness:S.borderThickness})}(h[_].indexLabel||u.indexLabel||h[_].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"spline",dataPoint:h[_],dataSeries:u,point:{x:x,y:b},direction:0>h[_].y===e.axisY.reversed?1:-1,color:g}),b=!1}t(w)}return te.drawMarkers(s),U&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&r.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&r.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(a.x1,a.y1,a.width,a.height),o.beginPath()),r.restore(),r.beginPath(),{source:n,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},t.prototype.renderColumn=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var i,r,o,a=null,s=this.plotArea,l=0,c=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0),u=(l=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/e.plotType.totalDataSeries*.9)<<0),h=e.axisX.dataInfo.minDiff;for(isFinite(h)||(h=.3*Math.abs(e.axisX.range)),h=this.dataPointWidth=this.options.dataPointWidth?this.dataPointWidth:s.width*(e.axisX.logarithmic?Math.log(h)/Math.log(e.axisX.range):Math.abs(h)/Math.abs(e.axisX.range))/e.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&l>u&&(l=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,u)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&u<l&&(u=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,l)),h<l&&(h=l),h>u&&(h=u),n.save(),U&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(s.x1,s.y1,s.width,s.height),n.clip(),U&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip()),u=0;u<e.dataSeriesIndexes.length;u++){var p=e.dataSeriesIndexes[u],f=this.data[p],m=f.dataPoints;if(0<m.length){var g=!!(5<h&&f.bevelEnabled);for(l=0;l<m.length;l++)if(!((o=m[l].getTime?m[l].x.getTime():m[l].x)<e.axisX.dataInfo.viewPortMin||o>e.axisX.dataInfo.viewPortMax)&&"number"===typeof m[l].y){i=e.axisX.convertValueToPixel(o),r=e.axisY.convertValueToPixel(m[l].y),i=e.axisX.reversed?i+e.plotType.totalDataSeries*h/2-(e.previousDataSeriesCount+u)*h<<0:i-e.plotType.totalDataSeries*h/2+(e.previousDataSeriesCount+u)*h<<0;var v,y=e.axisX.reversed?i-h<<0:i+h<<0;0<=m[l].y?v=c:(v=r,r=c),r>v&&(a=r,r=v,v=a),a=m[l].color?m[l].color:f._colorSet[l%f._colorSet.length],he(n,i,r,y,v,a,0,null,g&&0<=m[l].y,0>m[l].y&&g,!1,!1,f.fillOpacity),a=f.dataPointIds[l],this._eventManager.objectMap[a]={id:a,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:l,x1:i,y1:r,x2:y,y2:v},a=d(a),U&&he(this._eventManager.ghostCtx,i,r,y,v,a,0,null,!1,!1,!1,!1),(m[l].indexLabel||f.indexLabel||m[l].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"column",dataPoint:m[l],dataSeries:f,point:{x:i+(y-i)/2,y:0>m[l].y===e.axisY.reversed?r:v},direction:0>m[l].y===e.axisY.reversed?1:-1,bounds:{x1:i,y1:Math.min(r,v),x2:y,y2:Math.max(r,v)},color:a})}}}return U&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:J.yScaleAnimation,easingFunction:J.easing.easeOutQuart,animationBase:c<e.axisY.bounds.y1?e.axisY.bounds.y1:c>e.axisY.bounds.y2?e.axisY.bounds.y2:c}}},t.prototype.renderStackedColumn=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var i,r,o=null,a=this.plotArea,s=[],l=[],c=[],u=[],h=0,p=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0);h=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;i=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0;var f=e.axisX.dataInfo.minDiff;isFinite(f)||(f=.3*Math.abs(e.axisX.range)),f=this.options.dataPointWidth?this.dataPointWidth:a.width*(e.axisX.logarithmic?Math.log(f)/Math.log(e.axisX.range):Math.abs(f)/Math.abs(e.axisX.range))/e.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&h>i&&(h=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,i)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&i<h&&(i=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,h)),f<h&&(f=h),f>i&&(f=i),n.save(),U&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip(),U&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var m=0;m<e.dataSeriesIndexes.length;m++){var g=e.dataSeriesIndexes[m],v=this.data[g],y=v.dataPoints;if(0<y.length){var x=!!(5<f&&v.bevelEnabled);for(n.strokeStyle="#4572A7 ",h=0;h<y.length;h++)if(!((o=y[h].x.getTime?y[h].x.getTime():y[h].x)<e.axisX.dataInfo.viewPortMin||o>e.axisX.dataInfo.viewPortMax)&&"number"===typeof y[h].y){var b,_=(i=e.axisX.convertValueToPixel(o))-e.plotType.plotUnits.length*f/2+e.index*f<<0,w=_+f<<0;if(e.axisY.logarithmic||e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length&&0<y[h].y)c[o]=y[h].y+(c[o]?c[o]:0),0<c[o]&&(r=e.axisY.convertValueToPixel(c[o]),b="undefined"!==typeof s[o]?s[o]:p,s[o]=r);else if(e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length&&0>=y[h].y)u[o]=y[h].y+(u[o]?u[o]:0),b=e.axisY.convertValueToPixel(u[o]),r="undefined"!==typeof l[o]?l[o]:p,l[o]=b;else if(r=e.axisY.convertValueToPixel(y[h].y),0<=y[h].y){var k="undefined"!==typeof s[o]?s[o]:0;r-=k,b=p-k,s[o]=k+(b-r)}else b=r+(k=l[o]?l[o]:0),r=p+k,l[o]=k+(b-r);o=y[h].color?y[h].color:v._colorSet[h%v._colorSet.length],he(n,_,r,w,b,o,0,null,x&&0<=y[h].y,0>y[h].y&&x,!1,!1,v.fillOpacity),o=v.dataPointIds[h],this._eventManager.objectMap[o]={id:o,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:h,x1:_,y1:r,x2:w,y2:b},o=d(o),U&&he(this._eventManager.ghostCtx,_,r,w,b,o,0,null,!1,!1,!1,!1),(y[h].indexLabel||v.indexLabel||y[h].indexLabelFormatter||v.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:y[h],dataSeries:v,point:{x:i,y:0<=y[h].y?r:b},direction:0>y[h].y===e.axisY.reversed?1:-1,bounds:{x1:_,y1:Math.min(r,b),x2:w,y2:Math.max(r,b)},color:o})}}}return U&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:J.yScaleAnimation,easingFunction:J.easing.easeOutQuart,animationBase:p<e.axisY.bounds.y1?e.axisY.bounds.y1:p>e.axisY.bounds.y2?e.axisY.bounds.y2:p}}},t.prototype.renderStackedColumn100=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var i,r,o=null,a=this.plotArea,s=[],l=[],c=[],u=[],h=0,p=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0);h=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;i=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0;var f=e.axisX.dataInfo.minDiff;isFinite(f)||(f=.3*Math.abs(e.axisX.range)),f=this.options.dataPointWidth?this.dataPointWidth:a.width*(e.axisX.logarithmic?Math.log(f)/Math.log(e.axisX.range):Math.abs(f)/Math.abs(e.axisX.range))/e.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&h>i&&(h=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,i)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&i<h&&(i=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,h)),f<h&&(f=h),f>i&&(f=i),n.save(),U&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip(),U&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var m=0;m<e.dataSeriesIndexes.length;m++){var g=e.dataSeriesIndexes[m],v=this.data[g],y=v.dataPoints;if(0<y.length){var x=!!(5<f&&v.bevelEnabled);for(h=0;h<y.length;h++)if(!((o=y[h].x.getTime?y[h].x.getTime():y[h].x)<e.axisX.dataInfo.viewPortMin||o>e.axisX.dataInfo.viewPortMax)&&"number"===typeof y[h].y){i=e.axisX.convertValueToPixel(o),r=0!==e.dataPointYSums[o]?y[h].y/e.dataPointYSums[o]*100:0;var b,_=i-e.plotType.plotUnits.length*f/2+e.index*f<<0,w=_+f<<0;if(e.axisY.logarithmic||e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length&&0<y[h].y){if(c[o]=r+("undefined"!==typeof c[o]?c[o]:0),0>=c[o])continue;r=e.axisY.convertValueToPixel(c[o]),b=s[o]?s[o]:p,s[o]=r}else if(e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length&&0>=y[h].y)u[o]=r+("undefined"!==typeof u[o]?u[o]:0),b=e.axisY.convertValueToPixel(u[o]),r=l[o]?l[o]:p,l[o]=b;else if(r=e.axisY.convertValueToPixel(r),0<=y[h].y){var k="undefined"!==typeof s[o]?s[o]:0;r-=k,b=p-k,e.dataSeriesIndexes.length-1===m&&1>=Math.abs(a.y1-r)&&(r=a.y1),s[o]=k+(b-r)}else b=r+(k="undefined"!==typeof l[o]?l[o]:0),r=p+k,e.dataSeriesIndexes.length-1===m&&1>=Math.abs(a.y2-b)&&(b=a.y2),l[o]=k+(b-r);o=y[h].color?y[h].color:v._colorSet[h%v._colorSet.length],he(n,_,r,w,b,o,0,null,x&&0<=y[h].y,0>y[h].y&&x,!1,!1,v.fillOpacity),o=v.dataPointIds[h],this._eventManager.objectMap[o]={id:o,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:h,x1:_,y1:r,x2:w,y2:b},o=d(o),U&&he(this._eventManager.ghostCtx,_,r,w,b,o,0,null,!1,!1,!1,!1),(y[h].indexLabel||v.indexLabel||y[h].indexLabelFormatter||v.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:y[h],dataSeries:v,point:{x:i,y:0<=y[h].y?r:b},direction:0>y[h].y===e.axisY.reversed?1:-1,bounds:{x1:_,y1:Math.min(r,b),x2:w,y2:Math.max(r,b)},color:o})}}}return U&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:J.yScaleAnimation,easingFunction:J.easing.easeOutQuart,animationBase:p<e.axisY.bounds.y1?e.axisY.bounds.y1:p>e.axisY.bounds.y2?e.axisY.bounds.y2:p}}},t.prototype.renderBar=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var i,r,o,a=null,s=this.plotArea,l=0,c=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0),u=(l=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/e.plotType.totalDataSeries*.9)<<0),h=e.axisX.dataInfo.minDiff;for(isFinite(h)||(h=.3*Math.abs(e.axisX.range)),h=this.options.dataPointWidth?this.dataPointWidth:s.height*(e.axisX.logarithmic?Math.log(h)/Math.log(e.axisX.range):Math.abs(h)/Math.abs(e.axisX.range))/e.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&l>u&&(l=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,u)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&u<l&&(u=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,l)),h<l&&(h=l),h>u&&(h=u),n.save(),U&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(s.x1,s.y1,s.width,s.height),n.clip(),U&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip()),u=0;u<e.dataSeriesIndexes.length;u++){var p=e.dataSeriesIndexes[u],f=this.data[p],m=f.dataPoints;if(0<m.length){var g=!!(5<h&&f.bevelEnabled);for(n.strokeStyle="#4572A7 ",l=0;l<m.length;l++)if(!((o=m[l].getTime?m[l].x.getTime():m[l].x)<e.axisX.dataInfo.viewPortMin||o>e.axisX.dataInfo.viewPortMax)&&"number"===typeof m[l].y){r=e.axisX.convertValueToPixel(o),i=e.axisY.convertValueToPixel(m[l].y),r=e.axisX.reversed?r+e.plotType.totalDataSeries*h/2-(e.previousDataSeriesCount+u)*h<<0:r-e.plotType.totalDataSeries*h/2+(e.previousDataSeriesCount+u)*h<<0;var v,y=e.axisX.reversed?r-h<<0:r+h<<0;0<=m[l].y?v=c:(v=i,i=c),a=m[l].color?m[l].color:f._colorSet[l%f._colorSet.length],he(n,v,r,i,y,a,0,null,g,!1,!1,!1,f.fillOpacity),a=f.dataPointIds[l],this._eventManager.objectMap[a]={id:a,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:l,x1:v,y1:r,x2:i,y2:y},a=d(a),U&&he(this._eventManager.ghostCtx,v,r,i,y,a,0,null,!1,!1,!1,!1),(m[l].indexLabel||f.indexLabel||m[l].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"bar",dataPoint:m[l],dataSeries:f,point:{x:0<=m[l].y?i:v,y:r+(y-r)/2},direction:0>m[l].y===e.axisY.reversed?1:-1,bounds:{x1:Math.min(v,i),y1:r,x2:Math.max(v,i),y2:y},color:a})}}}return U&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:J.xScaleAnimation,easingFunction:J.easing.easeOutQuart,animationBase:c<e.axisY.bounds.x1?e.axisY.bounds.x1:c>e.axisY.bounds.x2?e.axisY.bounds.x2:c}}},t.prototype.renderStackedBar=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var i,r,o=null,a=this.plotArea,s=[],l=[],c=[],u=[],h=0,p=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0);h=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;r=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0;var f=e.axisX.dataInfo.minDiff;isFinite(f)||(f=.3*Math.abs(e.axisX.range)),f=this.options.dataPointWidth?this.dataPointWidth:a.height*(e.axisX.logarithmic?Math.log(f)/Math.log(e.axisX.range):Math.abs(f)/Math.abs(e.axisX.range))/e.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&h>r&&(h=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,r)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&r<h&&(r=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,h)),f<h&&(f=h),f>r&&(f=r),n.save(),U&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip(),U&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var m=0;m<e.dataSeriesIndexes.length;m++){var g=e.dataSeriesIndexes[m],v=this.data[g],y=v.dataPoints;if(0<y.length){var x=!!(5<f&&v.bevelEnabled);for(n.strokeStyle="#4572A7 ",h=0;h<y.length;h++)if(!((o=y[h].x.getTime?y[h].x.getTime():y[h].x)<e.axisX.dataInfo.viewPortMin||o>e.axisX.dataInfo.viewPortMax)&&"number"===typeof y[h].y){var b,_=(r=e.axisX.convertValueToPixel(o))-e.plotType.plotUnits.length*f/2+e.index*f<<0,w=_+f<<0;if(e.axisY.logarithmic||e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length&&0<y[h].y)c[o]=y[h].y+(c[o]?c[o]:0),0<c[o]&&(b=s[o]?s[o]:p,s[o]=i=e.axisY.convertValueToPixel(c[o]));else if(e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length&&0>=y[h].y)u[o]=y[h].y+(u[o]?u[o]:0),i=l[o]?l[o]:p,l[o]=b=e.axisY.convertValueToPixel(u[o]);else if(i=e.axisY.convertValueToPixel(y[h].y),0<=y[h].y){var k=s[o]?s[o]:0;b=p+k,i+=k,s[o]=k+(i-b)}else b=i-(k=l[o]?l[o]:0),i=p-k,l[o]=k+(i-b);o=y[h].color?y[h].color:v._colorSet[h%v._colorSet.length],he(n,b,_,i,w,o,0,null,x,!1,!1,!1,v.fillOpacity),o=v.dataPointIds[h],this._eventManager.objectMap[o]={id:o,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:h,x1:b,y1:_,x2:i,y2:w},o=d(o),U&&he(this._eventManager.ghostCtx,b,_,i,w,o,0,null,!1,!1,!1,!1),(y[h].indexLabel||v.indexLabel||y[h].indexLabelFormatter||v.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar",dataPoint:y[h],dataSeries:v,point:{x:0<=y[h].y?i:b,y:r},direction:0>y[h].y===e.axisY.reversed?1:-1,bounds:{x1:Math.min(b,i),y1:_,x2:Math.max(b,i),y2:w},color:o})}}}return U&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:J.xScaleAnimation,easingFunction:J.easing.easeOutQuart,animationBase:p<e.axisY.bounds.x1?e.axisY.bounds.x1:p>e.axisY.bounds.x2?e.axisY.bounds.x2:p}}},t.prototype.renderStackedBar100=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var i,r,o=null,a=this.plotArea,s=[],l=[],c=[],u=[],h=0,p=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0);h=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;r=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0;var f=e.axisX.dataInfo.minDiff;isFinite(f)||(f=.3*Math.abs(e.axisX.range)),f=this.options.dataPointWidth?this.dataPointWidth:a.height*(e.axisX.logarithmic?Math.log(f)/Math.log(e.axisX.range):Math.abs(f)/Math.abs(e.axisX.range))/e.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&h>r&&(h=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,r)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&r<h&&(r=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,h)),f<h&&(f=h),f>r&&(f=r),n.save(),U&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip(),U&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var m=0;m<e.dataSeriesIndexes.length;m++){var g=e.dataSeriesIndexes[m],v=this.data[g],y=v.dataPoints;if(0<y.length){var x=!!(5<f&&v.bevelEnabled);for(n.strokeStyle="#4572A7 ",h=0;h<y.length;h++)if(!((o=y[h].x.getTime?y[h].x.getTime():y[h].x)<e.axisX.dataInfo.viewPortMin||o>e.axisX.dataInfo.viewPortMax)&&"number"===typeof y[h].y){var b;r=e.axisX.convertValueToPixel(o),b=0!==e.dataPointYSums[o]?y[h].y/e.dataPointYSums[o]*100:0;var _=r-e.plotType.plotUnits.length*f/2+e.index*f<<0,w=_+f<<0;if(e.axisY.logarithmic||e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length&&0<y[h].y){if(c[o]=b+(c[o]?c[o]:0),0>=c[o])continue;b=s[o]?s[o]:p,s[o]=i=e.axisY.convertValueToPixel(c[o])}else if(e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length&&0>=y[h].y)u[o]=b+(u[o]?u[o]:0),i=l[o]?l[o]:p,l[o]=b=e.axisY.convertValueToPixel(u[o]);else if(i=e.axisY.convertValueToPixel(b),0<=y[h].y){var k=s[o]?s[o]:0;b=p+k,i+=k,e.dataSeriesIndexes.length-1===m&&1>=Math.abs(a.x2-i)&&(i=a.x2),s[o]=k+(i-b)}else b=i-(k=l[o]?l[o]:0),i=p-k,e.dataSeriesIndexes.length-1===m&&1>=Math.abs(a.x1-b)&&(b=a.x1),l[o]=k+(i-b);o=y[h].color?y[h].color:v._colorSet[h%v._colorSet.length],he(n,b,_,i,w,o,0,null,x,!1,!1,!1,v.fillOpacity),o=v.dataPointIds[h],this._eventManager.objectMap[o]={id:o,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:h,x1:b,y1:_,x2:i,y2:w},o=d(o),U&&he(this._eventManager.ghostCtx,b,_,i,w,o,0,null,!1,!1,!1,!1),(y[h].indexLabel||v.indexLabel||y[h].indexLabelFormatter||v.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar100",dataPoint:y[h],dataSeries:v,point:{x:0<=y[h].y?i:b,y:r},direction:0>y[h].y===e.axisY.reversed?1:-1,bounds:{x1:Math.min(b,i),y1:_,x2:Math.max(b,i),y2:w},color:o})}}}return U&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:J.xScaleAnimation,easingFunction:J.easing.easeOutQuart,animationBase:p<e.axisY.bounds.x1?e.axisY.bounds.x1:p>e.axisY.bounds.x2?e.axisY.bounds.x2:p}}},t.prototype.renderArea=function(e){var t,n;function i(){S&&(0<m.lineThickness&&o.stroke(),e.axisY.logarithmic||0>=e.axisY.viewportMinimum&&0<=e.axisY.viewportMaximum?_=k:0>e.axisY.viewportMaximum?_=c.y1:0<e.axisY.viewportMinimum&&(_=l.y2),o.lineTo(y,_),o.lineTo(S.x,_),o.closePath(),o.globalAlpha=m.fillOpacity,o.fill(),o.globalAlpha=1,U&&(s.lineTo(y,_),s.lineTo(S.x,_),s.closePath(),s.fill()),o.beginPath(),o.moveTo(y,x),s.beginPath(),s.moveTo(y,x),S={x:y,y:x})}var r=e.targetCanvasCtx||this.plotArea.ctx,o=U?this._preRenderCtx:r;if(!(0>=e.dataSeriesIndexes.length)){var a,s=this._eventManager.ghostCtx,l=e.axisX.lineCoordinates,c=e.axisY.lineCoordinates,u=[],h=this.plotArea;o.save(),U&&s.save(),o.beginPath(),o.rect(h.x1,h.y1,h.width,h.height),o.clip(),U&&(s.beginPath(),s.rect(h.x1,h.y1,h.width,h.height),s.clip());for(var p=0;p<e.dataSeriesIndexes.length;p++){var f=e.dataSeriesIndexes[p],m=this.data[f],g=m.dataPoints;u=m.id;this._eventManager.objectMap[u]={objectType:"dataSeries",dataSeriesIndex:f},u=d(u),s.fillStyle=u,u=[],t=!0;var y,x,b,_,w=0,k=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0),S=null;if(0<g.length){var C=m._colorSet[w%m._colorSet.length],E=m.lineColor=m.options.lineColor||C,T=E;if(o.fillStyle=C,o.strokeStyle=E,o.lineWidth=m.lineThickness,n="solid",o.setLineDash){var M=v(m.nullDataLineDashType,m.lineThickness),P=v(n=m.lineDashType,m.lineThickness);o.setLineDash(P)}for(var A=!0;w<g.length;w++)if(!((b=g[w].x.getTime?g[w].x.getTime():g[w].x)<e.axisX.dataInfo.viewPortMin||b>e.axisX.dataInfo.viewPortMax&&(!m.connectNullData||!A)))if("number"!==typeof g[w].y)m.connectNullData||A||t||i(),A=!0;else{y=e.axisX.convertValueToPixel(b),x=e.axisY.convertValueToPixel(g[w].y),t||A?(!t&&m.connectNullData?(o.setLineDash&&(m.options.nullDataLineDashType||n===m.lineDashType&&m.lineDashType!==m.nullDataLineDashType)&&(t=y,n=x,y=a.x,x=a.y,i(),o.moveTo(a.x,a.y),y=t,x=n,S=a,n=m.nullDataLineDashType,o.setLineDash(M)),o.lineTo(y,x),U&&s.lineTo(y,x)):(o.beginPath(),o.moveTo(y,x),U&&(s.beginPath(),s.moveTo(y,x)),S={x:y,y:x}),A=t=!1):(o.lineTo(y,x),U&&s.lineTo(y,x),0==w%250&&i()),a={x:y,y:x},w<g.length-1&&(T!==(g[w].lineColor||E)||n!==(g[w].lineDashType||m.lineDashType))&&(i(),T=g[w].lineColor||E,o.strokeStyle=T,o.setLineDash&&(g[w].lineDashType?(n=g[w].lineDashType,o.setLineDash(v(n,m.lineThickness))):(n=m.lineDashType,o.setLineDash(P))));var I=m.dataPointIds[w];this._eventManager.objectMap[I]={id:I,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:w,x1:y,y1:x},0!==g[w].markerSize&&(0<g[w].markerSize||0<m.markerSize)&&(b=m.getMarkerProperties(w,y,x,o),u.push(b),I=d(I),U&&u.push({x:y,y:x,ctx:s,type:b.type,size:b.size,color:I,borderColor:I,borderThickness:b.borderThickness})),(g[w].indexLabel||m.indexLabel||g[w].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"area",dataPoint:g[w],dataSeries:m,point:{x:y,y:x},direction:0>g[w].y===e.axisY.reversed?1:-1,color:C})}i(),te.drawMarkers(u)}}return U&&(r.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&o.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&o.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:r,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},t.prototype.renderSplineArea=function(e){function t(){var t=i(w,2);if(0<t.length){if(0<p.lineThickness){r.beginPath(),r.moveTo(t[0].x,t[0].y),t[0].newStrokeStyle&&(r.strokeStyle=t[0].newStrokeStyle),t[0].newLineDashArray&&r.setLineDash(t[0].newLineDashArray);for(var n=0;n<t.length-3;n+=3)r.bezierCurveTo(t[n+1].x,t[n+1].y,t[n+2].x,t[n+2].y,t[n+3].x,t[n+3].y),U&&o.bezierCurveTo(t[n+1].x,t[n+1].y,t[n+2].x,t[n+2].y,t[n+3].x,t[n+3].y),(t[n+3].newStrokeStyle||t[n+3].newLineDashArray)&&(r.stroke(),r.beginPath(),r.moveTo(t[n+3].x,t[n+3].y),t[n+3].newStrokeStyle&&(r.strokeStyle=t[n+3].newStrokeStyle),t[n+3].newLineDashArray&&r.setLineDash(t[n+3].newLineDashArray));r.stroke()}for(r.beginPath(),r.moveTo(t[0].x,t[0].y),U&&(o.beginPath(),o.moveTo(t[0].x,t[0].y)),n=0;n<t.length-3;n+=3)r.bezierCurveTo(t[n+1].x,t[n+1].y,t[n+2].x,t[n+2].y,t[n+3].x,t[n+3].y),U&&o.bezierCurveTo(t[n+1].x,t[n+1].y,t[n+2].x,t[n+2].y,t[n+3].x,t[n+3].y);e.axisY.logarithmic||0>=e.axisY.viewportMinimum&&0<=e.axisY.viewportMaximum?y=b:0>e.axisY.viewportMaximum?y=s.y1:0<e.axisY.viewportMinimum&&(y=a.y2),_={x:t[0].x,y:t[0].y},r.lineTo(t[t.length-1].x,y),r.lineTo(_.x,y),r.closePath(),r.globalAlpha=p.fillOpacity,r.fill(),r.globalAlpha=1,U&&(o.lineTo(t[t.length-1].x,y),o.lineTo(_.x,y),o.closePath(),o.fill())}}var n=e.targetCanvasCtx||this.plotArea.ctx,r=U?this._preRenderCtx:n;if(!(0>=e.dataSeriesIndexes.length)){var o=this._eventManager.ghostCtx,a=e.axisX.lineCoordinates,s=e.axisY.lineCoordinates,l=[],c=this.plotArea;r.save(),U&&o.save(),r.beginPath(),r.rect(c.x1,c.y1,c.width,c.height),r.clip(),U&&(o.beginPath(),o.rect(c.x1,c.y1,c.width,c.height),o.clip());for(var u=0;u<e.dataSeriesIndexes.length;u++){var h=e.dataSeriesIndexes[u],p=this.data[h],f=p.dataPoints;l=p.id;this._eventManager.objectMap[l]={objectType:"dataSeries",dataSeriesIndex:h},l=d(l),o.fillStyle=l;l=[];var m,g,y,x=0,b=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0),_=null,w=[];if(0<f.length){var k=p._colorSet[x%p._colorSet.length],S=p.lineColor=p.options.lineColor||k,C=S;r.fillStyle=k,r.strokeStyle=S,r.lineWidth=p.lineThickness;var E="solid";if(r.setLineDash){var T=v(p.nullDataLineDashType,p.lineThickness),M=v(E=p.lineDashType,p.lineThickness);r.setLineDash(M)}for(g=!1;x<f.length;x++)if(!((m=f[x].x.getTime?f[x].x.getTime():f[x].x)<e.axisX.dataInfo.viewPortMin||m>e.axisX.dataInfo.viewPortMax&&(!p.connectNullData||!g)))if("number"!==typeof f[x].y)0<x&&!g&&(p.connectNullData?r.setLineDash&&0<w.length&&(p.options.nullDataLineDashType||!f[x-1].lineDashType)&&(w[w.length-1].newLineDashArray=T,E=p.nullDataLineDashType):(t(),w=[])),g=!0;else{m=e.axisX.convertValueToPixel(m),g=e.axisY.convertValueToPixel(f[x].y);var P=p.dataPointIds[x];if(this._eventManager.objectMap[P]={id:P,objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:x,x1:m,y1:g},w[w.length]={x:m,y:g},x<f.length-1&&(C!==(f[x].lineColor||S)||E!==(f[x].lineDashType||p.lineDashType))&&(C=f[x].lineColor||S,w[w.length-1].newStrokeStyle=C,r.setLineDash&&(f[x].lineDashType?(E=f[x].lineDashType,w[w.length-1].newLineDashArray=v(E,p.lineThickness)):(E=p.lineDashType,w[w.length-1].newLineDashArray=M))),0!==f[x].markerSize&&(0<f[x].markerSize||0<p.markerSize)){var A=p.getMarkerProperties(x,m,g,r);l.push(A),P=d(P),U&&l.push({x:m,y:g,ctx:o,type:A.type,size:A.size,color:P,borderColor:P,borderThickness:A.borderThickness})}(f[x].indexLabel||p.indexLabel||f[x].indexLabelFormatter||p.indexLabelFormatter)&&this._indexLabels.push({chartType:"splineArea",dataPoint:f[x],dataSeries:p,point:{x:m,y:g},direction:0>f[x].y===e.axisY.reversed?1:-1,color:k}),g=!1}t(),te.drawMarkers(l)}}return U&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&r.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&r.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.restore()),r.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},t.prototype.renderStepArea=function(e){var t,n;function i(){S&&(0<m.lineThickness&&o.stroke(),e.axisY.logarithmic||0>=e.axisY.viewportMinimum&&0<=e.axisY.viewportMaximum?_=k:0>e.axisY.viewportMaximum?_=c.y1:0<e.axisY.viewportMinimum&&(_=l.y2),o.lineTo(y,_),o.lineTo(S.x,_),o.closePath(),o.globalAlpha=m.fillOpacity,o.fill(),o.globalAlpha=1,U&&(s.lineTo(y,_),s.lineTo(S.x,_),s.closePath(),s.fill()),o.beginPath(),o.moveTo(y,x),s.beginPath(),s.moveTo(y,x),S={x:y,y:x})}var r=e.targetCanvasCtx||this.plotArea.ctx,o=U?this._preRenderCtx:r;if(!(0>=e.dataSeriesIndexes.length)){var a,s=this._eventManager.ghostCtx,l=e.axisX.lineCoordinates,c=e.axisY.lineCoordinates,u=[],h=this.plotArea;o.save(),U&&s.save(),o.beginPath(),o.rect(h.x1,h.y1,h.width,h.height),o.clip(),U&&(s.beginPath(),s.rect(h.x1,h.y1,h.width,h.height),s.clip());for(var p=0;p<e.dataSeriesIndexes.length;p++){var f=e.dataSeriesIndexes[p],m=this.data[f],g=m.dataPoints;u=m.id;this._eventManager.objectMap[u]={objectType:"dataSeries",dataSeriesIndex:f},u=d(u),s.fillStyle=u,u=[],t=!0;var y,x,b,_,w=0,k=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0),S=null;if(n=!1,0<g.length){var C=m._colorSet[w%m._colorSet.length],E=m.lineColor=m.options.lineColor||C,T=E;o.fillStyle=C,o.strokeStyle=E,o.lineWidth=m.lineThickness;var M="solid";if(o.setLineDash){var P=v(m.nullDataLineDashType,m.lineThickness),A=v(M=m.lineDashType,m.lineThickness);o.setLineDash(A)}for(;w<g.length;w++)if(!((b=g[w].x.getTime?g[w].x.getTime():g[w].x)<e.axisX.dataInfo.viewPortMin||b>e.axisX.dataInfo.viewPortMax&&(!m.connectNullData||!n))){var I=x;"number"!==typeof g[w].y?(m.connectNullData||n||t||i(),n=!0):(y=e.axisX.convertValueToPixel(b),x=e.axisY.convertValueToPixel(g[w].y),t||n?(!t&&m.connectNullData?(o.setLineDash&&(m.options.nullDataLineDashType||M===m.lineDashType&&m.lineDashType!==m.nullDataLineDashType)&&(t=y,n=x,y=a.x,x=a.y,i(),o.moveTo(a.x,a.y),y=t,x=n,S=a,M=m.nullDataLineDashType,o.setLineDash(P)),o.lineTo(y,I),o.lineTo(y,x),U&&(s.lineTo(y,I),s.lineTo(y,x))):(o.beginPath(),o.moveTo(y,x),U&&(s.beginPath(),s.moveTo(y,x)),S={x:y,y:x}),n=t=!1):(o.lineTo(y,I),U&&s.lineTo(y,I),o.lineTo(y,x),U&&s.lineTo(y,x),0==w%250&&i()),a={x:y,y:x},w<g.length-1&&(T!==(g[w].lineColor||E)||M!==(g[w].lineDashType||m.lineDashType))&&(i(),T=g[w].lineColor||E,o.strokeStyle=T,o.setLineDash&&(g[w].lineDashType?(M=g[w].lineDashType,o.setLineDash(v(M,m.lineThickness))):(M=m.lineDashType,o.setLineDash(A)))),b=m.dataPointIds[w],this._eventManager.objectMap[b]={id:b,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:w,x1:y,y1:x},0!==g[w].markerSize&&(0<g[w].markerSize||0<m.markerSize)&&(I=m.getMarkerProperties(w,y,x,o),u.push(I),b=d(b),U&&u.push({x:y,y:x,ctx:s,type:I.type,size:I.size,color:b,borderColor:b,borderThickness:I.borderThickness})),(g[w].indexLabel||m.indexLabel||g[w].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepArea",dataPoint:g[w],dataSeries:m,point:{x:y,y:x},direction:0>g[w].y===e.axisY.reversed?1:-1,color:C}))}i(),te.drawMarkers(u)}}return U&&(r.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&o.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&o.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:r,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},t.prototype.renderStackedArea=function(e){function t(){if(!(1>g.length)){for(0<C.lineThickness&&i.stroke();0<g.length;){var e=g.pop();i.lineTo(e.x,e.y),U&&w.lineTo(e.x,e.y)}i.closePath(),i.globalAlpha=C.fillOpacity,i.fill(),i.globalAlpha=1,i.beginPath(),U&&(w.closePath(),w.fill(),w.beginPath()),g=[]}}var n=e.targetCanvasCtx||this.plotArea.ctx,i=U?this._preRenderCtx:n;if(!(0>=e.dataSeriesIndexes.length)){var r,o,a,s,l,u=null,h=null,p=[],f=this.plotArea,m=[],g=[],y=[],x=[],b=0,_=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0),w=this._eventManager.ghostCtx;U&&w.beginPath(),i.save(),U&&w.save(),i.beginPath(),i.rect(f.x1,f.y1,f.width,f.height),i.clip(),U&&(w.beginPath(),w.rect(f.x1,f.y1,f.width,f.height),w.clip());u=[];for(var k=0;k<e.dataSeriesIndexes.length;k++){var S=e.dataSeriesIndexes[k],C=this.data[S],E=C.dataPoints;for(C.dataPointIndexes=[],b=0;b<E.length;b++)S=E[b].x.getTime?E[b].x.getTime():E[b].x,C.dataPointIndexes[S]=b,u[S]||(y.push(S),u[S]=!0);y.sort(c)}for(k=0;k<e.dataSeriesIndexes.length;k++){if(S=e.dataSeriesIndexes[k],E=(C=this.data[S]).dataPoints,s=!0,g=[],b=C.id,this._eventManager.objectMap[b]={objectType:"dataSeries",dataSeriesIndex:S},b=d(b),w.fillStyle=b,0<y.length){u=C._colorSet[0];var T=C.lineColor=C.options.lineColor||u,M=T;if(i.fillStyle=u,i.strokeStyle=T,i.lineWidth=C.lineThickness,l="solid",i.setLineDash){var P=v(C.nullDataLineDashType,C.lineThickness),A=v(l=C.lineDashType,C.lineThickness);i.setLineDash(A)}var I=!0;for(b=0;b<y.length;b++){h=y[b];var L=0<=C.dataPointIndexes[h]?E[C.dataPointIndexes[h]]:{x:h,y:null};if(!(h<e.axisX.dataInfo.viewPortMin||h>e.axisX.dataInfo.viewPortMax&&(!C.connectNullData||!I)))if("number"!==typeof L.y)C.connectNullData||I||s||t(),I=!0;else{r=e.axisX.convertValueToPixel(h);var D=m[h]?m[h]:0;if(e.axisY.logarithmic||e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length){if(x[h]=L.y+(x[h]?x[h]:0),0>=x[h]&&e.axisY.logarithmic)continue;o=e.axisY.convertValueToPixel(x[h])}else o=e.axisY.convertValueToPixel(L.y),o-=D;if(g.push({x:r,y:_-D}),m[h]=_-o,s||I?(!s&&C.connectNullData?(i.setLineDash&&(C.options.nullDataLineDashType||l===C.lineDashType&&C.lineDashType!==C.nullDataLineDashType)&&(s=g.pop(),l=g[g.length-1],t(),i.moveTo(a.x,a.y),g.push(l),g.push(s),l=C.nullDataLineDashType,i.setLineDash(P)),i.lineTo(r,o),U&&w.lineTo(r,o)):(i.beginPath(),i.moveTo(r,o),U&&(w.beginPath(),w.moveTo(r,o))),I=s=!1):(i.lineTo(r,o),U&&w.lineTo(r,o),0==b%250&&(t(),i.moveTo(r,o),U&&w.moveTo(r,o),g.push({x:r,y:_-D}))),a={x:r,y:o},b<E.length-1&&(M!==(E[b].lineColor||T)||l!==(E[b].lineDashType||C.lineDashType))&&(t(),i.beginPath(),i.moveTo(r,o),g.push({x:r,y:_-D}),M=E[b].lineColor||T,i.strokeStyle=M,i.setLineDash&&(E[b].lineDashType?(l=E[b].lineDashType,i.setLineDash(v(l,C.lineThickness))):(l=C.lineDashType,i.setLineDash(A)))),0<=C.dataPointIndexes[h]){var O=C.dataPointIds[C.dataPointIndexes[h]];this._eventManager.objectMap[O]={id:O,objectType:"dataPoint",dataSeriesIndex:S,dataPointIndex:C.dataPointIndexes[h],x1:r,y1:o}}0<=C.dataPointIndexes[h]&&0!==L.markerSize&&(0<L.markerSize||0<C.markerSize)&&(D=C.getMarkerProperties(C.dataPointIndexes[h],r,o,i),p.push(D),h=d(O),U&&p.push({x:r,y:o,ctx:w,type:D.type,size:D.size,color:h,borderColor:h,borderThickness:D.borderThickness})),(L.indexLabel||C.indexLabel||L.indexLabelFormatter||C.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:L,dataSeries:C,point:{x:r,y:o},direction:0>E[b].y===e.axisY.reversed?1:-1,color:u})}}t(),i.moveTo(r,o),U&&w.moveTo(r,o)}delete C.dataPointIndexes}return te.drawMarkers(p),U&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&i.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&i.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(f.x1,f.y1,f.width,f.height),w.restore()),i.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},t.prototype.renderStackedArea100=function(e){function t(){for(0<C.lineThickness&&i.stroke();0<g.length;){var e=g.pop();i.lineTo(e.x,e.y),U&&w.lineTo(e.x,e.y)}i.closePath(),i.globalAlpha=C.fillOpacity,i.fill(),i.globalAlpha=1,i.beginPath(),U&&(w.closePath(),w.fill(),w.beginPath()),g=[]}var n=e.targetCanvasCtx||this.plotArea.ctx,i=U?this._preRenderCtx:n;if(!(0>=e.dataSeriesIndexes.length)){var r,o,a,s,l,u=null,h=null,p=this.plotArea,f=[],m=[],g=[],y=[],x=[],b=0,_=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0),w=this._eventManager.ghostCtx;i.save(),U&&w.save(),i.beginPath(),i.rect(p.x1,p.y1,p.width,p.height),i.clip(),U&&(w.beginPath(),w.rect(p.x1,p.y1,p.width,p.height),w.clip());u=[];for(var k=0;k<e.dataSeriesIndexes.length;k++){var S=e.dataSeriesIndexes[k],C=this.data[S],E=C.dataPoints;for(C.dataPointIndexes=[],b=0;b<E.length;b++)S=E[b].x.getTime?E[b].x.getTime():E[b].x,C.dataPointIndexes[S]=b,u[S]||(y.push(S),u[S]=!0);y.sort(c)}for(k=0;k<e.dataSeriesIndexes.length;k++){if(S=e.dataSeriesIndexes[k],E=(C=this.data[S]).dataPoints,s=!0,u=C.id,this._eventManager.objectMap[u]={objectType:"dataSeries",dataSeriesIndex:S},u=d(u),w.fillStyle=u,g=[],0<y.length){u=C._colorSet[b%C._colorSet.length];var T=C.lineColor=C.options.lineColor||u,M=T;if(i.fillStyle=u,i.strokeStyle=T,i.lineWidth=C.lineThickness,l="solid",i.setLineDash){var P=v(C.nullDataLineDashType,C.lineThickness),A=v(l=C.lineDashType,C.lineThickness);i.setLineDash(A)}var I=!0;for(b=0;b<y.length;b++){h=y[b];var L=0<=C.dataPointIndexes[h]?E[C.dataPointIndexes[h]]:{x:h,y:null};if(!(h<e.axisX.dataInfo.viewPortMin||h>e.axisX.dataInfo.viewPortMax&&(!C.connectNullData||!I)))if("number"!==typeof L.y)C.connectNullData||I||s||t(),I=!0;else{var D;D=0!==e.dataPointYSums[h]?L.y/e.dataPointYSums[h]*100:0,r=e.axisX.convertValueToPixel(h);var O=m[h]?m[h]:0;if(e.axisY.logarithmic||e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length){if(x[h]=D+(x[h]?x[h]:0),0>=x[h]&&e.axisY.logarithmic)continue;o=e.axisY.convertValueToPixel(x[h])}else o=e.axisY.convertValueToPixel(D),o-=O;if(g.push({x:r,y:_-O}),m[h]=_-o,s||I?(!s&&C.connectNullData?(i.setLineDash&&(C.options.nullDataLineDashType||l===C.lineDashType&&C.lineDashType!==C.nullDataLineDashType)&&(s=g.pop(),l=g[g.length-1],t(),i.moveTo(a.x,a.y),g.push(l),g.push(s),l=C.nullDataLineDashType,i.setLineDash(P)),i.lineTo(r,o),U&&w.lineTo(r,o)):(i.beginPath(),i.moveTo(r,o),U&&(w.beginPath(),w.moveTo(r,o))),I=s=!1):(i.lineTo(r,o),U&&w.lineTo(r,o),0==b%250&&(t(),i.moveTo(r,o),U&&w.moveTo(r,o),g.push({x:r,y:_-O}))),a={x:r,y:o},b<E.length-1&&(M!==(E[b].lineColor||T)||l!==(E[b].lineDashType||C.lineDashType))&&(t(),i.beginPath(),i.moveTo(r,o),g.push({x:r,y:_-O}),M=E[b].lineColor||T,i.strokeStyle=M,i.setLineDash&&(E[b].lineDashType?(l=E[b].lineDashType,i.setLineDash(v(l,C.lineThickness))):(l=C.lineDashType,i.setLineDash(A)))),0<=C.dataPointIndexes[h]){var R=C.dataPointIds[C.dataPointIndexes[h]];this._eventManager.objectMap[R]={id:R,objectType:"dataPoint",dataSeriesIndex:S,dataPointIndex:C.dataPointIndexes[h],x1:r,y1:o}}0<=C.dataPointIndexes[h]&&0!==L.markerSize&&(0<L.markerSize||0<C.markerSize)&&(O=C.getMarkerProperties(b,r,o,i),f.push(O),h=d(R),U&&f.push({x:r,y:o,ctx:w,type:O.type,size:O.size,color:h,borderColor:h,borderThickness:O.borderThickness})),(L.indexLabel||C.indexLabel||L.indexLabelFormatter||C.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:L,dataSeries:C,point:{x:r,y:o},direction:0>E[b].y===e.axisY.reversed?1:-1,color:u})}}t(),i.moveTo(r,o),U&&w.moveTo(r,o)}delete C.dataPointIndexes}return te.drawMarkers(f),U&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&i.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&i.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(p.x1,p.y1,p.width,p.height),w.restore()),i.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},t.prototype.renderBubble=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var i,r,o=this.plotArea,a=0;n.save(),U&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(o.x1,o.y1,o.width,o.height),n.clip(),U&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.clip());for(var s=-1/0,l=1/0,c=0;c<e.dataSeriesIndexes.length;c++){var u=e.dataSeriesIndexes[c],h=this.data[u],p=h.dataPoints,f=0;for(a=0;a<p.length;a++)(i=i=p[a].getTime?p[a].x.getTime():p[a].x)<e.axisX.dataInfo.viewPortMin||i>e.axisX.dataInfo.viewPortMax||"undefined"===typeof p[a].z||((f=p[a].z)>s&&(s=f),f<l&&(l=f))}var m=25*Math.PI,g=Math.max(Math.pow(.25*Math.min(o.height,o.width)/2,2)*Math.PI,m);for(c=0;c<e.dataSeriesIndexes.length;c++)if(u=e.dataSeriesIndexes[c],0<(p=(h=this.data[u]).dataPoints).length)for(n.strokeStyle="#4572A7 ",a=0;a<p.length;a++)if(!((i=i=p[a].getTime?p[a].x.getTime():p[a].x)<e.axisX.dataInfo.viewPortMin||i>e.axisX.dataInfo.viewPortMax)&&"number"===typeof p[a].y){i=e.axisX.convertValueToPixel(i),r=e.axisY.convertValueToPixel(p[a].y);f=p[a].z;var v=2*Math.max(Math.sqrt((s===l?g/2:m+(g-m)/(s-l)*(f-l))/Math.PI)<<0,1);(f=h.getMarkerProperties(a,n)).size=v,n.globalAlpha=h.fillOpacity,te.drawMarker(i,r,n,f.type,f.size,f.color,f.borderColor,f.borderThickness),n.globalAlpha=1;var y=h.dataPointIds[a];this._eventManager.objectMap[y]={id:y,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:a,x1:i,y1:r,size:v},v=d(y),U&&te.drawMarker(i,r,this._eventManager.ghostCtx,f.type,f.size,v,v,f.borderThickness),(p[a].indexLabel||h.indexLabel||p[a].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"bubble",dataPoint:p[a],dataSeries:h,point:{x:i,y:r},direction:1,bounds:{x1:i-f.size/2,y1:r-f.size/2,x2:i+f.size/2,y2:r+f.size/2},color:null})}return U&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}},t.prototype.renderScatter=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var i,r,o=this.plotArea,a=0;n.save(),U&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(o.x1,o.y1,o.width,o.height),n.clip(),U&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.clip());for(var s=0;s<e.dataSeriesIndexes.length;s++){var l=e.dataSeriesIndexes[s],c=this.data[l],u=c.dataPoints;if(0<u.length){n.strokeStyle="#4572A7 ",Math.pow(.3*Math.min(o.height,o.width)/2,2);var h=0,p=0;for(a=0;a<u.length;a++)if(!((i=i=u[a].getTime?u[a].x.getTime():u[a].x)<e.axisX.dataInfo.viewPortMin||i>e.axisX.dataInfo.viewPortMax)&&"number"===typeof u[a].y){i=e.axisX.convertValueToPixel(i),r=e.axisY.convertValueToPixel(u[a].y);var f=c.getMarkerProperties(a,i,r,n);n.globalAlpha=c.fillOpacity,te.drawMarker(f.x,f.y,f.ctx,f.type,f.size,f.color,f.borderColor,f.borderThickness),n.globalAlpha=1,Math.sqrt((h-i)*(h-i)+(p-r)*(p-r))<Math.min(f.size,5)&&u.length>Math.min(this.plotArea.width,this.plotArea.height)||(h=c.dataPointIds[a],this._eventManager.objectMap[h]={id:h,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:a,x1:i,y1:r},h=d(h),U&&te.drawMarker(f.x,f.y,this._eventManager.ghostCtx,f.type,f.size,h,h,f.borderThickness),(u[a].indexLabel||c.indexLabel||u[a].indexLabelFormatter||c.indexLabelFormatter)&&this._indexLabels.push({chartType:"scatter",dataPoint:u[a],dataSeries:c,point:{x:i,y:r},direction:1,bounds:{x1:i-f.size/2,y1:r-f.size/2,x2:i+f.size/2,y2:r+f.size/2},color:null}),h=i,p=r)}}}return U&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}},t.prototype.renderCandlestick=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:t,i=this._eventManager.ghostCtx;if(!(0>=e.dataSeriesIndexes.length)){var r,o,a,s,l,c,u=null,h=null,f=this.plotArea,m=0,g=(u=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,h=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,e.axisX.dataInfo.minDiff);isFinite(g)||(g=.3*Math.abs(e.axisX.range)),g=this.options.dataPointWidth?this.dataPointWidth:.7*f.width*(e.axisX.logarithmic?Math.log(g)/Math.log(e.axisX.range):Math.abs(g)/Math.abs(e.axisX.range))<<0,this.dataPointMaxWidth&&u>h&&(u=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<u&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,u)),g<u&&(g=u),g>h&&(g=h),n.save(),U&&i.save(),n.beginPath(),n.rect(f.x1,f.y1,f.width,f.height),n.clip(),U&&(i.beginPath(),i.rect(f.x1,f.y1,f.width,f.height),i.clip());for(var v=0;v<e.dataSeriesIndexes.length;v++){var y=e.dataSeriesIndexes[v],x=this.data[y],b=x.dataPoints;if(0<b.length){var _=!!(5<g&&x.bevelEnabled);for(m=0;m<b.length;m++)if(!((c=b[m].getTime?b[m].x.getTime():b[m].x)<e.axisX.dataInfo.viewPortMin||c>e.axisX.dataInfo.viewPortMax)&&!p(b[m].y)&&b[m].y.length&&"number"===typeof b[m].y[0]&&"number"===typeof b[m].y[1]&&"number"===typeof b[m].y[2]&&"number"===typeof b[m].y[3]){r=e.axisX.convertValueToPixel(c),o=e.axisY.convertValueToPixel(b[m].y[0]),a=e.axisY.convertValueToPixel(b[m].y[1]),s=e.axisY.convertValueToPixel(b[m].y[2]),l=e.axisY.convertValueToPixel(b[m].y[3]);var w=r-g/2<<0,k=w+g<<0,S=(h=x.options.fallingColor?x.fallingColor:x._colorSet[0],u=b[m].color?b[m].color:x._colorSet[0],Math.round(Math.max(1,.15*g))),C=0===S%2?0:.5,E=x.dataPointIds[m];this._eventManager.objectMap[E]={id:E,objectType:"dataPoint",dataSeriesIndex:y,dataPointIndex:m,x1:w,y1:o,x2:k,y2:a,x3:r,y3:s,x4:r,y4:l,borderThickness:S,color:u},n.strokeStyle=u,n.beginPath(),n.lineWidth=S,i.lineWidth=Math.max(S,4),"candlestick"===x.type?(n.moveTo(r-C,a),n.lineTo(r-C,Math.min(o,l)),n.stroke(),n.moveTo(r-C,Math.max(o,l)),n.lineTo(r-C,s),n.stroke(),he(n,w,Math.min(o,l),k,Math.max(o,l),b[m].y[0]<=b[m].y[3]?x.risingColor:h,S,u,_,_,!1,!1,x.fillOpacity),U&&(u=d(E),i.strokeStyle=u,i.moveTo(r-C,a),i.lineTo(r-C,Math.min(o,l)),i.stroke(),i.moveTo(r-C,Math.max(o,l)),i.lineTo(r-C,s),i.stroke(),he(i,w,Math.min(o,l),k,Math.max(o,l),u,0,null,!1,!1,!1,!1))):"ohlc"===x.type&&(n.moveTo(r-C,a),n.lineTo(r-C,s),n.stroke(),n.beginPath(),n.moveTo(r,o),n.lineTo(w,o),n.stroke(),n.beginPath(),n.moveTo(r,l),n.lineTo(k,l),n.stroke(),U&&(u=d(E),i.strokeStyle=u,i.moveTo(r-C,a),i.lineTo(r-C,s),i.stroke(),i.beginPath(),i.moveTo(r,o),i.lineTo(w,o),i.stroke(),i.beginPath(),i.moveTo(r,l),i.lineTo(k,l),i.stroke())),(b[m].indexLabel||x.indexLabel||b[m].indexLabelFormatter||x.indexLabelFormatter)&&this._indexLabels.push({chartType:x.type,dataPoint:b[m],dataSeries:x,point:{x:w+(k-w)/2,y:e.axisY.reversed?s:a},direction:1,bounds:{x1:w,y1:Math.min(a,s),x2:k,y2:Math.max(a,s)},color:u})}}}return U&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(f.x1,f.y1,f.width,f.height),i.restore()),n.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}},t.prototype.renderBoxAndWhisker=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:t,i=this._eventManager.ghostCtx;if(!(0>=e.dataSeriesIndexes.length)){var r,o,a,s,l,c,u,h=null,f=this.plotArea,m=0,g=(h=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,m=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,e.axisX.dataInfo.minDiff);isFinite(g)||(g=.3*Math.abs(e.axisX.range)),g=this.options.dataPointWidth?this.dataPointWidth:.7*f.width*(e.axisX.logarithmic?Math.log(g)/Math.log(e.axisX.range):Math.abs(g)/Math.abs(e.axisX.range))<<0,this.dataPointMaxWidth&&h>m&&(h=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,m)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&m<h&&(m=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,h)),g<h&&(g=h),g>m&&(g=m),n.save(),U&&i.save(),n.beginPath(),n.rect(f.x1,f.y1,f.width,f.height),n.clip(),U&&(i.beginPath(),i.rect(f.x1,f.y1,f.width,f.height),i.clip());for(var y=!!e.axisY.reversed,x=0;x<e.dataSeriesIndexes.length;x++){var b=e.dataSeriesIndexes[x],_=this.data[b],w=_.dataPoints;if(0<w.length){var k=!!(5<g&&_.bevelEnabled);for(m=0;m<w.length;m++)if(!((u=w[m].getTime?w[m].x.getTime():w[m].x)<e.axisX.dataInfo.viewPortMin||u>e.axisX.dataInfo.viewPortMax)&&!p(w[m].y)&&w[m].y.length&&"number"===typeof w[m].y[0]&&"number"===typeof w[m].y[1]&&"number"===typeof w[m].y[2]&&"number"===typeof w[m].y[3]&&"number"===typeof w[m].y[4]&&5===w[m].y.length){r=e.axisX.convertValueToPixel(u),o=e.axisY.convertValueToPixel(w[m].y[0]),a=e.axisY.convertValueToPixel(w[m].y[1]),s=e.axisY.convertValueToPixel(w[m].y[2]),l=e.axisY.convertValueToPixel(w[m].y[3]),c=e.axisY.convertValueToPixel(w[m].y[4]);var S=r-g/2<<0,C=r+g/2<<0,E=(h=w[m].color?w[m].color:_._colorSet[0],Math.round(Math.max(1,.15*g))),T=0===E%2?0:.5,M=w[m].whiskerColor?w[m].whiskerColor:w[m].color?_.whiskerColor?_.whiskerColor:w[m].color:_.whiskerColor?_.whiskerColor:h,P="number"===typeof w[m].whiskerThickness?w[m].whiskerThickness:"number"===typeof _.options.whiskerThickness?_.whiskerThickness:E,A=w[m].whiskerDashType?w[m].whiskerDashType:_.whiskerDashType,I="number"===typeof(I=p(w[m].whiskerLength)?p(_.options.whiskerLength)?g:_.whiskerLength:w[m].whiskerLength)?0>=I?0:I>=g?g:I:"string"===typeof I?parseInt(I)*g/100>g?g:parseInt(I)*g/100:g,L=1===Math.round(P)%2?.5:0,D=w[m].stemColor?w[m].stemColor:w[m].color?_.stemColor?_.stemColor:w[m].color:_.stemColor?_.stemColor:h,O="number"===typeof w[m].stemThickness?w[m].stemThickness:"number"===typeof _.options.stemThickness?_.stemThickness:E,R=1===Math.round(O)%2?.5:0,z=w[m].stemDashType?w[m].stemDashType:_.stemDashType,F=w[m].lineColor?w[m].lineColor:w[m].color?_.lineColor?_.lineColor:w[m].color:_.lineColor?_.lineColor:h,B="number"===typeof w[m].lineThickness?w[m].lineThickness:"number"===typeof _.options.lineThickness?_.lineThickness:E,N=w[m].lineDashType?w[m].lineDashType:_.lineDashType,j=1===Math.round(B)%2?.5:0,V=_.upperBoxColor,W=_.lowerBoxColor,H=p(_.options.fillOpacity)?1:_.fillOpacity,X=_.dataPointIds[m];this._eventManager.objectMap[X]={id:X,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:m,x1:S,y1:o,x2:C,y2:a,x3:r,y3:s,x4:r,y4:l,y5:c,borderThickness:E,color:h,stemThickness:O,stemColor:D,whiskerThickness:P,whiskerLength:I,whiskerColor:M,lineThickness:B,lineColor:F},n.save(),0<O&&(n.beginPath(),n.strokeStyle=D,n.lineWidth=O,n.setLineDash&&n.setLineDash(v(z,O)),n.moveTo(r-R,a),n.lineTo(r-R,o),n.stroke(),n.moveTo(r-R,l),n.lineTo(r-R,s),n.stroke()),n.restore(),i.lineWidth=Math.max(E,4),n.beginPath(),he(n,S,Math.min(c,a),C,Math.max(a,c),W,0,h,!!y&&k,!y&&k,!1,!1,H),n.beginPath(),he(n,S,Math.min(s,c),C,Math.max(c,s),V,0,h,!y&&k,!!y&&k,!1,!1,H),n.beginPath(),n.lineWidth=E,n.strokeStyle=h,n.rect(S-T,Math.min(a,s)-T,C-S+2*T,Math.max(a,s)-Math.min(a,s)+2*T),n.stroke(),n.save(),0<B&&(n.beginPath(),n.globalAlpha=1,n.setLineDash&&n.setLineDash(v(N,B)),n.strokeStyle=F,n.lineWidth=B,n.moveTo(S,c-j),n.lineTo(C,c-j),n.stroke()),n.restore(),n.save(),0<P&&(n.beginPath(),n.setLineDash&&n.setLineDash(v(A,P)),n.strokeStyle=M,n.lineWidth=P,n.moveTo(r-I/2<<0,l-L),n.lineTo(r+I/2<<0,l-L),n.stroke(),n.moveTo(r-I/2<<0,o+L),n.lineTo(r+I/2<<0,o+L),n.stroke()),n.restore(),U&&(h=d(X),i.strokeStyle=h,i.lineWidth=O,0<O&&(i.moveTo(r-T-R,a),i.lineTo(r-T-R,Math.max(o,l)),i.stroke(),i.moveTo(r-T-R,Math.min(o,l)),i.lineTo(r-T-R,s),i.stroke()),he(i,S,Math.max(a,s),C,Math.min(a,s),h,0,null,!1,!1,!1,!1),0<P&&(i.beginPath(),i.lineWidth=P,i.moveTo(r+I/2,l-L),i.lineTo(r-I/2,l-L),i.stroke(),i.moveTo(r+I/2,o+L),i.lineTo(r-I/2,o+L),i.stroke())),(w[m].indexLabel||_.indexLabel||w[m].indexLabelFormatter||_.indexLabelFormatter)&&this._indexLabels.push({chartType:_.type,dataPoint:w[m],dataSeries:_,point:{x:S+(C-S)/2,y:e.axisY.reversed?o:l},direction:1,bounds:{x1:S,y1:Math.min(o,l),x2:C,y2:Math.max(o,l)},color:h})}}}return U&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(f.x1,f.y1,f.width,f.height),i.restore()),n.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}},t.prototype.renderRangeColumn=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var i,r,o,a=null,s=this.plotArea,l=0;l=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;i=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.03*this.width;var c=e.axisX.dataInfo.minDiff;isFinite(c)||(c=.3*Math.abs(e.axisX.range)),c=this.options.dataPointWidth?this.dataPointWidth:s.width*(e.axisX.logarithmic?Math.log(c)/Math.log(e.axisX.range):Math.abs(c)/Math.abs(e.axisX.range))/e.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&l>i&&(l=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,i)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&i<l&&(i=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,l)),c<l&&(c=l),c>i&&(c=i),n.save(),U&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(s.x1,s.y1,s.width,s.height),n.clip(),U&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip());for(var u=0;u<e.dataSeriesIndexes.length;u++){var h=e.dataSeriesIndexes[u],f=this.data[h],m=f.dataPoints;if(0<m.length){var g=!!(5<c&&f.bevelEnabled);for(l=0;l<m.length;l++)if(!((o=m[l].getTime?m[l].x.getTime():m[l].x)<e.axisX.dataInfo.viewPortMin||o>e.axisX.dataInfo.viewPortMax)&&!p(m[l].y)&&m[l].y.length&&"number"===typeof m[l].y[0]&&"number"===typeof m[l].y[1]){a=e.axisX.convertValueToPixel(o),i=e.axisY.convertValueToPixel(m[l].y[0]),r=e.axisY.convertValueToPixel(m[l].y[1]);var v=e.axisX.reversed?a+e.plotType.totalDataSeries*c/2-(e.previousDataSeriesCount+u)*c<<0:a-e.plotType.totalDataSeries*c/2+(e.previousDataSeriesCount+u)*c<<0,y=e.axisX.reversed?v-c<<0:v+c<<0;a=m[l].color?m[l].color:f._colorSet[l%f._colorSet.length];if(i>r){var x=i;i=r,r=x}x=f.dataPointIds[l],this._eventManager.objectMap[x]={id:x,objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:l,x1:v,y1:i,x2:y,y2:r},he(n,v,i,y,r,a,0,a,g,g,!1,!1,f.fillOpacity),a=d(x),U&&he(this._eventManager.ghostCtx,v,i,y,r,a,0,null,!1,!1,!1,!1),(m[l].indexLabel||f.indexLabel||m[l].indexLabelFormatter||f.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:m[l],dataSeries:f,indexKeyword:0,point:{x:v+(y-v)/2,y:m[l].y[1]>=m[l].y[0]?r:i},direction:m[l].y[1]>=m[l].y[0]?-1:1,bounds:{x1:v,y1:Math.min(i,r),x2:y,y2:Math.max(i,r)},color:a}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:m[l],dataSeries:f,indexKeyword:1,point:{x:v+(y-v)/2,y:m[l].y[1]>=m[l].y[0]?i:r},direction:m[l].y[1]>=m[l].y[0]?1:-1,bounds:{x1:v,y1:Math.min(i,r),x2:y,y2:Math.max(i,r)},color:a}))}}}return U&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}},t.prototype.renderError=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:t,i=!!e.axisY._position&&("left"!==e.axisY._position&&"right"!==e.axisY._position);if(!(0>=e.dataSeriesIndexes.length)){var r,o,s,l,c,u,d,h=null,f=!1,m=this.plotArea,g=0,v=e.axisX.dataInfo.minDiff;isFinite(v)||(v=.3*Math.abs(e.axisX.range)),n.save(),U&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(m.x1,m.y1,m.width,m.height),n.clip(),U&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(m.x1,m.y1,m.width,m.height),this._eventManager.ghostCtx.clip());for(var y=0,x=0;x<this.data.length;x++)!this.data[x].type.match(/(bar|column)/gi)||!this.data[x].visible||this.data[x].type.match(/(stacked)/gi)&&y||y++;for(var b=0;b<e.dataSeriesIndexes.length;b++){var _=e.dataSeriesIndexes[b],w=this.data[_],k=w.dataPoints,S=!p(w._linkedSeries)&&!(!w._linkedSeries.type.match(/(bar|column)/gi)||!w._linkedSeries.visible),C=0;if(S)for(h=w._linkedSeries.id,x=0;x<h;x++)!this.data[x].type.match(/(bar|column)/gi)||!this.data[x].visible||this.data[x].type.match(/(stacked)/gi)&&C||(this.data[x].type.match(/(range)/gi)&&(f=!0),C++);if(h=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,g=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:i?Math.min(.15*this.height,this.plotArea.height/(S?y:1)*.9)<<0:.3*this.width,f&&(g=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:i?Math.min(.15*this.height,this.plotArea.height/(S?y:1)*.9)<<0:.03*this.width),x=this.options.dataPointWidth?this.dataPointWidth:(i?m.height:m.width)*(e.axisX.logarithmic?Math.log(v)/Math.log(e.axisX.range):Math.abs(v)/Math.abs(e.axisX.range))/(S?y:1)*.9<<0,this.dataPointMaxWidth&&h>g&&(h=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,g)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&g<h&&(g=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,h)),x<h&&(x=h),x>g&&(x=g),0<k.length){var E=w._colorSet;for(g=0;g<k.length;g++){h=w.lineColor=w.options.color?w.options.color:E[0];var T={color:k[g].whiskerColor?k[g].whiskerColor:k[g].color?w.whiskerColor?w.whiskerColor:k[g].color:w.whiskerColor?w.whiskerColor:h,thickness:p(k[g].whiskerThickness)?w.whiskerThickness:k[g].whiskerThickness,dashType:k[g].whiskerDashType?k[g].whiskerDashType:w.whiskerDashType,length:p(k[g].whiskerLength)?p(w.options.whiskerLength)?x:w.options.whiskerLength:k[g].whiskerLength,trimLength:p(k[g].whiskerLength)&&p(w.options.whiskerLength)?50:0};T.length="number"===typeof T.length?0>=T.length?0:T.length>=x?x:T.length:"string"===typeof T.length?parseInt(T.length)*x/100>x?x:parseInt(T.length)*x/100>x:x,T.thickness="number"===typeof T.thickness?0>T.thickness?0:Math.round(T.thickness):2;var M={color:k[g].stemColor?k[g].stemColor:k[g].color?w.stemColor?w.stemColor:k[g].color:w.stemColor?w.stemColor:h,thickness:k[g].stemThickness?k[g].stemThickness:w.stemThickness,dashType:k[g].stemDashType?k[g].stemDashType:w.stemDashType};if(M.thickness="number"===typeof M.thickness?0>M.thickness?0:Math.round(M.thickness):2,!((d=k[g].getTime?k[g].x.getTime():k[g].x)<e.axisX.dataInfo.viewPortMin||d>e.axisX.dataInfo.viewPortMax)&&!p(k[g].y)&&k[g].y.length&&"number"===typeof k[g].y[0]&&"number"===typeof k[g].y[1]){var P=e.axisX.convertValueToPixel(d);i?o=P:r=P,P=e.axisY.convertValueToPixel(k[g].y[0]),i?s=P:c=P,P=e.axisY.convertValueToPixel(k[g].y[1]),i?l=P:u=P,i?(c=e.axisX.reversed?o+(S?y:1)*x/2-(S?C-1:0)*x<<0:o-(S?y:1)*x/2+(S?C-1:0)*x<<0,u=e.axisX.reversed?c-x<<0:c+x<<0):(s=e.axisX.reversed?r+(S?y:1)*x/2-(S?C-1:0)*x<<0:r-(S?y:1)*x/2+(S?C-1:0)*x<<0,l=e.axisX.reversed?s-x<<0:s+x<<0),!i&&c>u&&(P=c,c=u,u=P),i&&s>l&&(P=s,s=l,l=P),P=w.dataPointIds[g],this._eventManager.objectMap[P]={id:P,objectType:"dataPoint",dataSeriesIndex:_,dataPointIndex:g,x1:Math.min(s,l),y1:Math.min(c,u),x2:Math.max(l,s),y2:Math.max(u,c),isXYSwapped:i,stemProperties:M,whiskerProperties:T},a(n,Math.min(s,l),Math.min(c,u),Math.max(l,s),Math.max(u,c),h,T,M,i),U&&a(this._eventManager.ghostCtx,s,c,l,u,h,T,M,i),(k[g].indexLabel||w.indexLabel||k[g].indexLabelFormatter||w.indexLabelFormatter)&&(this._indexLabels.push({chartType:"error",dataPoint:k[g],dataSeries:w,indexKeyword:0,point:{x:i?k[g].y[1]>=k[g].y[0]?s:l:s+(l-s)/2,y:i?c+(u-c)/2:k[g].y[1]>=k[g].y[0]?u:c},direction:k[g].y[1]>=k[g].y[0]?-1:1,bounds:{x1:i?Math.min(s,l):s,y1:i?c:Math.min(c,u),x2:i?Math.max(s,l):l,y2:i?u:Math.max(c,u)},color:h,axisSwapped:i}),this._indexLabels.push({chartType:"error",dataPoint:k[g],dataSeries:w,indexKeyword:1,point:{x:i?k[g].y[1]>=k[g].y[0]?l:s:s+(l-s)/2,y:i?c+(u-c)/2:k[g].y[1]>=k[g].y[0]?c:u},direction:k[g].y[1]>=k[g].y[0]?1:-1,bounds:{x1:i?Math.min(s,l):s,y1:i?c:Math.min(c,u),x2:i?Math.max(s,l):l,y2:i?u:Math.max(c,u)},color:h,axisSwapped:i}))}}}}return U&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(m.x1,m.y1,m.width,m.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}},t.prototype.renderRangeBar=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var i,r,o,a,s=null,l=this.plotArea,c=0;c=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;i=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/e.plotType.totalDataSeries*.9)<<0;var u=e.axisX.dataInfo.minDiff;isFinite(u)||(u=.3*Math.abs(e.axisX.range)),u=this.options.dataPointWidth?this.dataPointWidth:l.height*(e.axisX.logarithmic?Math.log(u)/Math.log(e.axisX.range):Math.abs(u)/Math.abs(e.axisX.range))/e.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&c>i&&(c=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,i)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&i<c&&(i=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,c)),u<c&&(u=c),u>i&&(u=i),n.save(),U&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(l.x1,l.y1,l.width,l.height),n.clip(),U&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip());for(var h=0;h<e.dataSeriesIndexes.length;h++){var f=e.dataSeriesIndexes[h],m=this.data[f],g=m.dataPoints;if(0<g.length){var v=!!(5<u&&m.bevelEnabled);for(n.strokeStyle="#4572A7 ",c=0;c<g.length;c++)if(!((a=g[c].getTime?g[c].x.getTime():g[c].x)<e.axisX.dataInfo.viewPortMin||a>e.axisX.dataInfo.viewPortMax)&&!p(g[c].y)&&g[c].y.length&&"number"===typeof g[c].y[0]&&"number"===typeof g[c].y[1]){i=e.axisY.convertValueToPixel(g[c].y[0]),r=e.axisY.convertValueToPixel(g[c].y[1]),o=e.axisX.convertValueToPixel(a),o=e.axisX.reversed?o+e.plotType.totalDataSeries*u/2-(e.previousDataSeriesCount+h)*u<<0:o-e.plotType.totalDataSeries*u/2+(e.previousDataSeriesCount+h)*u<<0;var y=e.axisX.reversed?o-u<<0:o+u<<0;i>r&&(s=i,i=r,r=s),s=g[c].color?g[c].color:m._colorSet[c%m._colorSet.length],he(n,i,o,r,y,s,0,null,v,!1,!1,!1,m.fillOpacity),s=m.dataPointIds[c],this._eventManager.objectMap[s]={id:s,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:c,x1:i,y1:o,x2:r,y2:y},s=d(s),U&&he(this._eventManager.ghostCtx,i,o,r,y,s,0,null,!1,!1,!1,!1),(g[c].indexLabel||m.indexLabel||g[c].indexLabelFormatter||m.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:g[c],dataSeries:m,indexKeyword:0,point:{x:g[c].y[1]>=g[c].y[0]?i:r,y:o+(y-o)/2},direction:g[c].y[1]>=g[c].y[0]?-1:1,bounds:{x1:Math.min(i,r),y1:o,x2:Math.max(i,r),y2:y},color:s}),this._indexLabels.push({chartType:"rangeBar",dataPoint:g[c],dataSeries:m,indexKeyword:1,point:{x:g[c].y[1]>=g[c].y[0]?r:i,y:o+(y-o)/2},direction:g[c].y[1]>=g[c].y[0]?1:-1,bounds:{x1:Math.min(i,r),y1:o,x2:Math.max(i,r),y2:y},color:s}))}}}return U&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}},t.prototype.renderRangeArea=function(e){function t(){if(b){var e=null;0<u.lineThickness&&i.stroke();for(var t=l.length-1;0<=t;t--)e=l[t],i.lineTo(e.x,e.y),r.lineTo(e.x,e.y);if(i.closePath(),i.globalAlpha=u.fillOpacity,i.fill(),i.globalAlpha=1,r.fill(),0<u.lineThickness){for(i.beginPath(),i.moveTo(e.x,e.y),t=0;t<l.length;t++)e=l[t],i.lineTo(e.x,e.y);i.stroke()}i.beginPath(),i.moveTo(p,f),r.beginPath(),r.moveTo(p,f),b={x:p,y:f},(l=[]).push({x:p,y:m})}}var n=e.targetCanvasCtx||this.plotArea.ctx,i=U?this._preRenderCtx:n;if(!(0>=e.dataSeriesIndexes.length)){var r=this._eventManager.ghostCtx,o=[],a=this.plotArea;i.save(),U&&r.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),U&&(r.beginPath(),r.rect(a.x1,a.y1,a.width,a.height),r.clip());for(var s=0;s<e.dataSeriesIndexes.length;s++){var l=[],c=e.dataSeriesIndexes[s],u=this.data[c],h=u.dataPoints;o=u.id;this._eventManager.objectMap[o]={objectType:"dataSeries",dataSeriesIndex:c},o=d(o),r.fillStyle=o;o=[];var p,f,m,g,y=!0,x=0,b=null;if(0<h.length){var _=u._colorSet[x%u._colorSet.length],w=u.lineColor=u.options.lineColor||_,k=w;i.fillStyle=_,i.strokeStyle=w,i.lineWidth=u.lineThickness;var S="solid";if(i.setLineDash){var C=v(u.nullDataLineDashType,u.lineThickness),E=v(S=u.lineDashType,u.lineThickness);i.setLineDash(E)}for(var T=!0;x<h.length;x++)if(!((g=h[x].x.getTime?h[x].x.getTime():h[x].x)<e.axisX.dataInfo.viewPortMin||g>e.axisX.dataInfo.viewPortMax&&(!u.connectNullData||!T)))if(null!==h[x].y&&h[x].y.length&&"number"===typeof h[x].y[0]&&"number"===typeof h[x].y[1]){if(p=e.axisX.convertValueToPixel(g),f=e.axisY.convertValueToPixel(h[x].y[0]),m=e.axisY.convertValueToPixel(h[x].y[1]),y||T?(u.connectNullData&&!y?(i.setLineDash&&(u.options.nullDataLineDashType||S===u.lineDashType&&u.lineDashType!==u.nullDataLineDashType)&&(l[l.length-1].newLineDashArray=E,S=u.nullDataLineDashType,i.setLineDash(C)),i.lineTo(p,f),U&&r.lineTo(p,f),l.push({x:p,y:m})):(i.beginPath(),i.moveTo(p,f),b={x:p,y:f},(l=[]).push({x:p,y:m}),U&&(r.beginPath(),r.moveTo(p,f))),T=y=!1):(i.lineTo(p,f),l.push({x:p,y:m}),U&&r.lineTo(p,f),0==x%250&&t()),g=u.dataPointIds[x],this._eventManager.objectMap[g]={id:g,objectType:"dataPoint",dataSeriesIndex:c,dataPointIndex:x,x1:p,y1:f,y2:m},x<h.length-1&&(k!==(h[x].lineColor||w)||S!==(h[x].lineDashType||u.lineDashType))&&(t(),k=h[x].lineColor||w,l[l.length-1].newStrokeStyle=k,i.strokeStyle=k,i.setLineDash&&(h[x].lineDashType?(S=h[x].lineDashType,l[l.length-1].newLineDashArray=v(S,u.lineThickness),i.setLineDash(l[l.length-1].newLineDashArray)):(S=u.lineDashType,l[l.length-1].newLineDashArray=E,i.setLineDash(E)))),0!==h[x].markerSize&&(0<h[x].markerSize||0<u.markerSize)){var M=u.getMarkerProperties(x,p,m,i);o.push(M);var P=d(g);U&&o.push({x:p,y:m,ctx:r,type:M.type,size:M.size,color:P,borderColor:P,borderThickness:M.borderThickness}),M=u.getMarkerProperties(x,p,f,i),o.push(M),P=d(g),U&&o.push({x:p,y:f,ctx:r,type:M.type,size:M.size,color:P,borderColor:P,borderThickness:M.borderThickness})}(h[x].indexLabel||u.indexLabel||h[x].indexLabelFormatter||u.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:h[x],dataSeries:u,indexKeyword:0,point:{x:p,y:f},direction:h[x].y[0]>h[x].y[1]===e.axisY.reversed?-1:1,color:_}),this._indexLabels.push({chartType:"rangeArea",dataPoint:h[x],dataSeries:u,indexKeyword:1,point:{x:p,y:m},direction:h[x].y[0]>h[x].y[1]===e.axisY.reversed?1:-1,color:_}))}else T||y||t(),T=!0;t(),te.drawMarkers(o)}}return U&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&i.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&i.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},t.prototype.renderRangeSplineArea=function(e){function t(e,t){var n=i(y,2);if(0<n.length){if(0<u.lineThickness){r.strokeStyle=t,r.setLineDash&&r.setLineDash(e),r.beginPath(),r.moveTo(n[0].x,n[0].y);for(var a=0;a<n.length-3;a+=3)(n[a].newStrokeStyle||n[a].newLineDashArray)&&(r.stroke(),r.beginPath(),r.moveTo(n[a].x,n[a].y),n[a].newStrokeStyle&&(r.strokeStyle=n[a].newStrokeStyle),n[a].newLineDashArray&&r.setLineDash(n[a].newLineDashArray)),r.bezierCurveTo(n[a+1].x,n[a+1].y,n[a+2].x,n[a+2].y,n[a+3].x,n[a+3].y);r.stroke()}for(r.beginPath(),r.moveTo(n[0].x,n[0].y),U&&(o.beginPath(),o.moveTo(n[0].x,n[0].y)),a=0;a<n.length-3;a+=3)r.bezierCurveTo(n[a+1].x,n[a+1].y,n[a+2].x,n[a+2].y,n[a+3].x,n[a+3].y),U&&o.bezierCurveTo(n[a+1].x,n[a+1].y,n[a+2].x,n[a+2].y,n[a+3].x,n[a+3].y);for(n=i(x,2),r.lineTo(x[x.length-1].x,x[x.length-1].y),a=n.length-1;2<a;a-=3)r.bezierCurveTo(n[a-1].x,n[a-1].y,n[a-2].x,n[a-2].y,n[a-3].x,n[a-3].y),U&&o.bezierCurveTo(n[a-1].x,n[a-1].y,n[a-2].x,n[a-2].y,n[a-3].x,n[a-3].y);if(r.closePath(),r.globalAlpha=u.fillOpacity,r.fill(),U&&(o.closePath(),o.fill()),r.globalAlpha=1,0<u.lineThickness){r.strokeStyle=t,r.setLineDash&&r.setLineDash(e),r.beginPath(),r.moveTo(n[0].x,n[0].y);for(var s=a=0;a<n.length-3;a+=3,s++)(y[s].newStrokeStyle||y[s].newLineDashArray)&&(r.stroke(),r.beginPath(),r.moveTo(n[a].x,n[a].y),y[s].newStrokeStyle&&(r.strokeStyle=y[s].newStrokeStyle),y[s].newLineDashArray&&r.setLineDash(y[s].newLineDashArray)),r.bezierCurveTo(n[a+1].x,n[a+1].y,n[a+2].x,n[a+2].y,n[a+3].x,n[a+3].y);r.stroke()}r.beginPath()}}var n=e.targetCanvasCtx||this.plotArea.ctx,r=U?this._preRenderCtx:n;if(!(0>=e.dataSeriesIndexes.length)){var o=this._eventManager.ghostCtx,a=[],s=this.plotArea;r.save(),U&&o.save(),r.beginPath(),r.rect(s.x1,s.y1,s.width,s.height),r.clip(),U&&(o.beginPath(),o.rect(s.x1,s.y1,s.width,s.height),o.clip());for(var l=0;l<e.dataSeriesIndexes.length;l++){var c=e.dataSeriesIndexes[l],u=this.data[c],h=u.dataPoints;a=u.id;this._eventManager.objectMap[a]={objectType:"dataSeries",dataSeriesIndex:c},a=d(a),o.fillStyle=a;a=[];var p,f,m,g=0,y=[],x=[];if(0<h.length){var b=u._colorSet[g%u._colorSet.length],_=u.lineColor=u.options.lineColor||b,w=_;r.fillStyle=b,r.lineWidth=u.lineThickness;var k,S="solid";if(r.setLineDash){var C=v(u.nullDataLineDashType,u.lineThickness);k=v(S=u.lineDashType,u.lineThickness)}for(f=!1;g<h.length;g++)if(!((p=h[g].x.getTime?h[g].x.getTime():h[g].x)<e.axisX.dataInfo.viewPortMin||p>e.axisX.dataInfo.viewPortMax&&(!u.connectNullData||!f)))if(null!==h[g].y&&h[g].y.length&&"number"===typeof h[g].y[0]&&"number"===typeof h[g].y[1]){p=e.axisX.convertValueToPixel(p),f=e.axisY.convertValueToPixel(h[g].y[0]),m=e.axisY.convertValueToPixel(h[g].y[1]);var E=u.dataPointIds[g];if(this._eventManager.objectMap[E]={id:E,objectType:"dataPoint",dataSeriesIndex:c,dataPointIndex:g,x1:p,y1:f,y2:m},y[y.length]={x:p,y:f},x[x.length]={x:p,y:m},g<h.length-1&&(w!==(h[g].lineColor||_)||S!==(h[g].lineDashType||u.lineDashType))&&(w=h[g].lineColor||_,y[y.length-1].newStrokeStyle=w,r.setLineDash&&(h[g].lineDashType?(S=h[g].lineDashType,y[y.length-1].newLineDashArray=v(S,u.lineThickness)):(S=u.lineDashType,y[y.length-1].newLineDashArray=k))),0!==h[g].markerSize&&(0<h[g].markerSize||0<u.markerSize)){var T=u.getMarkerProperties(g,p,f,r);a.push(T);var M=d(E);U&&a.push({x:p,y:f,ctx:o,type:T.type,size:T.size,color:M,borderColor:M,borderThickness:T.borderThickness}),T=u.getMarkerProperties(g,p,m,r),a.push(T),M=d(E),U&&a.push({x:p,y:m,ctx:o,type:T.type,size:T.size,color:M,borderColor:M,borderThickness:T.borderThickness})}(h[g].indexLabel||u.indexLabel||h[g].indexLabelFormatter||u.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:h[g],dataSeries:u,indexKeyword:0,point:{x:p,y:f},direction:h[g].y[0]<=h[g].y[1]?-1:1,color:b}),this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:h[g],dataSeries:u,indexKeyword:1,point:{x:p,y:m},direction:h[g].y[0]<=h[g].y[1]?1:-1,color:b})),f=!1}else 0<g&&!f&&(u.connectNullData?r.setLineDash&&0<y.length&&(u.options.nullDataLineDashType||!h[g-1].lineDashType)&&(y[y.length-1].newLineDashArray=C,S=u.nullDataLineDashType):(t(k,_),y=[],x=[])),f=!0;t(k,_),te.drawMarkers(a)}}return U&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&r.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&r.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),r.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},t.prototype.renderWaterfall=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var i,r,o,a,s=this._eventManager.ghostCtx,l=null,c=this.plotArea,u=0,h=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0);u=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;r=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/e.plotType.totalDataSeries*.9)<<0;var p=e.axisX.dataInfo.minDiff;isFinite(p)||(p=.3*Math.abs(e.axisX.range)),p=this.options.dataPointWidth?this.dataPointWidth:c.width*(e.axisX.logarithmic?Math.log(p)/Math.log(e.axisX.range):Math.abs(p)/Math.abs(e.axisX.range))/e.plotType.totalDataSeries*.6<<0,this.dataPointMaxWidth&&u>r&&(u=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,r)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&r<u&&(r=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,u)),p<u&&(p=u),p>r&&(p=r),n.save(),U&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(c.x1,c.y1,c.width,c.height),n.clip(),U&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.clip());for(var f=0;f<e.dataSeriesIndexes.length;f++){var m=e.dataSeriesIndexes[f],g=this.data[m],y=g.dataPoints;l=g._colorSet[0];g.risingColor=g.options.risingColor?g.options.risingColor:l,g.fallingColor=g.options.fallingColor?g.options.fallingColor:"#e40a0a";var x="number"===typeof g.options.lineThickness?Math.round(g.lineThickness):1,b=1===Math.round(x)%2?-.5:0;if(0<y.length){var _=!!(5<p&&g.bevelEnabled),w=!1,k=null,S=null;for(u=0;u<y.length;u++)if(a=y[u].getTime?y[u].x.getTime():y[u].x,"number"!==typeof y[u].y){if(0<u&&!w&&g.connectNullData)var C=g.options.nullDataLineDashType||!y[u-1].lineDashType?g.nullDataLineDashType:y[u-1].lineDashType;w=!0}else{i=e.axisX.convertValueToPixel(a),r=0===g.dataPointEOs[u].cumulativeSum?h:e.axisY.convertValueToPixel(g.dataPointEOs[u].cumulativeSum),o=0===g.dataPointEOs[u].cumulativeSumYStartValue?h:e.axisY.convertValueToPixel(g.dataPointEOs[u].cumulativeSumYStartValue),i=e.axisX.reversed?i+e.plotType.totalDataSeries*p/2-(e.previousDataSeriesCount+f)*p<<0:i-e.plotType.totalDataSeries*p/2+(e.previousDataSeriesCount+f)*p<<0;var E=e.axisX.reversed?i-p<<0:i+p<<0;r>o&&(l=r,r=o,o=l),e.axisY.reversed&&(l=r,r=o,o=l),l=g.dataPointIds[u],this._eventManager.objectMap[l]={id:l,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:u,x1:i,y1:r,x2:E,y2:o};var T=y[u].color?y[u].color:0<y[u].y?g.risingColor:g.fallingColor;he(n,i,r,E,o,T,0,T,_,_,!1,!1,g.fillOpacity),l=d(l),U&&he(this._eventManager.ghostCtx,i,r,E,o,l,0,null,!1,!1,!1,!1);var M;T=i;M="undefined"!==typeof y[u].isIntermediateSum&&!0===y[u].isIntermediateSum||"undefined"!==typeof y[u].isCumulativeSum&&!0===y[u].isCumulativeSum?0<y[u].y?r:o:0<y[u].y?o:r,0<u&&k&&(!w||g.connectNullData)&&(w&&n.setLineDash&&n.setLineDash(v(C,x)),n.beginPath(),n.moveTo(k,S-b),n.lineTo(T,M-b),0<x&&n.stroke(),U&&(s.beginPath(),s.moveTo(k,S-b),s.lineTo(T,M-b),0<x&&s.stroke())),w=!1,k=E,S=0<y[u].y?r:o,T=y[u].lineDashType?y[u].lineDashType:g.options.lineDashType?g.options.lineDashType:"shortDash",n.strokeStyle=y[u].lineColor?y[u].lineColor:g.options.lineColor?g.options.lineColor:"#9e9e9e",n.lineWidth=x,n.setLineDash&&(T=v(T,x),n.setLineDash(T)),(y[u].indexLabel||g.indexLabel||y[u].indexLabelFormatter||g.indexLabelFormatter)&&this._indexLabels.push({chartType:"waterfall",dataPoint:y[u],dataSeries:g,point:{x:i+(E-i)/2,y:0<=y[u].y?r:o},direction:0>y[u].y===e.axisY.reversed?1:-1,bounds:{x1:i,y1:Math.min(r,o),x2:E,y2:Math.max(r,o)},color:l})}}}return U&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}};var $=function(e,t,n,i,r,o,a,s,l){if(!(0>n)){if("undefined"===typeof s&&(s=1),!U){var c=Number((a%(2*Math.PI)).toFixed(8));Number((o%(2*Math.PI)).toFixed(8))===c&&(a-=1e-4)}e.save(),e.globalAlpha=s,"pie"===r?(e.beginPath(),e.moveTo(t.x,t.y),e.arc(t.x,t.y,n,o,a,!1),e.fillStyle=i,e.strokeStyle="white",e.lineWidth=2,e.closePath(),e.fill()):"doughnut"===r&&(e.beginPath(),e.arc(t.x,t.y,n,o,a,!1),0<=l&&e.arc(t.x,t.y,l*n,a,o,!0),e.closePath(),e.fillStyle=i,e.strokeStyle="white",e.lineWidth=2,e.fill()),e.globalAlpha=1,e.restore()}};t.prototype.renderPie=function(e){function t(e){var t=s.plotArea.ctx;for(t.clearRect(f.x1,f.y1,f.width,f.height),t.fillStyle=s.backgroundColor,t.fillRect(f.x1,f.y1,f.width,f.height),t=0;t<u.length;t++){var n=m[t].startAngle,i=m[t].endAngle;if(i>n){var r=.07*S*Math.cos(m[t].midAngle),o=.07*S*Math.sin(m[t].midAngle),a=!1;u[t].exploded?(1e-9<Math.abs(m[t].center.x-(_.x+r))||1e-9<Math.abs(m[t].center.y-(_.y+o)))&&(m[t].center.x=_.x+r*e,m[t].center.y=_.y+o*e,a=!0):(0<Math.abs(m[t].center.x-_.x)||0<Math.abs(m[t].center.y-_.y))&&(m[t].center.x=_.x+r*(1-e),m[t].center.y=_.y+o*(1-e),a=!0),a&&((r={}).dataSeries=c,r.dataPoint=c.dataPoints[t],r.index=t,s.toolTip.highlightObjects([r])),$(s.plotArea.ctx,m[t].center,m[t].radius,u[t].color?u[t].color:c._colorSet[t%c._colorSet.length],c.type,n,i,c.fillOpacity,m[t].percentInnerRadius)}}for((e=s.plotArea.ctx).save(),e.fillStyle="black",e.strokeStyle="grey",e.textBaseline="middle",e.lineJoin="round",t=t=0;t<u.length;t++)(n=m[t]).indexLabelText&&(n.indexLabelTextBlock.y-=n.indexLabelTextBlock.height/2,i=0,i="left"===n.hemisphere?"inside"!==c.indexLabelPlacement?-(n.indexLabelTextBlock.width+d):-n.indexLabelTextBlock.width/2:"inside"!==c.indexLabelPlacement?d:-n.indexLabelTextBlock.width/2,n.indexLabelTextBlock.x+=i,n.indexLabelTextBlock.render(!0),n.indexLabelTextBlock.x-=i,n.indexLabelTextBlock.y+=n.indexLabelTextBlock.height/2,"inside"!==n.indexLabelPlacement&&0<n.indexLabelLineThickness&&(i=n.center.x+S*Math.cos(n.midAngle),r=n.center.y+S*Math.sin(n.midAngle),e.strokeStyle=n.indexLabelLineColor,e.lineWidth=n.indexLabelLineThickness,e.setLineDash&&e.setLineDash(v(n.indexLabelLineDashType,n.indexLabelLineThickness)),e.beginPath(),e.moveTo(i,r),e.lineTo(n.indexLabelTextBlock.x,n.indexLabelTextBlock.y),e.lineTo(n.indexLabelTextBlock.x+("left"===n.hemisphere?-d:d),n.indexLabelTextBlock.y),e.stroke()),e.lineJoin="miter");e.save()}function n(e,t){var n=0,i=(n=e.indexLabelTextBlock.y-e.indexLabelTextBlock.height/2,e.indexLabelTextBlock.y+e.indexLabelTextBlock.height/2),r=t.indexLabelTextBlock.y-t.indexLabelTextBlock.height/2,o=t.indexLabelTextBlock.y+t.indexLabelTextBlock.height/2;return t.indexLabelTextBlock.y>e.indexLabelTextBlock.y?r-i:n-o}function i(e){for(var t=null,i=1;i<u.length;i++){if(t=(e+i+m.length)%m.length,m[t].hemisphere!==m[e].hemisphere){t=null;break}if(m[t].indexLabelText&&t!==e&&(0>n(m[t],m[e])||("right"===m[e].hemisphere?m[t].indexLabelTextBlock.y>=m[e].indexLabelTextBlock.y:m[t].indexLabelTextBlock.y<=m[e].indexLabelTextBlock.y)))break;t=null}return t}function r(e,t,o){if(1e3<(o=(o||0)+1))return 0;t=t||0;var a=0,s=_.y-1*l,c=_.y+1*l;if(0<=e&&e<u.length){var d=m[e];if(0>t&&d.indexLabelTextBlock.y<s||0<t&&d.indexLabelTextBlock.y>c)return 0;var h=0,p=0;p=h=h=0;for(0>t?d.indexLabelTextBlock.y-d.indexLabelTextBlock.height/2>s&&d.indexLabelTextBlock.y-d.indexLabelTextBlock.height/2+t<s&&(t=-(s-(d.indexLabelTextBlock.y-d.indexLabelTextBlock.height/2+t))):d.indexLabelTextBlock.y+d.indexLabelTextBlock.height/2<s&&d.indexLabelTextBlock.y+d.indexLabelTextBlock.height/2+t>c&&(t=d.indexLabelTextBlock.y+d.indexLabelTextBlock.height/2+t-c),t=d.indexLabelTextBlock.y+t,s=0,s="right"===d.hemisphere?_.x+Math.sqrt(Math.pow(l,2)-Math.pow(t-_.y,2)):_.x-Math.sqrt(Math.pow(l,2)-Math.pow(t-_.y,2)),p=_.x+S*Math.cos(d.midAngle),h=_.y+S*Math.sin(d.midAngle),h=Math.sqrt(Math.pow(s-p,2)+Math.pow(t-h,2)),p=Math.acos(S/l),t=(h=Math.acos((l*l+S*S-h*h)/(2*S*l)))<p?t-d.indexLabelTextBlock.y:0,s=null,c=1;c<u.length;c++){if(s=(e-c+m.length)%m.length,m[s].hemisphere!==m[e].hemisphere){s=null;break}if(m[s].indexLabelText&&m[s].hemisphere===m[e].hemisphere&&s!==e&&(0>n(m[s],m[e])||("right"===m[e].hemisphere?m[s].indexLabelTextBlock.y<=m[e].indexLabelTextBlock.y:m[s].indexLabelTextBlock.y>=m[e].indexLabelTextBlock.y)))break;s=null}p=s,h=i(e),c=s=0,0>t?(a=t,null!==(c="right"===d.hemisphere?p:h)&&(p=-t,(t=d.indexLabelTextBlock.y-d.indexLabelTextBlock.height/2-(m[c].indexLabelTextBlock.y+m[c].indexLabelTextBlock.height/2))-p<g&&(+(c=r(c,s=-p,o+1)).toFixed(b)>+s.toFixed(b)&&(a=t>g?-(t-g):-(p-(c-s)))))):0<t&&(a=t,null!==(c="right"===d.hemisphere?h:p)&&(p=t,(t=m[c].indexLabelTextBlock.y-m[c].indexLabelTextBlock.height/2-(d.indexLabelTextBlock.y+d.indexLabelTextBlock.height/2))-p<g&&(+(c=r(c,s=p,o+1)).toFixed(b)<+s.toFixed(b)&&(a=t>g?t-g:p-(s-c))))),a&&(o=d.indexLabelTextBlock.y+a,t=0,t="right"===d.hemisphere?_.x+Math.sqrt(Math.pow(l,2)-Math.pow(o-_.y,2)):_.x-Math.sqrt(Math.pow(l,2)-Math.pow(o-_.y,2)),d.midAngle>Math.PI/2-x&&d.midAngle<Math.PI/2+x?(s=(e-1+m.length)%m.length,s=m[s],e=m[(e+1+m.length)%m.length],"left"===d.hemisphere&&"right"===s.hemisphere&&t>s.indexLabelTextBlock.x?t=s.indexLabelTextBlock.x-15:"right"===d.hemisphere&&"left"===e.hemisphere&&t<e.indexLabelTextBlock.x&&(t=e.indexLabelTextBlock.x+15)):d.midAngle>3*Math.PI/2-x&&d.midAngle<3*Math.PI/2+x&&(s=(e-1+m.length)%m.length,s=m[s],e=m[(e+1+m.length)%m.length],"right"===d.hemisphere&&"left"===s.hemisphere&&t<s.indexLabelTextBlock.x?t=s.indexLabelTextBlock.x+15:"left"===d.hemisphere&&"right"===e.hemisphere&&t>e.indexLabelTextBlock.x&&(t=e.indexLabelTextBlock.x-15)),d.indexLabelTextBlock.y=o,d.indexLabelTextBlock.x=t,d.indexLabelAngle=Math.atan2(d.indexLabelTextBlock.y-_.y,d.indexLabelTextBlock.x-_.x))}return a}function o(){(p=s.plotArea.ctx).fillStyle="grey",p.strokeStyle="grey",p.font="16px Arial",p.textBaseline="middle";var e=p=0,t=0,o=!0;for(e=0;10>e&&(1>e||0<t);e++){if((c.radius||!c.radius&&"undefined"!==typeof c.innerRadius&&null!==c.innerRadius&&S-t<=C)&&(o=!1),o&&(S-=t),t=0,"inside"!==c.indexLabelPlacement){for(l=S*y,p=0;p<u.length;p++){(v=m[p]).indexLabelTextBlock.x=_.x+l*Math.cos(v.midAngle),v.indexLabelTextBlock.y=_.y+l*Math.sin(v.midAngle),v.indexLabelAngle=v.midAngle,v.radius=S,v.percentInnerRadius=E}for(var a,h,p=0;p<u.length;p++){var v=m[p],x=i(p);if(null!==x){a=m[p],h=m[x];var w=0;if(0>(w=n(a,h)-g)){for(var k=h=0,T=0;T<u.length;T++)T!==p&&m[T].hemisphere===v.hemisphere&&(m[T].indexLabelTextBlock.y<v.indexLabelTextBlock.y?h++:k++);k=-1*(w-(h=w/(h+k||1)*k));var M=T=0;"right"===v.hemisphere?(T=r(p,h),+(M=r(x,k=-1*(w-T))).toFixed(b)<+k.toFixed(b)&&+T.toFixed(b)<=+h.toFixed(b)&&r(p,-(k-M))):(T=r(x,h),+(M=r(p,k=-1*(w-T))).toFixed(b)<+k.toFixed(b)&&+T.toFixed(b)<=+h.toFixed(b)&&r(x,-(k-M)))}}}}else for(p=0;p<u.length;p++)v=m[p],l="pie"===c.type?.7*S:.8*S,x=_.x+l*Math.cos(v.midAngle),h=_.y+l*Math.sin(v.midAngle),v.indexLabelTextBlock.x=x,v.indexLabelTextBlock.y=h;for(p=0;p<u.length;p++)0!==(x=(v=m[p]).indexLabelTextBlock.measureText()).height&&0!==x.width&&(x=x=0,"right"===v.hemisphere?(x=f.x2-(v.indexLabelTextBlock.x+v.indexLabelTextBlock.width+d),x*=-1):x=f.x1-(v.indexLabelTextBlock.x-v.indexLabelTextBlock.width-d),0<x&&(!o&&v.indexLabelText&&(h="right"===v.hemisphere?f.x2-v.indexLabelTextBlock.x:v.indexLabelTextBlock.x-f.x1,.3*v.indexLabelTextBlock.maxWidth>h?v.indexLabelText="":v.indexLabelTextBlock.maxWidth=.85*h,.3*v.indexLabelTextBlock.maxWidth<h&&(v.indexLabelTextBlock.x-="right"===v.hemisphere?2:-2)),Math.abs(v.indexLabelTextBlock.y-v.indexLabelTextBlock.height/2-_.y)<S||Math.abs(v.indexLabelTextBlock.y+v.indexLabelTextBlock.height/2-_.y)<S)&&(9<(x/=Math.abs(Math.cos(v.indexLabelAngle)))&&(x*=.3),x>t&&(t=x)),x=x=0,0<v.indexLabelAngle&&v.indexLabelAngle<Math.PI?(x=f.y2-(v.indexLabelTextBlock.y+v.indexLabelTextBlock.height/2+5),x*=-1):x=f.y1-(v.indexLabelTextBlock.y-v.indexLabelTextBlock.height/2-5),0<x&&(!o&&v.indexLabelText&&(0===r(p,x*(h=0<v.indexLabelAngle&&v.indexLabelAngle<Math.PI?-1:1))&&r(p,2*h)),Math.abs(v.indexLabelTextBlock.x-_.x)<S&&(9<(x/=Math.abs(Math.sin(v.indexLabelAngle)))&&(x*=.3),x>t&&(t=x))));var P=function(e,t,n){for(var i=[],r=0;i.push(m[t]),t!==n;t=(t+1+u.length)%u.length);for(i.sort((function(e,t){return e.y-t.y})),t=0;t<i.length&&(n=i[t],r<.7*e);t++)r+=n.indexLabelTextBlock.height,n.indexLabelTextBlock.text="",n.indexLabelText="",n.indexLabelTextBlock.measureText()};!function(){for(var e=-1,t=-1,r=0,o=!1,s=0;s<u.length;s++)if(o=!1,(a=m[s]).indexLabelText){var l=i(s);if(null!==l){var c,h=m[l];if(w=0,c=0>(w=n(a,h))){c=a.indexLabelTextBlock.x;var p=a.indexLabelTextBlock.y-a.indexLabelTextBlock.height/2,f=a.indexLabelTextBlock.y+a.indexLabelTextBlock.height/2,g=h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2,v=h.indexLabelTextBlock.x+h.indexLabelTextBlock.width,y=h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2;c=!(a.indexLabelTextBlock.x+a.indexLabelTextBlock.width<h.indexLabelTextBlock.x-d||c>v+d||p>y+d||f<g-d)}c?(0>e&&(e=s),l!==e&&(t=l,r+=-w),0===s%Math.max(u.length/10,3)&&(o=!0)):o=!0,o&&0<r&&0<=e&&0<=t&&(P(r,e,t),t=e=-1,r=0)}}0<r&&P(r,e,t)}()}}function a(){if(s.plotArea.layoutManager.reset(),s.title&&(s.title.dockInsidePlotArea||"center"===s.title.horizontalAlign&&"center"===s.title.verticalAlign)&&s.title.render(),s.subtitles)for(var e=0;e<s.subtitles.length;e++){var t=s.subtitles[e];(t.dockInsidePlotArea||"center"===t.horizontalAlign&&"center"===t.verticalAlign)&&t.render()}s.legend&&(s.legend.dockInsidePlotArea||"center"===s.legend.horizontalAlign&&"center"===s.legend.verticalAlign)&&(s.legend.setLayout(),s.legend.render())}var s=this;if(!(0>=e.dataSeriesIndexes.length)){var l,c=this.data[e.dataSeriesIndexes[0]],u=c.dataPoints,d=10,f=this.plotArea,m=c.dataPointEOs,g=2,y=1.3,x=20/180*Math.PI,b=6,_={x:(f.x2+f.x1)/2,y:(f.y2+f.y1)/2},w=0;e=!1;for(var k=0;k<u.length;k++)w+=Math.abs(u[k].y),!e&&"undefined"!==typeof u[k].indexLabel&&null!==u[k].indexLabel&&0<u[k].indexLabel.toString().length&&(e=!0),!e&&"undefined"!==typeof u[k].label&&null!==u[k].label&&0<u[k].label.toString().length&&(e=!0);if(0!==w){e=e||"undefined"!==typeof c.indexLabel&&null!==c.indexLabel&&0<c.indexLabel.toString().length;var S="inside"!==c.indexLabelPlacement&&e?.75*Math.min(f.width,f.height)/2:.92*Math.min(f.width,f.height)/2;c.radius&&(S=h(c.radius,S));var C="undefined"!==typeof c.innerRadius&&null!==c.innerRadius?h(c.innerRadius,S):.7*S;c.radius=S,"doughnut"===c.type&&(c.innerRadius=C);var E=Math.min(C/S,(S-1)/S);this.pieDoughnutClickHandler=function(e){s.isAnimating||!p(e.dataSeries.explodeOnClick)&&!e.dataSeries.explodeOnClick||((e=e.dataPoint).exploded=!e.exploded,1<this.dataPoints.length&&s._animator.animate(0,500,(function(e){t(e),a()})))},function(){if(c&&u){for(var e=0,t=0,n=0,i=0,r=0;r<u.length;r++){var o=u[r],a=c.dataPointIds[r];m[r].id=a,m[r].objectType="dataPoint",m[r].dataPointIndex=r,m[r].dataSeriesIndex=0;var l=m[r],d={percent:null,total:null},h=null;d=s.getPercentAndTotal(c,o),(c.indexLabelFormatter||o.indexLabelFormatter)&&(h={chart:s.options,dataSeries:c,dataPoint:o,total:d.total,percent:d.percent}),d=o.indexLabelFormatter?o.indexLabelFormatter(h):o.indexLabel?s.replaceKeywordsWithValue(o.indexLabel,o,c,r):c.indexLabelFormatter?c.indexLabelFormatter(h):c.indexLabel?s.replaceKeywordsWithValue(c.indexLabel,o,c,r):o.label?o.label:"",s._eventManager.objectMap[a]=l,l.center={x:_.x,y:_.y},l.y=o.y,l.radius=S,l.percentInnerRadius=E,l.indexLabelText=d,l.indexLabelPlacement=c.indexLabelPlacement,l.indexLabelLineColor=o.indexLabelLineColor?o.indexLabelLineColor:c.options.indexLabelLineColor?c.options.indexLabelLineColor:o.color?o.color:c._colorSet[r%c._colorSet.length],l.indexLabelLineThickness=p(o.indexLabelLineThickness)?c.indexLabelLineThickness:o.indexLabelLineThickness,l.indexLabelLineDashType=o.indexLabelLineDashType?o.indexLabelLineDashType:c.indexLabelLineDashType,l.indexLabelFontColor=o.indexLabelFontColor?o.indexLabelFontColor:c.indexLabelFontColor,l.indexLabelFontStyle=o.indexLabelFontStyle?o.indexLabelFontStyle:c.indexLabelFontStyle,l.indexLabelFontWeight=o.indexLabelFontWeight?o.indexLabelFontWeight:c.indexLabelFontWeight,l.indexLabelFontSize=p(o.indexLabelFontSize)?c.indexLabelFontSize:o.indexLabelFontSize,l.indexLabelFontFamily=o.indexLabelFontFamily?o.indexLabelFontFamily:c.indexLabelFontFamily,l.indexLabelBackgroundColor=o.indexLabelBackgroundColor?o.indexLabelBackgroundColor:c.options.indexLabelBackgroundColor?c.options.indexLabelBackgroundColor:c.indexLabelBackgroundColor,l.indexLabelMaxWidth=o.indexLabelMaxWidth?o.indexLabelMaxWidth:c.indexLabelMaxWidth?c.indexLabelMaxWidth:.33*f.width,l.indexLabelWrap="undefined"!==typeof o.indexLabelWrap?o.indexLabelWrap:c.indexLabelWrap,l.startAngle=0===r?c.startAngle?c.startAngle/180*Math.PI:0:m[r-1].endAngle,l.startAngle=(l.startAngle+2*Math.PI)%(2*Math.PI),l.endAngle=l.startAngle+2*Math.PI/w*Math.abs(o.y),o=((o=(l.endAngle+l.startAngle)/2)+2*Math.PI)%(2*Math.PI),l.midAngle=o,l.midAngle>Math.PI/2-x&&l.midAngle<Math.PI/2+x?((0===e||m[n].midAngle>l.midAngle)&&(n=r),e++):l.midAngle>3*Math.PI/2-x&&l.midAngle<3*Math.PI/2+x&&((0===t||m[i].midAngle>l.midAngle)&&(i=r),t++),l.hemisphere=o>Math.PI/2&&o<=3*Math.PI/2?"left":"right",l.indexLabelTextBlock=new A(s.plotArea.ctx,{fontSize:l.indexLabelFontSize,fontFamily:l.indexLabelFontFamily,fontColor:l.indexLabelFontColor,fontStyle:l.indexLabelFontStyle,fontWeight:l.indexLabelFontWeight,horizontalAlign:"left",backgroundColor:l.indexLabelBackgroundColor,maxWidth:l.indexLabelMaxWidth,maxHeight:l.indexLabelWrap?5*l.indexLabelFontSize:1.5*l.indexLabelFontSize,text:l.indexLabelText,padding:0,textBaseline:"top"}),l.indexLabelTextBlock.measureText()}for(a=o=0,d=!1,r=0;r<u.length;r++)l=m[(n+r)%u.length],1<e&&l.midAngle>Math.PI/2-x&&l.midAngle<Math.PI/2+x&&(o<=e/2&&!d?(l.hemisphere="right",o++):(l.hemisphere="left",d=!0));for(d=!1,r=0;r<u.length;r++)l=m[(i+r)%u.length],1<t&&l.midAngle>3*Math.PI/2-x&&l.midAngle<3*Math.PI/2+x&&(a<=t/2&&!d?(l.hemisphere="left",a++):(l.hemisphere="right",d=!0))}}(),o(),o(),o(),o(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,(function(e){var t=s.plotArea.ctx;for(t.clearRect(f.x1,f.y1,f.width,f.height),t.fillStyle=s.backgroundColor,t.fillRect(f.x1,f.y1,f.width,f.height),e=m[0].startAngle+2*Math.PI*e,t=0;t<u.length;t++){var n=0===t?m[t].startAngle:i,i=n+(m[t].endAngle-m[t].startAngle),r=!1;i>e&&(i=e,r=!0);var o=u[t].color?u[t].color:c._colorSet[t%c._colorSet.length];if(i>n&&$(s.plotArea.ctx,m[t].center,m[t].radius,o,c.type,n,i,c.fillOpacity,m[t].percentInnerRadius),r)break}a()}),(function(){s.disableToolTip=!1,s._animator.animate(0,s.animatedRender?500:0,(function(e){t(e),a()}))}))}}};var Z=function(e,t,n,i){"undefined"===typeof n&&(n=1),0>=Math.round(t.y4-t.y1)||(e.save(),e.globalAlpha=n,e.beginPath(),e.moveTo(Math.round(t.x1),Math.round(t.y1)),e.lineTo(Math.round(t.x2),Math.round(t.y2)),e.lineTo(Math.round(t.x3),Math.round(t.y3)),e.lineTo(Math.round(t.x4),Math.round(t.y4)),"undefined"!==t.x5&&(e.lineTo(Math.round(t.x5),Math.round(t.y5)),e.lineTo(Math.round(t.x6),Math.round(t.y6))),e.closePath(),e.fillStyle=i||t.color,e.fill(),e.globalAplha=1,e.restore())};t.prototype.renderFunnel=function(e){function t(){var e,t,n,i;if("inside"!==h.indexLabelPlacement)for(var r=0;r<V.length;r++)0==q[r].textBlock.text.length?q[r].isDirty=!0:(n="undefined"!==typeof(e=V[r]).x5?(e.y2+e.y4)/2:(e.y2+e.y3)/2,t=h.reversed?"undefined"!==typeof e.x5&&n>B?s(n).x2+1:(e.x2+e.x3)/2+1:"undefined"!==typeof e.x5?n<B?s(n).x2+1:(e.x4+e.x3)/2+1:(e.x2+e.x3)/2+1,q[r].textBlock.x=t+L,q[r].textBlock.y=n-q[r].height/2,h.reversed?(q[r].textBlock.y+q[r].height>R+y&&(q[r].textBlock.y=R+y-q[r].height),q[r].textBlock.y<N-y&&(q[r].textBlock.y=N-y)):(q[r].textBlock.y<R-y&&(q[r].textBlock.y=R-y),q[r].textBlock.y+q[r].height>N+y&&(q[r].textBlock.y=N+y-q[r].height)));else for(r=0;r<V.length;r++)0==q[r].textBlock.text.length?q[r].isDirty=!0:(t=(e=V[r]).height,n=q[r].height,i=q[r].width,t>=n?(t=r!=j?(e.x4+e.x3)/2-i/2:(e.x5+e.x4)/2-i/2,n=r!=j?(e.y1+e.y3)/2-n/2:(e.y1+e.y4)/2-n/2,q[r].textBlock.x=t,q[r].textBlock.y=n):q[r].isDirty=!0)}function n(e,t){return(t<V.length?q[t].textBlock.y:h.reversed?R+y:N+y)-(0>e?h.reversed?N-y:R-y:q[e].textBlock.y+q[e].height+Y)}function i(e,n,i){var o,a,s,l=[],d=y,p=[];if(-1!==n&&(0<=$.indexOf(n)?(a=$.indexOf(n),$.splice(a,1)):($.push(n),$=$.sort((function(e,t){return e-t})))),0===$.length)l=Q;else{a=y*(1!=$.length||0!=$[0]&&$[0]!=V.length-1?2:1)/function(){for(var e=0,t=0;t<V.length-1;t++)(0<=$.indexOf(t)||0<=$.indexOf(t+1))&&e++;return e}();for(var f=0;f<V.length;f++){if(1==$.length&&0==$[0]){if(0===f){l.push(Q[f]),o=d;continue}}else 0===f&&(o=-1*d);l.push(Q[f]+o),(0<=$.indexOf(f)||f<V.length&&0<=$.indexOf(f+1))&&(o+=a)}}s=function(){for(var e=[],t=0;t<V.length;t++)e.push(l[t]-V[t].y1);return e}();(new Date).getTime();var v=function(e){for(var t,n,i=0;i<V.length;i++)t=s[i],n=V[i],t*=e,"undefined"===typeof p[i]&&(p[i]=0),0>p&&(p*=-1),n.y1+=t-p[i],n.y2+=t-p[i],n.y3+=t-p[i],n.y4+=t-p[i],n.y5&&(n.y5+=t-p[i],n.y6+=t-p[i]),p[i]=t};e._animator.animate(0,i,(function(i){var o=e.plotArea.ctx||e.ctx;K=!0,o.clearRect(g.x1,g.y1,g.x2-g.x1,g.y2-g.y1),o.fillStyle=e.backgroundColor,o.fillRect(g.x1,g.y1,g.width,g.height),v(i,n);var a={};for(a.dataSeries=h,a.dataPoint=h.reversed?h.dataPoints[m.length-1-n]:h.dataPoints[n],a.index=h.reversed?m.length-1-n:n,e.toolTip.highlightObjects([a]),a=0;a<V.length;a++)Z(o,V[a],h.fillOpacity);u(o),k&&("inside"!==h.indexLabelPlacement?r(o):t(),c(o)),1<=i&&(K=!1)}),null,J.easing.easeOutQuart)}function r(e){for(var t,n,i,r,o=0;o<V.length;o++)r=1===q[o].lineThickness%2?.5:0,t=s(n=((V[o].y2+V[o].y4)/2<<0)+r).x2-1,i=q[o].textBlock.x,r=(q[o].textBlock.y+q[o].height/2<<0)+r,q[o].isDirty||0==q[o].lineThickness||(e.strokeStyle=q[o].lineColor,e.lineWidth=q[o].lineThickness,e.setLineDash&&e.setLineDash(v(q[o].lineDashType,q[o].lineThickness)),e.beginPath(),e.moveTo(t,n),e.lineTo(i,r),e.stroke())}function o(e){for(e-=1;-1<=e&&-1!=e&&q[e].isDirty;e--);return e}function a(e){for(e+=1;e<=V.length&&e!=V.length&&q[e].isDirty;e++);return e}function s(e){for(var t,n=0;n<m.length;n++)if(V[n].y1<e&&V[n].y4>e){t=V[n];break}return t?{x1:e=t.y6&&e>t.y6?t.x3+(t.x4-t.x3)/(t.y4-t.y3)*(e-t.y3):t.x2+(t.x3-t.x2)/(t.y3-t.y2)*(e-t.y2),x2:e}:-1}function c(e){for(var t=0;t<V.length;t++)q[t].isDirty||(e&&(q[t].textBlock.ctx=e),q[t].textBlock.render(!0))}function u(e){if(d.plotArea.layoutManager.reset(),e.roundRect||l(e),d.title&&(d.title.dockInsidePlotArea||"center"===d.title.horizontalAlign&&"center"===d.title.verticalAlign)&&(d.title.ctx=e,d.title.render()),d.subtitles)for(var t=0;t<d.subtitles.length;t++){var n=d.subtitles[t];(n.dockInsidePlotArea||"center"===n.horizontalAlign&&"center"===n.verticalAlign)&&(d.subtitles.ctx=e,n.render())}d.legend&&(d.legend.dockInsidePlotArea||"center"===d.legend.horizontalAlign&&"center"===d.legend.verticalAlign)&&(d.legend.ctx=e,d.legend.setLayout(),d.legend.render()),W.fNg&&W.fNg(d)}var d=this;if(!(0>=e.dataSeriesIndexes.length)){for(var h=this.data[e.dataSeriesIndexes[0]],m=h.dataPoints,g=this.plotArea,y=.025*g.width,x=.01*g.width,b=0,_=g.height-2*y,w=Math.min(g.width-2*x,2.8*g.height),k=!1,S=0;S<m.length;S++)!k&&"undefined"!==typeof m[S].indexLabel&&null!==m[S].indexLabel&&0<m[S].indexLabel.toString().length&&(k=!0),!k&&"undefined"!==typeof m[S].label&&null!==m[S].label&&0<m[S].label.toString().length&&(k=!0),(!k&&"function"===typeof h.indexLabelFormatter||"function"===typeof m[S].indexLabelFormatter)&&(k=!0);k=k||"undefined"!==typeof h.indexLabel&&null!==h.indexLabel&&0<h.indexLabel.toString().length,"inside"!==h.indexLabelPlacement&&k||(x=(g.width-.75*w)/2);S=g.x1+x;var C=g.x2-x,E=g.y1+y,T=g.y2-y,M=e.targetCanvasCtx||this.plotArea.ctx||this.ctx;if(0!=h.length&&h.dataPoints&&h.visible&&0!==m.length){var P,I,L=30*(C-(e=75*w/100))/100;"funnel"===h.type?(P=p(h.options.neckHeight)?.35*_:h.neckHeight,I=p(h.options.neckWidth)?.25*e:h.neckWidth,"string"===typeof P&&P.match(/%$/)?P=(P=parseInt(P))*_/100:P=parseInt(P),"string"===typeof I&&I.match(/%$/)?I=(I=parseInt(I))*e/100:I=parseInt(I),P>_?P=_:0>=P&&(P=0),I>e?I=e-.5:0>=I&&(I=0)):"pyramid"===h.type&&(I=P=0,h.reversed=!h.reversed);x=S+e/2;var D=S,O=S+e,R=h.reversed?T:E,z=x-I/2,F=x+I/2,B=h.reversed?E+P:T-P,N=h.reversed?E:T;e=[];x=[];var j,V=[],H=(w=[],E),X=(B-R)/(z-D),G=-X;S="area"===(h.valueRepresents?h.valueRepresents:"height")?function(){var e,t,n=D,i=O,r=z,o=F;e=E,t=T-P,o=Math.abs((t-e)*(i-n+(o-r))/2),e=t-e,t=(r=F-z)*(t-T),t=o+(t=Math.abs(t)),o=[];for(var a=0,s=0;s<m.length;s++){if("undefined"===typeof m[s].y)return-1;m[s].y="number"===typeof m[s].y?m[s].y:0,a+=Math.abs(m[s].y)}if(0===a)return-1;var l,c,u=o[0]=0,d=0;for(i-=n,u=!1,s=0;s<m.length;s++)n=Math.abs(m[s].y)*t/a,u?l=0==Number(r.toFixed(3))?0:n/r:0>(c=X*X*i*i-4*Math.abs(X)*n)?(n-=u=(i+(c=r))*(e-d)/2,l=e-d,d+=e-d,l+=0==c?0:n/c,d+=n/c,u=!0):(c=i-2*(l=(Math.abs(X)*i-Math.sqrt(c))/2)/Math.abs(X),(d+=l)>e&&(u=(i+(c=r))*(e-(d-=l))/2,l=e-d,d+=e-d,l+=(n-=u)/c,d+=n/c,u=!0),i=c),o.push(l);return o}():function(){for(var e=0,t=[],n=0;n<m.length;n++){if("undefined"===typeof m[n].y)return-1;m[n].y="number"===typeof m[n].y?m[n].y:0,e+=Math.abs(m[n].y)}if(0===e)return-1;for(n=t[0]=0;n<m.length;n++)t.push(Math.abs(m[n].y)*_/e);return t}();if(-1!==S){if(h.reversed)for(w.push(H),I=S.length-1;0<I;I--)H+=S[I],w.push(H);else for(I=0;I<S.length;I++)H+=S[I],w.push(H);if(h.reversed)for(I=0;I<S.length;I++)w[I]<B?(e.push(z),x.push(F),j=I):(e.push((w[I]-R+X*D)/X),x.push((w[I]-R+G*O)/G));else for(I=0;I<S.length;I++)w[I]<B?(e.push((w[I]-R+X*D)/X),x.push((w[I]-R+G*O)/G),j=I):(e.push(z),x.push(F));for(I=0;I<S.length-1;I++)H=h.reversed?m[m.length-1-I].color?m[m.length-1-I].color:h._colorSet[(m.length-1-I)%h._colorSet.length]:m[I].color?m[I].color:h._colorSet[I%h._colorSet.length],I===j?V.push({x1:e[I],y1:w[I],x2:x[I],y2:w[I],x3:F,y3:B,x4:x[I+1],y4:w[I+1],x5:e[I+1],y5:w[I+1],x6:z,y6:B,id:I,height:w[I+1]-w[I],color:H}):V.push({x1:e[I],y1:w[I],x2:x[I],y2:w[I],x3:x[I+1],y3:w[I+1],x4:e[I+1],y4:w[I+1],id:I,height:w[I+1]-w[I],color:H});var Y=2,q=[],K=!1,$=[],Q=[];S=!1;for(e=e=0,f($),I=0;I<m.length;I++)m[I].exploded&&(S=!0,h.reversed?$.push(m.length-1-I):$.push(I));if(M.clearRect(g.x1,g.y1,g.width,g.height),M.fillStyle=d.backgroundColor,M.fillRect(g.x1,g.y1,g.width,g.height),k&&h.visible&&(function(){if(h&&m){for(var e,t,n,i,r,o,a,c,u,f,g,v,y,x,b=[],_=[],w={percent:null,total:null},k=null,S=0;S<m.length;S++)x=s(x="undefined"!==typeof(x=V[S]).x5?(x.y2+x.y4)/2:(x.y2+x.y3)/2).x2+1,b[S]=C-x-L;x=.5*L,S=0;for(var E=m.length-1;S<m.length||0<=E;S++,E--)e=(t=h.reversed?m[E]:m[S]).color?t.color:h.reversed?h._colorSet[(m.length-1-S)%h._colorSet.length]:h._colorSet[S%h._colorSet.length],n=t.indexLabelPlacement||h.indexLabelPlacement||"outside",i=t.indexLabelBackgroundColor||h.indexLabelBackgroundColor||(U?"transparent":null),r=t.indexLabelFontColor||h.indexLabelFontColor||"#979797",o=p(t.indexLabelFontSize)?h.indexLabelFontSize:t.indexLabelFontSize,a=t.indexLabelFontStyle||h.indexLabelFontStyle||"normal",c=t.indexLabelFontFamily||h.indexLabelFontFamily||"arial",u=t.indexLabelFontWeight||h.indexLabelFontWeight||"normal",e=t.indexLabelLineColor||h.options.indexLabelLineColor||e,f="number"===typeof t.indexLabelLineThickness?t.indexLabelLineThickness:"number"===typeof h.indexLabelLineThickness?h.indexLabelLineThickness:2,g=t.indexLabelLineDashType||h.indexLabelLineDashType||"solid",v="undefined"!==typeof t.indexLabelWrap?t.indexLabelWrap:"undefined"===typeof h.indexLabelWrap||h.indexLabelWrap,y=h.dataPointIds[S],d._eventManager.objectMap[y]={id:y,objectType:"dataPoint",dataPointIndex:S,dataSeriesIndex:0,funnelSection:V[h.reversed?m.length-1-S:S]},"inside"===h.indexLabelPlacement&&(b[S]=S!==j?h.reversed?V[S].x2-V[S].x1:V[S].x3-V[S].x4:V[S].x3-V[S].x6,20>b[S]&&(b[S]=S!==j&&h.reversed?V[S].x3-V[S].x4:V[S].x2-V[S].x1,b[S]/=2)),((y=t.indexLabelMaxWidth?t.indexLabelMaxWidth:h.options.indexLabelMaxWidth?h.indexLabelMaxWidth:b[S])>b[S]||0>y)&&(y=b[S]),_[S]="inside"===h.indexLabelPlacement&&V[S].height,w=d.getPercentAndTotal(h,t),(h.indexLabelFormatter||t.indexLabelFormatter)&&(k={chart:d.options,dataSeries:h,dataPoint:t,total:w.total,percent:w.percent}),t=t.indexLabelFormatter?t.indexLabelFormatter(k):t.indexLabel?d.replaceKeywordsWithValue(t.indexLabel,t,h,S):h.indexLabelFormatter?h.indexLabelFormatter(k):h.indexLabel?d.replaceKeywordsWithValue(h.indexLabel,t,h,S):t.label?t.label:"",0>=f&&(f=0),1e3>y&&1e3-y<x&&(y+=1e3-y),M.roundRect||l(M),(n=new A(M,{fontSize:o,fontFamily:c,fontColor:r,fontStyle:a,fontWeight:u,horizontalAlign:n,backgroundColor:i,maxWidth:y,maxHeight:!1===_[S]?v?4.28571429*o:1.5*o:_[S],text:t,padding:Y})).measureText(),q.push({textBlock:n,id:h.reversed?E:S,isDirty:!1,lineColor:e,lineThickness:f,lineDashType:g,height:n.height<n.maxHeight?n.height:n.maxHeight,width:n.width<n.maxWidth?n.width:n.maxWidth})}}(),t(),function(){var e,t,n,i,r,o=[];r=!1,n=0;for(var s,l=C-O-L/2,c=(l=h.options.indexLabelMaxWidth?h.indexLabelMaxWidth>l?l:h.indexLabelMaxWidth:l,q.length-1);0<=c;c--)s=m[q[c].id],i=(n=q[c]).textBlock,t=(e=a(c)<V.length?q[a(c)]:null)?e.textBlock:null,n=n.height,e&&i.y+n+Y>t.y&&(r=!0),((n=s.indexLabelMaxWidth||l)>l||0>n)&&(n=l),o.push(n);if(r)for(c=q.length-1;0<=c;c--)e=V[c],q[c].textBlock.maxWidth=o[o.length-(c+1)],q[c].textBlock.measureText(),q[c].textBlock.x=C-l,n=q[c].textBlock.height<q[c].textBlock.maxHeight?q[c].textBlock.height:q[c].textBlock.maxHeight,r=q[c].textBlock.width<q[c].textBlock.maxWidth?q[c].textBlock.width:q[c].textBlock.maxWidth,q[c].height=n,q[c].width=r,n="undefined"!==typeof e.x5?(e.y2+e.y4)/2:(e.y2+e.y3)/2,q[c].textBlock.y=n-q[c].height/2,h.reversed?(q[c].textBlock.y+q[c].height>R+y&&(q[c].textBlock.y=R+y-q[c].height),q[c].textBlock.y<N-y&&(q[c].textBlock.y=N-y)):(q[c].textBlock.y<R-y&&(q[c].textBlock.y=R-y),q[c].textBlock.y+q[c].height>N+y&&(q[c].textBlock.y=N+y-q[c].height))}(),"inside"!==h.indexLabelPlacement)){for(function(){function e(t,i){var r;if(0>t||t>=q.length)return 0;var s,l=q[t].textBlock;return 0>i?(i*=-1,(r=n(s=o(t),t))>=i?(l.y-=i,i):0==t?(0<r&&(l.y-=r),r):(0<(r+=e(s,-(i-r)))&&(l.y-=r),r)):(r=n(t,s=a(t)))>=i?(l.y+=i,i):t==V.length-1?(0<r&&(l.y+=r),r):(0<(r+=e(s,i-r))&&(l.y+=r),r)}function t(){var e,t,n,r,s,l=0;r=(T-E+2*y)/h,s=h;for(var c,u=1;u<s;u++){n=u*r;for(var d=q.length-1;0<=d;d--)!q[d].isDirty&&q[d].textBlock.y<n&&q[d].textBlock.y+q[d].height>n&&!((c=a(d))>=q.length-1)&&q[d].textBlock.y+q[d].height+Y>q[c].textBlock.y&&(q[d].textBlock.y=q[d].textBlock.y+q[d].height-n>n-q[d].textBlock.y?n+1:n-q[d].height-1)}for(c=V.length-1;0<c;c--)if(!q[c].isDirty){if(0>(n=o(c))&&q[n=0].isDirty)break;if(q[c].textBlock.y<q[n].textBlock.y+q[n].height){for(t=t||c,r=c,s=0;q[r].textBlock.y<q[n].textBlock.y+q[n].height+Y;){if(e=e||q[r].textBlock.y+q[r].height,s+=q[r].height,s+=Y,0>=(r=n)){s+=q[r=0].height;break}if(0>(n=o(r))){s+=q[r=0].height;break}}if(r!=c){l=i(e=s-(e-=l=q[r].textBlock.y),t,r);break}}}return l}function i(e,t,n){var i=[],r=0,o=0;for(e=Math.abs(e);n<=t;n++)i.push(V[n]);for(i.sort((function(e,t){return e.height-t.height})),n=0;n<i.length&&(t=i[n],r<e);n++)o++,r+=q[t.id].height+Y,q[t.id].textBlock.text="",q[t.id].indexLabelText="",q[t.id].isDirty=!0,q[t.id].textBlock.measureText();return o}for(var r,s,l,c,u,d,h=1,p=0;p<2*h;p++){for(var f=q.length-1;0<=f&&(0<=o(f)&&o(f),c=(l=q[f]).textBlock,d=(u=a(f)<V.length?q[a(f)]:null)?u.textBlock:null,r=+l.height.toFixed(6),s=+c.y.toFixed(6),!(!l.isDirty&&u&&s+r+Y>+d.y.toFixed(6)&&(r=c.y+r+Y-d.y,s=e(f,-r),s<r&&(0<s&&(r-=s),s=e(a(f),r),s!=r))));f--);t()}}(),I=0;I<m.length;I++)q[I].isDirty||(e=q[I].textBlock.x+q[I].width,e=(C-e)/2,0==I&&(b=e),b>e&&(b=e));for(I=0;I<V.length;I++)V[I].x1+=b,V[I].x2+=b,V[I].x3+=b,V[I].x4+=b,V[I].x5&&(V[I].x5+=b,V[I].x6+=b),q[I].textBlock.x+=b}for(I=0;I<V.length;I++)b=V[I],Z(M,b,h.fillOpacity),Q.push(b.y1);if(u(M),k&&h.visible&&("inside"===h.indexLabelPlacement||d.animationEnabled||r(M),d.animationEnabled||c()),!k)for(I=0;I<m.length;I++)e={id:b=h.dataPointIds[I],objectType:"dataPoint",dataPointIndex:I,dataSeriesIndex:0,funnelSection:V[h.reversed?m.length-1-I:I]},d._eventManager.objectMap[b]=e;return(!d.animationEnabled&&S||d.animationEnabled&&!d.animatedRender)&&i(d,-1,0),this.funnelPyramidClickHandler=function(e){var t=-1;!K&&!d.isAnimating&&(p(e.dataSeries.explodeOnClick)||e.dataSeries.explodeOnClick)&&0<=(t=h.reversed?m.length-1-e.dataPointIndex:e.dataPointIndex)&&(e=t,"funnel"!==h.type&&"pyramid"!==h.type||(h.reversed?m[m.length-1-e].exploded=!m[m.length-1-e].exploded:m[e].exploded=!m[e].exploded),i(d,t,500))},{source:M,dest:this.plotArea.ctx,animationCallback:function(e,t){J.fadeInAnimation(e,t),1<=e&&(i(d,-1,500),u(d.plotArea.ctx||d.ctx))},easingFunction:J.easing.easeInQuad,animationBase:0}}}}},t.prototype.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},t.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,t.prototype.set=function(e,n,i){i="undefined"===typeof i||i,"options"===e?(this.options=n,i&&this.render()):t.base.set.call(this,e,n,i)},t.prototype.exportChart=function(e){var t=(e="undefined"===typeof e?{}:e).format?e.format:"png",n=e.fileName?e.fileName:this.exportFileName;if(e.toDataURL)return this.canvas.toDataURL("image/"+t);u(this.canvas,t,n)},t.prototype.print=function(){var e=this.exportChart({toDataURL:!0}),t=document.createElement("iframe");t.setAttribute("class","canvasjs-chart-print-frame"),t.setAttribute("style","position:absolute; width:100%; border: 0px; margin: 0px 0px 0px 0px; padding 0px 0px 0px 0px;"),t.style.height=this.height+"px",this._canvasJSContainer.appendChild(t);var n=this,i=t.contentWindow||t.contentDocument.document||t.contentDocument;i.document.open(),i.document.write('<!DOCTYPE HTML>\n<html><body style="margin: 0px 0px 0px 0px; padding: 0px 0px 0px 0px;"><img src="'+e+'"/><body/></html>'),i.document.close(),setTimeout((function(){i.focus(),i.print(),setTimeout((function(){n._canvasJSContainer.removeChild(t)}),1e3)}),500)},t.prototype.getPercentAndTotal=function(e,t){var n=null,i=null,r=null;if(0<=e.type.indexOf("stacked"))i=0,(n=t.x.getTime?t.x.getTime():t.x)in e.plotUnit.yTotals&&(i=e.plotUnit.yTotals[n],r=isNaN(t.y)?0:t.y/i*100);else if("pie"===e.type||"doughnut"===e.type||"funnel"===e.type||"pyramid"===e.type){for(n=i=0;n<e.dataPoints.length;n++)isNaN(e.dataPoints[n].y)||(i+=e.dataPoints[n].y);r=isNaN(t.y)?0:t.y/i*100}return{percent:r,total:i}},t.prototype.replaceKeywordsWithValue=function(e,t,n,i,r){var o=this;if(r="undefined"===typeof r?0:r,(0<=n.type.indexOf("stacked")||"pie"===n.type||"doughnut"===n.type||"funnel"===n.type||"pyramid"===n.type)&&(0<=e.indexOf("#percent")||0<=e.indexOf("#total"))){var a="#percent",l="#total",c=this.getPercentAndTotal(n,t);l=isNaN(c.total)?l:c.total,a=isNaN(c.percent)?a:c.percent;do{if(c="",n.percentFormatString)c=n.percentFormatString;else{c="#,##0.";var u=Math.max(Math.ceil(Math.log(1/Math.abs(a))/Math.LN10),2);!isNaN(u)&&isFinite(u)||(u=2);for(var d=0;d<u;d++)c+="#";n.percentFormatString=c}e=(e=e.replace("#percent",ae(a,c,o._cultureInfo))).replace("#total",ae(l,n.yValueFormatString?n.yValueFormatString:"#,##0.########",o._cultureInfo))}while(0<=e.indexOf("#percent")||0<=e.indexOf("#total"))}return e.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,(function(e){if('"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1])return e.slice(1,e.length-1);e=(e=s(e.slice(1,e.length-1))).replace("#index",r);var a=null;try{var c=e.match(/(.*?)\s*\[\s*(.*?)\s*\]/);c&&0<c.length&&(a=s(c[2]),e=s(c[1]))}catch(l){}if(c=null,"color"===e)return"waterfall"===n.type?t.color?t.color:0<t.y?n.risingColor:n.fallingColor:"error"===n.type?n.color?n.color:n._colorSet[a%n._colorSet.length]:t.color?t.color:n.color?n.color:n._colorSet[i%n._colorSet.length];if(t.hasOwnProperty(e))c=t;else{if(!n.hasOwnProperty(e))return"";c=n}return c=c[e],null!==a&&(c=c[a]),"x"!==e?"y"===e?ae(c,t.yValueFormatString?t.yValueFormatString:n.yValueFormatString?n.yValueFormatString:n.yValueFormatString="#,##0.########",o._cultureInfo):"z"===e?ae(c,t.zValueFormatString?t.zValueFormatString:n.zValueFormatString?n.zValueFormatString:n.zValueFormatString="#,##0.########",o._cultureInfo):c:"dateTime"===n.axisX.valueType||"dateTime"===n.xValueType||t.x&&t.x.getTime?o.plotInfo.plotTypes[0].plotUnits[0].axisX&&!o.plotInfo.plotTypes[0].plotUnits[0].axisX.logarithmic?oe(c,t.xValueFormatString?t.xValueFormatString:n.xValueFormatString?n.xValueFormatString:n.xValueFormatString=o.axisX&&o.axisX.autoValueFormatString?o.axisX.autoValueFormatString:"DD MMM YY",o._cultureInfo):void 0:ae(c,t.xValueFormatString?t.xValueFormatString:n.xValueFormatString?n.xValueFormatString:n.xValueFormatString="#,##0.########",o._cultureInfo)}))},n(z,M),z.prototype.setLayout=function(){var e=this.dockInsidePlotArea?this.chart.plotArea:this.chart,t=e.layoutManager.getFreeSpace(),n=null,i=0,r=0,o=0,a=0,s=this.markerMargin=this.chart.options.legend&&!p(this.chart.options.legend.markerMargin)?this.chart.options.legend.markerMargin:.3*this.fontSize;this.height=0;var l=[],c=[];"top"===this.verticalAlign||"bottom"===this.verticalAlign?(this.orientation="horizontal",n=this.verticalAlign,o=this.maxWidth=null!==this.maxWidth?this.maxWidth:t.width,a=this.maxHeight=null!==this.maxHeight?this.maxHeight:.5*t.height):"center"===this.verticalAlign&&(this.orientation="vertical",n=this.horizontalAlign,o=this.maxWidth=null!==this.maxWidth?this.maxWidth:.5*t.width,a=this.maxHeight=null!==this.maxHeight?this.maxHeight:t.height),this.errorMarkerColor=[];for(var u=0;u<this.dataSeries.length;u++){var d=this.dataSeries[u];if(d.dataPoints&&d.dataPoints.length)if("pie"!==d.type&&"doughnut"!==d.type&&"funnel"!==d.type&&"pyramid"!==d.type){var h=d.legendMarkerType=d.legendMarkerType?d.legendMarkerType:"line"!==d.type&&"stepLine"!==d.type&&"spline"!==d.type&&"scatter"!==d.type&&"bubble"!==d.type||!d.markerType?"error"===d.type&&d._linkedSeries?d._linkedSeries.legendMarkerType?d._linkedSeries.legendMarkerType:F.getDefaultLegendMarker(d._linkedSeries.type):F.getDefaultLegendMarker(d.type):d.markerType,f=d.legendText?d.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:d,dataPoint:null}):d.name,m=d.legendMarkerColor=d.legendMarkerColor?d.legendMarkerColor:d.markerColor?d.markerColor:"error"===d.type?p(d.whiskerColor)?d._colorSet[0]:d.whiskerColor:d._colorSet[0],g=d.markerSize||"line"!==d.type&&"stepLine"!==d.type&&"spline"!==d.type?.75*this.lineHeight:0,v=d.legendMarkerBorderColor?d.legendMarkerBorderColor:d.markerBorderColor,y=d.legendMarkerBorderThickness?d.legendMarkerBorderThickness:d.markerBorderThickness?Math.max(1,Math.round(.2*g)):0;"error"===d.type&&this.errorMarkerColor.push(m),h={markerType:h,markerColor:m,text:f=this.chart.replaceKeywordsWithValue(f,d.dataPoints[0],d,u),textBlock:null,chartType:d.type,markerSize:g,lineColor:d._colorSet[0],dataSeriesIndex:d.index,dataPointIndex:null,markerBorderColor:v,markerBorderThickness:y},l.push(h)}else for(var x=0;x<d.dataPoints.length;x++){var b=d.dataPoints[x];h=b.legendMarkerType?b.legendMarkerType:d.legendMarkerType?d.legendMarkerType:F.getDefaultLegendMarker(d.type),f=b.legendText?b.legendText:d.legendText?d.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:d,dataPoint:b}):b.name?b.name:"DataPoint: "+(x+1),m=b.legendMarkerColor?b.legendMarkerColor:d.legendMarkerColor?d.legendMarkerColor:b.color?b.color:d.color?d.color:d._colorSet[x%d._colorSet.length],g=.75*this.lineHeight,v=b.legendMarkerBorderColor?b.legendMarkerBorderColor:d.legendMarkerBorderColor?d.legendMarkerBorderColor:b.markerBorderColor?b.markerBorderColor:d.markerBorderColor,y=b.legendMarkerBorderThickness?b.legendMarkerBorderThickness:d.legendMarkerBorderThickness?d.legendMarkerBorderThickness:b.markerBorderThickness||d.markerBorderThickness?Math.max(1,Math.round(.2*g)):0,h={markerType:h,markerColor:m,text:f=this.chart.replaceKeywordsWithValue(f,b,d,x),textBlock:null,chartType:d.type,markerSize:g,dataSeriesIndex:u,dataPointIndex:x,markerBorderColor:v,markerBorderThickness:y};(b.showInLegend||d.showInLegend&&!1!==b.showInLegend)&&l.push(h)}}if(!0===this.reversed&&l.reverse(),0<l.length){for(d=null,m=f=b=x=0,b=null!==this.itemWidth?null!==this.itemMaxWidth?Math.min(this.itemWidth,this.itemMaxWidth,o):this.itemMaxWidth=Math.min(this.itemWidth,o):null!==this.itemMaxWidth?Math.min(this.itemMaxWidth,o):this.itemMaxWidth=o,b-=(g=0===g?.75*this.lineHeight:g)+s,u=0;u<l.length;u++)v=b,"line"!==(h=l[u]).chartType&&"spline"!==h.chartType&&"stepLine"!==h.chartType||(v-=.2*this.lineHeight),0>=a||"undefined"===typeof a||0>=v||"undefined"===typeof v||("horizontal"===this.orientation?(h.textBlock=new A(this.ctx,{x:0,y:0,maxWidth:v,maxHeight:this.itemWrap?a:this.lineHeight,angle:0,text:h.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),h.textBlock.measureText(),null!==this.itemWidth&&(h.textBlock.width=this.itemWidth-(g+s+("line"===h.chartType||"spline"===h.chartType||"stepLine"===h.chartType?.2*this.lineHeight:0))),(!d||d.width+Math.round(h.textBlock.width+g+s+(0===d.width?0:this.horizontalSpacing)+("line"===h.chartType||"spline"===h.chartType||"stepLine"===h.chartType?.2*this.lineHeight:0))>o)&&(d={items:[],width:0},c.push(d),this.height+=f,f=0),f=Math.max(f,h.textBlock.height)):(h.textBlock=new A(this.ctx,{x:0,y:0,maxWidth:b,maxHeight:!0===this.itemWrap?a:1.5*this.fontSize,angle:0,text:h.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),h.textBlock.measureText(),null!==this.itemWidth&&(h.textBlock.width=this.itemWidth-(g+s+("line"===h.chartType||"spline"===h.chartType||"stepLine"===h.chartType?.2*this.lineHeight:0))),this.height<a-this.lineHeight?(d={items:[],width:0},c.push(d)):(d=c[x],x=(x+1)%c.length),this.height+=h.textBlock.height),h.textBlock.x=d.width,h.textBlock.y=0,d.width+=Math.round(h.textBlock.width+g+s+(0===d.width?0:this.horizontalSpacing)+("line"===h.chartType||"spline"===h.chartType||"stepLine"===h.chartType?.2*this.lineHeight:0)),d.items.push(h),this.width=Math.max(d.width,this.width),m=h.textBlock.width+(g+s+("line"===h.chartType||"spline"===h.chartType||"stepLine"===h.chartType?.2*this.lineHeight:0)));this.itemWidth=m,this.height=!1===this.itemWrap?c.length*this.lineHeight:this.height+f,this.height=Math.min(a,this.height),this.width=Math.min(o,this.width)}for("top"===this.verticalAlign?(r="left"===this.horizontalAlign?t.x1:"right"===this.horizontalAlign?t.x2-this.width:t.x1+t.width/2-this.width/2,i=t.y1):"center"===this.verticalAlign?(r="left"===this.horizontalAlign?t.x1:"right"===this.horizontalAlign?t.x2-this.width:t.x1+t.width/2-this.width/2,i=t.y1+t.height/2-this.height/2):"bottom"===this.verticalAlign&&(r="left"===this.horizontalAlign?t.x1:"right"===this.horizontalAlign?t.x2-this.width:t.x1+t.width/2-this.width/2,i=t.y2-this.height),this.items=l,u=0;u<this.items.length;u++)(h=l[u]).id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[h.id]={id:h.id,objectType:"legendItem",legendItemIndex:u,dataSeriesIndex:h.dataSeriesIndex,dataPointIndex:h.dataPointIndex};this.markerSize=g,this.rows=c,0<l.length&&e.layoutManager.registerSpace(n,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:r,y1:i,x2:r+this.width,y2:i+this.height}},z.prototype.render=function(){var e=this.bounds.x1,t=this.bounds.y1,n=this.markerMargin,i=this.maxWidth,r=this.maxHeight,o=this.markerSize,a=this.rows;(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(e,t,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor);for(var s=0,l=0;l<a.length;l++){for(var c=a[l],u=0,h=0;h<c.items.length;h++){var p=c.items[h],f=p.textBlock.x+e+(0===h?.2*o:this.horizontalSpacing),m=t+s,g=f;if(this.chart.data[p.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(e,t,i,Math.max(r-r%this.lineHeight,0)),this.ctx.clip(),"line"!==p.chartType&&"stepLine"!==p.chartType&&"spline"!==p.chartType||(this.ctx.strokeStyle=p.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(f-.1*this.lineHeight,m+this.lineHeight/2),this.ctx.lineTo(f+.85*this.lineHeight,m+this.lineHeight/2),this.ctx.stroke(),g-=.1*this.lineHeight),"error"===p.chartType){this.ctx.strokeStyle=this.errorMarkerColor[0],this.ctx.lineWidth=o/8,this.ctx.beginPath();var v=f-.08*this.lineHeight+.1*this.lineHeight,y=m+.15*this.lineHeight,x=.7*this.lineHeight,b=x+.02*this.lineHeight;this.ctx.moveTo(v,y),this.ctx.lineTo(v+x,y),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(v+x/2,y),this.ctx.lineTo(v+x/2,y+b),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(v,y+b),this.ctx.lineTo(v+x,y+b),this.ctx.stroke(),this.errorMarkerColor.shift()}te.drawMarker(f+o/2,m+this.lineHeight/2,this.ctx,p.markerType,"error"===p.chartType||"line"===p.chartType||"spline"===p.chartType?p.markerSize/2:p.markerSize,p.markerColor,p.markerBorderColor,p.markerBorderThickness),p.textBlock.x=f+n+o,"line"!==p.chartType&&"stepLine"!==p.chartType&&"spline"!==p.chartType||(p.textBlock.x+=.1*this.lineHeight),p.textBlock.y=Math.round(m+this.lineHeight/2),p.textBlock.render(!0),this.ctx.restore(),u=0<h?Math.max(u,p.textBlock.height):p.textBlock.height,this.chart.data[p.dataSeriesIndex].visible||(this.ctx.globalAlpha=1),f=d(p.id),this.ghostCtx.fillStyle=f,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(g,p.textBlock.y-this.lineHeight/2,p.textBlock.x+p.textBlock.width-g,p.textBlock.height),p.x1=this.chart._eventManager.objectMap[p.id].x1=g,p.y1=this.chart._eventManager.objectMap[p.id].y1=p.textBlock.y-this.lineHeight/2,p.x2=this.chart._eventManager.objectMap[p.id].x2=p.textBlock.x+p.textBlock.width,p.y2=this.chart._eventManager.objectMap[p.id].y2=p.textBlock.y+p.textBlock.height-this.lineHeight/2}s+=u}},n(F,M),F.prototype.getDefaultAxisPlacement=function(){var e=this.type;return"column"===e||"line"===e||"stepLine"===e||"spline"===e||"area"===e||"stepArea"===e||"splineArea"===e||"stackedColumn"===e||"stackedLine"===e||"bubble"===e||"scatter"===e||"stackedArea"===e||"stackedColumn100"===e||"stackedLine100"===e||"stackedArea100"===e||"candlestick"===e||"ohlc"===e||"rangeColumn"===e||"rangeArea"===e||"rangeSplineArea"===e||"boxAndWhisker"===e||"waterfall"===e?"normal":"bar"===e||"stackedBar"===e||"stackedBar100"===e||"rangeBar"===e?"xySwapped":"pie"===e||"doughnut"===e||"funnel"===e||"pyramid"===e?"none":("error"!==e&&window.console.log("Unknown Chart Type: "+e),null)},F.getDefaultLegendMarker=function(e){return"column"===e||"stackedColumn"===e||"stackedLine"===e||"bar"===e||"stackedBar"===e||"stackedBar100"===e||"bubble"===e||"scatter"===e||"stackedColumn100"===e||"stackedLine100"===e||"stepArea"===e||"candlestick"===e||"ohlc"===e||"rangeColumn"===e||"rangeBar"===e||"rangeArea"===e||"rangeSplineArea"===e||"boxAndWhisker"===e||"waterfall"===e?"square":"line"===e||"stepLine"===e||"spline"===e||"pie"===e||"doughnut"===e?"circle":"area"===e||"splineArea"===e||"stackedArea"===e||"stackedArea100"===e||"funnel"===e||"pyramid"===e?"triangle":"error"===e?"none":(window.console.log("Unknown Chart Type: "+e),null)},F.prototype.getDataPointAtX=function(e,t){if(!this.dataPoints||0===this.dataPoints.length)return null;var n={dataPoint:null,distance:1/0,index:NaN},i=null,r=0,o=0,a=1,s=1/0,l=0,c=0,u=0;for("none"!==this.chart.plotInfo.axisPlacement&&(this.axisX.logarithmic?u=1<(u=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/u*Math.log(e/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0:u=0<(u=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/u*(e-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(0<=(o=0<a?u+r:u-r)&&o<this.dataPoints.length){i=this.dataPoints[o];var d=this.axisX.logarithmic?i.x>e?i.x/e:e/i.x:Math.abs(i.x-e);if(d<n.distance&&(n.dataPoint=i,n.distance=d,n.index=o),(i=d)<=s?s=i:0<a?l++:c++,1e3<l&&1e3<c)break}else if(0>u-r&&u+r>=this.dataPoints.length)break;-1===a?(r++,a=1):a=-1}return t||n.dataPoint.x!==e?t&&null!==n.dataPoint?n:null:n},F.prototype.getDataPointAtXY=function(e,t,n){if(!this.dataPoints||0===this.dataPoints.length||e<this.chart.plotArea.x1||e>this.chart.plotArea.x2||t<this.chart.plotArea.y1||t>this.chart.plotArea.y2)return null;n=n||!1;var i=[],r=0,o=0,a=1,s=!1,l=1/0,c=0,u=0,d=0;if("none"!==this.chart.plotInfo.axisPlacement)if(d=(this.chart.axisX[0]?this.chart.axisX[0]:this.chart.axisX2[0]).getXValueAt({x:e,y:t}),this.axisX.logarithmic)d=1<(h=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/h*Math.log(d/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0;else d=0<(h=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/h*(d-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0;for(;;){if(0<=(o=0<a?d+r:d-r)&&o<this.dataPoints.length){var h=this.chart._eventManager.objectMap[this.dataPointIds[o]],p=this.dataPoints[o],f=null;if(h){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":case"waterfall":case"error":e>=h.x1&&e<=h.x2&&t>=h.y1&&t<=h.y2&&(i.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:Math.min(Math.abs(h.x1-e),Math.abs(h.x2-e),Math.abs(h.y1-t),Math.abs(h.y2-t))}),s=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var m=b("markerSize",p,this)||4,g=n?20:m;(f=Math.sqrt(Math.pow(h.x1-e,2)+Math.pow(h.y1-t,2)))<=g&&i.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:f}),(h=Math.abs(h.x1-e))<=l?l=h:0<a?c++:u++,f<=m/2&&(s=!0);break;case"rangeArea":case"rangeSplineArea":m=b("markerSize",p,this)||4,g=n?20:m,(f=Math.min(Math.sqrt(Math.pow(h.x1-e,2)+Math.pow(h.y1-t,2)),Math.sqrt(Math.pow(h.x1-e,2)+Math.pow(h.y2-t,2))))<=g&&i.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:f}),(h=Math.abs(h.x1-e))<=l?l=h:0<a?c++:u++,f<=m/2&&(s=!0);break;case"bubble":m=h.size,(f=Math.sqrt(Math.pow(h.x1-e,2)+Math.pow(h.y1-t,2)))<=m/2&&(i.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:f}),s=!0);break;case"pie":case"doughnut":m=h.center,g="doughnut"===this.type?h.percentInnerRadius*h.radius:0,(f=Math.sqrt(Math.pow(m.x-e,2)+Math.pow(m.y-t,2)))<h.radius&&f>g&&(0>(f=Math.atan2(t-m.y,e-m.x))&&(f+=2*Math.PI),f=Number(((f/Math.PI*180%360+360)%360).toFixed(12)),m=Number(((h.startAngle/Math.PI*180%360+360)%360).toFixed(12)),0===(g=Number(((h.endAngle/Math.PI*180%360+360)%360).toFixed(12)))&&1<h.endAngle&&(g=360),m>=g&&0!==p.y&&(g+=360,f<m&&(f+=360)),f>m&&f<g&&(i.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:0}),s=!0));break;case"funnel":case"pyramid":t>(f=h.funnelSection).y1&&t<f.y4&&(f.y6?t>f.y6?(o=f.x6+(f.x5-f.x6)/(f.y5-f.y6)*(t-f.y6),f=f.x3+(f.x4-f.x3)/(f.y4-f.y3)*(t-f.y3)):(o=f.x1+(f.x6-f.x1)/(f.y6-f.y1)*(t-f.y1),f=f.x2+(f.x3-f.x2)/(f.y3-f.y2)*(t-f.y2)):(o=f.x1+(f.x4-f.x1)/(f.y4-f.y1)*(t-f.y1),f=f.x2+(f.x3-f.x2)/(f.y3-f.y2)*(t-f.y2)),e>o&&e<f&&(i.push({dataPoint:p,dataPointIndex:h.dataPointIndex,dataSeries:this,distance:0}),s=!0));break;case"boxAndWhisker":(e>=h.x1-h.borderThickness/2&&e<=h.x2+h.borderThickness/2&&t>=h.y4-h.borderThickness/2&&t<=h.y1+h.borderThickness/2||Math.abs(h.x2-e+h.x1-e)<h.borderThickness&&t>=h.y1&&t<=h.y4)&&(i.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:Math.min(Math.abs(h.x1-e),Math.abs(h.x2-e),Math.abs(h.y2-t),Math.abs(h.y3-t))}),s=!0);break;case"candlestick":(e>=h.x1-h.borderThickness/2&&e<=h.x2+h.borderThickness/2&&t>=h.y2-h.borderThickness/2&&t<=h.y3+h.borderThickness/2||Math.abs(h.x2-e+h.x1-e)<h.borderThickness&&t>=h.y1&&t<=h.y4)&&(i.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:Math.min(Math.abs(h.x1-e),Math.abs(h.x2-e),Math.abs(h.y2-t),Math.abs(h.y3-t))}),s=!0);break;case"ohlc":(Math.abs(h.x2-e+h.x1-e)<h.borderThickness&&t>=h.y2&&t<=h.y3||e>=h.x1&&e<=(h.x2+h.x1)/2&&t>=h.y1-h.borderThickness/2&&t<=h.y1+h.borderThickness/2||e>=(h.x1+h.x2)/2&&e<=h.x2&&t>=h.y4-h.borderThickness/2&&t<=h.y4+h.borderThickness/2)&&(i.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:Math.min(Math.abs(h.x1-e),Math.abs(h.x2-e),Math.abs(h.y2-t),Math.abs(h.y3-t))}),s=!0)}if(s||1e3<c&&1e3<u)break}}else if(0>d-r&&d+r>=this.dataPoints.length)break;-1===a?(r++,a=1):a=-1}for(e=null,t=0;t<i.length;t++)e?i[t].distance<=e.distance&&(e=i[t]):e=i[t];return e},F.prototype.getMarkerProperties=function(e,t,n,i){var r=this.dataPoints;return{x:t,y:n,ctx:i,type:r[e].markerType?r[e].markerType:this.markerType,size:r[e].markerSize?r[e].markerSize:this.markerSize,color:r[e].markerColor?r[e].markerColor:this.markerColor?this.markerColor:r[e].color?r[e].color:this.color?this.color:this._colorSet[e%this._colorSet.length],borderColor:r[e].markerBorderColor?r[e].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,borderThickness:r[e].markerBorderThickness?r[e].markerBorderThickness:this.markerBorderThickness?this.markerBorderThickness:null}},n(B,M),B.prototype.createExtraLabelsForLog=function(e){if(!(5<(e=(e||0)+1))){var t=this.logLabelValues[0]||this.intervalStartPosition;if(Math.log(this.range)/Math.log(t/this.viewportMinimum)<this.noTicks-1){for(var n=B.getNiceNumber((t-this.viewportMinimum)/Math.min(Math.max(2,this.noTicks-this.logLabelValues.length),3),!0),i=Math.ceil(this.viewportMinimum/n)*n;i<t;i+=n)i<this.viewportMinimum||this.logLabelValues.push(i);this.logLabelValues.sort(c),this.createExtraLabelsForLog(e)}}},B.prototype.createLabels=function(){var e,t,n,i,a,s=0,l=0,c=0,u=0,d=(l=0,l=this.interval,0),h=.6*this.chart.height;e=!1;var f=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],m=f.length?p(this.scaleBreaks.firstBreakIndex)?0:this.scaleBreaks.firstBreakIndex:0;if("axisX"!==this.type||"dateTime"!==this.valueType||this.logarithmic){if(n=this.viewportMaximum,this.labels){e=Math.ceil(l);var g=!1;for(s=l=Math.ceil(this.intervalStartPosition);s<this.viewportMaximum;s+=e){if(!this.labels[s]){g=!1;break}g=!0}g&&(this.interval=e,this.intervalStartPosition=l)}if(this.logarithmic&&!this.equidistantInterval)for(this.logLabelValues||(this.logLabelValues=[],this.createExtraLabelsForLog()),l=0,g=m;l<this.logLabelValues.length;l++)if((s=this.logLabelValues[l])<this.viewportMinimum)l++;else{for(;g<f.length&&s>f[g].endValue;g++);a=s,(e=g<f.length&&s>=f[g].startValue&&s<=f[g].endValue)||(e=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:a,label:this.labels[a]?this.labels[a]:null}):"axisX"===this.type&&this.labels[a]?this.labels[a]:ae(a,this.valueFormatString,this.chart._cultureInfo),e=new A(this.ctx,r({x:0,y:0,maxWidth:c,maxHeight:u,angle:this.labelAngle,text:this.prefix+e+this.suffix,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"},"borderThickness",0)),this._labels.push({position:a,textBlock:e,effectiveHeight:null}))}for(g=m,s=this.intervalStartPosition;s<=n;s=parseFloat(1e-12>this.interval?this.logarithmic&&this.equidistantInterval?s*Math.pow(this.logarithmBase,this.interval):s+this.interval:(this.logarithmic&&this.equidistantInterval?s*Math.pow(this.logarithmBase,this.interval):s+this.interval).toFixed(12))){for(;g<f.length&&s>f[g].endValue;g++);a=s,(e=g<f.length&&s>=f[g].startValue&&s<=f[g].endValue)||(e=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:a,label:this.labels[a]?this.labels[a]:null}):"axisX"===this.type&&this.labels[a]?this.labels[a]:ae(a,this.valueFormatString,this.chart._cultureInfo),e=new A(this.ctx,{x:0,y:0,maxWidth:c,maxHeight:u,angle:this.labelAngle,text:this.prefix+e+this.suffix,horizontalAlign:"left",backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:a,textBlock:e,effectiveHeight:null}))}}else for(this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval),n=o(new Date(this.viewportMaximum),this.interval,this.intervalType),g=m,s=this.intervalStartPosition;s<n;o(s,l,this.intervalType)){for(e=s.getTime();g<f.length&&e>f[g].endValue;g++);a=e,(e=g<f.length&&e>=f[g].startValue&&e<=f[g].endValue)||(e=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:new Date(a),label:this.labels[a]?this.labels[a]:null}):"axisX"===this.type&&this.labels[a]?this.labels[a]:oe(a,this.valueFormatString,this.chart._cultureInfo),e=new A(this.ctx,{x:0,y:0,maxWidth:c,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxHeight:u,angle:this.labelAngle,text:this.prefix+e+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:a,textBlock:e,effectiveHeight:null,breaksLabelType:void 0}))}for("bottom"===this._position||"top"===this._position?(d=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.width*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.width/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*ee[this.intervalType+"Duration"]*this.interval,c="undefined"===typeof this.options.labelMaxWidth?.5*this.chart.width>>0:this.options.labelMaxWidth,this.chart.panEnabled||(u="undefined"===typeof this.options.labelWrap||this.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize)):"left"!==this._position&&"right"!==this._position||(d=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.height*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.height/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*ee[this.intervalType+"Duration"]*this.interval,this.chart.panEnabled||(c="undefined"===typeof this.options.labelMaxWidth?.3*this.chart.width>>0:this.options.labelMaxWidth),u="undefined"===typeof this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize),l=0;l<this._labels.length;l++){(e=this._labels[l].textBlock).maxWidth=c,e.maxHeight=u;var v=e.measureText();i=v.height}if(n=[],m=f=0,this.labelAutoFit||this.options.labelAutoFit)if(p(this.labelAngle)||(this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360)),"bottom"===this._position||"top"===this._position)if(c=.9*d>>0,m=0,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=c,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,s=0;s<this._labels.length;s++)if(!this._labels[s].breaksLabelType){var y;for(g=(e=this._labels[s].textBlock).text.split(" "),l=0;l<g.length;l++)a=g[l],this.ctx.font=e.fontStyle+" "+e.fontWeight+" "+e.fontSize+"px "+e.fontFamily,(a=this.ctx.measureText(a)).width>m&&(y=s,m=a.width)}for(s=0,s=this.intervalStartPosition<this.viewportMinimum?1:0;s<this._labels.length;s++)if(!this._labels[s].breaksLabelType){for(v=(e=this._labels[s].textBlock).measureText(),g=s+1;g<this._labels.length;g++)if(!this._labels[g].breaksLabelType){t=(t=this._labels[g].textBlock).measureText();break}if(n.push(e.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,n),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),l=c*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(u-e.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),p(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle)if(this.sessionVariables.labelMaxHeight=0===this.labelAngle?u:Math.min((l-c*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),l),a=(h-(i+e.fontSize/2)*Math.cos(Math.PI/180*Math.abs(-25)))/Math.sin(Math.PI/180*Math.abs(-25)),p(this.options.labelWrap)){if(p(this.options.labelWrap))if(p(this.options.labelMaxWidth)){if(!p(t))if(l=v.width+t.width>>0,g=this.labelFontSize,m<c)l-2*c>f&&(f=l-2*c,l>=2*c&&l<2.2*c?(this.sessionVariables.labelMaxWidth=c,p(this.options.labelFontSize)&&12<g&&(g=Math.floor(12/13*g),e.measureText()),this.sessionVariables.labelFontSize=p(this.options.labelFontSize)?g:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):l>=2.2*c&&l<2.8*c?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelFontSize=g):l>=2.8*c&&l<3.2*c?(this.sessionVariables.labelMaxWidth=Math.max(c,m),this.sessionVariables.labelWrap=!0,p(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),e.measureText()),this.sessionVariables.labelFontSize=p(this.options.labelFontSize)?g:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):l>=3.2*c&&l<3.6*c?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelFontSize=this.labelFontSize):l>3.6*c&&l<5*c?(p(this.options.labelFontSize)&&12<g&&(g=Math.floor(12/13*g),e.measureText()),this.sessionVariables.labelFontSize=p(this.options.labelFontSize)?g:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=a):l>5*c&&(this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=c,this.sessionVariables.labelFontSize=g,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelAngle=this.labelAngle));else if(y===s&&(0===y&&m+this._labels[y+1].textBlock.measureText().width-2*c>f||y===this._labels.length-1&&m+this._labels[y-1].textBlock.measureText().width-2*c>f||0<y&&y<this._labels.length-1&&m+this._labels[y+1].textBlock.measureText().width-2*c>f&&m+this._labels[y-1].textBlock.measureText().width-2*c>f))f=0===y?m+this._labels[y+1].textBlock.measureText().width-2*c:m+this._labels[y-1].textBlock.measureText().width-2*c,this.sessionVariables.labelFontSize=p(this.options.labelFontSize)?g:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=a;else if(0===f)for(this.sessionVariables.labelFontSize=p(this.options.labelFontSize)?g:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,l=0;l<this._labels.length;l++)(e=this._labels[l].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(c,m),a),v=e.measureText(),l<this._labels.length-1&&(g=l+1,(t=this._labels[g].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(c,m),a),t=t.measureText(),v.width+t.width>>0>2*c&&(this.sessionVariables.labelAngle=-25))}else this.options.labelMaxWidth<c?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=l):(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=u)}else this.labelWrap?p(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=Math.min(Math.max(c,m),a),this.sessionVariables.labelWrap=this.labelWrap,v.width+t.width>>0>2*c&&(this.sessionVariables.labelAngle=-25)):(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>c?-25:this.sessionVariables.labelAngle):p(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelMaxWidth=c,v.width+t.width>>0>2*c&&(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=a)):(this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>c?-25:this.sessionVariables.labelAngle,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelWrap=this.labelWrap);else this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxHeight=0===this.labelAngle?u:Math.min((l-c*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),l),a=0!=this.labelAngle?(h-(i+e.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)):c,this.sessionVariables.labelMaxHeight=u=this.labelWrap?(h-a*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)):1.5*this.labelFontSize,p(this.options.labelWrap)?p(this.options.labelWrap)&&(this.labelWrap&&!p(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:a,this.sessionVariables.labelMaxHeight=u):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelMaxHeight=l<.9*d?.9*d:l,this.sessionVariables.labelWrap=this.labelWrap)):(this.options.labelWrap?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:a):(p(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:a,this.sessionVariables.labelWrap=this.labelWrap),this.sessionVariables.labelMaxHeight=u)}for(l=0;l<this._labels.length;l++)(e=this._labels[l].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,e.fontSize=this.sessionVariables.labelFontSize,e.angle=this.labelAngle=this.sessionVariables.labelAngle,e.wrap=this.labelWrap=this.sessionVariables.labelWrap,e.maxHeight=this.sessionVariables.labelMaxHeight,e.measureText()}else for(s=0;s<this._labels.length;s++)(e=this._labels[s].textBlock).maxWidth=this.labelMaxWidth=p(this.options.labelMaxWidth)?this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,e.fontSize=this.labelFontSize=p(this.options.labelFontSize)?this.sessionVariables.labelFontSize:this.options.labelFontSize,e.angle=this.labelAngle=p(this.options.labelAngle)?this.sessionVariables.labelAngle:this.labelAngle,e.wrap=this.labelWrap=p(this.options.labelWrap)?this.sessionVariables.labelWrap:this.options.labelWrap,e.maxHeight=this.sessionVariables.labelMaxHeight,e.measureText();else if("left"===this._position||"right"===this._position)if(c=p(this.options.labelMaxWidth)?.3*this.chart.width>>0:this.options.labelMaxWidth,u="undefined"===typeof this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=c,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelAngle=p(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,s=0;s<this._labels.length;s++)if(!this._labels[s].breaksLabelType){for(v=(e=this._labels[s].textBlock).measureText(),g=s+1;g<this._labels.length;g++)if(!this._labels[g].breaksLabelType){t=(t=this._labels[g].textBlock).measureText();break}n.push(e.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,n),l=c*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(u-e.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),p(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle?p(this.options.labelWrap)?p(this.options.labelWrap)&&(p(this.options.labelMaxWidth)?p(t)||(d=v.height+t.height>>0)-2*u>m&&(m=d-2*u,d>=2*u&&d<2.4*u?(p(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),e.measureText()),this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelFontSize=p(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize):d>=2.4*u&&d<2.8*u?(this.sessionVariables.labelMaxHeight=l,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelWrap=!0):d>=2.8*u&&d<3.2*u?(this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelWrap=!0,p(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),e.measureText()),this.sessionVariables.labelFontSize=p(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelAngle=p(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):d>=3.2*u&&d<3.6*u?(this.sessionVariables.labelMaxHeight=l,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelFontSize=this.labelFontSize):d>3.6*u&&d<10*u?(p(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),e.measureText()),this.sessionVariables.labelFontSize=p(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxWidth=c,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelAngle=p(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):d>10*u&&d<50*u&&(p(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),e.measureText()),this.sessionVariables.labelFontSize=p(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelMaxWidth=c,this.sessionVariables.labelAngle=p(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle)):(this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth)):(this.sessionVariables.labelMaxWidth=this.labelWrap||this.labelMaxWidth?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:c,this.sessionVariables.labelMaxHeight=u):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=0===this.labelAngle?c:Math.min((l-u*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)),u),p(this.options.labelWrap)?p(this.options.labelWrap)&&(this.labelWrap&&!p(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth>this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=l):(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:c,this.sessionVariables.labelMaxHeight=0===this.labelAngle?u:l,p(this.options.labelMaxWidth)&&(this.sessionVariables.labelAngle=this.labelAngle))):this.options.labelWrap?(this.sessionVariables.labelMaxHeight=0===this.labelAngle?u:l,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=c):(this.sessionVariables.labelMaxHeight=u,p(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap))}for(l=0;l<this._labels.length;l++)(e=this._labels[l].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,e.fontSize=this.labelFontSize=this.sessionVariables.labelFontSize,e.angle=this.labelAngle=this.sessionVariables.labelAngle,e.wrap=this.labelWrap=this.sessionVariables.labelWrap,e.maxHeight=this.sessionVariables.labelMaxHeight,e.measureText()}else for(s=0;s<this._labels.length;s++)(e=this._labels[s].textBlock).maxWidth=this.labelMaxWidth=p(this.options.labelMaxWidth)?this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,e.fontSize=this.labelFontSize=p(this.options.labelFontSize)?this.sessionVariables.labelFontSize:this.options.labelFontSize,e.angle=this.labelAngle=p(this.options.labelAngle)?this.sessionVariables.labelAngle:this.labelAngle,e.wrap=this.labelWrap=p(this.options.labelWrap)?this.sessionVariables.labelWrap:this.options.labelWrap,e.maxHeight=this.sessionVariables.labelMaxHeight,e.measureText();for(s=0;s<this.stripLines.length;s++){var x;"outside"===(c=this.stripLines[s]).labelPlacement?(u=this.sessionVariables.labelMaxWidth,"bottom"!==this._position&&"top"!==this._position||(x=p(c.options.labelWrap)?this.sessionVariables.labelMaxHeight:c.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize),"left"!==this._position&&"right"!==this._position||(x=p(c.options.labelWrap)?this.sessionVariables.labelMaxHeight:c.labelWrap?.8*this.chart.width>>0:1.5*this.labelFontSize),p(c.labelBackgroundColor)&&(c.labelBackgroundColor="#EEEEEE")):(u="bottom"===this._position||"top"===this._position?.9*this.chart.width>>0:.9*this.chart.height>>0,x=p(c.options.labelWrap)||c.labelWrap?"bottom"===this._position||"top"===this._position?.8*this.chart.width>>0:.8*this.chart.height>>0:1.5*this.labelFontSize,p(c.labelBackgroundColor)&&(p(c.startValue)&&0!==c.startValue?c.labelBackgroundColor=U?"transparent":null:c.labelBackgroundColor="#EEEEEE")),e=new A(this.ctx,{x:0,y:0,backgroundColor:c.labelBackgroundColor,borderColor:c.labelBorderColor,borderThickness:c.labelBorderThickness,cornerRadius:c.labelCornerRadius,maxWidth:c.options.labelMaxWidth?c.options.labelMaxWidth:u,maxHeight:x,angle:this.labelAngle,text:c.labelFormatter?c.labelFormatter({chart:this.chart,axis:this,stripLine:c}):c.label,horizontalAlign:"left",fontSize:"outside"===c.labelPlacement?c.options.labelFontSize?c.labelFontSize:this.labelFontSize:c.labelFontSize,fontFamily:"outside"===c.labelPlacement?c.options.labelFontFamily?c.labelFontFamily:this.labelFontFamily:c.labelFontFamily,fontWeight:"outside"===c.labelPlacement?c.options.labelFontWeight?c.labelFontWeight:this.labelFontWeight:c.labelFontWeight,fontColor:c.labelFontColor||c.color,fontStyle:"outside"===c.labelPlacement?c.options.labelFontStyle?c.labelFontStyle:this.fontWeight:c.labelFontStyle,textBaseline:"middle"}),this._stripLineLabels.push({position:c.value,textBlock:e,effectiveHeight:null,stripLine:c})}},B.prototype.createLabelsAndCalculateWidth=function(){var e=0,t=0;this._labels=[],this._stripLineLabels=[];var n=this.chart.isNavigator?0:5;if("left"===this._position||"right"===this._position){for(this.createLabels(),t=0;t<this._labels.length;t++){var i=this._labels[t].textBlock,r=i.measureText(),o=0;e<(o=0===this.labelAngle?r.width:r.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(r.height-i.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(e=o),this._labels[t].effectiveWidth=o}for(t=0;t<this._stripLineLabels.length;t++)"outside"===this._stripLineLabels[t].stripLine.labelPlacement&&this._stripLineLabels[t].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[t].stripLine.value<=this.viewportMaximum&&(r=(i=this._stripLineLabels[t].textBlock).measureText(),e<(o=0===this.labelAngle?r.width:r.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(r.height-i.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(e=o),this._stripLineLabels[t].effectiveWidth=o)}return t=this.title?this._titleTextBlock.measureText().height+2:0,"inside"===this.labelPlacement?i=t+n:t+e+this.tickLength+n},B.prototype.createLabelsAndCalculateHeight=function(){var e=0;this._labels=[],this._stripLineLabels=[];var t,n=0,i=this.chart.isNavigator?0:5;if(this.createLabels(),"bottom"===this._position||"top"===this._position){for(n=0;n<this._labels.length;n++){var r=(t=this._labels[n].textBlock).measureText(),o=0;e<(o=0===this.labelAngle?r.height:r.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(r.height-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(e=o),this._labels[n].effectiveHeight=o}for(n=0;n<this._stripLineLabels.length;n++)"outside"===this._stripLineLabels[n].stripLine.labelPlacement&&this._stripLineLabels[n].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[n].stripLine.value<=this.viewportMaximum&&(r=(t=this._stripLineLabels[n].textBlock).measureText(),e<(o=0===this.labelAngle?r.height:r.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(r.height-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(e=o),this._stripLineLabels[n].effectiveHeight=o)}return t=this.title?this._titleTextBlock.measureText().height+2:0,"inside"===this.labelPlacement?n=t+i:t+e+this.tickLength+i},B.setLayout=function(e,t,n,i,r,o){var a,s,l,c,u=e[0]?e[0].chart:t[0].chart,d=u.isNavigator?0:10,h=u._axes;if(e&&0<e.length)for(var f=0;f<e.length;f++)e[f]&&e[f].calculateAxisParameters();if(t&&0<t.length)for(f=0;f<t.length;f++)t[f].calculateAxisParameters();if(n&&0<n.length)for(f=0;f<n.length;f++)n[f].calculateAxisParameters();if(i&&0<i.length)for(f=0;f<i.length;f++)i[f].calculateAxisParameters();for(f=0;f<h.length;f++)if(h[f]&&h[f].scaleBreaks&&h[f].scaleBreaks._appliedBreaks.length)for(var m=h[f].scaleBreaks._appliedBreaks,g=0;g<m.length&&!(m[g].startValue>h[f].viewportMaximum);g++)m[g].endValue<h[f].viewportMinimum||(p(h[f].scaleBreaks.firstBreakIndex)&&(h[f].scaleBreaks.firstBreakIndex=g),m[g].startValue>=h[f].viewPortMinimum&&(h[f].scaleBreaks.lastBreakIndex=g));var v,y,x,b,_,w=g=0,k=0,S=0,C=0,E=0,T=0,M=s=0;for(m=x=b=_=!1,f=0;f<h.length;f++)h[f]&&h[f].title&&(h[f]._titleTextBlock=new A(h[f].ctx,{text:h[f].title,horizontalAlign:"center",fontSize:h[f].titleFontSize,fontFamily:h[f].titleFontFamily,fontWeight:h[f].titleFontWeight,fontColor:h[f].titleFontColor,fontStyle:h[f].titleFontStyle,borderColor:h[f].titleBorderColor,borderThickness:h[f].titleBorderThickness,backgroundColor:h[f].titleBackgroundColor,cornerRadius:h[f].titleCornerRadius,textBaseline:"top"}));for(f=0;f<h.length;f++)if(h[f].title)switch(h[f]._position){case"left":h[f]._titleTextBlock.maxWidth=h[f].titleMaxWidth||o.height,h[f]._titleTextBlock.maxHeight=h[f].titleWrap?.8*o.width:1.5*h[f].titleFontSize,h[f]._titleTextBlock.angle=-90;break;case"right":h[f]._titleTextBlock.maxWidth=h[f].titleMaxWidth||o.height,h[f]._titleTextBlock.maxHeight=h[f].titleWrap?.8*o.width:1.5*h[f].titleFontSize,h[f]._titleTextBlock.angle=90;break;default:h[f]._titleTextBlock.maxWidth=h[f].titleMaxWidth||o.width,h[f]._titleTextBlock.maxHeight=h[f].titleWrap?.8*o.height:1.5*h[f].titleFontSize,h[f]._titleTextBlock.angle=0}if("normal"===r){S=[],C=[],E=[],T=[];for(var P=[],I=[],L=[],D=[];4>g;){var O=0,R=0,z=0,F=0,B=r=0,N=0,j=0,V=0,W=0,U=0,H=0;if(n&&0<n.length)for(E=[],f=U=0;f<n.length;f++)E.push(Math.ceil(n[f]?n[f].createLabelsAndCalculateWidth():0)),U+=E[f],N+=n[f]&&!u.isNavigator?n[f].margin:0;else E.push(Math.ceil(n[0]?n[0].createLabelsAndCalculateWidth():0));if(L.push(E),i&&0<i.length)for(T=[],f=H=0;f<i.length;f++)T.push(Math.ceil(i[f]?i[f].createLabelsAndCalculateWidth():0)),H+=T[f],j+=i[f]?i[f].margin:0;else T.push(Math.ceil(i[0]?i[0].createLabelsAndCalculateWidth():0));if(D.push(T),a=Math.round(o.x1+U+N),l=Math.round(o.x2-H-j>u.width-d?u.width-d:o.x2-H-j),e&&0<e.length)for(S=[],f=V=0;f<e.length;f++)e[f]&&(e[f].lineCoordinates={}),e[f].lineCoordinates.width=Math.abs(l-a),e[f].title&&(e[f]._titleTextBlock.maxWidth=0<e[f].titleMaxWidth&&e[f].titleMaxWidth<e[f].lineCoordinates.width?e[f].titleMaxWidth:e[f].lineCoordinates.width),S.push(Math.ceil(e[f]?e[f].createLabelsAndCalculateHeight():0)),V+=S[f],r+=e[f]&&!u.isNavigator?e[f].margin:0;else S.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateHeight():0));if(P.push(S),t&&0<t.length)for(C=[],f=W=0;f<t.length;f++)t[f]&&(t[f].lineCoordinates={}),t[f].lineCoordinates.width=Math.abs(l-a),t[f].title&&(t[f]._titleTextBlock.maxWidth=0<t[f].titleMaxWidth&&t[f].titleMaxWidth<t[f].lineCoordinates.width?t[f].titleMaxWidth:t[f].lineCoordinates.width),C.push(Math.ceil(t[f]?t[f].createLabelsAndCalculateHeight():0)),W+=C[f],B+=t[f]&&!u.isNavigator?t[f].margin:0;else C.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateHeight():0));if(I.push(C),e&&0<e.length)for(f=0;f<e.length;f++)e[f]&&(e[f].lineCoordinates.x1=a,l=Math.round(o.x2-H-j>u.width-d?u.width-d:o.x2-H-j),e[f]._labels&&1<e[f]._labels.length&&(s=c=0,c=e[f]._labels[1],s="dateTime"===e[f].valueType?e[f]._labels[e[f]._labels.length-2]:e[f]._labels[e[f]._labels.length-1],w=c.textBlock.width*Math.cos(Math.PI/180*Math.abs(c.textBlock.angle))+(c.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(c.textBlock.angle)),k=s.textBlock.width*Math.cos(Math.PI/180*Math.abs(s.textBlock.angle))+(s.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(s.textBlock.angle))),!e[f]||!e[f].labelAutoFit||p(v)||p(y)||u.isNavigator||(s=0,0<e[f].labelAngle?y+k>l&&(s+=0<e[f].labelAngle?y+k-l-H:0):0>e[f].labelAngle?v-w<a&&v-w<e[f].viewportMinimum&&(M=a-(N+e[f].tickLength+E+v-w+e[f].labelFontSize/2)):0===e[f].labelAngle&&(y+k>l&&(s=y+k/2-l-H),v-w<a&&v-w<e[f].viewportMinimum&&(M=a-N-e[f].tickLength-E-v+w/2)),e[f].viewportMaximum===e[f].maximum&&e[f].viewportMinimum===e[f].minimum&&0<e[f].labelAngle&&0<s?l-=s:e[f].viewportMaximum===e[f].maximum&&e[f].viewportMinimum===e[f].minimum&&0>e[f].labelAngle&&0<M?a+=M:e[f].viewportMaximum===e[f].maximum&&e[f].viewportMinimum===e[f].minimum&&0===e[f].labelAngle&&(0<M&&(a+=M),0<s&&(l-=s))),u.panEnabled?V=u.sessionVariables.axisX.height:u.sessionVariables.axisX.height=V,s=Math.round(o.y2-V-r+O),c=Math.round(o.y2),e[f].lineCoordinates.x2=l,e[f].lineCoordinates.width=l-a,e[f].lineCoordinates.y1=s,e[f].lineCoordinates.y2=s,e[f].bounds={x1:a,y1:s,x2:l,y2:c-(V+r-S[f]-O),width:l-a,height:c-s}),O+=S[f]+e[f].margin;if(t&&0<t.length)for(f=0;f<t.length;f++)t[f].lineCoordinates.x1=Math.round(o.x1+U+N),t[f].lineCoordinates.x2=Math.round(o.x2-H-j>u.width-d?u.width-d:o.x2-H-j),t[f].lineCoordinates.width=Math.abs(l-a),t[f]._labels&&1<t[f]._labels.length&&(c=t[f]._labels[1],s="dateTime"===t[f].valueType?t[f]._labels[t[f]._labels.length-2]:t[f]._labels[t[f]._labels.length-1],w=c.textBlock.width*Math.cos(Math.PI/180*Math.abs(c.textBlock.angle))+(c.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(c.textBlock.angle)),k=s.textBlock.width*Math.cos(Math.PI/180*Math.abs(s.textBlock.angle))+(s.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(s.textBlock.angle))),u.panEnabled?W=u.sessionVariables.axisX2.height:u.sessionVariables.axisX2.height=W,s=Math.round(o.y1),c=Math.round(o.y2+t[f].margin),t[f].lineCoordinates.y1=s+W+B-R,t[f].lineCoordinates.y2=s,t[f].bounds={x1:a,y1:s+(W+B-C[f]-R),x2:l,y2:c,width:l-a,height:c-s},R+=C[f]+t[f].margin;if(n&&0<n.length)for(f=0;f<n.length;f++)N=u.isNavigator?0:10,n[f]&&(a=Math.round(e[0]?e[0].lineCoordinates.x1:t[0].lineCoordinates.x1),N=n[f]._labels&&0<n[f]._labels.length?n[f]._labels[n[f]._labels.length-1].textBlock.height/2:d,s=Math.round(o.y1+W+B<Math.max(N,d)?Math.max(N,d):o.y1+W+B),l=Math.round(e[0]?e[0].lineCoordinates.x1:t[0].lineCoordinates.x1),N=0<e.length?0:n[f]._labels&&0<n[f]._labels.length?n[f]._labels[0].textBlock.height/2:d,c=Math.round(o.y2-V-r-N),n[f].lineCoordinates={x1:l-z,y1:s,x2:l-z,y2:c,height:Math.abs(c-s)},n[f].bounds={x1:a-(E[f]+z),y1:s,x2:l,y2:c,width:l-a,height:c-s},n[f].title&&(n[f]._titleTextBlock.maxWidth=0<n[f].titleMaxWidth&&n[f].titleMaxWidth<n[f].lineCoordinates.height?n[f].titleMaxWidth:n[f].lineCoordinates.height),z+=E[f]+n[f].margin);if(i&&0<i.length)for(f=0;f<i.length;f++)i[f]&&(a=Math.round(e[0]?e[0].lineCoordinates.x2:t[0].lineCoordinates.x2),l=Math.round(a),N=i[f]._labels&&0<i[f]._labels.length?i[f]._labels[i[f]._labels.length-1].textBlock.height/2:0,s=Math.round(o.y1+W+B<Math.max(N,d)?Math.max(N,d):o.y1+W+B),N=0<e.length?0:i[f]._labels&&0<i[f]._labels.length?i[f]._labels[0].textBlock.height/2:0,c=Math.round(o.y2-(V+r+N)),i[f].lineCoordinates={x1:a+F,y1:s,x2:a+F,y2:c,height:Math.abs(c-s)},i[f].bounds={x1:a,y1:s,x2:l+(T[f]+F),y2:c,width:l-a,height:c-s},i[f].title&&(i[f]._titleTextBlock.maxWidth=0<i[f].titleMaxWidth&&i[f].titleMaxWidth<i[f].lineCoordinates.height?i[f].titleMaxWidth:i[f].lineCoordinates.height),F+=T[f]+i[f].margin);if(e&&0<e.length)for(f=0;f<e.length;f++)e[f]&&(e[f].calculateValueToPixelConversionParameters(),e[f].calculateBreaksSizeInValues(),e[f]._labels&&1<e[f]._labels.length&&(v=(e[f].logarithmic?Math.log(e[f]._labels[1].position/e[f].viewportMinimum)/e[f].conversionParameters.lnLogarithmBase:e[f]._labels[1].position-e[f].viewportMinimum)*Math.abs(e[f].conversionParameters.pixelPerUnit)+e[f].lineCoordinates.x1,a=e[f]._labels[e[f]._labels.length-("dateTime"===e[f].valueType?2:1)].position,a=e[f].getApparentDifference(e[f].viewportMinimum,a),y=e[f].logarithmic?(1<a?Math.log(a)/e[f].conversionParameters.lnLogarithmBase*Math.abs(e[f].conversionParameters.pixelPerUnit):0)+e[f].lineCoordinates.x1:(0<a?a*Math.abs(e[f].conversionParameters.pixelPerUnit):0)+e[f].lineCoordinates.x1));if(t&&0<t.length)for(f=0;f<t.length;f++)t[f].calculateValueToPixelConversionParameters(),t[f].calculateBreaksSizeInValues(),t[f]._labels&&1<t[f]._labels.length&&(v=(t[f].logarithmic?Math.log(t[f]._labels[1].position/t[f].viewportMinimum)/t[f].conversionParameters.lnLogarithmBase:t[f]._labels[1].position-t[f].viewportMinimum)*Math.abs(t[f].conversionParameters.pixelPerUnit)+t[f].lineCoordinates.x1,a=t[f]._labels[t[f]._labels.length-("dateTime"===t[f].valueType?2:1)].position,a=t[f].getApparentDifference(t[f].viewportMinimum,a),y=t[f].logarithmic?(1<a?Math.log(a)/t[f].conversionParameters.lnLogarithmBase*Math.abs(t[f].conversionParameters.pixelPerUnit):0)+t[f].lineCoordinates.x1:(0<a?a*Math.abs(t[f].conversionParameters.pixelPerUnit):0)+t[f].lineCoordinates.x1);for(f=0;f<h.length;f++)"axisY"===h[f].type&&(h[f].calculateValueToPixelConversionParameters(),h[f].calculateBreaksSizeInValues());if(0<g){if(e&&0<e.length)for(f=0;f<e.length;f++)m=P[g-1][f]===P[g][f];else m=!0;if(t&&0<t.length)for(f=0;f<t.length;f++)x=I[g-1][f]===I[g][f];else x=!0;if(n&&0<n.length)for(f=0;f<n.length;f++)b=L[g-1][f]===L[g][f];else b=!0;if(i&&0<i.length)for(f=0;f<i.length;f++)_=D[g-1][f]===D[g][f];else _=!0}if(m&&x&&b&&_)break;g++}if(e&&0<e.length)for(f=0;f<e.length;f++)e[f].calculateStripLinesThicknessInValues(),e[f].calculateBreaksInPixels();if(t&&0<t.length)for(f=0;f<t.length;f++)t[f].calculateStripLinesThicknessInValues(),t[f].calculateBreaksInPixels();if(n&&0<n.length)for(f=0;f<n.length;f++)n[f].calculateStripLinesThicknessInValues(),n[f].calculateBreaksInPixels();if(i&&0<i.length)for(f=0;f<i.length;f++)i[f].calculateStripLinesThicknessInValues(),i[f].calculateBreaksInPixels()}else{for(d=[],v=[],M=[],w=[],y=[],k=[],P=[],I=[];4>g;){if(V=F=R=z=j=N=B=r=D=L=O=W=0,e&&0<e.length)for(M=[],f=F=0;f<e.length;f++)M.push(Math.ceil(e[f]?e[f].createLabelsAndCalculateWidth():0)),F+=M[f],r+=e[f]&&!u.isNavigator?e[f].margin:0;else M.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateWidth():0));if(P.push(M),t&&0<t.length)for(w=[],f=V=0;f<t.length;f++)w.push(Math.ceil(t[f]?t[f].createLabelsAndCalculateWidth():0)),V+=w[f],B+=t[f]?t[f].margin:0;else w.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateWidth():0));if(I.push(w),n&&0<n.length)for(f=0;f<n.length;f++)n[f].lineCoordinates={},a=Math.round(o.x1+F+r),l=Math.round(o.x2-V-B>u.width-10?u.width-10:o.x2-V-B),n[f].labelAutoFit&&!p(S)&&(0<!e.length&&(a=0>n[f].labelAngle?Math.max(a,S):0===n[f].labelAngle?Math.max(a,S/2):a),0<!t.length&&(l=0<n[f].labelAngle||0===n[f].labelAngle?l-C/2:l)),n[f].lineCoordinates.x1=a,n[f].lineCoordinates.x2=l,n[f].lineCoordinates.width=Math.abs(l-a),n[f].title&&(n[f]._titleTextBlock.maxWidth=0<n[f].titleMaxWidth&&n[f].titleMaxWidth<n[f].lineCoordinates.width?n[f].titleMaxWidth:n[f].lineCoordinates.width);if(i&&0<i.length)for(f=0;f<i.length;f++)i[f].lineCoordinates={},a=Math.round(o.x1+F+r),l=Math.round(o.x2-V-B>i[f].chart.width-10?i[f].chart.width-10:o.x2-V-B),i[f]&&i[f].labelAutoFit&&!p(E)&&(0<!e.length&&(a=0<i[f].labelAngle?Math.max(a,E):0===i[f].labelAngle?Math.max(a,E/2):a),0<!t.length&&(l-=T/2)),i[f].lineCoordinates.x1=a,i[f].lineCoordinates.x2=l,i[f].lineCoordinates.width=Math.abs(l-a),i[f].title&&(i[f]._titleTextBlock.maxWidth=0<i[f].titleMaxWidth&&i[f].titleMaxWidth<i[f].lineCoordinates.width?i[f].titleMaxWidth:i[f].lineCoordinates.width);if(n&&0<n.length)for(d=[],f=z=0;f<n.length;f++)d.push(Math.ceil(n[f]?n[f].createLabelsAndCalculateHeight():0)),z+=d[f]+n[f].margin,N+=n[f].margin;else d.push(Math.ceil(n[0]?n[0].createLabelsAndCalculateHeight():0));if(y.push(d),i&&0<i.length)for(v=[],f=R=0;f<i.length;f++)v.push(Math.ceil(i[f]?i[f].createLabelsAndCalculateHeight():0)),R+=v[f],j+=i[f].margin;else v.push(Math.ceil(i[0]?i[0].createLabelsAndCalculateHeight():0));if(k.push(v),n&&0<n.length)for(f=0;f<n.length;f++)0<n[f]._labels.length&&(c=n[f]._labels[0],s=n[f]._labels[n[f]._labels.length-1],S=c.textBlock.width*Math.cos(Math.PI/180*Math.abs(c.textBlock.angle))+(c.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(c.textBlock.angle)),C=s.textBlock.width*Math.cos(Math.PI/180*Math.abs(s.textBlock.angle))+(s.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(s.textBlock.angle)));if(i&&0<i.length)for(f=0;f<i.length;f++)i[f]&&0<i[f]._labels.length&&(c=i[f]._labels[0],s=i[f]._labels[i[f]._labels.length-1],E=c.textBlock.width*Math.cos(Math.PI/180*Math.abs(c.textBlock.angle))+(c.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(c.textBlock.angle)),T=s.textBlock.width*Math.cos(Math.PI/180*Math.abs(s.textBlock.angle))+(s.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(s.textBlock.angle)));if(u.panEnabled)for(f=0;f<n.length;f++)d[f]=u.sessionVariables.axisY.height;else for(f=0;f<n.length;f++)u.sessionVariables.axisY.height=d[f];if(n&&0<n.length)for(f=n.length-1;0<=f;f--)s=Math.round(o.y2),c=Math.round(o.y2>n[f].chart.height-10?n[f].chart.height-10:o.y2),n[f].lineCoordinates.y1=s-(d[f]+n[f].margin+W),n[f].lineCoordinates.y2=s-(d[f]+n[f].margin+W),n[f].bounds={x1:a,y1:s-(d[f]+W+n[f].margin),x2:l,y2:c-(W+n[f].margin),width:l-a,height:d[f]},n[f].title&&(n[f]._titleTextBlock.maxWidth=0<n[f].titleMaxWidth&&n[f].titleMaxWidth<n[f].lineCoordinates.width?n[f].titleMaxWidth:n[f].lineCoordinates.width),W+=d[f]+n[f].margin;if(i&&0<i.length)for(f=i.length-1;0<=f;f--)i[f]&&(s=Math.round(o.y1),c=Math.round(o.y1+(v[f]+i[f].margin+O)),i[f].lineCoordinates.y1=c,i[f].lineCoordinates.y2=c,i[f].bounds={x1:a,y1:s+(i[f].margin+O),x2:l,y2:c,width:l-a,height:R},i[f].title&&(i[f]._titleTextBlock.maxWidth=0<i[f].titleMaxWidth&&i[f].titleMaxWidth<i[f].lineCoordinates.width?i[f].titleMaxWidth:i[f].lineCoordinates.width),O+=v[f]+i[f].margin);if(e&&0<e.length)for(f=0;f<e.length;f++){if(N=e[f]._labels&&0<e[f]._labels.length?e[f]._labels[0].textBlock.fontSize/2:0,a=Math.round(o.x1+r),s=i&&0<i.length?Math.round(i[0]?i[0].lineCoordinates.y2:o.y1<Math.max(N,10)?Math.max(N,10):o.y1):o.y1<Math.max(N,10)?Math.max(N,10):o.y1,l=Math.round(o.x1+F+r),c=n&&0<n.length?Math.round(n[0]?n[0].lineCoordinates.y1:o.y2-z>u.height-Math.max(N,10)?u.height-Math.max(N,10):o.y2-z):o.y2>u.height-Math.max(N,10)?u.height-Math.max(N,10):o.y2,n&&0<n.length)for(N=0;N<n.length;N++)n[N]&&n[N].labelAutoFit&&(l=0>n[N].labelAngle?Math.max(l,S):0===n[N].labelAngle?Math.max(l,S/2):l,a=0>n[N].labelAngle||0===n[N].labelAngle?l-F:a);if(i&&0<i.length)for(N=0;N<i.length;N++)i[N]&&i[N].labelAutoFit&&(a=(l=i[N].lineCoordinates.x1)-F);e[f].lineCoordinates={x1:l-L,y1:s,x2:l-L,y2:c,height:Math.abs(c-s)},e[f].bounds={x1:l-(M[f]+L),y1:s,x2:l,y2:c,width:l-a,height:c-s},e[f].title&&(e[f]._titleTextBlock.maxWidth=0<e[f].titleMaxWidth&&e[f].titleMaxWidth<e[f].lineCoordinates.height?e[f].titleMaxWidth:e[f].lineCoordinates.height),e[f].calculateValueToPixelConversionParameters(),e[f].calculateBreaksSizeInValues(),L+=M[f]+e[f].margin}if(t&&0<t.length)for(f=0;f<t.length;f++){if(N=t[f]._labels&&0<t[f]._labels.length?t[f]._labels[0].textBlock.fontSize/2:0,a=Math.round(o.x1-r),s=i&&0<i.length?Math.round(i[0]?i[0].lineCoordinates.y2:o.y1<Math.max(N,10)?Math.max(N,10):o.y1):o.y1<Math.max(N,10)?Math.max(N,10):o.y1,l=Math.round(o.x2-V-B),c=n&&0<n.length?Math.round(n[0]?n[0].lineCoordinates.y1:o.y2-z>u.height-Math.max(N,10)?u.height-Math.max(N,10):o.y2-z):o.y2>u.height-Math.max(N,10)?u.height-Math.max(N,10):o.y2,n&&0<n.length)for(N=0;N<n.length;N++)n[N]&&n[N].labelAutoFit&&(l=0>n[N].labelAngle?Math.max(l,S):0===n[N].labelAngle?Math.max(l,S/2):l,a=0>n[N].labelAngle||0===n[N].labelAngle?l-V:a);if(i&&0<i.length)for(N=0;N<i.length;N++)i[N]&&i[N].labelAutoFit&&(a=(l=i[N].lineCoordinates.x2)-V);t[f].lineCoordinates={x1:l+D,y1:s,x2:l+D,y2:c,height:Math.abs(c-s)},t[f].bounds={x1:a,y1:s,x2:l+w[f]+D,y2:c,width:l-a,height:c-s},t[f].title&&(t[f]._titleTextBlock.maxWidth=0<t[f].titleMaxWidth&&t[f].titleMaxWidth<t[f].lineCoordinates.height?t[f].titleMaxWidth:t[f].lineCoordinates.height),t[f].calculateValueToPixelConversionParameters(),t[f].calculateBreaksSizeInValues(),D+=w[f]+t[f].margin}for(f=0;f<h.length;f++)"axisY"===h[f].type&&(h[f].calculateValueToPixelConversionParameters(),h[f].calculateBreaksSizeInValues());if(0<g){if(e&&0<e.length)for(f=0;f<e.length;f++)m=P[g-1][f]===P[g][f];else m=!0;if(t&&0<t.length)for(f=0;f<t.length;f++)x=I[g-1][f]===I[g][f];else x=!0;if(n&&0<n.length)for(f=0;f<n.length;f++)b=y[g-1][f]===y[g][f];else b=!0;if(i&&0<i.length)for(f=0;f<i.length;f++)_=k[g-1][f]===k[g][f];else _=!0}if(m&&x&&b&&_)break;g++}if(n&&0<n.length)for(f=0;f<n.length;f++)n[f].calculateStripLinesThicknessInValues(),n[f].calculateBreaksInPixels();if(i&&0<i.length)for(f=0;f<i.length;f++)i[f].calculateStripLinesThicknessInValues(),i[f].calculateBreaksInPixels();if(e&&0<e.length)for(f=0;f<e.length;f++)e[f].calculateStripLinesThicknessInValues(),e[f].calculateBreaksInPixels();if(t&&0<t.length)for(f=0;f<t.length;f++)t[f].calculateStripLinesThicknessInValues(),t[f].calculateBreaksInPixels()}},B.render=function(e,t,n,i,r){var o=e[0]?e[0].chart:t[0].chart;r=o.ctx;var a=o._axes;if(o.alignVerticalAxes&&o.alignVerticalAxes(),r.save(),r.beginPath(),e[0]&&r.rect(5,e[0].bounds.y1,e[0].chart.width-10,e[0].bounds.height),t[0]&&r.rect(5,t[t.length-1].bounds.y1,t[0].chart.width-10,t[0].bounds.height),r.clip(),e&&0<e.length)for(var s=0;s<e.length;s++)e[s].renderLabelsTicksAndTitle();if(t&&0<t.length)for(s=0;s<t.length;s++)t[s].renderLabelsTicksAndTitle();if(r.restore(),n&&0<n.length)for(s=0;s<n.length;s++)n[s].renderLabelsTicksAndTitle();if(i&&0<i.length)for(s=0;s<i.length;s++)i[s].renderLabelsTicksAndTitle();if(o.preparePlotArea(),o=o.plotArea,r.save(),r.beginPath(),r.rect(o.x1,o.y1,Math.abs(o.x2-o.x1),Math.abs(o.y2-o.y1)),r.clip(),e&&0<e.length)for(s=0;s<a.length;s++)a[s].renderStripLinesOfThicknessType("value");if(t&&0<t.length)for(s=0;s<t.length;s++)t[s].renderStripLinesOfThicknessType("value");if(n&&0<n.length)for(s=0;s<n.length;s++)n[s].renderStripLinesOfThicknessType("value");if(i&&0<i.length)for(s=0;s<i.length;s++)i[s].renderStripLinesOfThicknessType("value");if(e&&0<e.length)for(s=0;s<e.length;s++)e[s].renderInterlacedColors();if(t&&0<t.length)for(s=0;s<t.length;s++)t[s].renderInterlacedColors();if(n&&0<n.length)for(s=0;s<n.length;s++)n[s].renderInterlacedColors();if(i&&0<i.length)for(s=0;s<i.length;s++)i[s].renderInterlacedColors();if(r.restore(),e&&0<e.length)for(s=0;s<e.length;s++)e[s].renderGrid(),U&&(e[s].createMask(),e[s].renderBreaksBackground());if(t&&0<t.length)for(s=0;s<t.length;s++)t[s].renderGrid(),U&&(t[s].createMask(),t[s].renderBreaksBackground());if(n&&0<n.length)for(s=0;s<n.length;s++)n[s].renderGrid(),U&&(n[s].createMask(),n[s].renderBreaksBackground());if(i&&0<i.length)for(s=0;s<i.length;s++)i[s].renderGrid(),U&&(i[s].createMask(),i[s].renderBreaksBackground());if(e&&0<e.length)for(s=0;s<e.length;s++)e[s].renderAxisLine();if(t&&0<t.length)for(s=0;s<t.length;s++)t[s].renderAxisLine();if(n&&0<n.length)for(s=0;s<n.length;s++)n[s].renderAxisLine();if(i&&0<i.length)for(s=0;s<i.length;s++)i[s].renderAxisLine();if(e&&0<e.length)for(s=0;s<e.length;s++)e[s].renderStripLinesOfThicknessType("pixel");if(t&&0<t.length)for(s=0;s<t.length;s++)t[s].renderStripLinesOfThicknessType("pixel");if(n&&0<n.length)for(s=0;s<n.length;s++)n[s].renderStripLinesOfThicknessType("pixel");if(i&&0<i.length)for(s=0;s<i.length;s++)i[s].renderStripLinesOfThicknessType("pixel")},B.prototype.calculateStripLinesThicknessInValues=function(){for(var e=0;e<this.stripLines.length;e++)if(null!==this.stripLines[e].startValue&&null!==this.stripLines[e].endValue){var t=Math.min(this.stripLines[e].startValue,this.stripLines[e].endValue),n=Math.max(this.stripLines[e].startValue,this.stripLines[e].endValue);t=this.getApparentDifference(t,n);this.stripLines[e].value=this.logarithmic?this.stripLines[e].value*Math.sqrt(Math.log(this.stripLines[e].endValue/this.stripLines[e].startValue)/Math.log(t)):this.stripLines[e].value+(Math.abs(this.stripLines[e].endValue-this.stripLines[e].startValue)-t)/2,this.stripLines[e].thickness=t,this.stripLines[e]._thicknessType="value"}},B.prototype.calculateBreaksSizeInValues=function(){for(var e,t="left"===this._position||"right"===this._position?this.lineCoordinates.height||this.chart.height:this.lineCoordinates.width||this.chart.width,n=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],i=this.conversionParameters.pixelPerUnit||t/(this.logarithmic?this.conversionParameters.maximum/this.conversionParameters.minimum:this.conversionParameters.maximum-this.conversionParameters.minimum),r=this.scaleBreaks&&!p(this.scaleBreaks.options.spacing),o=0;o<n.length;o++)e=r||!p(n[o].options.spacing),n[o].spacing=h(n[o].spacing,t,8,e?.1*t:8,e?0:3)<<0,n[o].size=0>n[o].spacing?0:Math.abs(n[o].spacing/i),this.logarithmic&&(n[o].size=Math.pow(this.logarithmBase,n[o].size))},B.prototype.calculateBreaksInPixels=function(){if(!(this.scaleBreaks&&0>=this.scaleBreaks._appliedBreaks.length)){var e=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];e.length&&(this.scaleBreaks.firstBreakIndex=this.scaleBreaks.lastBreakIndex=null);for(var t=0;t<e.length&&!(e[t].startValue>this.conversionParameters.maximum);t++)e[t].endValue<this.conversionParameters.minimum||(p(this.scaleBreaks.firstBreakIndex)&&(this.scaleBreaks.firstBreakIndex=t),e[t].startValue>=this.conversionParameters.minimum&&(e[t].startPixel=this.convertValueToPixel(e[t].startValue),this.scaleBreaks.lastBreakIndex=t),e[t].endValue<=this.conversionParameters.maximum&&(e[t].endPixel=this.convertValueToPixel(e[t].endValue)))}},B.prototype.renderLabelsTicksAndTitle=function(){var e=this,t=!1,n=0,i=0,r=1,o=0;if(0!==this.labelAngle&&360!==this.labelAngle&&(r=1.2),"undefined"===typeof this.options.interval){if("bottom"===this._position||"top"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){n=[],r=0!==this.labelAngle&&360!==this.labelAngle?1:1.2;for(var a,s=this.viewportMaximum,l=this.lineCoordinates.width/Math.log(this.range),c=this._labels.length-1;0<=c&&!((d=this._labels[c]).position<this.viewportMinimum);c--)d.position>this.viewportMaximum||!(c===this._labels.length-1||a<Math.log(s/d.position)*l/r)||(n.push(d),s=d.position,a=d.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+d.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=n}else{for(c=0;c<this._labels.length;c++)(d=this._labels[c]).position<this.viewportMinimum||(n+=a=d.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+d.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));n>this.lineCoordinates.width*r&&this.labelAutoFit&&(t=!0)}if("left"===this._position||"right"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){var u;for(n=[],s=this.viewportMaximum,l=this.lineCoordinates.height/Math.log(this.range),c=this._labels.length-1;0<=c&&!((d=this._labels[c]).position<this.viewportMinimum);c--)d.position>this.viewportMaximum||!(c===this._labels.length-1||u<Math.log(s/d.position)*l)||(n.push(d),s=d.position,u=d.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+d.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=n}else{for(c=0;c<this._labels.length;c++)(d=this._labels[c]).position<this.viewportMinimum||(i+=u=d.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+d.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));i>this.lineCoordinates.height*r&&this.labelAutoFit&&(t=!0)}}this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit&&this._labels.sort((function(e,t){return e.position-t.position}));var d,h;c=0;if("bottom"===this._position){for(c=0;c<this._labels.length;c++)(d=this._labels[c]).position<this.viewportMinimum||d.position>this.viewportMaximum||t&&0!==o++%2&&this.labelAutoFit||(h=this.getPixelCoordinatesOnAxis(d.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,i=1===this.ctx.lineWidth%2?.5+(h.x<<0):h.x<<0,this.ctx.beginPath(),this.ctx.moveTo(i,h.y<<0),this.ctx.lineTo(i,h.y+this.tickLength<<0),this.ctx.stroke()),0===d.textBlock.angle?(h.x-=d.textBlock.width/2,h.y="inside"===this.labelPlacement?h.y-(this.tickLength+d.textBlock.fontSize/2):h.y+this.tickLength+d.textBlock.fontSize/2):(h.x="inside"===this.labelPlacement?0>this.labelAngle?h.x:h.x-d.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):h.x-(0>this.labelAngle?d.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),h.y="inside"===this.labelPlacement?0>this.labelAngle?h.y-this.tickLength-5:h.y-this.tickLength-Math.abs(d.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5):h.y+this.tickLength+Math.abs(0>this.labelAngle?d.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5)),d.textBlock.x=h.x,d.textBlock.y=h.y);"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(c=0;c<e._labels.length;c++)if(!((d=e._labels[c]).position<e.viewportMinimum||d.position>e.viewportMaximum||t&&0!==o++%2&&e.labelAutoFit)&&(h=e.getPixelCoordinatesOnAxis(d.position),e.tickThickness)){e.ctx.lineWidth=e.tickThickness,e.ctx.strokeStyle=e.tickColor;var n=1===e.ctx.lineWidth%2?.5+(h.x<<0):h.x<<0;e.ctx.save(),e.ctx.beginPath(),e.ctx.moveTo(n,h.y<<0),e.ctx.lineTo(n,h.y-e.tickLength<<0),e.ctx.stroke(),e.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y2-this._titleTextBlock.height-3,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("top"===this._position){for(c=0;c<this._labels.length;c++)(d=this._labels[c]).position<this.viewportMinimum||d.position>this.viewportMaximum||t&&0!==o++%2&&this.labelAutoFit||(h=this.getPixelCoordinatesOnAxis(d.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,i=1===this.ctx.lineWidth%2?.5+(h.x<<0):h.x<<0,this.ctx.beginPath(),this.ctx.moveTo(i,h.y<<0),this.ctx.lineTo(i,h.y-this.tickLength<<0),this.ctx.stroke()),0===d.textBlock.angle?(h.x-=d.textBlock.width/2,h.y="inside"===this.labelPlacement?h.y+this.labelFontSize/2+this.tickLength+5:h.y-(this.tickLength+d.textBlock.height-d.textBlock.fontSize/2)):(h.x="inside"===this.labelPlacement?0<this.labelAngle?h.x:h.x-d.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):h.x+(d.textBlock.height-this.tickLength-this.labelFontSize)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?d.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),h.y="inside"===this.labelPlacement?0<this.labelAngle?h.y+this.tickLength+5:h.y-d.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength+5:h.y-(this.tickLength+((d.textBlock.height-d.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?d.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))),d.textBlock.x=h.x,d.textBlock.y=h.y);"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(c=0;c<e._labels.length;c++)if(!((d=e._labels[c]).position<e.viewportMinimum||d.position>e.viewportMaximum||t&&0!==o++%2&&e.labelAutoFit)&&(h=e.getPixelCoordinatesOnAxis(d.position),e.tickThickness)){e.ctx.lineWidth=e.tickThickness,e.ctx.strokeStyle=e.tickColor;var n=1===this.ctx.lineWidth%2?.5+(h.x<<0):h.x<<0;e.ctx.save(),e.ctx.beginPath(),e.ctx.moveTo(n,h.y<<0),e.ctx.lineTo(n,h.y+e.tickLength<<0),e.ctx.stroke(),e.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y1+1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("left"===this._position){for(c=0;c<this._labels.length;c++)(d=this._labels[c]).position<this.viewportMinimum||d.position>this.viewportMaximum||t&&0!==o++%2&&this.labelAutoFit||(h=this.getPixelCoordinatesOnAxis(d.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,i=1===this.ctx.lineWidth%2?.5+(h.y<<0):h.y<<0,this.ctx.beginPath(),this.ctx.moveTo(h.x<<0,i),this.ctx.lineTo(h.x-this.tickLength<<0,i),this.ctx.stroke()),0===this.labelAngle?(d.textBlock.y=h.y,d.textBlock.x="inside"===this.labelPlacement?h.x+this.tickLength+5:h.x-d.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5):(d.textBlock.y="inside"===this.labelPlacement?h.y:h.y-d.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),d.textBlock.x="inside"===this.labelPlacement?h.x+this.tickLength+5:0<this.labelAngle?h.x-d.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:h.x-d.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(d.textBlock.height-d.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength));"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(c=0;c<e._labels.length;c++)if(!((d=e._labels[c]).position<e.viewportMinimum||d.position>e.viewportMaximum||t&&0!==o++%2&&e.labelAutoFit)&&(h=e.getPixelCoordinatesOnAxis(d.position),e.tickThickness)){e.ctx.lineWidth=e.tickThickness,e.ctx.strokeStyle=e.tickColor;var n=1===e.ctx.lineWidth%2?.5+(h.y<<0):h.y<<0;e.ctx.save(),e.ctx.beginPath(),e.ctx.moveTo(h.x<<0,n),e.ctx.lineTo(h.x+e.tickLength<<0,n),e.ctx.stroke(),e.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x1+1,this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("right"===this._position){for(c=0;c<this._labels.length;c++)(d=this._labels[c]).position<this.viewportMinimum||d.position>this.viewportMaximum||t&&0!==o++%2&&this.labelAutoFit||(h=this.getPixelCoordinatesOnAxis(d.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,i=1===this.ctx.lineWidth%2?.5+(h.y<<0):h.y<<0,this.ctx.beginPath(),this.ctx.moveTo(h.x<<0,i),this.ctx.lineTo(h.x+this.tickLength<<0,i),this.ctx.stroke()),0===this.labelAngle?(d.textBlock.y=h.y,d.textBlock.x="inside"===this.labelPlacement?h.x-d.textBlock.width-this.tickLength-5:h.x+this.tickLength+5):(d.textBlock.y="inside"===this.labelPlacement?h.y-d.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0>this.labelAngle?h.y:h.y-(d.textBlock.height-d.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),d.textBlock.x="inside"===this.labelPlacement?h.x-d.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:0<this.labelAngle?h.x+(d.textBlock.height-d.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:h.x+this.tickLength+5));"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(c=0;c<e._labels.length;c++)if(!((d=e._labels[c]).position<e.viewportMinimum||d.position>e.viewportMaximum||t&&0!==o++%2&&e.labelAutoFit)&&(h=e.getPixelCoordinatesOnAxis(d.position),e.tickThickness)){e.ctx.lineWidth=e.tickThickness,e.ctx.strokeStyle=e.tickColor;var n=1===e.ctx.lineWidth%2?.5+(h.y<<0):h.y<<0;e.ctx.save(),e.ctx.beginPath(),e.ctx.moveTo(h.x<<0,n),e.ctx.lineTo(h.x-e.tickLength<<0,n),e.ctx.stroke(),e.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x2-1,this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}if(o=0,"inside"===this.labelPlacement)this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(c=0;c<e._labels.length;c++)(d=e._labels[c]).position<e.viewportMinimum||d.position>e.viewportMaximum||t&&0!==o++%2&&e.labelAutoFit||(e.ctx.save(),e.ctx.beginPath(),d.textBlock.render(!0),e.ctx.restore())}),this);else for(c=0;c<this._labels.length;c++)(d=this._labels[c]).position<this.viewportMinimum||d.position>this.viewportMaximum||t&&0!==o++%2&&this.labelAutoFit||d.textBlock.render(!0)},B.prototype.renderInterlacedColors=function(){var e,t,n=this.chart.plotArea.ctx,i=this.chart.plotArea,r=0;if(e=!0,"bottom"!==this._position&&"top"!==this._position||!this.interlacedColor){if(("left"===this._position||"right"===this._position)&&this.interlacedColor)for(n.fillStyle=this.interlacedColor,r=0;r<this._labels.length;r++)e?(t=this.getPixelCoordinatesOnAxis(this._labels[r].position),e=r+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[r+1].position),n.fillRect(i.x1,Math.min(t.y,e.y),Math.abs(i.x1-i.x2),Math.abs(e.y-t.y)),e=!1):e=!0}else for(n.fillStyle=this.interlacedColor,r=0;r<this._labels.length;r++)e?(e=this.getPixelCoordinatesOnAxis(this._labels[r].position),t=r+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[r+1].position),n.fillRect(Math.min(t.x,e.x),i.y1,Math.abs(t.x-e.x),Math.abs(i.y1-i.y2)),e=!1):e=!0;n.beginPath()},B.prototype.renderStripLinesOfThicknessType=function(e){if(this.stripLines&&0<this.stripLines.length&&e){var t,n=this,i=0,r=0,o=!1,a=!1,s=[],l=[];for(a=!1,i=0;i<this.stripLines.length;i++){var c=this.stripLines[i];c._thicknessType===e&&("pixel"===e&&(c.value<this.viewportMinimum||c.value>this.viewportMaximum||p(c.value)||isNaN(this.range))||s.push(c))}for(i=0;i<this._stripLineLabels.length;i++)if(c=this.stripLines[i],!((t=this._stripLineLabels[i]).position<this.viewportMinimum||t.position>this.viewportMaximum||isNaN(this.range))){if(e=this.getPixelCoordinatesOnAxis(t.position),"outside"===t.stripLine.labelPlacement)if(c&&(this.ctx.strokeStyle=c.color,"pixel"===c._thicknessType&&(this.ctx.lineWidth=c.thickness)),"bottom"===this._position){var u=1===this.ctx.lineWidth%2?.5+(e.x<<0):e.x<<0;this.ctx.beginPath(),this.ctx.moveTo(u,e.y<<0),this.ctx.lineTo(u,e.y+this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(e.x-=t.textBlock.width/2,e.y+=this.tickLength+t.textBlock.fontSize/2):(e.x-=0>this.labelAngle?t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,e.y+=this.tickLength+Math.abs(0>this.labelAngle?t.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5))}else"top"===this._position?(u=1===this.ctx.lineWidth%2?.5+(e.x<<0):e.x<<0,this.ctx.beginPath(),this.ctx.moveTo(u,e.y<<0),this.ctx.lineTo(u,e.y-this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(e.x-=t.textBlock.width/2,e.y-=this.tickLength+t.textBlock.height):(e.x+=(t.textBlock.height-this.tickLength-this.labelFontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),e.y-=this.tickLength+(t.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?t.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))):"left"===this._position?(u=1===this.ctx.lineWidth%2?.5+(e.y<<0):e.y<<0,this.ctx.beginPath(),this.ctx.moveTo(e.x<<0,u),this.ctx.lineTo(e.x-this.tickLength<<0,u),this.ctx.stroke(),0===this.labelAngle?e.x=e.x-t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:(e.y-=t.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),e.x=0<this.labelAngle?e.x-t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:e.x-t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(t.textBlock.height-t.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength)):"right"===this._position&&(u=1===this.ctx.lineWidth%2?.5+(e.y<<0):e.y<<0,this.ctx.beginPath(),this.ctx.moveTo(e.x<<0,u),this.ctx.lineTo(e.x+this.tickLength<<0,u),this.ctx.stroke(),0===this.labelAngle?e.x=e.x+this.tickLength+5:(e.y=0>this.labelAngle?e.y:e.y-(t.textBlock.height-t.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),e.x=0<this.labelAngle?e.x+(t.textBlock.height-t.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:e.x+this.tickLength+5));else t.textBlock.angle=-90,"bottom"===this._position?(t.textBlock.maxWidth=this.options.stripLines[i].labelMaxWidth?this.options.stripLines[i].labelMaxWidth:this.chart.plotArea.height-3,t.textBlock.measureText(),e.x-t.textBlock.height>this.chart.plotArea.x1?p(c.startValue)?e.x-=t.textBlock.height-t.textBlock.fontSize/2:e.x-=t.textBlock.height/2-t.textBlock.fontSize/2+3:(t.textBlock.angle=90,p(c.startValue)?e.x+=t.textBlock.height-t.textBlock.fontSize/2:e.x+=t.textBlock.height/2-t.textBlock.fontSize/2+3),e.y=-90===t.textBlock.angle?"near"===t.stripLine.labelAlign?this.chart.plotArea.y2-3:"center"===t.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+t.textBlock.width)/2:this.chart.plotArea.y1+t.textBlock.width+3:"near"===t.stripLine.labelAlign?this.chart.plotArea.y2-t.textBlock.width-3:"center"===t.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-t.textBlock.width)/2:this.chart.plotArea.y1+3):"top"===this._position?(t.textBlock.maxWidth=this.options.stripLines[i].labelMaxWidth?this.options.stripLines[i].labelMaxWidth:this.chart.plotArea.height-3,t.textBlock.measureText(),e.x-t.textBlock.height>this.chart.plotArea.x1?p(c.startValue)?e.x-=t.textBlock.height-t.textBlock.fontSize/2:e.x-=t.textBlock.height/2-t.textBlock.fontSize/2+3:(t.textBlock.angle=90,p(c.startValue)?e.x+=t.textBlock.height-t.textBlock.fontSize/2:e.x+=t.textBlock.height/2-t.textBlock.fontSize/2+3),e.y=-90===t.textBlock.angle?"near"===t.stripLine.labelAlign?this.chart.plotArea.y1+t.textBlock.width+3:"center"===t.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+t.textBlock.width)/2:this.chart.plotArea.y2-3:"near"===t.stripLine.labelAlign?this.chart.plotArea.y1+3:"center"===t.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-t.textBlock.width)/2:this.chart.plotArea.y2-t.textBlock.width-3):"left"===this._position?(t.textBlock.maxWidth=this.options.stripLines[i].labelMaxWidth?this.options.stripLines[i].labelMaxWidth:this.chart.plotArea.width-3,t.textBlock.angle=0,t.textBlock.measureText(),e.y-t.textBlock.height>this.chart.plotArea.y1?p(c.startValue)?e.y-=t.textBlock.height-t.textBlock.fontSize/2:e.y-=t.textBlock.height/2-t.textBlock.fontSize+3:e.y-t.textBlock.height<this.chart.plotArea.y2?e.y+=t.textBlock.fontSize/2+3:p(c.startValue)?e.y-=t.textBlock.height-t.textBlock.fontSize/2:e.y-=t.textBlock.height/2-t.textBlock.fontSize+3,e.x="near"===t.stripLine.labelAlign?this.chart.plotArea.x1+3:"center"===t.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-t.textBlock.width/2:this.chart.plotArea.x2-t.textBlock.width-3):"right"===this._position&&(t.textBlock.maxWidth=this.options.stripLines[i].labelMaxWidth?this.options.stripLines[i].labelMaxWidth:this.chart.plotArea.width-3,t.textBlock.angle=0,t.textBlock.measureText(),e.y-+t.textBlock.height>this.chart.plotArea.y1?p(c.startValue)?e.y-=t.textBlock.height-t.textBlock.fontSize/2:e.y-=t.textBlock.height/2-t.textBlock.fontSize/2-3:e.y-t.textBlock.height<this.chart.plotArea.y2?e.y+=t.textBlock.fontSize/2+3:p(c.startValue)?e.y-=t.textBlock.height-t.textBlock.fontSize/2:e.y-=t.textBlock.height/2-t.textBlock.fontSize/2+3,e.x="near"===t.stripLine.labelAlign?this.chart.plotArea.x2-t.textBlock.width-3:"center"===t.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-t.textBlock.width/2:this.chart.plotArea.x1+3);t.textBlock.x=e.x,t.textBlock.y=e.y,l.push(t)}if(!a){for(a=!1,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),i=0;i<s.length;i++)(c=s[i]).showOnTop?o||(o=!0,this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),r=0;r<s.length;r++)(c=s[r]).showOnTop&&c.render();this.ctx.restore()}),c)):c.render();for(i=0;i<l.length;i++)(t=l[i]).stripLine.showOnTop?a||(a=!0,this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(r=0;r<l.length;r++)"inside"===(t=l[r]).stripLine.labelPlacement&&t.stripLine.showOnTop&&(n.ctx.save(),n.ctx.beginPath(),n.ctx.rect(n.chart.plotArea.x1,n.chart.plotArea.y1,n.chart.plotArea.width,n.chart.plotArea.height),n.ctx.clip(),t.textBlock.render(!0),n.ctx.restore())}),t.textBlock)):"inside"===t.stripLine.labelPlacement&&t.textBlock.render(!0);this.ctx.restore(),a=!0}if(a)for(a=!1,i=0;i<l.length;i++)(t=l[i]).stripLine.showOnTop?a||(a=!0,this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(r=0;r<l.length;r++)"outside"===(t=l[r]).stripLine.labelPlacement&&t.stripLine.showOnTop&&t.textBlock.render(!0)}),t.textBlock)):"outside"===t.stripLine.labelPlacement&&t.textBlock.render(!0)}},B.prototype.renderBreaksBackground=function(){this.chart._breaksCanvas&&this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length&&this.maskCanvas&&(this.chart._breaksCanvasCtx.save(),this.chart._breaksCanvasCtx.beginPath(),this.chart._breaksCanvasCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.chart._breaksCanvasCtx.clip(),this.chart._breaksCanvasCtx.drawImage(this.maskCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx.restore())},B.prototype.createMask=function(){if(this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length){var e=this.scaleBreaks._appliedBreaks;U?(this.maskCanvas=k(this.chart.width,this.chart.height),this.maskCtx=this.maskCanvas.getContext("2d")):(this.maskCanvas=this.chart.plotArea.canvas,this.maskCtx=this.chart.plotArea.ctx),this.maskCtx.save(),this.maskCtx.beginPath(),this.maskCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.maskCtx.clip();for(var t=0;t<e.length;t++)e[t].endValue<this.viewportMinimum||e[t].startValue>this.viewportMaximum||isNaN(this.range)||e[t].render(this.maskCtx);this.maskCtx.restore()}},B.prototype.renderCrosshair=function(e,t){this.crosshair.render(e,t)},B.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var e=this.chart.ctx;e.save();var t,n=this.chart.plotArea;if(e.lineWidth=this.gridThickness,e.strokeStyle=this.gridColor,e.setLineDash&&e.setLineDash(v(this.gridDashType,this.gridThickness)),"bottom"===this._position||"top"===this._position)for(i=0;i<this._labels.length;i++)this._labels[i].position<this.viewportMinimum||this._labels[i].position>this.viewportMaximum||this._labels[i].breaksLabelType||(e.beginPath(),t=this.getPixelCoordinatesOnAxis(this._labels[i].position),t=1===e.lineWidth%2?.5+(t.x<<0):t.x<<0,e.moveTo(t,n.y1<<0),e.lineTo(t,n.y2<<0),e.stroke());else if("left"===this._position||"right"===this._position)for(var i=0;i<this._labels.length;i++)this._labels[i].position<this.viewportMinimum||this._labels[i].position>this.viewportMaximum||this._labels[i].breaksLabelType||(e.beginPath(),t=this.getPixelCoordinatesOnAxis(this._labels[i].position),t=1===e.lineWidth%2?.5+(t.y<<0):t.y<<0,e.moveTo(n.x1<<0,t),e.lineTo(n.x2<<0,t),e.stroke());e.restore()}},B.prototype.renderAxisLine=function(){var e,t,n=this.chart.ctx,i=U?this.chart._preRenderCtx:n,r=Math.ceil(this.tickThickness/(this.reversed?-2:2)),o=Math.ceil(this.tickThickness/(this.reversed?2:-2));if(i.save(),"bottom"===this._position||"top"===this._position){if(this.lineThickness){this.reversed?(e=this.lineCoordinates.x2,t=this.lineCoordinates.x1):(e=this.lineCoordinates.x1,t=this.lineCoordinates.x2),i.lineWidth=this.lineThickness,i.strokeStyle=this.lineColor?this.lineColor:"black",i.setLineDash&&i.setLineDash(v(this.lineDashType,this.lineThickness));var a=1===this.lineThickness%2?.5+(this.lineCoordinates.y1<<0):this.lineCoordinates.y1<<0;if(i.beginPath(),this.scaleBreaks&&!p(this.scaleBreaks.firstBreakIndex))if(p(this.scaleBreaks.lastBreakIndex))e=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+o;else for(var s=this.scaleBreaks.firstBreakIndex;s<=this.scaleBreaks.lastBreakIndex;s++)i.moveTo(e,a),i.lineTo(this.scaleBreaks._appliedBreaks[s].startPixel+r,a),e=this.scaleBreaks._appliedBreaks[s].endPixel+o;e&&(i.moveTo(e,a),i.lineTo(t,a)),i.stroke()}}else if(("left"===this._position||"right"===this._position)&&this.lineThickness){if(this.reversed?(e=this.lineCoordinates.y1,t=this.lineCoordinates.y2):(e=this.lineCoordinates.y2,t=this.lineCoordinates.y1),i.lineWidth=this.lineThickness,i.strokeStyle=this.lineColor,i.setLineDash&&i.setLineDash(v(this.lineDashType,this.lineThickness)),a=1===this.lineThickness%2?.5+(this.lineCoordinates.x1<<0):this.lineCoordinates.x1<<0,i.beginPath(),this.scaleBreaks&&!p(this.scaleBreaks.firstBreakIndex))if(p(this.scaleBreaks.lastBreakIndex))e=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+r;else for(s=this.scaleBreaks.firstBreakIndex;s<=this.scaleBreaks.lastBreakIndex;s++)i.moveTo(a,e),i.lineTo(a,this.scaleBreaks._appliedBreaks[s].startPixel+o),e=this.scaleBreaks._appliedBreaks[s].endPixel+r;e&&(i.moveTo(a,e),i.lineTo(a,t)),i.stroke()}U&&(n.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx&&this.chart._breaksCanvasCtx.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),i.clearRect(0,0,this.chart.width,this.chart.height)),i.restore()},B.prototype.getPixelCoordinatesOnAxis=function(e){var t={};return"bottom"!==this._position&&"top"!==this._position||(t.x=this.convertValueToPixel(e),t.y=this.lineCoordinates.y1),"left"!==this._position&&"right"!==this._position||(t.y=this.convertValueToPixel(e),t.x=this.lineCoordinates.x2),t},B.prototype.convertPixelToValue=function(e){if("undefined"===typeof e)return null;var t,n=0,i=0,r=(n=!0,this.scaleBreaks?this.scaleBreaks._appliedBreaks:[]);i="number"===typeof e?e:"left"===this._position||"right"===this._position?e.y:e.x;if(this.logarithmic){if(e=t=Math.pow(this.logarithmBase,(i-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit),i<=this.conversionParameters.reference===("left"===this._position||"right"===this._position)!==this.reversed){for(i=0;i<r.length;i++)if(!(r[i].endValue<this.conversionParameters.minimum))if(n)if(r[i].startValue<this.conversionParameters.minimum){if(1<r[i].size&&this.conversionParameters.minimum*Math.pow(r[i].endValue/r[i].startValue,Math.log(t)/Math.log(r[i].size))<r[i].endValue){e=Math.pow(r[i].endValue/r[i].startValue,Math.log(t)/Math.log(r[i].size));break}e*=r[i].endValue/this.conversionParameters.minimum/Math.pow(r[i].size,Math.log(r[i].endValue/this.conversionParameters.minimum)/Math.log(r[i].endValue/r[i].startValue)),t/=Math.pow(r[i].size,Math.log(r[i].endValue/this.conversionParameters.minimum)/Math.log(r[i].endValue/r[i].startValue)),n=!1}else{if(!(t>r[i].startValue/this.conversionParameters.minimum))break;if((t/=r[i].startValue/this.conversionParameters.minimum)<r[i].size){e*=Math.pow(r[i].endValue/r[i].startValue,1===r[i].size?1:Math.log(t)/Math.log(r[i].size))/t;break}e*=r[i].endValue/r[i].startValue/r[i].size,t/=r[i].size,n=!1}else{if(!(t>r[i].startValue/r[i-1].endValue))break;if((t/=r[i].startValue/r[i-1].endValue)<r[i].size){e*=Math.pow(r[i].endValue/r[i].startValue,1===r[i].size?1:Math.log(t)/Math.log(r[i].size))/t;break}e*=r[i].endValue/r[i].startValue/r[i].size,t/=r[i].size}}else for(i=r.length-1;0<=i;i--)if(!(r[i].startValue>this.conversionParameters.minimum))if(n)if(r[i].endValue>this.conversionParameters.minimum){if(1<r[i].size&&this.conversionParameters.minimum*Math.pow(r[i].endValue/r[i].startValue,Math.log(t)/Math.log(r[i].size))>r[i].startValue){e=Math.pow(r[i].endValue/r[i].startValue,Math.log(t)/Math.log(r[i].size));break}e*=r[i].startValue/this.conversionParameters.minimum*Math.pow(r[i].size,Math.log(r[i].startValue/this.conversionParameters.minimum)/Math.log(r[i].endValue/r[i].startValue))*t,t*=Math.pow(r[i].size,Math.log(this.conversionParameters.minimum/r[i].startValue)/Math.log(r[i].endValue/r[i].startValue)),n=!1}else{if(!(t<r[i].endValue/this.conversionParameters.minimum))break;if((t/=r[i].endValue/this.conversionParameters.minimum)>1/r[i].size){e*=Math.pow(r[i].endValue/r[i].startValue,1>=r[i].size?1:Math.log(t)/Math.log(r[i].size))*t;break}e/=r[i].endValue/r[i].startValue/r[i].size,t*=r[i].size,n=!1}else{if(!(t<r[i].endValue/r[i+1].startValue))break;if((t/=r[i].endValue/r[i+1].startValue)>1/r[i].size){e*=Math.pow(r[i].endValue/r[i].startValue,1>=r[i].size?1:Math.log(t)/Math.log(r[i].size))*t;break}e/=r[i].endValue/r[i].startValue/r[i].size,t*=r[i].size}n=e*this.viewportMinimum}else{if(e=t=(i-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit,i<=this.conversionParameters.reference===("left"===this._position||"right"===this._position)!==this.reversed){for(i=0;i<r.length;i++)if(!(r[i].endValue<this.conversionParameters.minimum))if(n)if(r[i].startValue<this.conversionParameters.minimum){if(r[i].size&&this.conversionParameters.minimum+t*(r[i].endValue-r[i].startValue)/r[i].size<r[i].endValue){e=0>=r[i].size?0:t*(r[i].endValue-r[i].startValue)/r[i].size;break}e+=r[i].endValue-this.conversionParameters.minimum-r[i].size*(r[i].endValue-this.conversionParameters.minimum)/(r[i].endValue-r[i].startValue),t-=r[i].size*(r[i].endValue-this.conversionParameters.minimum)/(r[i].endValue-r[i].startValue),n=!1}else{if(!(t>r[i].startValue-this.conversionParameters.minimum))break;if((t-=r[i].startValue-this.conversionParameters.minimum)<r[i].size){e+=(r[i].endValue-r[i].startValue)*(0===r[i].size?1:t/r[i].size)-t;break}e+=r[i].endValue-r[i].startValue-r[i].size,t-=r[i].size,n=!1}else{if(!(t>r[i].startValue-r[i-1].endValue))break;if((t-=r[i].startValue-r[i-1].endValue)<r[i].size){e+=(r[i].endValue-r[i].startValue)*(0===r[i].size?1:t/r[i].size)-t;break}e+=r[i].endValue-r[i].startValue-r[i].size,t-=r[i].size}}else for(i=r.length-1;0<=i;i--)if(!(r[i].startValue>this.conversionParameters.minimum))if(n)if(r[i].endValue>this.conversionParameters.minimum){if(r[i].size&&this.conversionParameters.minimum+t*(r[i].endValue-r[i].startValue)/r[i].size>r[i].startValue){e=0>=r[i].size?0:t*(r[i].endValue-r[i].startValue)/r[i].size;break}e+=r[i].startValue-this.conversionParameters.minimum+r[i].size*(this.conversionParameters.minimum-r[i].startValue)/(r[i].endValue-r[i].startValue),t+=r[i].size*(this.conversionParameters.minimum-r[i].startValue)/(r[i].endValue-r[i].startValue),n=!1}else{if(!(t<r[i].endValue-this.conversionParameters.minimum))break;if((t-=r[i].endValue-this.conversionParameters.minimum)>-1*r[i].size){e+=(r[i].endValue-r[i].startValue)*(0===r[i].size?1:t/r[i].size)+t;break}e-=r[i].endValue-r[i].startValue-r[i].size,t+=r[i].size,n=!1}else{if(!(t<r[i].endValue-r[i+1].startValue))break;if((t-=r[i].endValue-r[i+1].startValue)>-1*r[i].size){e+=(r[i].endValue-r[i].startValue)*(0===r[i].size?1:t/r[i].size)+t;break}e-=r[i].endValue-r[i].startValue-r[i].size,t+=r[i].size}n=this.conversionParameters.minimum+e}return n},B.prototype.convertValueToPixel=function(e){return e=this.getApparentDifference(this.conversionParameters.minimum,e,e),this.logarithmic?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*Math.log(e/this.conversionParameters.minimum)/this.conversionParameters.lnLogarithmBase+.5<<0:"axisX"===this.type?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(e-this.conversionParameters.minimum)+.5<<0:this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(e-this.conversionParameters.minimum)+.5},B.prototype.getApparentDifference=function(e,t,n,i){var r=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];if(this.logarithmic){n=p(n)?t/e:n;for(var o=0;o<r.length&&!(t<r[o].startValue);o++)e>r[o].endValue||(e<=r[o].startValue&&t>=r[o].endValue?n=n/r[o].endValue*r[o].startValue*r[o].size:e>=r[o].startValue&&t>=r[o].endValue?n=n/r[o].endValue*e*Math.pow(r[o].size,Math.log(r[o].endValue/e)/Math.log(r[o].endValue/r[o].startValue)):e<=r[o].startValue&&t<=r[o].endValue?n=n/t*r[o].startValue*Math.pow(r[o].size,Math.log(t/r[o].startValue)/Math.log(r[o].endValue/r[o].startValue)):!i&&e>r[o].startValue&&t<r[o].endValue&&(n=e*Math.pow(r[o].size,Math.log(t/e)/Math.log(r[o].endValue/r[o].startValue))))}else for(n=p(n)?Math.abs(t-e):n,o=0;o<r.length&&!(t<r[o].startValue);o++)e>r[o].endValue||(e<=r[o].startValue&&t>=r[o].endValue?n=n-r[o].endValue+r[o].startValue+r[o].size:e>r[o].startValue&&t>=r[o].endValue?n=n-r[o].endValue+e+r[o].size*(r[o].endValue-e)/(r[o].endValue-r[o].startValue):e<=r[o].startValue&&t<r[o].endValue?n=n-t+r[o].startValue+r[o].size*(t-r[o].startValue)/(r[o].endValue-r[o].startValue):!i&&e>r[o].startValue&&t<r[o].endValue&&(n=e+r[o].size*(t-e)/(r[o].endValue-r[o].startValue)));return n},B.prototype.setViewPortRange=function(e,t){this.sessionVariables.newViewportMinimum=this.viewportMinimum=Math.min(e,t),this.sessionVariables.newViewportMaximum=this.viewportMaximum=Math.max(e,t)},B.prototype.getXValueAt=function(e){if(!e)return null;var t=null;return"left"===this._position?t=this.convertPixelToValue(e.y):"bottom"===this._position&&(t=this.convertPixelToValue(e.x)),t},B.prototype.calculateValueToPixelConversionParameters=function(e){e=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];var t={pixelPerUnit:null,minimum:null,reference:null},n=this.lineCoordinates.width,i=this.lineCoordinates.height;n="bottom"===this._position||"top"===this._position?n:i,i=Math.abs(this.range);if(this.logarithmic)for(var r=0;r<e.length&&!(this.viewportMaximum<e[r].startValue);r++)this.viewportMinimum>e[r].endValue||(this.viewportMinimum>=e[r].startValue&&this.viewportMaximum<=e[r].endValue?n=0:this.viewportMinimum<=e[r].startValue&&this.viewportMaximum>=e[r].endValue?(i=i/e[r].endValue*e[r].startValue,n=0<e[r].spacing.toString().indexOf("%")?n*(1-parseFloat(e[r].spacing)/100):n-Math.min(e[r].spacing,.1*n)):this.viewportMinimum>e[r].startValue&&this.viewportMaximum>=e[r].endValue?(i=i/e[r].endValue*this.viewportMinimum,n=0<e[r].spacing.toString().indexOf("%")?n*(1-parseFloat(e[r].spacing)/100*Math.log(e[r].endValue/this.viewportMinimum)/Math.log(e[r].endValue/e[r].startValue)):n-Math.min(e[r].spacing,.1*n)*Math.log(e[r].endValue/this.viewportMinimum)/Math.log(e[r].endValue/e[r].startValue)):this.viewportMinimum<=e[r].startValue&&this.viewportMaximum<e[r].endValue&&(i=i/this.viewportMaximum*e[r].startValue,n=0<e[r].spacing.toString().indexOf("%")?n*(1-parseFloat(e[r].spacing)/100*Math.log(this.viewportMaximum/e[r].startValue)/Math.log(e[r].endValue/e[r].startValue)):n-Math.min(e[r].spacing,.1*n)*Math.log(this.viewportMaximum/e[r].startValue)/Math.log(e[r].endValue/e[r].startValue)));else for(r=0;r<e.length&&!(this.viewportMaximum<e[r].startValue);r++)this.viewportMinimum>e[r].endValue||(this.viewportMinimum>=e[r].startValue&&this.viewportMaximum<=e[r].endValue?n=0:this.viewportMinimum<=e[r].startValue&&this.viewportMaximum>=e[r].endValue?(i=i-e[r].endValue+e[r].startValue,n=0<e[r].spacing.toString().indexOf("%")?n*(1-parseFloat(e[r].spacing)/100):n-Math.min(e[r].spacing,.1*n)):this.viewportMinimum>e[r].startValue&&this.viewportMaximum>=e[r].endValue?(i=i-e[r].endValue+this.viewportMinimum,n=0<e[r].spacing.toString().indexOf("%")?n*(1-parseFloat(e[r].spacing)/100*(e[r].endValue-this.viewportMinimum)/(e[r].endValue-e[r].startValue)):n-Math.min(e[r].spacing,.1*n)*(e[r].endValue-this.viewportMinimum)/(e[r].endValue-e[r].startValue)):this.viewportMinimum<=e[r].startValue&&this.viewportMaximum<e[r].endValue&&(i=i-this.viewportMaximum+e[r].startValue,n=0<e[r].spacing.toString().indexOf("%")?n*(1-parseFloat(e[r].spacing)/100*(this.viewportMaximum-e[r].startValue)/(e[r].endValue-e[r].startValue)):n-Math.min(e[r].spacing,.1*n)*(this.viewportMaximum-e[r].startValue)/(e[r].endValue-e[r].startValue)));t.minimum=this.viewportMinimum,t.maximum=this.viewportMaximum,t.range=i,"bottom"!==this._position&&"top"!==this._position||(this.logarithmic?(t.lnLogarithmBase=Math.log(this.logarithmBase),t.pixelPerUnit=(this.reversed?-1:1)*n*t.lnLogarithmBase/Math.log(Math.abs(i))):t.pixelPerUnit=(this.reversed?-1:1)*n/Math.abs(i),t.reference=this.reversed?this.lineCoordinates.x2:this.lineCoordinates.x1),"left"!==this._position&&"right"!==this._position||(this.logarithmic?(t.lnLogarithmBase=Math.log(this.logarithmBase),t.pixelPerUnit=(this.reversed?1:-1)*n*t.lnLogarithmBase/Math.log(Math.abs(i))):t.pixelPerUnit=(this.reversed?1:-1)*n/Math.abs(i),t.reference=this.reversed?this.lineCoordinates.y1:this.lineCoordinates.y2),this.conversionParameters=t},B.prototype.calculateAxisParameters=function(){if(this.logarithmic)this.calculateLogarithmicAxisParameters();else{var e=this.chart.layoutManager.getFreeSpace(),t=!1,n=!1;"bottom"===this._position||"top"===this._position?(this.maxWidth=e.width,this.maxHeight=e.height):(this.maxWidth=e.height,this.maxHeight=e.width);e="axisX"===this.type?"xySwapped"===this.chart.plotInfo.axisPlacement?62:70:"xySwapped"===this.chart.plotInfo.axisPlacement?50:40;var i=4;"axisX"===this.type&&(i=600>this.maxWidth?8:6);var r,o,a;e=Math.max(i,Math.floor(this.maxWidth/e)),i=0;if(!p(this.options.viewportMinimum)&&!p(this.options.viewportMaximum)&&this.options.viewportMinimum>=this.options.viewportMaximum&&(this.viewportMinimum=this.viewportMaximum=null),!p(this.options.viewportMinimum)||p(this.sessionVariables.newViewportMinimum)||isNaN(this.sessionVariables.newViewportMinimum)?(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum):this.viewportMinimum=this.sessionVariables.newViewportMinimum,!p(this.options.viewportMaximum)||p(this.sessionVariables.newViewportMaximum)||isNaN(this.sessionVariables.newViewportMaximum)?(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum):this.viewportMaximum=this.sessionVariables.newViewportMaximum,this.scaleBreaks)for(i=0;i<this.scaleBreaks._appliedBreaks.length;i++)if((!p(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[i].startValue||!p(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[i].startValue||!p(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[i].startValue)&&(!p(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[i].endValue||!p(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[i].endValue||!p(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[i].endValue)){this.scaleBreaks._appliedBreaks.splice(i,1);break}if("axisX"===this.type){if(this.dataSeries&&0<this.dataSeries.length)for(r=0;r<this.dataSeries.length;r++)"dateTime"===this.dataSeries[r].xValueType&&(n=!0);r=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,0===(o=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)-r&&(o+=i="undefined"===typeof this.options.interval?.4:this.options.interval,r-=i),1/0!==this.dataInfo.minDiff?a=this.dataInfo.minDiff:1<o-r?a=.5*Math.abs(o-r):(a=1,n&&(t=!0))}else"axisY"===this.type&&(r=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,o=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,isFinite(r)||isFinite(o)?isFinite(r)?isFinite(o)||(o=r):r=o:(o="undefined"===typeof this.options.interval?-1/0:this.options.interval,r="undefined"!==typeof this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),0===r&&0===o?(o+=9,r=0):0===o-r?(o+=i=Math.min(Math.abs(.01*Math.abs(o)),5),r-=i):r>o?(i=Math.min(.01*Math.abs(this.getApparentDifference(o,r,null,!0)),5),0<=o?r=o-i:o=isFinite(r)?r+i:0):(i=Math.min(.01*Math.abs(this.getApparentDifference(r,o,null,!0)),.05),0!==o&&(o+=i),0!==r&&(r-=i)),a=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<o-r?.5*Math.abs(o-r):1,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&0<r&&(r=0),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&0>o&&(o=0));i=this.getApparentDifference(isNaN(this.viewportMinimum)||null===this.viewportMinimum?r:this.viewportMinimum,isNaN(this.viewportMaximum)||null===this.viewportMaximum?o:this.viewportMaximum,null,!0),"axisX"===this.type&&n?(this.intervalType||(i/1<=e?(this.interval=1,this.intervalType="millisecond"):i/2<=e?(this.interval=2,this.intervalType="millisecond"):i/5<=e?(this.interval=5,this.intervalType="millisecond"):i/10<=e?(this.interval=10,this.intervalType="millisecond"):i/20<=e?(this.interval=20,this.intervalType="millisecond"):i/50<=e?(this.interval=50,this.intervalType="millisecond"):i/100<=e?(this.interval=100,this.intervalType="millisecond"):i/200<=e?(this.interval=200,this.intervalType="millisecond"):i/250<=e?(this.interval=250,this.intervalType="millisecond"):i/300<=e?(this.interval=300,this.intervalType="millisecond"):i/400<=e?(this.interval=400,this.intervalType="millisecond"):i/500<=e?(this.interval=500,this.intervalType="millisecond"):i/(1*ee.secondDuration)<=e?(this.interval=1,this.intervalType="second"):i/(2*ee.secondDuration)<=e?(this.interval=2,this.intervalType="second"):i/(5*ee.secondDuration)<=e?(this.interval=5,this.intervalType="second"):i/(10*ee.secondDuration)<=e?(this.interval=10,this.intervalType="second"):i/(15*ee.secondDuration)<=e?(this.interval=15,this.intervalType="second"):i/(20*ee.secondDuration)<=e?(this.interval=20,this.intervalType="second"):i/(30*ee.secondDuration)<=e?(this.interval=30,this.intervalType="second"):i/(1*ee.minuteDuration)<=e?(this.interval=1,this.intervalType="minute"):i/(2*ee.minuteDuration)<=e?(this.interval=2,this.intervalType="minute"):i/(5*ee.minuteDuration)<=e?(this.interval=5,this.intervalType="minute"):i/(10*ee.minuteDuration)<=e?(this.interval=10,this.intervalType="minute"):i/(15*ee.minuteDuration)<=e?(this.interval=15,this.intervalType="minute"):i/(20*ee.minuteDuration)<=e?(this.interval=20,this.intervalType="minute"):i/(30*ee.minuteDuration)<=e?(this.interval=30,this.intervalType="minute"):i/(1*ee.hourDuration)<=e?(this.interval=1,this.intervalType="hour"):i/(2*ee.hourDuration)<=e?(this.interval=2,this.intervalType="hour"):i/(3*ee.hourDuration)<=e?(this.interval=3,this.intervalType="hour"):i/(6*ee.hourDuration)<=e?(this.interval=6,this.intervalType="hour"):i/(1*ee.dayDuration)<=e?(this.interval=1,this.intervalType="day"):i/(2*ee.dayDuration)<=e?(this.interval=2,this.intervalType="day"):i/(4*ee.dayDuration)<=e?(this.interval=4,this.intervalType="day"):i/(1*ee.weekDuration)<=e?(this.interval=1,this.intervalType="week"):i/(2*ee.weekDuration)<=e?(this.interval=2,this.intervalType="week"):i/(3*ee.weekDuration)<=e?(this.interval=3,this.intervalType="week"):i/(1*ee.monthDuration)<=e?(this.interval=1,this.intervalType="month"):i/(2*ee.monthDuration)<=e?(this.interval=2,this.intervalType="month"):i/(3*ee.monthDuration)<=e?(this.interval=3,this.intervalType="month"):i/(6*ee.monthDuration)<=e?(this.interval=6,this.intervalType="month"):(this.interval=i/(1*ee.yearDuration)<=e?1:i/(2*ee.yearDuration)<=e?2:i/(4*ee.yearDuration)<=e?4:Math.floor(B.getNiceNumber(i/(e-1),!0)/ee.yearDuration),this.intervalType="year")),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=r-a/2),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=o+a/2),t?this.autoValueFormatString="MMM DD YYYY HH:mm":"year"===this.intervalType?this.autoValueFormatString="YYYY":"month"===this.intervalType?this.autoValueFormatString="MMM YYYY":"week"===this.intervalType||"day"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"hour"===this.intervalType||"minute"===this.intervalType?this.autoValueFormatString="hh:mm TT":"second"===this.intervalType?this.autoValueFormatString="hh:mm:ss TT":"millisecond"===this.intervalType&&(this.autoValueFormatString="fff'ms'"),this.valueFormatString||(this.valueFormatString=this.autoValueFormatString)):(this.intervalType="number",i=B.getNiceNumber(i,!1),this.interval=this.options&&0<this.options.interval?this.options.interval:B.getNiceNumber(i/(e-1),!0),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?r-a/2:Math.floor(r/this.interval)*this.interval),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?o+a/2:Math.ceil(o/this.interval)*this.interval),0===this.viewportMaximum&&0===this.viewportMinimum&&(0===this.options.viewportMinimum?this.viewportMaximum+=10:0===this.options.viewportMaximum&&(this.viewportMinimum-=10),this.options&&"undefined"===typeof this.options.interval&&(this.interval=B.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(e-1),!0)))),null!==this.minimum&&null!==this.maximum||("axisX"===this.type?(r=null!==this.minimum?this.minimum:this.dataInfo.min,0===(o=null!==this.maximum?this.maximum:this.dataInfo.max)-r&&(o+=i="undefined"===typeof this.options.interval?.4:this.options.interval,r-=i),a=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<o-r?.5*Math.abs(o-r):1):"axisY"===this.type&&(r=null!==this.minimum?this.minimum:this.dataInfo.min,o=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(r)||isFinite(o)?0===r&&0===o?(o+=9,r=0):0===o-r?(o+=i=Math.min(Math.abs(.01*Math.abs(o)),5),r-=i):r>o?(i=Math.min(.01*Math.abs(this.getApparentDifference(o,r,null,!0)),5),0<=o?r=o-i:o=isFinite(r)?r+i:0):(i=Math.min(.01*Math.abs(this.getApparentDifference(r,o,null,!0)),.05),0!==o&&(o+=i),0!==r&&(r-=i)):(o="undefined"===typeof this.options.interval?-1/0:this.options.interval,r="undefined"!==typeof this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),a=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<o-r?.5*Math.abs(o-r):1,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&0<r&&(r=0),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&0>o&&(o=0)),Math.abs(this.getApparentDifference(r,o,null,!0)),"axisX"===this.type&&n?(this.valueType="dateTime",(null===this.minimum||isNaN(this.minimum))&&(this.minimum=r-a/2),(null===this.maximum||isNaN(this.maximum))&&(this.maximum=o+a/2)):(this.intervalType=this.valueType="number",null===this.minimum&&(this.minimum="axisX"===this.type?r-a/2:Math.floor(r/this.interval)*this.interval,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?o+a/2:Math.ceil(o/this.interval)*this.interval,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum)),0===this.maximum&&0===this.minimum&&(0===this.options.minimum?this.maximum+=10:0===this.options.maximum&&(this.minimum-=10)))),p(this.sessionVariables.newViewportMinimum)&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),p(this.sessionVariables.newViewportMaximum)&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.range=this.viewportMaximum-this.viewportMinimum,this.intervalStartPosition="axisX"===this.type&&n?this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval):Math.floor((this.viewportMinimum+.2*this.interval)/this.interval)*this.interval,this.valueFormatString||(this.valueFormatString=B.generateValueFormatString(this.range,2))}},B.prototype.calculateLogarithmicAxisParameters=function(){var e,t=this.chart.layoutManager.getFreeSpace(),n=Math.log(this.logarithmBase);"bottom"===this._position||"top"===this._position?(this.maxWidth=t.width,this.maxHeight=t.height):(this.maxWidth=t.height,this.maxHeight=t.width);var i,r,o,a;t="axisX"===this.type?500>this.maxWidth?7:Math.max(7,Math.floor(this.maxWidth/100)):Math.max(Math.floor(this.maxWidth/50),3);if(a=1,(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks)for(a=0;a<this.scaleBreaks._appliedBreaks.length;a++)if((!p(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[a].startValue||!p(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[a].startValue||!p(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[a].startValue)&&(!p(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[a].endValue||!p(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[a].endValue||!p(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[a].endValue)){this.scaleBreaks._appliedBreaks.splice(a,1);break}"axisX"===this.type?(i=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,1===(r=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)/i&&(r*=a=Math.pow(this.logarithmBase,"undefined"===typeof this.options.interval?.4:this.options.interval),i/=a),o=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:r/i>this.logarithmBase?r/i*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(i=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,r=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,0>=i&&!isFinite(r)?(r="undefined"===typeof this.options.interval?0:this.options.interval,i=1):0>=i?i=r:isFinite(r)||(r=i),1===i&&1===r?(r*=this.logarithmBase-1/this.logarithmBase,i=1):1===r/i?(r*=a=Math.min(r*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),i/=a):i>r?(a=Math.min(i/r*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),1<=r?i=r/a:r=i*a):(a=Math.min(r/i*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==r&&(r*=a),1!==i&&(i/=a)),o=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:r/i>this.logarithmBase?r/i*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&1<i&&(i=1),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&1>r&&(r=1)),a=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?r:this.viewportMaximum)/(isNaN(this.viewportMinimum)||null===this.viewportMinimum?i:this.viewportMinimum);var s=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?r:this.viewportMaximum)-(isNaN(this.viewportMinimum)||null===this.viewportMinimum?i:this.viewportMinimum);if(this.intervalType="number",a=Math.pow(this.logarithmBase,B.getNiceNumber(Math.abs(Math.log(a)/n),!1)),this.options&&0<this.options.interval?this.interval=this.options.interval:(this.interval=B.getNiceExponent(Math.log(a)/n/(t-1),!0),e=B.getNiceNumber(s/(t-1),!0)),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?i/Math.sqrt(o):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(i)/n/this.interval))),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?r*Math.sqrt(o):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(r)/n/this.interval))),1===this.viewportMaximum&&1===this.viewportMinimum&&(1===this.options.viewportMinimum?this.viewportMaximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.viewportMaximum&&(this.viewportMinimum/=this.logarithmBase-1/this.logarithmBase),this.options&&"undefined"===typeof this.options.interval&&(this.interval=B.getNiceExponent(Math.ceil(Math.log(a)/n)/(t-1)),e=B.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(t-1),!0))),null!==this.minimum&&null!==this.maximum||("axisX"===this.type?(i=null!==this.minimum?this.minimum:this.dataInfo.min,1===(r=null!==this.maximum?this.maximum:this.dataInfo.max)/i&&(r*=a=Math.pow(this.logarithmBase,"undefined"===typeof this.options.interval?.4:this.options.interval),i/=a),o=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:r/i>this.logarithmBase?r/i*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(i=null!==this.minimum?this.minimum:this.dataInfo.min,r=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(i)||isFinite(r)?1===i&&1===r?(r*=this.logarithmBase,i/=this.logarithmBase):1===r/i?(r*=a=Math.pow(this.logarithmBase,this.interval),i/=a):i>r?(a=Math.min(i/r*.01,5),1<=r?i=r/a:r=i*a):(a=Math.min(r/i*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==r&&(r*=a),1!==i&&(i/=a)):(r="undefined"===typeof this.options.interval?0:this.options.interval,i=1),o=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:r/i>this.logarithmBase?r/i*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&1<i&&(i=1),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&1>r&&(r=1)),this.intervalType="number",null===this.minimum&&(this.minimum="axisX"===this.type?i/Math.sqrt(o):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(i)/n/this.interval)),this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?"undefined"===typeof this.sessionVariables.newViewportMinimum?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?r*Math.sqrt(o):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(r)/n/this.interval)),this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?"undefined"===typeof this.sessionVariables.newViewportMaximum?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum)),1===this.maximum&&1===this.minimum&&(1===this.options.minimum?this.maximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.maximum&&(this.minimum/=this.logarithmBase-1/this.logarithmBase))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.viewportMinimum>this.viewportMaximum&&(!this.options.viewportMinimum&&!this.options.minimum||this.options.viewportMaximum||this.options.maximum?this.options.viewportMinimum||this.options.minimum||!this.options.viewportMaximum&&!this.options.maximum||(this.viewportMinimum=this.minimum=(this.options.viewportMaximum||this.options.maximum)/Math.pow(this.logarithmBase,2*Math.ceil(this.interval))):this.viewportMaximum=this.maximum=this.options.viewportMinimum||this.options.minimum),i=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(n*this.interval)+.2)*this.interval),this.range=this.viewportMaximum/this.viewportMinimum,this.noTicks=t,!this.options.interval&&this.range<Math.pow(this.logarithmBase,8>this.viewportMaximum||3>t?2:3)){for(n=Math.floor(this.viewportMinimum/e+.5)*e;n<this.viewportMinimum;)n+=e;this.equidistantInterval=!1,this.intervalStartPosition=n,this.interval=e}else this.options.interval||(e=Math.ceil(this.interval),this.range>this.interval&&(this.interval=e,i=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(n*this.interval)+.2)*this.interval))),this.equidistantInterval=!0,this.intervalStartPosition=i;if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",1>this.viewportMinimum)&&(n=Math.floor(Math.abs(Math.log(this.viewportMinimum)/Math.LN10))+2,!isNaN(n)&&isFinite(n)||(n=2),2<n))for(a=0;a<n-2;a++)this.valueFormatString+="#"},B.generateValueFormatString=function(e,t){var n="#,##0.",i=t;1>e&&(i+=Math.floor(Math.abs(Math.log(e)/Math.LN10)),isNaN(i)||!isFinite(i))&&(i=t);for(var r=0;r<i;r++)n+="#";return n},B.getNiceExponent=function(e,t){var n=Math.floor(Math.log(e)/Math.LN10),i=e/Math.pow(10,n);i=0>n?1>=i?1:5>=i?5:10:Math.max(Math.floor(i),1);return Number(-20>n?i*Math.pow(10,n):(i*Math.pow(10,n)).toFixed(20))},B.getNiceNumber=function(e,t){var n=Math.floor(Math.log(e)/Math.LN10),i=e/Math.pow(10,n);i=t?1.5>i?1:3>i?2:7>i?5:10:1>=i?1:2>=i?2:5>=i?5:10;return Number(-20>n?i*Math.pow(10,n):(i*Math.pow(10,n)).toFixed(20))},B.prototype.getLabelStartPoint=function(){var e=ee[this.intervalType+"Duration"]*this.interval;e=new Date(Math.floor(this.viewportMinimum/e)*e);return"millisecond"!==this.intervalType&&("second"===this.intervalType?0<e.getMilliseconds()&&(e.setSeconds(e.getSeconds()+1),e.setMilliseconds(0)):"minute"===this.intervalType?(0<e.getSeconds()||0<e.getMilliseconds())&&(e.setMinutes(e.getMinutes()+1),e.setSeconds(0),e.setMilliseconds(0)):"hour"===this.intervalType?(0<e.getMinutes()||0<e.getSeconds()||0<e.getMilliseconds())&&(e.setHours(e.getHours()+1),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)):"day"===this.intervalType?(0<e.getHours()||0<e.getMinutes()||0<e.getSeconds()||0<e.getMilliseconds())&&(e.setDate(e.getDate()+1),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)):"week"===this.intervalType?(0<e.getDay()||0<e.getHours()||0<e.getMinutes()||0<e.getSeconds()||0<e.getMilliseconds())&&(e.setDate(e.getDate()+(7-e.getDay())),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)):"month"===this.intervalType?(1<e.getDate()||0<e.getHours()||0<e.getMinutes()||0<e.getSeconds()||0<e.getMilliseconds())&&(e.setMonth(e.getMonth()+1),e.setDate(1),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)):"year"===this.intervalType&&(0<e.getMonth()||1<e.getDate()||0<e.getHours()||0<e.getMinutes()||0<e.getSeconds()||0<e.getMilliseconds())&&(e.setFullYear(e.getFullYear()+1),e.setMonth(0),e.setDate(1),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0))),e},n(N,M),n(j,M),j.prototype.createUserOptions=function(e){if("undefined"!==typeof e||this.options._isPlaceholder){var t=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(f(this.parent[this.optionsName]),t=this.parent.options[this.optionsName].indexOf(this.options)),this.options="undefined"===typeof e?{}:e,this.parent.options[this.optionsName][t]=this.options}},j.prototype.render=function(e){if(0!==this.spacing||0!==this.options.lineThickness&&("undefined"!==typeof this.options.lineThickness||0!==this.parent.lineThickness)){var t=this.ctx,n=this.ctx.globalAlpha;this.ctx=e||this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip();var i,r,o,a,s,l,c=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.startValue),u=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.endValue);this.ctx.strokeStyle=this.lineColor,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.globalAlpha=1,d(this.id),e=Math.max(this.spacing,3);var h=Math.max(0,this.lineThickness);if(this.ctx.lineWidth=h,this.ctx.setLineDash&&this.ctx.setLineDash(v(this.lineDashType,h)),"bottom"===this.scaleBreaks.parent._position||"top"===this.scaleBreaks.parent._position){if(c=1===h%2?.5+(c.x<<0):c.x<<0,r=1===h%2?.5+(u.x<<0):u.x<<0,"top"===this.scaleBreaks.parent._position?(u=this.chart.plotArea.y1,o=this.chart.plotArea.y2+h/2+.5<<0):(u=this.chart.plotArea.y2,o=this.chart.plotArea.y1-h/2+.5<<0,e*=-1),this.bounds={x1:c-h/2,y1:u,x2:r+h/2,y2:o},this.ctx.moveTo(c,u),"straight"===this.type||"top"===this.scaleBreaks.parent._position&&0>=e||"bottom"===this.scaleBreaks.parent._position&&0<=e)this.ctx.lineTo(c,o),this.ctx.lineTo(r,o),this.ctx.lineTo(r,u);else if("wavy"===this.type){a=c,i=.5,l=(o-(s=u))/e/3;for(var p=0;p<l;p++)this.ctx.bezierCurveTo(a+i*e,s+e,a+i*e,s+2*e,a,s+3*e),s+=3*e,i*=-1;for(this.ctx.bezierCurveTo(a+i*e,s+e,a+i*e,s+2*e,a,s+3*e),a=r,i*=-1,this.ctx.lineTo(a,s),p=0;p<l;p++)this.ctx.bezierCurveTo(a+i*e,s-e,a+i*e,s-2*e,a,s-3*e),s-=3*e,i*=-1}else if("zigzag"===this.type){for(i=-1,a=c+e,l=(o-(s=u+e))/e/2,p=0;p<l;p++)this.ctx.lineTo(a,s),a+=2*i*e,s+=2*e,i*=-1;for(this.ctx.lineTo(a,s),a+=r-c,p=0;p<l+1;p++)this.ctx.lineTo(a,s),a+=2*i*e,s-=2*e,i*=-1;this.ctx.lineTo(a+i*e,s+e)}}else if("left"===this.scaleBreaks.parent._position||"right"===this.scaleBreaks.parent._position)if(u=1===h%2?.5+(u.y<<0):u.y<<0,o=1===h%2?.5+(c.y<<0):c.y<<0,"left"===this.scaleBreaks.parent._position?(c=this.chart.plotArea.x1,r=this.chart.plotArea.x2+h/2+.5<<0):(c=this.chart.plotArea.x2,r=this.chart.plotArea.x1-h/2+.5<<0,e*=-1),this.bounds={x1:c,y1:u-h/2,x2:r,y2:o+h/2},this.ctx.moveTo(c,u),"straight"===this.type||"left"===this.scaleBreaks.parent._position&&0>=e||"right"===this.scaleBreaks.parent._position&&0<=e)this.ctx.lineTo(r,u),this.ctx.lineTo(r,o),this.ctx.lineTo(c,o);else if("wavy"===this.type){for(s=u,i=.5,l=(r-(a=c))/e/3,p=0;p<l;p++)this.ctx.bezierCurveTo(a+e,s+i*e,a+2*e,s+i*e,a+3*e,s),a+=3*e,i*=-1;for(this.ctx.bezierCurveTo(a+e,s+i*e,a+2*e,s+i*e,a+3*e,s),s=o,i*=-1,this.ctx.lineTo(a,s),p=0;p<l;p++)this.ctx.bezierCurveTo(a-e,s+i*e,a-2*e,s+i*e,a-3*e,s),a-=3*e,i*=-1}else if("zigzag"===this.type){for(i=1,s=u-e,l=(r-(a=c+e))/e/2,p=0;p<l;p++)this.ctx.lineTo(a,s),s+=2*i*e,a+=2*e,i*=-1;for(this.ctx.lineTo(a,s),s+=o-u,p=0;p<l+1;p++)this.ctx.lineTo(a,s),s+=2*i*e,a-=2*e,i*=-1;this.ctx.lineTo(a+e,s+i*e)}0<h&&this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalAlpha=this.fillOpacity,this.ctx.globalCompositeOperation="destination-over",this.ctx.fill(),this.ctx.restore(),this.ctx.globalAlpha=n,this.ctx=t}},n(H,M),H.prototype.createUserOptions=function(e){if("undefined"!==typeof e||this.options._isPlaceholder){var t=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(f(this.parent.stripLines),t=this.parent.options.stripLines.indexOf(this.options)),this.options="undefined"===typeof e?{}:e,this.parent.options.stripLines[t]=this.options}},H.prototype.render=function(){this.ctx.save();var e=this.parent.getPixelCoordinatesOnAxis(this.value),t=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness);if(0<t){var n=null===this.opacity?1:this.opacity;this.ctx.strokeStyle=this.color,this.ctx.beginPath();var i,r,o,a,s=this.ctx.globalAlpha;this.ctx.globalAlpha=n,d(this.id),this.ctx.lineWidth=t,this.ctx.setLineDash&&this.ctx.setLineDash(v(this.lineDashType,t)),"bottom"===this.parent._position||"top"===this.parent._position?(i=r=1===this.ctx.lineWidth%2?.5+(e.x<<0):e.x<<0,o=this.chart.plotArea.y1,a=this.chart.plotArea.y2,this.bounds={x1:i-t/2,y1:o,x2:r+t/2,y2:a}):"left"!==this.parent._position&&"right"!==this.parent._position||(o=a=1===this.ctx.lineWidth%2?.5+(e.y<<0):e.y<<0,i=this.chart.plotArea.x1,r=this.chart.plotArea.x2,this.bounds={x1:i,y1:o-t/2,x2:r,y2:a+t/2}),this.ctx.moveTo(i,o),this.ctx.lineTo(r,a),this.ctx.stroke(),this.ctx.globalAlpha=s}this.ctx.restore()},n(X,M),X.prototype.render=function(e,t){var n,i,r,o,a=null,s=a=null,l="";if(!this.valueFormatString)if("dateTime"===this.parent.valueType)this.valueFormatString=this.parent.valueFormatString;else{var c=0;c="xySwapped"===this.chart.plotInfo.axisPlacement?50<this.parent.range?0:500<this.chart.width&&25>this.parent.range?2:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0):50<this.parent.range?0:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0);this.valueFormatString=B.generateValueFormatString(this.parent.range,c)}s=null===this.opacity?1:this.opacity,c=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness);var u=this.chart.overlaidCanvasCtx,d=u.globalAlpha;if(u.globalAlpha=s,u.beginPath(),u.strokeStyle=this.color,u.lineWidth=c,u.save(),this.labelFontSize=p(this.options.labelFontSize)?this.parent.labelFontSize:this.labelFontSize,"left"===this.parent._position||"right"===this.parent._position?(this.labelMaxWidth=p(this.options.labelMaxWidth)?this.parent.bounds.x2-this.parent.bounds.x1:this.labelMaxWidth,this.labelMaxHeight=p(this.options.labelWrap)||this.labelWrap?3*this.chart.height:2*this.labelFontSize):"top"!==this.parent._position&&"bottom"!==this.parent._position||(this.labelMaxWidth=p(this.options.labelMaxWidth)?3*this.chart.width:this.labelMaxWidth,this.labelMaxHeight=p(this.options.labelWrap)||this.labelWrap?this.parent.bounds.height:2*this.labelFontSize),0<c&&u.setLineDash&&u.setLineDash(v(this.lineDashType,c)),s=new A(u,{x:0,y:0,padding:{top:2,right:3,bottom:2,left:4},backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxWidth:this.labelMaxWidth,maxHeight:this.labelMaxHeight,angle:this.labelAngle,text:l,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this.snapToDataPoint){var h=0;a=[];if("xySwapped"===this.chart.plotInfo.axisPlacement){var f=null;"bottom"===this.parent._position||"top"===this.parent._position?h=this.parent.dataSeries[0].axisX.convertPixelToValue({y:t}):"left"!==this.parent._position&&"right"!==this.parent._position||(h=this.parent.convertPixelToValue({y:t}));for(var m=0;m<this.parent.dataSeries.length;m++)(f=this.parent.dataSeries[m].getDataPointAtX(h,!0))&&0<=f.index&&(f.dataSeries=this.parent.dataSeries[m],null!==f.dataPoint.y&&a.push(f));if(f=null,0===a.length)return;if(a.sort((function(e,t){return e.distance-t.distance})),f=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y)),m=0,"rangeBar"===a[0].dataSeries.type||"error"===a[0].dataSeries.type){f=Math.abs(e-this.parent.convertValueToPixel(a[m].dataPoint.y[0]));var g=0;for(h=0;h<a.length;h++)if(a[h].dataPoint.y&&a[h].dataPoint.y.length)for(l=0;l<a[h].dataPoint.y.length;l++)(g=Math.abs(e-this.parent.convertValueToPixel(a[h].dataPoint.y[l])))<f&&(f=g,m=h);else(g=Math.abs(e-this.parent.convertValueToPixel(a[h].dataPoint.y)))<f&&(f=g,m=h)}else if("stackedBar"===a[0].dataSeries.type){f=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y));var y=g=0;for(h=m=0;h<a.length;h++)if(a[h].dataPoint.y&&a[h].dataPoint.y.length)for(l=0;l<a[h].dataPoint.y.length;l++)(g=Math.abs(e-this.parent.convertValueToPixel(a[h].dataPoint.y[l])))<f&&(f=g,m=h);else y+=a[h].dataPoint.y,(g=Math.abs(e-this.parent.convertValueToPixel(y)))<f&&(f=g,m=h)}else if("stackedBar100"===a[0].dataSeries.type){f=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y));var x=y=g=0;for(h=0;h<a.length;h++)if(a[h].dataPoint.y&&a[h].dataPoint.y.length)for(l=0;l<a[h].dataPoint.y.length;l++)(g=Math.abs(e-this.parent.convertValueToPixel(a[h].dataPoint.y[l])))<f&&(f=g,m=h);else y+=a[h].dataPoint.y,x=a[h].dataPoint.x.getTime?a[h].dataPoint.x.getTime():a[h].dataPoint.x,x=y/a[h].dataSeries.plotUnit.dataPointYSums[x]*100,(g=Math.abs(e-this.parent.convertValueToPixel(x)))<f&&(f=g,m=h)}else for(f=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y)),h=m=g=0;h<a.length;h++)if(a[h].dataPoint.y&&a[h].dataPoint.y.length)for(l=0;l<a[h].dataPoint.y.length;l++)(g=Math.abs(e-this.parent.convertValueToPixel(a[h].dataPoint.y[l])))<f&&(f=g,m=h);else(g=Math.abs(e-this.parent.convertValueToPixel(a[h].dataPoint.y)))<f&&(f=g,m=h);if(l=a[m],"bottom"===this.parent._position||"top"===this.parent._position){if(n=0,"rangeBar"===this.parent.dataSeries[m].type||"error"===this.parent.dataSeries[m].type){for(f=Math.abs(e-this.parent.convertValueToPixel(l.dataPoint.y[0])),h=g=0;h<l.dataPoint.y.length;h++)(g=Math.abs(e-this.parent.convertValueToPixel(l.dataPoint.y[h])))<f&&(f=g,n=h);a=1===u.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.y[n])<<0):this.parent.convertValueToPixel(l.dataPoint.y[n])<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y[n]}):p(this.options.label)?ae(l.dataPoint.y[n],this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar"===this.parent.dataSeries[m].type){for(f=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y)),y=g=0,h=m;0<=h;h--)y+=a[h].dataPoint.y,(g=Math.abs(e-this.parent.convertValueToPixel(y)))<f&&(f=g,n=h);a=1===u.lineWidth%2?.5+(this.parent.convertValueToPixel(y)<<0):this.parent.convertValueToPixel(y)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y}):p(this.options.label)?ae(l.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar100"===this.parent.dataSeries[m].type){for(f=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y)),x=y=g=0,h=m;0<=h;h--)y+=a[h].dataPoint.y,x=a[h].dataPoint.x.getTime?a[h].dataPoint.x.getTime():a[h].dataPoint.x,x=y/a[h].dataSeries.plotUnit.dataPointYSums[x]*100,(g=Math.abs(e-this.parent.convertValueToPixel(x)))<f&&(f=g,n=h);a=1===u.lineWidth%2?.5+(this.parent.convertValueToPixel(x)<<0):this.parent.convertValueToPixel(x)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:x}):p(this.options.label)?ae(x,this.valueFormatString,this.chart._cultureInfo):this.label}else a=1===u.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.y)<<0):this.parent.convertValueToPixel(l.dataPoint.y)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y}):p(this.options.label)?ae(l.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label;n=i=a,r=this.chart.plotArea.y1,o=this.chart.plotArea.y2,this.bounds={x1:n-c/2,y1:r,x2:i+c/2,y2:o},s.x=n-s.measureText().width/2,s.x+s.width>this.chart.bounds.x2?s.x=this.chart.bounds.x2-s.width:s.x<this.chart.bounds.x1&&(s.x=this.chart.bounds.x1),s.y=this.parent.lineCoordinates.y2+s.fontSize/2+2}else if("left"===this.parent._position||"right"===this.parent._position){if(r=o=a=1===u.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.x)<<0):this.parent.convertValueToPixel(l.dataPoint.x)<<0,n=this.chart.plotArea.x1,i=this.chart.plotArea.x2,this.bounds={x1:n,y1:r-c/2,x2:i,y2:o+c/2},x=!1,this.parent.labels)for(a=Math.ceil(this.parent.interval),h=0;h<this.parent.viewportMaximum;h+=a){if(!this.parent.labels[h]){x=!1;break}x=!0}if(x){if("axisX"===this.parent.type)for(h=this.parent.convertPixelToValue({y:t}),f=null,m=0;m<this.parent.dataSeries.length;m++)(f=this.parent.dataSeries[m].getDataPointAtX(h,!0))&&0<=f.index&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):p(this.options.label)?f.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):p(this.options.label)?oe(l.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):p(this.options.label)?ae(l.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);s.y=o+s.fontSize/2-s.measureText().height/2+2,s.y-s.fontSize/2<this.chart.bounds.y1?s.y=this.chart.bounds.y1+s.fontSize/2+2:s.y+s.measureText().height-s.fontSize/2>this.chart.bounds.y2&&(s.y=this.chart.bounds.y2-s.measureText().height+s.fontSize/2),"left"===this.parent._position?s.x=this.parent.lineCoordinates.x2-s.measureText().width:"right"===this.parent._position&&(s.x=this.parent.lineCoordinates.x2)}}else if("bottom"===this.parent._position||"top"===this.parent._position){for(h=this.parent.convertPixelToValue({x:e}),m=0;m<this.parent.dataSeries.length;m++)(f=this.parent.dataSeries[m].getDataPointAtX(h,!0))&&0<=f.index&&(f.dataSeries=this.parent.dataSeries[m],null!==f.dataPoint.y&&a.push(f));if(0===a.length)return;if(a.sort((function(e,t){return e.distance-t.distance})),l=a[0],n=i=a=1===u.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.x)<<0):this.parent.convertValueToPixel(l.dataPoint.x)<<0,r=this.chart.plotArea.y1,o=this.chart.plotArea.y2,this.bounds={x1:n-c/2,y1:r,x2:i+c/2,y2:o},x=!1,this.parent.labels)for(a=Math.ceil(this.parent.interval),h=0;h<this.parent.viewportMaximum;h+=a){if(!this.parent.labels[h]){x=!1;break}x=!0}if(x){if("axisX"===this.parent.type)for(h=this.parent.convertPixelToValue({x:e}),f=null,m=0;m<this.parent.dataSeries.length;m++)(f=this.parent.dataSeries[m].getDataPointAtX(h,!0))&&0<=f.index&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):p(this.options.label)?f.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):p(this.options.label)?oe(l.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):p(this.options.label)?ae(l.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);s.x=n-s.measureText().width/2,s.x+s.width>this.chart.bounds.x2&&(s.x=this.chart.bounds.x2-s.width),s.x<this.chart.bounds.x1&&(s.x=this.chart.bounds.x1),"bottom"===this.parent._position?s.y=this.parent.lineCoordinates.y2+s.fontSize/2+2:"top"===this.parent._position&&(s.y=this.parent.lineCoordinates.y1-s.height+s.fontSize/2+2)}else if("left"===this.parent._position||"right"===this.parent._position){for(!p(this.parent.dataSeries)&&0<this.parent.dataSeries.length&&(h=this.parent.dataSeries[0].axisX.convertPixelToValue({x:e})),m=0;m<this.parent.dataSeries.length;m++)(f=this.parent.dataSeries[m].getDataPointAtX(h,!0))&&0<=f.index&&(f.dataSeries=this.parent.dataSeries[m],null!==f.dataPoint.y&&a.push(f));if(0===a.length)return;if(a.sort((function(e,t){return e.distance-t.distance})),m=0,"rangeColumn"===a[0].dataSeries.type||"rangeArea"===a[0].dataSeries.type||"error"===a[0].dataSeries.type||"rangeSplineArea"===a[0].dataSeries.type||"candlestick"===a[0].dataSeries.type||"ohlc"===a[0].dataSeries.type||"boxAndWhisker"===a[0].dataSeries.type)for(f=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y[0])),h=g=0;h<a.length;h++)if(a[h].dataPoint.y&&a[h].dataPoint.y.length)for(l=0;l<a[h].dataPoint.y.length;l++)(g=Math.abs(t-this.parent.convertValueToPixel(a[h].dataPoint.y[l])))<f&&(f=g,m=h);else(g=Math.abs(t-this.parent.convertValueToPixel(a[h].dataPoint.y)))<f&&(f=g,m=h);else if("stackedColumn"===a[0].dataSeries.type||"stackedArea"===a[0].dataSeries.type)for(f=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y)),h=y=g=0;h<a.length;h++)if(a[h].dataPoint.y&&a[h].dataPoint.y.length)for(l=0;l<a[h].dataPoint.y.length;l++)(g=Math.abs(t-this.parent.convertValueToPixel(a[h].dataPoint.y[l])))<f&&(f=g,m=h);else y+=a[h].dataPoint.y,(g=Math.abs(t-this.parent.convertValueToPixel(y)))<f&&(f=g,m=h);else if("stackedColumn100"===a[0].dataSeries.type||"stackedArea100"===a[0].dataSeries.type)for(f=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y)),h=x=y=g=0;h<a.length;h++)if(a[h].dataPoint.y&&a[h].dataPoint.y.length)for(l=0;l<a[h].dataPoint.y.length;l++)(g=Math.abs(t-this.parent.convertValueToPixel(a[h].dataPoint.y[l])))<f&&(f=g,m=h);else y+=a[h].dataPoint.y,x=a[h].dataPoint.x.getTime?a[h].dataPoint.x.getTime():a[h].dataPoint.x,x=y/a[h].dataSeries.plotUnit.dataPointYSums[x]*100,(g=Math.abs(t-this.parent.convertValueToPixel(x)))<f&&(f=g,m=h);else for(f=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y)),h=g=0;h<a.length;h++)if(a[h].dataPoint.y&&a[h].dataPoint.y.length)for(l=0;l<a[h].dataPoint.y.length;l++)(g=Math.abs(t-this.parent.convertValueToPixel(a[h].dataPoint.y[l])))<f&&(f=g,m=h);else(g=Math.abs(t-this.parent.convertValueToPixel(a[h].dataPoint.y)))<f&&(f=g,m=h);if(l=a[m],n=0,"rangeColumn"===this.parent.dataSeries[m].type||"rangeArea"===this.parent.dataSeries[m].type||"error"===this.parent.dataSeries[m].type||"rangeSplineArea"===this.parent.dataSeries[m].type||"candlestick"===this.parent.dataSeries[m].type||"ohlc"===this.parent.dataSeries[m].type||"boxAndWhisker"===this.parent.dataSeries[m].type){for(f=Math.abs(t-this.parent.convertValueToPixel(l.dataPoint.y[0])),h=g=0;h<l.dataPoint.y.length;h++)(g=Math.abs(t-this.parent.convertValueToPixel(l.dataPoint.y[h])))<f&&(f=g,n=h);a=1===u.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.y[n])<<0):this.parent.convertValueToPixel(l.dataPoint.y[n])<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y[n]}):p(this.options.label)?ae(l.dataPoint.y[n],this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedColumn"===this.parent.dataSeries[m].type||"stackedArea"===this.parent.dataSeries[m].type){for(f=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y)),y=g=0,h=m;0<=h;h--)y+=a[h].dataPoint.y,(g=Math.abs(t-this.parent.convertValueToPixel(y)))<f&&(f=g,n=h);a=1===u.lineWidth%2?.5+(this.parent.convertValueToPixel(y)<<0):this.parent.convertValueToPixel(y)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y}):p(this.options.label)?ae(l.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedColumn100"===this.parent.dataSeries[m].type||"stackedArea100"===this.parent.dataSeries[m].type){for(f=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y)),y=g=0,h=m;0<=h;h--)y+=a[h].dataPoint.y,x=a[h].dataPoint.x.getTime?a[h].dataPoint.x.getTime():a[h].dataPoint.x,x=y/a[h].dataSeries.plotUnit.dataPointYSums[x]*100,(g=Math.abs(t-this.parent.convertValueToPixel(x)))<f&&(f=g,n=h);a=1===u.lineWidth%2?.5+(this.parent.convertValueToPixel(x)<<0):this.parent.convertValueToPixel(x)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:x}):p(this.options.label)?ae(x,this.valueFormatString,this.chart._cultureInfo):this.label}else"waterfall"===this.parent.dataSeries[m].type?(a=1===u.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataSeries.dataPointEOs[l.index].cumulativeSum)<<0):this.parent.convertValueToPixel(l.dataSeries.dataPointEOs[l.index].cumulativeSum)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataSeries.dataPointEOs[l.index].cumulativeSum}):p(this.options.label)?ae(l.dataSeries.dataPointEOs[l.index].cumulativeSum,this.valueFormatString,this.chart._cultureInfo):this.label):(a=1===u.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.y)<<0):this.parent.convertValueToPixel(l.dataPoint.y)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y}):p(this.options.label)?ae(l.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label);r=o=a,n=this.chart.plotArea.x1,i=this.chart.plotArea.x2,this.bounds={x1:n,y1:r-c/2,x2:i,y2:o+c/2},s.y=o+s.fontSize/2-s.measureText().height/2+2,s.y-s.fontSize/2<this.chart.bounds.y1?s.y=this.chart.bounds.y1+s.fontSize/2+2:s.y+s.measureText().height-s.fontSize/2>this.chart.bounds.y2&&(s.y=this.chart.bounds.y2-s.measureText().height+s.fontSize/2),"left"===this.parent._position?s.x=this.parent.lineCoordinates.x2-s.measureText().width:"right"===this.parent._position&&(s.x=this.parent.lineCoordinates.x2)}a=null,("bottom"===this.parent._position||"top"===this.parent._position)&&n>=this.parent.convertValueToPixel(this.parent.viewportMinimum)&&i<=this.parent.convertValueToPixel(this.parent.viewportMaximum)&&(0<c&&(u.moveTo(n,r),u.lineTo(i,o),u.stroke()),u.restore(),!p(s.text)&&("number"===typeof s.text.valueOf()||0<s.text.length)&&s.render(!0)),("left"===this.parent._position||"right"===this.parent._position)&&o>=this.parent.convertValueToPixel(this.parent.viewportMaximum)&&r<=this.parent.convertValueToPixel(this.parent.viewportMinimum)&&(0<c&&(u.moveTo(n,r),u.lineTo(i,o),u.stroke()),u.restore(),!p(s.text)&&("number"===typeof s.text.valueOf()||0<s.text.length)&&s.render(!0))}else{if("bottom"===this.parent._position||"top"===this.parent._position?(n=i=a=1===u.lineWidth%2?.5+(e<<0):e<<0,r=this.chart.plotArea.y1,o=this.chart.plotArea.y2,this.bounds={x1:n-c/2,y1:r,x2:i+c/2,y2:o}):"left"!==this.parent._position&&"right"!==this.parent._position||(r=o=a=1===u.lineWidth%2?.5+(t<<0):t<<0,n=this.chart.plotArea.x1,i=this.chart.plotArea.x2,this.bounds={x1:n,y1:r-c/2,x2:i,y2:o+c/2}),"xySwapped"===this.chart.plotInfo.axisPlacement)if("left"===this.parent._position||"right"===this.parent._position){if(x=!1,this.parent.labels)for(a=Math.ceil(this.parent.interval),h=0;h<this.parent.viewportMaximum;h+=a){if(!this.parent.labels[h]){x=!1;break}x=!0}if(x){if("axisX"===this.parent.type)for(h=this.parent.convertPixelToValue({y:t}),f=null,m=0;m<this.parent.dataSeries.length;m++)(f=this.parent.dataSeries[m].getDataPointAtX(h,!0))&&0<=f.index&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):p(this.options.label)?f.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):p(this.options.label)?oe(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):p(this.options.label)?ae(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label);s.y=t+s.fontSize/2-s.measureText().height/2+2,s.y-s.fontSize/2<this.chart.bounds.y1?s.y=this.chart.bounds.y1+s.fontSize/2+2:s.y+s.measureText().height-s.fontSize/2>this.chart.bounds.y2&&(s.y=this.chart.bounds.y2-s.measureText().height+s.fontSize/2),"left"===this.parent._position?s.x=this.parent.lineCoordinates.x1-s.measureText().width:"right"===this.parent._position&&(s.x=this.parent.lineCoordinates.x2)}else"bottom"!==this.parent._position&&"top"!==this.parent._position||(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):p(this.options.label)?ae(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label,s.x=n-s.measureText().width/2,s.x+s.width>this.chart.bounds.x2&&(s.x=this.chart.bounds.x2-s.width),s.x<this.chart.bounds.x1&&(s.x=this.chart.bounds.x1),"bottom"===this.parent._position&&(s.y=this.parent.lineCoordinates.y2+s.fontSize/2+2),"top"===this.parent._position&&(s.y=this.parent.lineCoordinates.y1-s.height+s.fontSize/2+2));else if("bottom"===this.parent._position||"top"===this.parent._position){if(x=!1,l="",this.parent.labels)for(a=Math.ceil(this.parent.interval),h=0;h<this.parent.viewportMaximum;h+=a){if(!this.parent.labels[h]){x=!1;break}x=!0}if(x){if("axisX"===this.parent.type)for(h=this.parent.convertPixelToValue({x:e}),f=null,m=0;m<this.parent.dataSeries.length;m++)(f=this.parent.dataSeries[m].getDataPointAtX(h,!0))&&0<=f.index&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):p(this.options.label)?f.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):p(this.options.label)?oe(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:0<this.parent.dataSeries.length?this.parent.convertPixelToValue(e):""}):p(this.options.label)?ae(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label);s.x=n-s.measureText().width/2,s.x+s.width>this.chart.bounds.x2&&(s.x=this.chart.bounds.x2-s.width),s.x<this.chart.bounds.x1&&(s.x=this.chart.bounds.x1),"bottom"===this.parent._position?s.y=this.parent.lineCoordinates.y2+s.fontSize/2+2:"top"===this.parent._position&&(s.y=this.parent.lineCoordinates.y1-s.height+s.fontSize/2+2)}else"left"!==this.parent._position&&"right"!==this.parent._position||(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):p(this.options.label)?ae(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label,s.y=t+s.fontSize/2-s.measureText().height/2+2,s.y-s.fontSize/2<this.chart.bounds.y1?s.y=this.chart.bounds.y1+s.fontSize/2+2:s.y+s.measureText().height-s.fontSize/2>this.chart.bounds.y2&&(s.y=this.chart.bounds.y2-s.measureText().height+s.fontSize/2),"left"===this.parent._position?s.x=this.parent.lineCoordinates.x2-s.measureText().width:"right"===this.parent._position&&(s.x=this.parent.lineCoordinates.x2));0<c&&(u.moveTo(n,r),u.lineTo(i,o),u.stroke()),u.restore(),!p(s.text)&&("number"===typeof s.text.valueOf()||0<s.text.length)&&s.render(!0)}u.globalAlpha=d},n(G,M),G.prototype._initialize=function(){var e;this.enabled&&(this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.pointerEvents="none",this.container.style.display="none",e='<div style=" width: auto;height: auto;min-width: 50px;',e+="line-height: auto;",e+="margin: 0px 0px 0px 0px;",e+="padding: 5px;",e+="font-family: Calibri, Arial, Georgia, serif;",e+="font-weight: normal;",e+="font-style: "+(U?"italic;":"normal;"),e+="font-size: 14px;",e+="color: #000000;",e+="text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);",e+="text-align: left;",e+="border: 2px solid gray;",e+=U?"background: rgba(255,255,255,.9);":"background: rgb(255,255,255);",e+="text-indent: 0px;",e+="white-space: nowrap;",e+="border-radius: 5px;",e+="-moz-user-select:none;",e+="-khtml-user-select: none;",e+="-webkit-user-select: none;",e+="-ms-user-select: none;",e+="user-select: none;",U||(e+="filter: alpha(opacity = 90);",e+="filter: progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666');"),e+='} "> Sample Tooltip</div>',this.container.innerHTML=e,this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container))},G.prototype.mouseMoveHandler=function(e,t){this._lastUpdated&&4>(new Date).getTime()-this._lastUpdated||(this._lastUpdated=(new Date).getTime(),this.chart.resetOverlayedCanvas(),this._updateToolTip(e,t))},G.prototype._updateToolTip=function(e,n,i){if(i="undefined"===typeof i||i,this.container||this._initialize(),this.enabled||this.hide(),!this.chart.disableToolTip){if("undefined"===typeof e||"undefined"===typeof n){if(isNaN(this._prevX)||isNaN(this._prevY))return;e=this._prevX,n=this._prevY}else this._prevX=e,this._prevY=n;var r=null,o=null,a=[],s=0;if(this.shared&&this.enabled&&"none"!==this.chart.plotInfo.axisPlacement){if("xySwapped"===this.chart.plotInfo.axisPlacement){var l=[];if(this.chart.axisX)for(var c=0;c<this.chart.axisX.length;c++){s=this.chart.axisX[c].convertPixelToValue({y:n});var u=null;for(r=0;r<this.chart.axisX[c].dataSeries.length;r++)(u=this.chart.axisX[c].dataSeries[r].getDataPointAtX(s,i))&&0<=u.index&&(u.dataSeries=this.chart.axisX[c].dataSeries[r],null!==u.dataPoint.y&&l.push(u));u=null}if(this.chart.axisX2)for(c=0;c<this.chart.axisX2.length;c++){for(s=this.chart.axisX2[c].convertPixelToValue({y:n}),u=null,r=0;r<this.chart.axisX2[c].dataSeries.length;r++)(u=this.chart.axisX2[c].dataSeries[r].getDataPointAtX(s,i))&&0<=u.index&&(u.dataSeries=this.chart.axisX2[c].dataSeries[r],null!==u.dataPoint.y&&l.push(u));u=null}}else{if(l=[],this.chart.axisX)for(c=0;c<this.chart.axisX.length;c++)for(s=this.chart.axisX[c].convertPixelToValue({x:e}),u=null,r=0;r<this.chart.axisX[c].dataSeries.length;r++)(u=this.chart.axisX[c].dataSeries[r].getDataPointAtX(s,i))&&0<=u.index&&(u.dataSeries=this.chart.axisX[c].dataSeries[r],null!==u.dataPoint.y&&l.push(u));if(this.chart.axisX2)for(c=0;c<this.chart.axisX2.length;c++)for(s=this.chart.axisX2[c].convertPixelToValue({x:e}),u=null,r=0;r<this.chart.axisX2[c].dataSeries.length;r++)(u=this.chart.axisX2[c].dataSeries[r].getDataPointAtX(s,i))&&0<=u.index&&(u.dataSeries=this.chart.axisX2[c].dataSeries[r],null!==u.dataPoint.y&&l.push(u))}if(0===l.length)return;for(l.sort((function(e,t){return e.distance-t.distance})),i=l[0],r=0;r<l.length;r++)l[r].dataPoint.x.valueOf()===i.dataPoint.x.valueOf()&&a.push(l[r]);l=null}else{if(u=this.chart.getDataPointAtXY(e,n,i))this.currentDataPointIndex=u.dataPointIndex,this.currentSeriesIndex=u.dataSeries.index;else if(U)if(0<(u=x(e,n,this.chart._eventManager.ghostCtx))&&"undefined"!==typeof this.chart._eventManager.objectMap[u]){if("legendItem"===(u=this.chart._eventManager.objectMap[u]).objectType)return;this.currentSeriesIndex=u.dataSeriesIndex,this.currentDataPointIndex=0<=u.dataPointIndex?u.dataPointIndex:-1}else this.currentDataPointIndex=-1;else this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){if(o=this.chart.data[this.currentSeriesIndex],u={},0<=this.currentDataPointIndex)r=o.dataPoints[this.currentDataPointIndex],u.dataSeries=o,u.dataPoint=r,u.index=this.currentDataPointIndex,u.distance=Math.abs(r.x-s),"waterfall"===o.type&&(u.cumulativeSumYStartValue=o.dataPointEOs[this.currentDataPointIndex].cumulativeSumYStartValue,u.cumulativeSum=o.dataPointEOs[this.currentDataPointIndex].cumulativeSum);else{if(!this.enabled||"line"!==o.type&&"stepLine"!==o.type&&"spline"!==o.type&&"area"!==o.type&&"stepArea"!==o.type&&"splineArea"!==o.type&&"stackedArea"!==o.type&&"stackedArea100"!==o.type&&"rangeArea"!==o.type&&"rangeSplineArea"!==o.type&&"candlestick"!==o.type&&"ohlc"!==o.type&&"boxAndWhisker"!==o.type)return;s=o.axisX.convertPixelToValue({x:e}),p(u=o.getDataPointAtX(s,i))||(u.dataSeries=o,this.currentDataPointIndex=u.index,r=u.dataPoint)}if(!p(u)&&!p(u.dataPoint)&&!p(u.dataPoint.y))if(u.dataSeries.axisY)if(0<u.dataPoint.y.length){for(r=i=0;r<u.dataPoint.y.length;r++)u.dataPoint.y[r]<u.dataSeries.axisY.viewportMinimum?i--:u.dataPoint.y[r]>u.dataSeries.axisY.viewportMaximum&&i++;i<u.dataPoint.y.length&&i>-u.dataPoint.y.length&&a.push(u)}else"column"===o.type||"bar"===o.type?0>u.dataPoint.y?0>u.dataSeries.axisY.viewportMinimum&&u.dataSeries.axisY.viewportMaximum>=u.dataPoint.y&&a.push(u):u.dataSeries.axisY.viewportMinimum<=u.dataPoint.y&&0<=u.dataSeries.axisY.viewportMaximum&&a.push(u):"bubble"===o.type?(i=this.chart._eventManager.objectMap[o.dataPointIds[u.index]].size/2,u.dataPoint.y>=u.dataSeries.axisY.viewportMinimum-i&&u.dataPoint.y<=u.dataSeries.axisY.viewportMaximum+i&&a.push(u)):"waterfall"===o.type?(i=0,u.cumulativeSumYStartValue<u.dataSeries.axisY.viewportMinimum?i--:u.cumulativeSumYStartValue>u.dataSeries.axisY.viewportMaximum&&i++,u.cumulativeSum<u.dataSeries.axisY.viewportMinimum?i--:u.cumulativeSum>u.dataSeries.axisY.viewportMaximum&&i++,2>i&&-2<i&&a.push(u)):(0<=u.dataSeries.type.indexOf("100")||"stackedColumn"===o.type||"stackedBar"===o.type||u.dataPoint.y>=u.dataSeries.axisY.viewportMinimum&&u.dataPoint.y<=u.dataSeries.axisY.viewportMaximum)&&a.push(u);else a.push(u)}}if(0<a.length){if(this.highlightObjects(a),this.enabled)if(i="",null!==(i=this.getToolTipInnerHTML({entries:a}))){this.contentDiv.innerHTML=i,i=!1,"none"===this.container.style.display&&(i=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:U?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor="waterfall"===a[0].dataSeries.type?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:a[0].dataPoint.color?a[0].dataPoint.color:0<a[0].dataPoint.y?a[0].dataSeries.risingColor:a[0].dataSeries.fallingColor:"error"===a[0].dataSeries.type?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:a[0].dataSeries.color?a[0].dataSeries.color:a[0].dataSeries._colorSet[o.index%a[0].dataSeries._colorSet.length]:this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:a[0].dataPoint.color?a[0].dataPoint.color:a[0].dataSeries.color?a[0].dataSeries.color:a[0].dataSeries._colorSet[a[0].index%a[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:U?"italic":"normal"}catch(t){}"pie"===a[0].dataSeries.type||"doughnut"===a[0].dataSeries.type||"funnel"===a[0].dataSeries.type||"pyramid"===a[0].dataSeries.type||"bar"===a[0].dataSeries.type||"rangeBar"===a[0].dataSeries.type||"stackedBar"===a[0].dataSeries.type||"stackedBar100"===a[0].dataSeries.type?e=e-10-this.container.clientWidth:(e=a[0].dataSeries.axisX.convertValueToPixel(a[0].dataPoint.x)-this.container.clientWidth<<0,e-=10),0>e&&(e+=this.container.clientWidth+20),e+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(e=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(n=10-(n=1!==a.length||this.shared||"line"!==a[0].dataSeries.type&&"stepLine"!==a[0].dataSeries.type&&"spline"!==a[0].dataSeries.type&&"area"!==a[0].dataSeries.type&&"stepArea"!==a[0].dataSeries.type&&"splineArea"!==a[0].dataSeries.type?"bar"===a[0].dataSeries.type||"rangeBar"===a[0].dataSeries.type||"stackedBar"===a[0].dataSeries.type||"stackedBar100"===a[0].dataSeries.type?a[0].dataSeries.axisX.convertValueToPixel(a[0].dataPoint.x):n:a[0].dataSeries.axisY.convertValueToPixel(a[0].dataPoint.y)))+this.container.clientHeight+5&&(n-=n+this.container.clientHeight+5-0),this.fixMozTransitionDelay(e,n),!this.animationEnabled||i?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.container.style.left=e+"px",this.container.style.bottom=n+"px"}else this.hide(!1)}else this.hide()}},G.prototype.highlightObjects=function(e){var t=this.chart.overlaidCanvasCtx;this.chart.resetOverlayedCanvas(),t.clearRect(0,0,this.chart.width,this.chart.height),t.save();var n=this.chart.plotArea,i=0;for(t.beginPath(),t.rect(n.x1,n.y1,n.x2-n.x1,n.y2-n.y1),t.clip(),n=0;n<e.length;n++){var r=e[n];if((r=this.chart._eventManager.objectMap[r.dataSeries.dataPointIds[r.index]])&&r.objectType&&"dataPoint"===r.objectType){var o=(i=this.chart.data[r.dataSeriesIndex]).dataPoints[r.dataPointIndex],s=r.dataPointIndex;!1===o.highlightEnabled||!0!==i.highlightEnabled&&!0!==o.highlightEnabled||("line"===i.type||"stepLine"===i.type||"spline"===i.type||"scatter"===i.type||"area"===i.type||"stepArea"===i.type||"splineArea"===i.type||"stackedArea"===i.type||"stackedArea100"===i.type||"rangeArea"===i.type||"rangeSplineArea"===i.type?((o=i.getMarkerProperties(s,r.x1,r.y1,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*o.size<<0,10),o.borderColor=o.borderColor||"#FFFFFF",o.borderThickness=o.borderThickness||Math.ceil(.1*o.size),te.drawMarkers([o]),"undefined"!==typeof r.y2&&((o=i.getMarkerProperties(s,r.x1,r.y2,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*o.size<<0,10),o.borderColor=o.borderColor||"#FFFFFF",o.borderThickness=o.borderThickness||Math.ceil(.1*o.size),te.drawMarkers([o]))):"bubble"===i.type?((o=i.getMarkerProperties(s,r.x1,r.y1,this.chart.overlaidCanvasCtx)).size=r.size,o.color="white",o.borderColor="white",t.globalAlpha=.3,te.drawMarkers([o]),t.globalAlpha=1):"column"===i.type||"stackedColumn"===i.type||"stackedColumn100"===i.type||"bar"===i.type||"rangeBar"===i.type||"stackedBar"===i.type||"stackedBar100"===i.type||"rangeColumn"===i.type||"waterfall"===i.type?he(t,r.x1,r.y1,r.x2,r.y2,"white",0,null,!1,!1,!1,!1,.3):"pie"===i.type||"doughnut"===i.type?$(t,r.center,r.radius,"white",i.type,r.startAngle,r.endAngle,.3,r.percentInnerRadius):"funnel"===i.type||"pyramid"===i.type?Z(t,r.funnelSection,.3,"white"):"candlestick"===i.type?(t.globalAlpha=1,t.strokeStyle=r.color,t.lineWidth=2*r.borderThickness,i=0===t.lineWidth%2?0:.5,t.beginPath(),t.moveTo(r.x3-i,Math.min(r.y2,r.y3)),t.lineTo(r.x3-i,Math.min(r.y1,r.y4)),t.stroke(),t.beginPath(),t.moveTo(r.x3-i,Math.max(r.y1,r.y4)),t.lineTo(r.x3-i,Math.max(r.y2,r.y3)),t.stroke(),he(t,r.x1,Math.min(r.y1,r.y4),r.x2,Math.max(r.y1,r.y4),"transparent",2*r.borderThickness,r.color,!1,!1,!1,!1),t.globalAlpha=1):"ohlc"===i.type?(t.globalAlpha=1,t.strokeStyle=r.color,t.lineWidth=2*r.borderThickness,i=0===t.lineWidth%2?0:.5,t.beginPath(),t.moveTo(r.x3-i,r.y2),t.lineTo(r.x3-i,r.y3),t.stroke(),t.beginPath(),t.moveTo(r.x3,r.y1),t.lineTo(r.x1,r.y1),t.stroke(),t.beginPath(),t.moveTo(r.x3,r.y4),t.lineTo(r.x2,r.y4),t.stroke(),t.globalAlpha=1):"boxAndWhisker"===i.type?(t.save(),t.globalAlpha=1,t.strokeStyle=r.stemColor,t.lineWidth=2*r.stemThickness,0<r.stemThickness&&(t.beginPath(),t.moveTo(r.x3,r.y2+r.borderThickness/2),t.lineTo(r.x3,r.y1+r.whiskerThickness/2),t.stroke(),t.beginPath(),t.moveTo(r.x3,r.y4-r.whiskerThickness/2),t.lineTo(r.x3,r.y3-r.borderThickness/2),t.stroke()),t.beginPath(),he(t,r.x1-r.borderThickness/2,Math.max(r.y2+r.borderThickness/2,r.y3+r.borderThickness/2),r.x2+r.borderThickness/2,Math.min(r.y2-r.borderThickness/2,r.y3-r.borderThickness/2),"transparent",r.borderThickness,r.color,!1,!1,!1,!1),t.globalAlpha=1,t.strokeStyle=r.whiskerColor,t.lineWidth=2*r.whiskerThickness,0<r.whiskerThickness&&(t.beginPath(),t.moveTo(Math.floor(r.x3-r.whiskerLength/2),r.y4),t.lineTo(Math.ceil(r.x3+r.whiskerLength/2),r.y4),t.stroke(),t.beginPath(),t.moveTo(Math.floor(r.x3-r.whiskerLength/2),r.y1),t.lineTo(Math.ceil(r.x3+r.whiskerLength/2),r.y1),t.stroke()),t.globalAlpha=1,t.strokeStyle=r.lineColor,t.lineWidth=2*r.lineThickness,0<r.lineThickness&&(t.beginPath(),t.moveTo(r.x1,r.y5),t.lineTo(r.x2,r.y5),t.stroke()),t.restore(),t.globalAlpha=1):"error"===i.type&&a(t,r.x1,r.y1,r.x2,r.y2,"white",r.whiskerProperties,r.stemProperties,r.isXYSwapped,.3))}}t.restore(),t.globalAlpha=1,t.beginPath()},G.prototype.getToolTipInnerHTML=function(e){e=e.entries;for(var t=null,n=null,i=null,r=0,o="",a=!0,s=0;s<e.length;s++)if(e[s].dataSeries.toolTipContent||e[s].dataPoint.toolTipContent){a=!1;break}if(a&&(this.content&&"function"===typeof this.content||this.contentFormatter))e={chart:this.chart,toolTip:this.options,entries:e},t=this.contentFormatter?this.contentFormatter(e):this.content(e);else if(this.shared&&"none"!==this.chart.plotInfo.axisPlacement){var l=null,c="";for(s=0;s<e.length;s++)n=e[s].dataSeries,i=e[s].dataPoint,r=e[s].index,o="",0===s&&a&&!this.content&&(this.chart.axisX&&0<this.chart.axisX.length?c+="undefined"!==typeof this.chart.axisX[0].labels[i.x]?this.chart.axisX[0].labels[i.x]:"{x}":this.chart.axisX2&&0<this.chart.axisX2.length&&(c+="undefined"!==typeof this.chart.axisX2[0].labels[i.x]?this.chart.axisX2[0].labels[i.x]:"{x}"),c+="</br>",c=this.chart.replaceKeywordsWithValue(c,i,n,r)),null===i.toolTipContent||"undefined"===typeof i.toolTipContent&&null===n.options.toolTipContent||("line"===n.type||"stepLine"===n.type||"spline"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"column"===n.type||"bar"===n.type||"scatter"===n.type||"stackedColumn"===n.type||"stackedColumn100"===n.type||"stackedBar"===n.type||"stackedBar100"===n.type||"stackedArea"===n.type||"stackedArea100"===n.type||"waterfall"===n.type?(this.chart.axisX&&1<this.chart.axisX.length&&(o+=l!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),o+=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}",l=n.axisXIndex):"bubble"===n.type?(this.chart.axisX&&1<this.chart.axisX.length&&(o+=l!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),o+=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}"):"rangeColumn"===n.type||"rangeBar"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type||"error"===n.type?(this.chart.axisX&&1<this.chart.axisX.length&&(o+=l!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),o+=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}"):"candlestick"===n.type||"ohlc"===n.type?(this.chart.axisX&&1<this.chart.axisX.length&&(o+=l!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),o+=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}"):"boxAndWhisker"===n.type&&(this.chart.axisX&&1<this.chart.axisX.length&&(o+=l!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),o+=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===t&&(t=""),!0===this.reversed?(t=this.chart.replaceKeywordsWithValue(o,i,n,r)+t,s<e.length-1&&(t="</br>"+t)):(t+=this.chart.replaceKeywordsWithValue(o,i,n,r),s<e.length-1&&(t+="</br>")));null!==t&&(t=c+t)}else{if(n=e[0].dataSeries,i=e[0].dataPoint,r=e[0].index,null===i.toolTipContent||"undefined"===typeof i.toolTipContent&&null===n.options.toolTipContent)return null;"line"===n.type||"stepLine"===n.type||"spline"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"column"===n.type||"bar"===n.type||"scatter"===n.type||"stackedColumn"===n.type||"stackedColumn100"===n.type||"stackedBar"===n.type||"stackedBar100"===n.type||"stackedArea"===n.type||"stackedArea100"===n.type||"waterfall"===n.type?o=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}":"bubble"===n.type?o=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":"pie"===n.type||"doughnut"===n.type||"funnel"===n.type||"pyramid"===n.type?o=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.name?"{name}:</span>&nbsp;&nbsp;":i.label?"{label}:</span>&nbsp;&nbsp;":"</span>")+"{y}":"rangeColumn"===n.type||"rangeBar"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type||"error"===n.type?o=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}":"candlestick"===n.type||"ohlc"===n.type?o=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}":"boxAndWhisker"===n.type&&(o=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.label?"{label}":"{x}")+"</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===t&&(t=""),t+=this.chart.replaceKeywordsWithValue(o,i,n,r)}return t},G.prototype.enableAnimation=function(){if(!this.container.style.WebkitTransition){var e=this.getContainerTransition(this.containerTransitionDuration);this.container.style.WebkitTransition=e,this.container.style.MsTransition=e,this.container.style.transition=e,this.container.style.MozTransition=this.mozContainerTransition}},G.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},G.prototype.hide=function(e){this.container&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,("undefined"===typeof e||e)&&this.chart.resetOverlayedCanvas())},G.prototype.show=function(e,t,n){this._updateToolTip(e,t,"undefined"!==typeof n&&n)},G.prototype.fixMozTransitionDelay=function(e,t){if(20<this.chart._eventManager.lastObjectId)this.mozContainerTransition=this.getContainerTransition(0);else{var n=parseFloat(this.container.style.left),i=(n=isNaN(n)?0:n,parseFloat(this.container.style.bottom));i=isNaN(i)?0:i;10<Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))?this.mozContainerTransition=this.getContainerTransition(.1):this.mozContainerTransition=this.getContainerTransition(0)}},G.prototype.getContainerTransition=function(e){return"left "+e+"s ease-out 0s, bottom "+e+"s ease-out 0s"},Y.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],U&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},Y.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},Y.prototype.mouseEventHandler=function(e){if("mousemove"===e.type||"click"===e.type){var t=[],n=se(e),i=null;if((i=this.chart.getObjectAtXY(n.x,n.y,!1))&&"undefined"!==typeof this.objectMap[i])if("dataPoint"===(i=this.objectMap[i]).objectType){var r=this.chart.data[i.dataSeriesIndex],o=r.dataPoints[i.dataPointIndex],a=i.dataPointIndex;i.eventParameter={x:n.x,y:n.y,dataPoint:o,dataSeries:r.options,dataPointIndex:a,dataSeriesIndex:r.index,chart:this.chart},i.eventContext={context:o,userContext:o,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},t.push(i),(i=this.objectMap[r.id]).eventParameter={x:n.x,y:n.y,dataPoint:o,dataSeries:r.options,dataPointIndex:a,dataSeriesIndex:r.index,chart:this.chart},i.eventContext={context:r,userContext:r.options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},t.push(this.objectMap[r.id])}else"legendItem"===i.objectType&&(r=this.chart.data[i.dataSeriesIndex],o=null!==i.dataPointIndex?r.dataPoints[i.dataPointIndex]:null,i.eventParameter={x:n.x,y:n.y,dataSeries:r.options,dataPoint:o,dataPointIndex:i.dataPointIndex,dataSeriesIndex:i.dataSeriesIndex,chart:this.chart},i.eventContext={context:this.chart.legend,userContext:this.chart.legend.options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},t.push(i));for(r=[],n=0;n<this.mouseoveredObjectMaps.length;n++){for(o=!0,i=0;i<t.length;i++)if(t[i].id===this.mouseoveredObjectMaps[n].id){o=!1;break}o?this.fireEvent(this.mouseoveredObjectMaps[n],"mouseout",e):r.push(this.mouseoveredObjectMaps[n])}for(this.mouseoveredObjectMaps=r,n=0;n<t.length;n++){for(r=!1,i=0;i<this.mouseoveredObjectMaps.length;i++)if(t[n].id===this.mouseoveredObjectMaps[i].id){r=!0;break}r||(this.fireEvent(t[n],"mouseover",e),this.mouseoveredObjectMaps.push(t[n])),"click"===e.type?this.fireEvent(t[n],"click",e):"mousemove"===e.type&&this.fireEvent(t[n],"mousemove",e)}}},Y.prototype.fireEvent=function(e,t,n){if(e&&t){var i=e.eventParameter,r=e.eventContext,o=e.eventContext.userContext;o&&r&&o[r[t]]&&o[r[t]].call(o,i),"mouseout"!==t?o.cursor&&o.cursor!==n.target.style.cursor&&(n.target.style.cursor=o.cursor):(n.target.style.cursor=this.chart._defaultCursor,delete e.eventParameter,delete e.eventContext),"click"===t&&"dataPoint"===e.objectType&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[e.dataSeriesIndex],i),"click"===t&&"dataPoint"===e.objectType&&this.chart.funnelPyramidClickHandler&&this.chart.funnelPyramidClickHandler.call(this.chart.data[e.dataSeriesIndex],i)}},K.prototype.animate=function(e,t,n,i,r){var o=this;for(this.chart.isAnimating=!0,r=r||J.easing.linear,n&&this.animations.push({startTime:(new Date).getTime()+(e||0),duration:t,animationCallback:n,onComplete:i}),e=[];0<this.animations.length;)t=this.animations.shift(),n=(new Date).getTime(),i=0,t.startTime<=n&&(i=r(Math.min(n-t.startTime,t.duration),0,1,t.duration),i=Math.min(i,1),isNaN(i)||!isFinite(i))&&(i=1),1>i&&e.push(t),t.animationCallback(i),1<=i&&t.onComplete&&t.onComplete();this.animations=e,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,(function(){o.animate.call(o)})):this.chart.isAnimating=!1},K.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var J={yScaleAnimation:function(e,t){if(0!==e){var n=t.dest,i=t.source.canvas,r=t.animationBase;n.drawImage(i,0,0,i.width,i.height,0,r-r*e,n.canvas.width/de,e*n.canvas.height/de)}},xScaleAnimation:function(e,t){if(0!==e){var n=t.dest,i=t.source.canvas,r=t.animationBase;n.drawImage(i,0,0,i.width,i.height,r-r*e,0,e*n.canvas.width/de,n.canvas.height/de)}},xClipAnimation:function(e,t){if(0!==e){var n=t.dest,i=t.source.canvas;n.save(),0<e&&n.drawImage(i,0,0,i.width*e,i.height,0,0,i.width*e/de,i.height/de),n.restore()}},fadeInAnimation:function(e,t){if(0!==e){var n=t.dest,i=t.source.canvas;n.save(),n.globalAlpha=e,n.drawImage(i,0,0,i.width,i.height,0,0,n.canvas.width/de,n.canvas.height/de),n.restore()}},easing:{linear:function(e,t,n,i){return n*e/i+t},easeOutQuad:function(e,t,n,i){return-n*(e/=i)*(e-2)+t},easeOutQuart:function(e,t,n,i){return-n*((e=e/i-1)*e*e*e-1)+t},easeInQuad:function(e,t,n,i){return n*(e/=i)*e+t},easeInQuart:function(e,t,n,i){return n*(e/=i)*e*e*e+t}}},te={drawMarker:function(e,t,n,i,r,o,a,s){if(n){var l=1;n.fillStyle=o||"#000000",n.strokeStyle=a||"#000000",n.lineWidth=s||0,n.setLineDash&&n.setLineDash(v("solid",s)),"circle"===i?(n.moveTo(e,t),n.beginPath(),n.arc(e,t,r/2,0,2*Math.PI,!1),o&&n.fill(),s&&(a?n.stroke():(l=n.globalAlpha,n.globalAlpha=.15,n.strokeStyle="black",n.stroke(),n.globalAlpha=l))):"square"===i?(n.beginPath(),n.rect(e-r/2,t-r/2,r,r),o&&n.fill(),s&&(a?n.stroke():(l=n.globalAlpha,n.globalAlpha=.15,n.strokeStyle="black",n.stroke(),n.globalAlpha=l))):"triangle"===i?(n.beginPath(),n.moveTo(e-r/2,t+r/2),n.lineTo(e+r/2,t+r/2),n.lineTo(e,t-r/2),n.closePath(),o&&n.fill(),s&&(a?n.stroke():(l=n.globalAlpha,n.globalAlpha=.15,n.strokeStyle="black",n.stroke(),n.globalAlpha=l)),n.beginPath()):"cross"===i&&(n.strokeStyle=o,n.lineWidth=r/4,n.beginPath(),n.moveTo(e-r/2,t-r/2),n.lineTo(e+r/2,t+r/2),n.stroke(),n.moveTo(e+r/2,t-r/2),n.lineTo(e-r/2,t+r/2),n.stroke())}},drawMarkers:function(e){for(var t=0;t<e.length;t++){var n=e[t];te.drawMarker(n.x,n.y,n.ctx,n.type,n.size,n.color,n.borderColor,n.borderThickness)}}};return t}(),ve.Chart.version="v2.3.2 GA"}(),document.createElement("canvas").getContext||function(){function e(){return this.context_||(this.context_=new d(this))}function t(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function n(e){e.namespaces.g_vml_||e.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),e.namespaces.g_o_||e.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),e.styleSheets.ex_canvas_||((e=e.createStyleSheet()).owningElement.id="ex_canvas_",e.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function i(e){var t=e.srcElement;switch(e.propertyName){case"width":t.getContext().clearRect(),t.style.width=t.attributes.width.nodeValue+"px",t.firstChild.style.width=t.clientWidth+"px";break;case"height":t.getContext().clearRect(),t.style.height=t.attributes.height.nodeValue+"px",t.firstChild.style.height=t.clientHeight+"px"}}function r(e){(e=e.srcElement).firstChild&&(e.firstChild.style.width=e.clientWidth+"px",e.firstChild.style.height=e.clientHeight+"px")}function o(e,t){for(var n=[[1,0,0],[0,1,0],[0,0,1]],i=0;3>i;i++)for(var r=0;3>r;r++){for(var o=0,a=0;3>a;a++)o+=e[i][a]*t[a][r];n[i][r]=o}return n}function a(e,t){t.fillStyle=e.fillStyle,t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.shadowBlur=e.shadowBlur,t.shadowColor=e.shadowColor,t.shadowOffsetX=e.shadowOffsetX,t.shadowOffsetY=e.shadowOffsetY,t.strokeStyle=e.strokeStyle,t.globalAlpha=e.globalAlpha,t.font=e.font,t.textAlign=e.textAlign,t.textBaseline=e.textBaseline,t.arcScaleX_=e.arcScaleX_,t.arcScaleY_=e.arcScaleY_,t.lineScale_=e.lineScale_}function s(e){var t=e.indexOf("(",3),n=e.indexOf(")",t+1);return 4==(t=e.substring(t+1,n).split(",")).length&&"a"==e.charAt(3)||(t[3]=1),t}function l(e,t,n){return Math.min(n,Math.max(t,e))}function c(e,t,n){return 0>n&&n++,1<n&&n--,1>6*n?e+6*(t-e)*n:1>2*n?t:2>3*n?e+6*(t-e)*(2/3-n):e}function u(e){if(e in O)return O[e];var t,n=1;if("#"==(e=String(e)).charAt(0))t=e;else if(/^rgb/.test(e)){n=s(e),t="#";for(var i,r=0;3>r;r++)i=-1!=n[r].indexOf("%")?Math.floor(parseFloat(n[r])/100*255):+n[r],t+=A[l(i,0,255)];n=+n[3]}else if(/^hsl/.test(e)){if(r=n=s(e),0>(t=parseFloat(r[0])/360%360)&&t++,i=l(parseFloat(r[1])/100,0,1),r=l(parseFloat(r[2])/100,0,1),0==i)i=r=t=r;else{var o=.5>r?r*(1+i):r+i-r*i,a=2*r-o;i=c(a,o,t+1/3),r=c(a,o,t),t=c(a,o,t-1/3)}t="#"+A[Math.floor(255*i)]+A[Math.floor(255*r)]+A[Math.floor(255*t)],n=n[3]}else t=D[e]||e;return O[e]={color:t,alpha:n}}function d(e){this.m_=[[1,0,0],[0,1,0],[0,0,1]],this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*E,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=e;var t="width:"+e.clientWidth+"px;height:"+e.clientHeight+"px;overflow:hidden;position:absolute",n=e.ownerDocument.createElement("div");n.style.cssText=t,e.appendChild(n),(t=n.cloneNode(!1)).style.backgroundColor="red",t.style.filter="alpha(opacity=0)",e.appendChild(t),this.element_=n,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function h(e,t,n,i){e.currentPath_.push({type:"bezierCurveTo",cp1x:t.x,cp1y:t.y,cp2x:n.x,cp2y:n.y,x:i.x,y:i.y}),e.currentX_=i.x,e.currentY_=i.y}function p(e,t){var n=(i=u(e.strokeStyle)).color,i=i.alpha*e.globalAlpha,r=e.lineScale_*e.lineWidth;1>r&&(i*=r),t.push("<g_vml_:stroke",' opacity="',i,'"',' joinstyle="',e.lineJoin,'"',' miterlimit="',e.miterLimit,'"',' endcap="',z[e.lineCap]||"square",'"',' weight="',r,'px"',' color="',n,'" />')}function f(e,t,n,i){var r=e.fillStyle,o=e.arcScaleX_,a=e.arcScaleY_,s=i.x-n.x,l=i.y-n.y;if(r instanceof v){var c=0,d=i=0,h=0,p=1;if("gradient"==r.type_){c=r.x1_/o,n=r.y1_/a;var f=m(e,r.x0_/o,r.y0_/a);c=m(e,c,n);0>(c=180*Math.atan2(c.x-f.x,c.y-f.y)/Math.PI)&&(c+=360),1e-6>c&&(c=0)}else i=((f=m(e,r.x0_,r.y0_)).x-n.x)/s,d=(f.y-n.y)/l,s/=o*E,l/=a*E,p=b.max(s,l),h=2*r.r0_/p,p=2*r.r1_/p-h;(o=r.colors_).sort((function(e,t){return e.offset-t.offset})),a=o.length,f=o[0].color,n=o[a-1].color,s=o[0].alpha*e.globalAlpha,e=o[a-1].alpha*e.globalAlpha;l=[];for(var g=0;g<a;g++){var x=o[g];l.push(x.offset*p+h+" "+x.color)}t.push('<g_vml_:fill type="',r.type_,'"',' method="none" focus="100%"',' color="',f,'"',' color2="',n,'"',' colors="',l.join(","),'"',' opacity="',e,'"',' g_o_:opacity2="',s,'"',' angle="',c,'"',' focusposition="',i,",",d,'" />')}else r instanceof y?s&&l&&t.push("<g_vml_:fill",' position="',-n.x/s*o*o,",",-n.y/l*a*a,'"',' type="tile"',' src="',r.src_,'" />'):(r=u(e.fillStyle),t.push('<g_vml_:fill color="',r.color,'" opacity="',r.alpha*e.globalAlpha,'" />'))}function m(e,t,n){return e=e.m_,{x:E*(t*e[0][0]+n*e[1][0]+e[2][0])-T,y:E*(t*e[0][1]+n*e[1][1]+e[2][1])-T}}function g(e,t,n){isFinite(t[0][0])&&isFinite(t[0][1])&&isFinite(t[1][0])&&isFinite(t[1][1])&&isFinite(t[2][0])&&isFinite(t[2][1])&&(e.m_=t,n&&(e.lineScale_=C(S(t[0][0]*t[1][1]-t[0][1]*t[1][0]))))}function v(e){this.type_=e,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function y(e,t){if(!e||1!=e.nodeType||"IMG"!=e.tagName)throw new x("TYPE_MISMATCH_ERR");if("complete"!=e.readyState)throw new x("INVALID_STATE_ERR");switch(t){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=t;break;default:throw new x("SYNTAX_ERR")}this.src_=e.src,this.width_=e.width,this.height_=e.height}function x(e){this.code=this[e],this.message=e+": DOM Exception "+this.code}var b=Math,_=b.round,w=b.sin,k=b.cos,S=b.abs,C=b.sqrt,E=10,T=E/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var M=Array.prototype.slice;n(document);var P={init:function(e){(e=e||document).createElement("canvas"),e.attachEvent("onreadystatechange",function(e,t,n){var i=M.call(arguments,2);return function(){return e.apply(t,i.concat(M.call(arguments)))}}(this.init_,this,e))},init_:function(e){e=e.getElementsByTagName("canvas");for(var t=0;t<e.length;t++)this.initElement(e[t])},initElement:function(t){if(!t.getContext){t.getContext=e,n(t.ownerDocument),t.innerHTML="",t.attachEvent("onpropertychange",i),t.attachEvent("onresize",r);var o=t.attributes;o.width&&o.width.specified?t.style.width=o.width.nodeValue+"px":t.width=t.clientWidth,o.height&&o.height.specified?t.style.height=o.height.nodeValue+"px":t.height=t.clientHeight}return t}};P.init();for(var A=[],I=0;16>I;I++)for(var L=0;16>L;L++)A[16*I+L]=I.toString(16)+L.toString(16);var D={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},O={},R={},z={butt:"flat",round:"round"};(I=d.prototype).clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},I.beginPath=function(){this.currentPath_=[]},I.moveTo=function(e,t){var n=m(this,e,t);this.currentPath_.push({type:"moveTo",x:n.x,y:n.y}),this.currentX_=n.x,this.currentY_=n.y},I.lineTo=function(e,t){var n=m(this,e,t);this.currentPath_.push({type:"lineTo",x:n.x,y:n.y}),this.currentX_=n.x,this.currentY_=n.y},I.bezierCurveTo=function(e,t,n,i,r,o){r=m(this,r,o),h(this,e=m(this,e,t),n=m(this,n,i),r)},I.quadraticCurveTo=function(e,t,n,i){e=m(this,e,t),n=m(this,n,i),h(this,i={x:this.currentX_+2/3*(e.x-this.currentX_),y:this.currentY_+2/3*(e.y-this.currentY_)},{x:i.x+(n.x-this.currentX_)/3,y:i.y+(n.y-this.currentY_)/3},n)},I.arc=function(e,t,n,i,r,o){n*=E;var a=o?"at":"wa",s=e+k(i)*n-T,l=t+w(i)*n-T;i=e+k(r)*n-T,r=t+w(r)*n-T,s!=i||o||(s+=.125),e=m(this,e,t),s=m(this,s,l),i=m(this,i,r),this.currentPath_.push({type:a,x:e.x,y:e.y,radius:n,xStart:s.x,yStart:s.y,xEnd:i.x,yEnd:i.y})},I.rect=function(e,t,n,i){this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.closePath()},I.strokeRect=function(e,t,n,i){var r=this.currentPath_;this.beginPath(),this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.closePath(),this.stroke(),this.currentPath_=r},I.fillRect=function(e,t,n,i){var r=this.currentPath_;this.beginPath(),this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.closePath(),this.fill(),this.currentPath_=r},I.createLinearGradient=function(e,t,n,i){var r=new v("gradient");return r.x0_=e,r.y0_=t,r.x1_=n,r.y1_=i,r},I.createRadialGradient=function(e,t,n,i,r,o){var a=new v("gradientradial");return a.x0_=e,a.y0_=t,a.r0_=n,a.x1_=i,a.y1_=r,a.r1_=o,a},I.drawImage=function(e,t){var n,i,r,o,a,s,l,c;r=e.runtimeStyle.width,o=e.runtimeStyle.height,e.runtimeStyle.width="auto",e.runtimeStyle.height="auto";var u=e.width,d=e.height;if(e.runtimeStyle.width=r,e.runtimeStyle.height=o,3==arguments.length)n=arguments[1],i=arguments[2],a=s=0,l=r=u,c=o=d;else if(5==arguments.length)n=arguments[1],i=arguments[2],r=arguments[3],o=arguments[4],a=s=0,l=u,c=d;else{if(9!=arguments.length)throw Error("Invalid number of arguments");a=arguments[1],s=arguments[2],l=arguments[3],c=arguments[4],n=arguments[5],i=arguments[6],r=arguments[7],o=arguments[8]}var h=m(this,n,i),p=[];if(p.push(" <g_vml_:group",' coordsize="',10*E,",",10*E,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var f=[];f.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",_(h.x/E),",","Dy=",_(h.y/E),"");var g=m(this,n+r,i),v=m(this,n,i+o);n=m(this,n+r,i+o),h.x=b.max(h.x,g.x,v.x,n.x),h.y=b.max(h.y,g.y,v.y,n.y),p.push("padding:0 ",_(h.x/E),"px ",_(h.y/E),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",f.join(""),", sizingmethod='clip');")}else p.push("top:",_(h.y/E),"px;left:",_(h.x/E),"px;");p.push(' ">','<g_vml_:image src="',e.src,'"',' style="width:',E*r,"px;"," height:",E*o,'px"',' cropleft="',a/u,'"',' croptop="',s/d,'"',' cropright="',(u-a-l)/u,'"',' cropbottom="',(d-s-c)/d,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",p.join(""))},I.stroke=function(e){var t=[];t.push("<g_vml_:shape",' filled="',!!e,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*E,",",10*E,'"',' stroked="',!e,'"',' path="');for(var n={x:null,y:null},i={x:null,y:null},r=0;r<this.currentPath_.length;r++){var o=this.currentPath_[r];switch(o.type){case"moveTo":t.push(" m ",_(o.x),",",_(o.y));break;case"lineTo":t.push(" l ",_(o.x),",",_(o.y));break;case"close":t.push(" x "),o=null;break;case"bezierCurveTo":t.push(" c ",_(o.cp1x),",",_(o.cp1y),",",_(o.cp2x),",",_(o.cp2y),",",_(o.x),",",_(o.y));break;case"at":case"wa":t.push(" ",o.type," ",_(o.x-this.arcScaleX_*o.radius),",",_(o.y-this.arcScaleY_*o.radius)," ",_(o.x+this.arcScaleX_*o.radius),",",_(o.y+this.arcScaleY_*o.radius)," ",_(o.xStart),",",_(o.yStart)," ",_(o.xEnd),",",_(o.yEnd))}o&&((null==n.x||o.x<n.x)&&(n.x=o.x),(null==i.x||o.x>i.x)&&(i.x=o.x),(null==n.y||o.y<n.y)&&(n.y=o.y),(null==i.y||o.y>i.y)&&(i.y=o.y))}t.push(' ">'),e?f(this,t,n,i):p(this,t),t.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",t.join(""))},I.fill=function(){this.stroke(!0)},I.closePath=function(){this.currentPath_.push({type:"close"})},I.save=function(){var e={};a(this,e),this.aStack_.push(e),this.mStack_.push(this.m_),this.m_=o([[1,0,0],[0,1,0],[0,0,1]],this.m_)},I.restore=function(){this.aStack_.length&&(a(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},I.translate=function(e,t){g(this,o([[1,0,0],[0,1,0],[e,t,1]],this.m_),!1)},I.rotate=function(e){var t=k(e);g(this,o([[t,e=w(e),0],[-e,t,0],[0,0,1]],this.m_),!1)},I.scale=function(e,t){this.arcScaleX_*=e,this.arcScaleY_*=t,g(this,o([[e,0,0],[0,t,0],[0,0,1]],this.m_),!0)},I.transform=function(e,t,n,i,r,a){g(this,o([[e,t,0],[n,i,0],[r,a,1]],this.m_),!0)},I.setTransform=function(e,t,n,i,r,o){g(this,[[e,t,0],[n,i,0],[r,o,1]],!0)},I.drawText_=function(e,n,i,r,o){var a=this.m_;r=0;var s,l=1e3,c=0,u=[];if(s=this.font,R[s])s=R[s];else{var d=document.createElement("div").style;try{d.font=s}catch(v){}s=R[s]={style:d.fontStyle||"normal",variant:d.fontVariant||"normal",weight:d.fontWeight||"normal",size:d.fontSize||10,family:d.fontFamily||"sans-serif"}}d=s;var h=this.element_;for(var g in s={},d)s[g]=d[g];switch(g=parseFloat(h.currentStyle.fontSize),h=parseFloat(d.size),"number"==typeof d.size?s.size=d.size:-1!=d.size.indexOf("px")?s.size=h:-1!=d.size.indexOf("em")?s.size=g*h:-1!=d.size.indexOf("%")?s.size=g/100*h:-1!=d.size.indexOf("pt")?s.size=h/.75:s.size=g,s.size*=.981,g=s.style+" "+s.variant+" "+s.weight+" "+s.size+"px "+s.family,h=this.element_.currentStyle,d=this.textAlign.toLowerCase()){case"left":case"center":case"right":break;case"end":d="ltr"==h.direction?"right":"left";break;case"start":d="rtl"==h.direction?"right":"left";break;default:d="left"}switch(this.textBaseline){case"hanging":case"top":c=s.size/1.75;break;case"middle":break;default:c=-s.size/2.25}switch(d){case"right":r=1e3,l=.05;break;case"center":r=l=500}n=m(this,n+0,i+c),u.push('<g_vml_:line from="',-r,' 0" to="',l,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!o,'" stroked="',!!o,'" style="position:absolute;width:1px;height:1px;">'),o?p(this,u):f(this,u,{x:-r,y:0},{x:l,y:s.size}),o=a[0][0].toFixed(3)+","+a[1][0].toFixed(3)+","+a[0][1].toFixed(3)+","+a[1][1].toFixed(3)+",0,0",n=_(n.x/E)+","+_(n.y/E),u.push('<g_vml_:skew on="t" matrix="',o,'" ',' offset="',n,'" origin="',r,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',t(e),'" style="v-text-align:',d,";font:",t(g),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",u.join(""))},I.fillText=function(e,t,n,i){this.drawText_(e,t,n,i,!1)},I.strokeText=function(e,t,n,i){this.drawText_(e,t,n,i,!0)},I.measureText=function(e){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var t=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(t.createTextNode(e)),{width:this.textMeasureEl_.offsetWidth}},I.clip=function(){},I.arcTo=function(){},I.createPattern=function(e,t){return new y(e,t)},v.prototype.addColorStop=function(e,t){t=u(t),this.colors_.push({offset:e,color:t.color,alpha:t.alpha})},(I=x.prototype=Error()).INDEX_SIZE_ERR=1,I.DOMSTRING_SIZE_ERR=2,I.HIERARCHY_REQUEST_ERR=3,I.WRONG_DOCUMENT_ERR=4,I.INVALID_CHARACTER_ERR=5,I.NO_DATA_ALLOWED_ERR=6,I.NO_MODIFICATION_ALLOWED_ERR=7,I.NOT_FOUND_ERR=8,I.NOT_SUPPORTED_ERR=9,I.INUSE_ATTRIBUTE_ERR=10,I.INVALID_STATE_ERR=11,I.SYNTAX_ERR=12,I.INVALID_MODIFICATION_ERR=13,I.NAMESPACE_ERR=14,I.INVALID_ACCESS_ERR=15,I.VALIDATION_ERR=16,I.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=P,CanvasRenderingContext2D=d,CanvasGradient=v,CanvasPattern=y,DOMException=x}()},1694:function(e,t){var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=r.apply(null,n);a&&e.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)i.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},2110:function(e,t,n){"use strict";var i=n(8309),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return i.isMemo(e)?a:s[e.$$typeof]||r}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[i.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,i){if("string"!==typeof n){if(f){var r=p(n);r&&r!==f&&e(t,r,i)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var v=a[g];if(!o[v]&&(!i||!i[v])&&(!m||!m[v])&&(!s||!s[v])){var y=h(n,v);try{c(t,v,y)}catch(x){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case u:case d:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case r:return t}}}function w(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=r,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return w(e)||_(e)===u},t.isConcurrentMode=w,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===r},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===x||e.$$typeof===b||e.$$typeof===v)},t.typeOf=_},8309:function(e,t,n){"use strict";e.exports=n(746)},6198:function(e,t,n){e=n.nmd(e);var i=200,r="__lodash_hash_undefined__",o=800,a=16,s=9007199254740991,l="[object Arguments]",c="[object AsyncFunction]",u="[object Function]",d="[object GeneratorFunction]",h="[object Null]",p="[object Object]",f="[object Proxy]",m="[object Undefined]",g=/^\[object .+?Constructor\]$/,v=/^(?:0|[1-9]\d*)$/,y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y[l]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object Boolean]"]=y["[object DataView]"]=y["[object Date]"]=y["[object Error]"]=y[u]=y["[object Map]"]=y["[object Number]"]=y[p]=y["[object RegExp]"]=y["[object Set]"]=y["[object String]"]=y["[object WeakMap]"]=!1;var x="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,b="object"==typeof self&&self&&self.Object===Object&&self,_=x||b||Function("return this")(),w=t&&!t.nodeType&&t,k=w&&e&&!e.nodeType&&e,S=k&&k.exports===w,C=S&&x.process,E=function(){try{var e=k&&k.require&&k.require("util").types;return e||C&&C.binding&&C.binding("util")}catch(t){}}(),T=E&&E.isTypedArray;var M,P,A=Array.prototype,I=Function.prototype,L=Object.prototype,D=_["__core-js_shared__"],O=I.toString,R=L.hasOwnProperty,z=function(){var e=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),F=L.toString,B=O.call(Object),N=RegExp("^"+O.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=S?_.Buffer:void 0,V=_.Symbol,W=_.Uint8Array,U=j?j.allocUnsafe:void 0,H=(M=Object.getPrototypeOf,P=Object,function(e){return M(P(e))}),X=Object.create,G=L.propertyIsEnumerable,Y=A.splice,q=V?V.toStringTag:void 0,K=function(){try{var e=_e(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),$=j?j.isBuffer:void 0,Z=Math.max,J=Date.now,Q=_e(_,"Map"),ee=_e(Object,"create"),te=function(){function e(){}return function(t){if(!De(t))return{};if(X)return X(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ie(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function oe(e){var t=this.__data__=new ie(e);this.size=t.size}function ae(e,t){var n=Me(e),i=!n&&Te(e),r=!n&&!i&&Ae(e),o=!n&&!i&&!r&&Re(e),a=n||i||r||o,s=a?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=s.length;for(var c in e)!t&&!R.call(e,c)||a&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||we(c,l))||s.push(c);return s}function se(e,t,n){(void 0!==n&&!Ee(e[t],n)||void 0===n&&!(t in e))&&ue(e,t,n)}function le(e,t,n){var i=e[t];R.call(e,t)&&Ee(i,n)&&(void 0!==n||t in e)||ue(e,t,n)}function ce(e,t){for(var n=e.length;n--;)if(Ee(e[n][0],t))return n;return-1}function ue(e,t,n){"__proto__"==t&&K?K(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}ne.prototype.clear=function(){this.__data__=ee?ee(null):{},this.size=0},ne.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ne.prototype.get=function(e){var t=this.__data__;if(ee){var n=t[e];return n===r?void 0:n}return R.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return ee?void 0!==t[e]:R.call(t,e)},ne.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ee&&void 0===t?r:t,this},ie.prototype.clear=function(){this.__data__=[],this.size=0},ie.prototype.delete=function(e){var t=this.__data__,n=ce(t,e);return!(n<0)&&(n==t.length-1?t.pop():Y.call(t,n,1),--this.size,!0)},ie.prototype.get=function(e){var t=this.__data__,n=ce(t,e);return n<0?void 0:t[n][1]},ie.prototype.has=function(e){return ce(this.__data__,e)>-1},ie.prototype.set=function(e,t){var n=this.__data__,i=ce(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},re.prototype.clear=function(){this.size=0,this.__data__={hash:new ne,map:new(Q||ie),string:new ne}},re.prototype.delete=function(e){var t=be(this,e).delete(e);return this.size-=t?1:0,t},re.prototype.get=function(e){return be(this,e).get(e)},re.prototype.has=function(e){return be(this,e).has(e)},re.prototype.set=function(e,t){var n=be(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},oe.prototype.clear=function(){this.__data__=new ie,this.size=0},oe.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},oe.prototype.get=function(e){return this.__data__.get(e)},oe.prototype.has=function(e){return this.__data__.has(e)},oe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ie){var r=n.__data__;if(!Q||r.length<i-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new re(r)}return n.set(e,t),this.size=n.size,this};var de,he=function(e,t,n){for(var i=-1,r=Object(e),o=n(e),a=o.length;a--;){var s=o[de?a:++i];if(!1===t(r[s],s,r))break}return e};function pe(e){return null==e?void 0===e?m:h:q&&q in Object(e)?function(e){var t=R.call(e,q),n=e[q];try{e[q]=void 0;var i=!0}catch(o){}var r=F.call(e);i&&(t?e[q]=n:delete e[q]);return r}(e):function(e){return F.call(e)}(e)}function fe(e){return Oe(e)&&pe(e)==l}function me(e){return!(!De(e)||function(e){return!!z&&z in e}(e))&&(Ie(e)?N:g).test(function(e){if(null!=e){try{return O.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function ge(e){if(!De(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=ke(e),n=[];for(var i in e)("constructor"!=i||!t&&R.call(e,i))&&n.push(i);return n}function ve(e,t,n,i,r){e!==t&&he(t,(function(o,a){if(r||(r=new oe),De(o))!function(e,t,n,i,r,o,a){var s=Se(e,n),l=Se(t,n),c=a.get(l);if(c)return void se(e,n,c);var u=o?o(s,l,n+"",e,t,a):void 0,d=void 0===u;if(d){var h=Me(l),f=!h&&Ae(l),m=!h&&!f&&Re(l);u=l,h||f||m?Me(s)?u=s:Oe(g=s)&&Pe(g)?u=function(e,t){var n=-1,i=e.length;t||(t=Array(i));for(;++n<i;)t[n]=e[n];return t}(s):f?(d=!1,u=function(e,t){if(t)return e.slice();var n=e.length,i=U?U(n):new e.constructor(n);return e.copy(i),i}(l,!0)):m?(d=!1,u=function(e,t){var n=t?function(e){var t=new e.constructor(e.byteLength);return new W(t).set(new W(e)),t}(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(l,!0)):u=[]:function(e){if(!Oe(e)||pe(e)!=p)return!1;var t=H(e);if(null===t)return!0;var n=R.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&O.call(n)==B}(l)||Te(l)?(u=s,Te(s)?u=function(e){return function(e,t,n,i){var r=!n;n||(n={});var o=-1,a=t.length;for(;++o<a;){var s=t[o],l=i?i(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),r?ue(n,s,l):le(n,s,l)}return n}(e,ze(e))}(s):De(s)&&!Ie(s)||(u=function(e){return"function"!=typeof e.constructor||ke(e)?{}:te(H(e))}(l))):d=!1}var g;d&&(a.set(l,u),r(u,l,i,o,a),a.delete(l));se(e,n,u)}(e,t,a,n,ve,i,r);else{var s=i?i(Se(e,a),o,a+"",e,t,r):void 0;void 0===s&&(s=o),se(e,a,s)}}),ze)}function ye(e,t){return Ce(function(e,t,n){return t=Z(void 0===t?e.length-1:t,0),function(){for(var i=arguments,r=-1,o=Z(i.length-t,0),a=Array(o);++r<o;)a[r]=i[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=i[r];return s[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(e,t,Ne),e+"")}var xe=K?function(e,t){return K(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Ne;function be(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function _e(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return me(n)?n:void 0}function we(e,t){var n=typeof e;return!!(t=null==t?s:t)&&("number"==n||"symbol"!=n&&v.test(e))&&e>-1&&e%1==0&&e<t}function ke(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||L)}function Se(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ce=function(e){var t=0,n=0;return function(){var i=J(),r=a-(i-n);if(n=i,r>0){if(++t>=o)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(xe);function Ee(e,t){return e===t||e!==e&&t!==t}var Te=fe(function(){return arguments}())?fe:function(e){return Oe(e)&&R.call(e,"callee")&&!G.call(e,"callee")},Me=Array.isArray;function Pe(e){return null!=e&&Le(e.length)&&!Ie(e)}var Ae=$||function(){return!1};function Ie(e){if(!De(e))return!1;var t=pe(e);return t==u||t==d||t==c||t==f}function Le(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function De(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Oe(e){return null!=e&&"object"==typeof e}var Re=T?function(e){return function(t){return e(t)}}(T):function(e){return Oe(e)&&Le(e.length)&&!!y[pe(e)]};function ze(e){return Pe(e)?ae(e,!0):ge(e)}var Fe,Be=(Fe=function(e,t,n,i){ve(e,t,n,i)},ye((function(e,t){var n=-1,i=t.length,r=i>1?t[i-1]:void 0,o=i>2?t[2]:void 0;for(r=Fe.length>3&&"function"==typeof r?(i--,r):void 0,o&&function(e,t,n){if(!De(n))return!1;var i=typeof t;return!!("number"==i?Pe(n)&&we(t,n.length):"string"==i&&t in n)&&Ee(n[t],e)}(t[0],t[1],o)&&(r=i<3?void 0:r,i=1),e=Object(e);++n<i;){var a=t[n];a&&Fe(e,a,n,r)}return e})));function Ne(e){return e}e.exports=Be},763:function(e,t,n){var i;e=n.nmd(e),function(){var r,o=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",u=500,d="__lodash_placeholder__",h=1,p=2,f=4,m=1,g=2,v=1,y=2,x=4,b=8,_=16,w=32,k=64,S=128,C=256,E=512,T=30,M="...",P=800,A=16,I=1,L=2,D=1/0,O=9007199254740991,R=17976931348623157e292,z=NaN,F=4294967295,B=F-1,N=F>>>1,j=[["ary",S],["bind",v],["bindKey",y],["curry",b],["curryRight",_],["flip",E],["partial",w],["partialRight",k],["rearg",C]],V="[object Arguments]",W="[object Array]",U="[object AsyncFunction]",H="[object Boolean]",X="[object Date]",G="[object DOMException]",Y="[object Error]",q="[object Function]",K="[object GeneratorFunction]",$="[object Map]",Z="[object Number]",J="[object Null]",Q="[object Object]",ee="[object Promise]",te="[object Proxy]",ne="[object RegExp]",ie="[object Set]",re="[object String]",oe="[object Symbol]",ae="[object Undefined]",se="[object WeakMap]",le="[object WeakSet]",ce="[object ArrayBuffer]",ue="[object DataView]",de="[object Float32Array]",he="[object Float64Array]",pe="[object Int8Array]",fe="[object Int16Array]",me="[object Int32Array]",ge="[object Uint8Array]",ve="[object Uint8ClampedArray]",ye="[object Uint16Array]",xe="[object Uint32Array]",be=/\b__p \+= '';/g,_e=/\b(__p \+=) '' \+/g,we=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ke=/&(?:amp|lt|gt|quot|#39);/g,Se=/[&<>"']/g,Ce=RegExp(ke.source),Ee=RegExp(Se.source),Te=/<%-([\s\S]+?)%>/g,Me=/<%([\s\S]+?)%>/g,Pe=/<%=([\s\S]+?)%>/g,Ae=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ie=/^\w*$/,Le=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,De=/[\\^$.*+?()[\]{}|]/g,Oe=RegExp(De.source),Re=/^\s+/,ze=/\s/,Fe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Be=/\{\n\/\* \[wrapped with (.+)\] \*/,Ne=/,? & /,je=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ve=/[()=,{}\[\]\/\s]/,We=/\\(\\)?/g,Ue=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,He=/\w*$/,Xe=/^[-+]0x[0-9a-f]+$/i,Ge=/^0b[01]+$/i,Ye=/^\[object .+?Constructor\]$/,qe=/^0o[0-7]+$/i,Ke=/^(?:0|[1-9]\d*)$/,$e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ze=/($^)/,Je=/['\n\r\u2028\u2029\\]/g,Qe="\\ud800-\\udfff",et="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",tt="\\u2700-\\u27bf",nt="a-z\\xdf-\\xf6\\xf8-\\xff",it="A-Z\\xc0-\\xd6\\xd8-\\xde",rt="\\ufe0e\\ufe0f",ot="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",at="['\u2019]",st="["+Qe+"]",lt="["+ot+"]",ct="["+et+"]",ut="\\d+",dt="["+tt+"]",ht="["+nt+"]",pt="[^"+Qe+ot+ut+tt+nt+it+"]",ft="\\ud83c[\\udffb-\\udfff]",mt="[^"+Qe+"]",gt="(?:\\ud83c[\\udde6-\\uddff]){2}",vt="[\\ud800-\\udbff][\\udc00-\\udfff]",yt="["+it+"]",xt="\\u200d",bt="(?:"+ht+"|"+pt+")",_t="(?:"+yt+"|"+pt+")",wt="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",kt="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",St="(?:"+ct+"|"+ft+")"+"?",Ct="["+rt+"]?",Et=Ct+St+("(?:"+xt+"(?:"+[mt,gt,vt].join("|")+")"+Ct+St+")*"),Tt="(?:"+[dt,gt,vt].join("|")+")"+Et,Mt="(?:"+[mt+ct+"?",ct,gt,vt,st].join("|")+")",Pt=RegExp(at,"g"),At=RegExp(ct,"g"),It=RegExp(ft+"(?="+ft+")|"+Mt+Et,"g"),Lt=RegExp([yt+"?"+ht+"+"+wt+"(?="+[lt,yt,"$"].join("|")+")",_t+"+"+kt+"(?="+[lt,yt+bt,"$"].join("|")+")",yt+"?"+bt+"+"+wt,yt+"+"+kt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ut,Tt].join("|"),"g"),Dt=RegExp("["+xt+Qe+et+rt+"]"),Ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Rt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],zt=-1,Ft={};Ft[de]=Ft[he]=Ft[pe]=Ft[fe]=Ft[me]=Ft[ge]=Ft[ve]=Ft[ye]=Ft[xe]=!0,Ft[V]=Ft[W]=Ft[ce]=Ft[H]=Ft[ue]=Ft[X]=Ft[Y]=Ft[q]=Ft[$]=Ft[Z]=Ft[Q]=Ft[ne]=Ft[ie]=Ft[re]=Ft[se]=!1;var Bt={};Bt[V]=Bt[W]=Bt[ce]=Bt[ue]=Bt[H]=Bt[X]=Bt[de]=Bt[he]=Bt[pe]=Bt[fe]=Bt[me]=Bt[$]=Bt[Z]=Bt[Q]=Bt[ne]=Bt[ie]=Bt[re]=Bt[oe]=Bt[ge]=Bt[ve]=Bt[ye]=Bt[xe]=!0,Bt[Y]=Bt[q]=Bt[se]=!1;var Nt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},jt=parseFloat,Vt=parseInt,Wt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,Ut="object"==typeof self&&self&&self.Object===Object&&self,Ht=Wt||Ut||Function("return this")(),Xt=t&&!t.nodeType&&t,Gt=Xt&&e&&!e.nodeType&&e,Yt=Gt&&Gt.exports===Xt,qt=Yt&&Wt.process,Kt=function(){try{var e=Gt&&Gt.require&&Gt.require("util").types;return e||qt&&qt.binding&&qt.binding("util")}catch(t){}}(),$t=Kt&&Kt.isArrayBuffer,Zt=Kt&&Kt.isDate,Jt=Kt&&Kt.isMap,Qt=Kt&&Kt.isRegExp,en=Kt&&Kt.isSet,tn=Kt&&Kt.isTypedArray;function nn(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function rn(e,t,n,i){for(var r=-1,o=null==e?0:e.length;++r<o;){var a=e[r];t(i,a,n(a),e)}return i}function on(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function an(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function sn(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function ln(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}function cn(e,t){return!!(null==e?0:e.length)&&xn(e,t,0)>-1}function un(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function dn(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function hn(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function pn(e,t,n,i){var r=-1,o=null==e?0:e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function fn(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function mn(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var gn=kn("length");function vn(e,t,n){var i;return n(e,(function(e,n,r){if(t(e,n,r))return i=n,!1})),i}function yn(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}function xn(e,t,n){return t===t?function(e,t,n){var i=n-1,r=e.length;for(;++i<r;)if(e[i]===t)return i;return-1}(e,t,n):yn(e,_n,n)}function bn(e,t,n,i){for(var r=n-1,o=e.length;++r<o;)if(i(e[r],t))return r;return-1}function _n(e){return e!==e}function wn(e,t){var n=null==e?0:e.length;return n?En(e,t)/n:z}function kn(e){return function(t){return null==t?r:t[e]}}function Sn(e){return function(t){return null==e?r:e[t]}}function Cn(e,t,n,i,r){return r(e,(function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)})),n}function En(e,t){for(var n,i=-1,o=e.length;++i<o;){var a=t(e[i]);a!==r&&(n=n===r?a:n+a)}return n}function Tn(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function Mn(e){return e?e.slice(0,Xn(e)+1).replace(Re,""):e}function Pn(e){return function(t){return e(t)}}function An(e,t){return dn(t,(function(t){return e[t]}))}function In(e,t){return e.has(t)}function Ln(e,t){for(var n=-1,i=e.length;++n<i&&xn(t,e[n],0)>-1;);return n}function Dn(e,t){for(var n=e.length;n--&&xn(t,e[n],0)>-1;);return n}var On=Sn({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Rn=Sn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function zn(e){return"\\"+Nt[e]}function Fn(e){return Dt.test(e)}function Bn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function Nn(e,t){return function(n){return e(t(n))}}function jn(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n];a!==t&&a!==d||(e[n]=d,o[r++]=n)}return o}function Vn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function Wn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Un(e){return Fn(e)?function(e){var t=It.lastIndex=0;for(;It.test(e);)++t;return t}(e):gn(e)}function Hn(e){return Fn(e)?function(e){return e.match(It)||[]}(e):function(e){return e.split("")}(e)}function Xn(e){for(var t=e.length;t--&&ze.test(e.charAt(t)););return t}var Gn=Sn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Yn=function e(t){var n=(t=null==t?Ht:Yn.defaults(Ht.Object(),t,Yn.pick(Ht,Rt))).Array,i=t.Date,ze=t.Error,Qe=t.Function,et=t.Math,tt=t.Object,nt=t.RegExp,it=t.String,rt=t.TypeError,ot=n.prototype,at=Qe.prototype,st=tt.prototype,lt=t["__core-js_shared__"],ct=at.toString,ut=st.hasOwnProperty,dt=0,ht=function(){var e=/[^.]+$/.exec(lt&&lt.keys&&lt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),pt=st.toString,ft=ct.call(tt),mt=Ht._,gt=nt("^"+ct.call(ut).replace(De,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vt=Yt?t.Buffer:r,yt=t.Symbol,xt=t.Uint8Array,bt=vt?vt.allocUnsafe:r,_t=Nn(tt.getPrototypeOf,tt),wt=tt.create,kt=st.propertyIsEnumerable,St=ot.splice,Ct=yt?yt.isConcatSpreadable:r,Et=yt?yt.iterator:r,Tt=yt?yt.toStringTag:r,Mt=function(){try{var e=Vo(tt,"defineProperty");return e({},"",{}),e}catch(t){}}(),It=t.clearTimeout!==Ht.clearTimeout&&t.clearTimeout,Dt=i&&i.now!==Ht.Date.now&&i.now,Nt=t.setTimeout!==Ht.setTimeout&&t.setTimeout,Wt=et.ceil,Ut=et.floor,Xt=tt.getOwnPropertySymbols,Gt=vt?vt.isBuffer:r,qt=t.isFinite,Kt=ot.join,gn=Nn(tt.keys,tt),Sn=et.max,qn=et.min,Kn=i.now,$n=t.parseInt,Zn=et.random,Jn=ot.reverse,Qn=Vo(t,"DataView"),ei=Vo(t,"Map"),ti=Vo(t,"Promise"),ni=Vo(t,"Set"),ii=Vo(t,"WeakMap"),ri=Vo(tt,"create"),oi=ii&&new ii,ai={},si=pa(Qn),li=pa(ei),ci=pa(ti),ui=pa(ni),di=pa(ii),hi=yt?yt.prototype:r,pi=hi?hi.valueOf:r,fi=hi?hi.toString:r;function mi(e){if(As(e)&&!xs(e)&&!(e instanceof xi)){if(e instanceof yi)return e;if(ut.call(e,"__wrapped__"))return fa(e)}return new yi(e)}var gi=function(){function e(){}return function(t){if(!Ps(t))return{};if(wt)return wt(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function vi(){}function yi(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function xi(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=F,this.__views__=[]}function bi(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function _i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function wi(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ki(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new wi;++t<n;)this.add(e[t])}function Si(e){var t=this.__data__=new _i(e);this.size=t.size}function Ci(e,t){var n=xs(e),i=!n&&ys(e),r=!n&&!i&&ks(e),o=!n&&!i&&!r&&Bs(e),a=n||i||r||o,s=a?Tn(e.length,it):[],l=s.length;for(var c in e)!t&&!ut.call(e,c)||a&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||qo(c,l))||s.push(c);return s}function Ei(e){var t=e.length;return t?e[kr(0,t-1)]:r}function Ti(e,t){return ua(ro(e),zi(t,0,e.length))}function Mi(e){return ua(ro(e))}function Pi(e,t,n){(n!==r&&!ms(e[t],n)||n===r&&!(t in e))&&Oi(e,t,n)}function Ai(e,t,n){var i=e[t];ut.call(e,t)&&ms(i,n)&&(n!==r||t in e)||Oi(e,t,n)}function Ii(e,t){for(var n=e.length;n--;)if(ms(e[n][0],t))return n;return-1}function Li(e,t,n,i){return Vi(e,(function(e,r,o){t(i,e,n(e),o)})),i}function Di(e,t){return e&&oo(t,al(t),e)}function Oi(e,t,n){"__proto__"==t&&Mt?Mt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Ri(e,t){for(var i=-1,o=t.length,a=n(o),s=null==e;++i<o;)a[i]=s?r:tl(e,t[i]);return a}function zi(e,t,n){return e===e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function Fi(e,t,n,i,o,a){var s,l=t&h,c=t&p,u=t&f;if(n&&(s=o?n(e,i,o,a):n(e)),s!==r)return s;if(!Ps(e))return e;var d=xs(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&ut.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return ro(e,s)}else{var m=Ho(e),g=m==q||m==K;if(ks(e))return Jr(e,l);if(m==Q||m==V||g&&!o){if(s=c||g?{}:Go(e),!l)return c?function(e,t){return oo(e,Uo(e),t)}(e,function(e,t){return e&&oo(t,sl(t),e)}(s,e)):function(e,t){return oo(e,Wo(e),t)}(e,Di(s,e))}else{if(!Bt[m])return o?e:{};s=function(e,t,n){var i=e.constructor;switch(t){case ce:return Qr(e);case H:case X:return new i(+e);case ue:return function(e,t){var n=t?Qr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case de:case he:case pe:case fe:case me:case ge:case ve:case ye:case xe:return eo(e,n);case $:return new i;case Z:case re:return new i(e);case ne:return function(e){var t=new e.constructor(e.source,He.exec(e));return t.lastIndex=e.lastIndex,t}(e);case ie:return new i;case oe:return r=e,pi?tt(pi.call(r)):{}}var r}(e,m,l)}}a||(a=new Si);var v=a.get(e);if(v)return v;a.set(e,s),Rs(e)?e.forEach((function(i){s.add(Fi(i,t,n,i,e,a))})):Is(e)&&e.forEach((function(i,r){s.set(r,Fi(i,t,n,r,e,a))}));var y=d?r:(u?c?Oo:Do:c?sl:al)(e);return on(y||e,(function(i,r){y&&(i=e[r=i]),Ai(s,r,Fi(i,t,n,r,e,a))})),s}function Bi(e,t,n){var i=n.length;if(null==e)return!i;for(e=tt(e);i--;){var o=n[i],a=t[o],s=e[o];if(s===r&&!(o in e)||!a(s))return!1}return!0}function Ni(e,t,n){if("function"!=typeof e)throw new rt(s);return aa((function(){e.apply(r,n)}),t)}function ji(e,t,n,i){var r=-1,a=cn,s=!0,l=e.length,c=[],u=t.length;if(!l)return c;n&&(t=dn(t,Pn(n))),i?(a=un,s=!1):t.length>=o&&(a=In,s=!1,t=new ki(t));e:for(;++r<l;){var d=e[r],h=null==n?d:n(d);if(d=i||0!==d?d:0,s&&h===h){for(var p=u;p--;)if(t[p]===h)continue e;c.push(d)}else a(t,h,i)||c.push(d)}return c}mi.templateSettings={escape:Te,evaluate:Me,interpolate:Pe,variable:"",imports:{_:mi}},mi.prototype=vi.prototype,mi.prototype.constructor=mi,yi.prototype=gi(vi.prototype),yi.prototype.constructor=yi,xi.prototype=gi(vi.prototype),xi.prototype.constructor=xi,bi.prototype.clear=function(){this.__data__=ri?ri(null):{},this.size=0},bi.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},bi.prototype.get=function(e){var t=this.__data__;if(ri){var n=t[e];return n===c?r:n}return ut.call(t,e)?t[e]:r},bi.prototype.has=function(e){var t=this.__data__;return ri?t[e]!==r:ut.call(t,e)},bi.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ri&&t===r?c:t,this},_i.prototype.clear=function(){this.__data__=[],this.size=0},_i.prototype.delete=function(e){var t=this.__data__,n=Ii(t,e);return!(n<0)&&(n==t.length-1?t.pop():St.call(t,n,1),--this.size,!0)},_i.prototype.get=function(e){var t=this.__data__,n=Ii(t,e);return n<0?r:t[n][1]},_i.prototype.has=function(e){return Ii(this.__data__,e)>-1},_i.prototype.set=function(e,t){var n=this.__data__,i=Ii(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},wi.prototype.clear=function(){this.size=0,this.__data__={hash:new bi,map:new(ei||_i),string:new bi}},wi.prototype.delete=function(e){var t=No(this,e).delete(e);return this.size-=t?1:0,t},wi.prototype.get=function(e){return No(this,e).get(e)},wi.prototype.has=function(e){return No(this,e).has(e)},wi.prototype.set=function(e,t){var n=No(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},ki.prototype.add=ki.prototype.push=function(e){return this.__data__.set(e,c),this},ki.prototype.has=function(e){return this.__data__.has(e)},Si.prototype.clear=function(){this.__data__=new _i,this.size=0},Si.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Si.prototype.get=function(e){return this.__data__.get(e)},Si.prototype.has=function(e){return this.__data__.has(e)},Si.prototype.set=function(e,t){var n=this.__data__;if(n instanceof _i){var i=n.__data__;if(!ei||i.length<o-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new wi(i)}return n.set(e,t),this.size=n.size,this};var Vi=lo(Ki),Wi=lo($i,!0);function Ui(e,t){var n=!0;return Vi(e,(function(e,i,r){return n=!!t(e,i,r)})),n}function Hi(e,t,n){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(l===r?s===s&&!Fs(s):n(s,l)))var l=s,c=a}return c}function Xi(e,t){var n=[];return Vi(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n}function Gi(e,t,n,i,r){var o=-1,a=e.length;for(n||(n=Yo),r||(r=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?Gi(s,t-1,n,i,r):hn(r,s):i||(r[r.length]=s)}return r}var Yi=co(),qi=co(!0);function Ki(e,t){return e&&Yi(e,t,al)}function $i(e,t){return e&&qi(e,t,al)}function Zi(e,t){return ln(t,(function(t){return Es(e[t])}))}function Ji(e,t){for(var n=0,i=(t=qr(t,e)).length;null!=e&&n<i;)e=e[ha(t[n++])];return n&&n==i?e:r}function Qi(e,t,n){var i=t(e);return xs(e)?i:hn(i,n(e))}function er(e){return null==e?e===r?ae:J:Tt&&Tt in tt(e)?function(e){var t=ut.call(e,Tt),n=e[Tt];try{e[Tt]=r;var i=!0}catch(a){}var o=pt.call(e);i&&(t?e[Tt]=n:delete e[Tt]);return o}(e):function(e){return pt.call(e)}(e)}function tr(e,t){return e>t}function nr(e,t){return null!=e&&ut.call(e,t)}function ir(e,t){return null!=e&&t in tt(e)}function rr(e,t,i){for(var o=i?un:cn,a=e[0].length,s=e.length,l=s,c=n(s),u=1/0,d=[];l--;){var h=e[l];l&&t&&(h=dn(h,Pn(t))),u=qn(h.length,u),c[l]=!i&&(t||a>=120&&h.length>=120)?new ki(l&&h):r}h=e[0];var p=-1,f=c[0];e:for(;++p<a&&d.length<u;){var m=h[p],g=t?t(m):m;if(m=i||0!==m?m:0,!(f?In(f,g):o(d,g,i))){for(l=s;--l;){var v=c[l];if(!(v?In(v,g):o(e[l],g,i)))continue e}f&&f.push(g),d.push(m)}}return d}function or(e,t,n){var i=null==(e=ia(e,t=qr(t,e)))?e:e[ha(Ca(t))];return null==i?r:nn(i,e,n)}function ar(e){return As(e)&&er(e)==V}function sr(e,t,n,i,o){return e===t||(null==e||null==t||!As(e)&&!As(t)?e!==e&&t!==t:function(e,t,n,i,o,a){var s=xs(e),l=xs(t),c=s?W:Ho(e),u=l?W:Ho(t),d=(c=c==V?Q:c)==Q,h=(u=u==V?Q:u)==Q,p=c==u;if(p&&ks(e)){if(!ks(t))return!1;s=!0,d=!1}if(p&&!d)return a||(a=new Si),s||Bs(e)?Io(e,t,n,i,o,a):function(e,t,n,i,r,o,a){switch(n){case ue:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ce:return!(e.byteLength!=t.byteLength||!o(new xt(e),new xt(t)));case H:case X:case Z:return ms(+e,+t);case Y:return e.name==t.name&&e.message==t.message;case ne:case re:return e==t+"";case $:var s=Bn;case ie:var l=i&m;if(s||(s=Vn),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;i|=g,a.set(e,t);var u=Io(s(e),s(t),i,r,o,a);return a.delete(e),u;case oe:if(pi)return pi.call(e)==pi.call(t)}return!1}(e,t,c,n,i,o,a);if(!(n&m)){var f=d&&ut.call(e,"__wrapped__"),v=h&&ut.call(t,"__wrapped__");if(f||v){var y=f?e.value():e,x=v?t.value():t;return a||(a=new Si),o(y,x,n,i,a)}}if(!p)return!1;return a||(a=new Si),function(e,t,n,i,o,a){var s=n&m,l=Do(e),c=l.length,u=Do(t),d=u.length;if(c!=d&&!s)return!1;var h=c;for(;h--;){var p=l[h];if(!(s?p in t:ut.call(t,p)))return!1}var f=a.get(e),g=a.get(t);if(f&&g)return f==t&&g==e;var v=!0;a.set(e,t),a.set(t,e);var y=s;for(;++h<c;){var x=e[p=l[h]],b=t[p];if(i)var _=s?i(b,x,p,t,e,a):i(x,b,p,e,t,a);if(!(_===r?x===b||o(x,b,n,i,a):_)){v=!1;break}y||(y="constructor"==p)}if(v&&!y){var w=e.constructor,k=t.constructor;w==k||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof k&&k instanceof k||(v=!1)}return a.delete(e),a.delete(t),v}(e,t,n,i,o,a)}(e,t,n,i,sr,o))}function lr(e,t,n,i){var o=n.length,a=o,s=!i;if(null==e)return!a;for(e=tt(e);o--;){var l=n[o];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<a;){var c=(l=n[o])[0],u=e[c],d=l[1];if(s&&l[2]){if(u===r&&!(c in e))return!1}else{var h=new Si;if(i)var p=i(u,d,c,e,t,h);if(!(p===r?sr(d,u,m|g,i,h):p))return!1}}return!0}function cr(e){return!(!Ps(e)||(t=e,ht&&ht in t))&&(Es(e)?gt:Ye).test(pa(e));var t}function ur(e){return"function"==typeof e?e:null==e?Ll:"object"==typeof e?xs(e)?gr(e[0],e[1]):mr(e):Vl(e)}function dr(e){if(!Qo(e))return gn(e);var t=[];for(var n in tt(e))ut.call(e,n)&&"constructor"!=n&&t.push(n);return t}function hr(e){if(!Ps(e))return function(e){var t=[];if(null!=e)for(var n in tt(e))t.push(n);return t}(e);var t=Qo(e),n=[];for(var i in e)("constructor"!=i||!t&&ut.call(e,i))&&n.push(i);return n}function pr(e,t){return e<t}function fr(e,t){var i=-1,r=_s(e)?n(e.length):[];return Vi(e,(function(e,n,o){r[++i]=t(e,n,o)})),r}function mr(e){var t=jo(e);return 1==t.length&&t[0][2]?ta(t[0][0],t[0][1]):function(n){return n===e||lr(n,e,t)}}function gr(e,t){return $o(e)&&ea(t)?ta(ha(e),t):function(n){var i=tl(n,e);return i===r&&i===t?nl(n,e):sr(t,i,m|g)}}function vr(e,t,n,i,o){e!==t&&Yi(t,(function(a,s){if(o||(o=new Si),Ps(a))!function(e,t,n,i,o,a,s){var l=ra(e,n),c=ra(t,n),u=s.get(c);if(u)return void Pi(e,n,u);var d=a?a(l,c,n+"",e,t,s):r,h=d===r;if(h){var p=xs(c),f=!p&&ks(c),m=!p&&!f&&Bs(c);d=c,p||f||m?xs(l)?d=l:ws(l)?d=ro(l):f?(h=!1,d=Jr(c,!0)):m?(h=!1,d=eo(c,!0)):d=[]:Ds(c)||ys(c)?(d=l,ys(l)?d=Gs(l):Ps(l)&&!Es(l)||(d=Go(c))):h=!1}h&&(s.set(c,d),o(d,c,i,a,s),s.delete(c));Pi(e,n,d)}(e,t,s,n,vr,i,o);else{var l=i?i(ra(e,s),a,s+"",e,t,o):r;l===r&&(l=a),Pi(e,s,l)}}),sl)}function yr(e,t){var n=e.length;if(n)return qo(t+=t<0?n:0,n)?e[t]:r}function xr(e,t,n){t=t.length?dn(t,(function(e){return xs(e)?function(t){return Ji(t,1===e.length?e[0]:e)}:e})):[Ll];var i=-1;t=dn(t,Pn(Bo()));var r=fr(e,(function(e,n,r){var o=dn(t,(function(t){return t(e)}));return{criteria:o,index:++i,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(r,(function(e,t){return function(e,t,n){var i=-1,r=e.criteria,o=t.criteria,a=r.length,s=n.length;for(;++i<a;){var l=to(r[i],o[i]);if(l)return i>=s?l:l*("desc"==n[i]?-1:1)}return e.index-t.index}(e,t,n)}))}function br(e,t,n){for(var i=-1,r=t.length,o={};++i<r;){var a=t[i],s=Ji(e,a);n(s,a)&&Mr(o,qr(a,e),s)}return o}function _r(e,t,n,i){var r=i?bn:xn,o=-1,a=t.length,s=e;for(e===t&&(t=ro(t)),n&&(s=dn(e,Pn(n)));++o<a;)for(var l=0,c=t[o],u=n?n(c):c;(l=r(s,u,l,i))>-1;)s!==e&&St.call(s,l,1),St.call(e,l,1);return e}function wr(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==o){var o=r;qo(r)?St.call(e,r,1):jr(e,r)}}return e}function kr(e,t){return e+Ut(Zn()*(t-e+1))}function Sr(e,t){var n="";if(!e||t<1||t>O)return n;do{t%2&&(n+=e),(t=Ut(t/2))&&(e+=e)}while(t);return n}function Cr(e,t){return sa(na(e,t,Ll),e+"")}function Er(e){return Ei(ml(e))}function Tr(e,t){var n=ml(e);return ua(n,zi(t,0,n.length))}function Mr(e,t,n,i){if(!Ps(e))return e;for(var o=-1,a=(t=qr(t,e)).length,s=a-1,l=e;null!=l&&++o<a;){var c=ha(t[o]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=s){var d=l[c];(u=i?i(d,c,l):r)===r&&(u=Ps(d)?d:qo(t[o+1])?[]:{})}Ai(l,c,u),l=l[c]}return e}var Pr=oi?function(e,t){return oi.set(e,t),e}:Ll,Ar=Mt?function(e,t){return Mt(e,"toString",{configurable:!0,enumerable:!1,value:Pl(t),writable:!0})}:Ll;function Ir(e){return ua(ml(e))}function Lr(e,t,i){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(i=i>o?o:i)<0&&(i+=o),o=t>i?0:i-t>>>0,t>>>=0;for(var a=n(o);++r<o;)a[r]=e[r+t];return a}function Dr(e,t){var n;return Vi(e,(function(e,i,r){return!(n=t(e,i,r))})),!!n}function Or(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t===t&&r<=N){for(;i<r;){var o=i+r>>>1,a=e[o];null!==a&&!Fs(a)&&(n?a<=t:a<t)?i=o+1:r=o}return r}return Rr(e,t,Ll,n)}function Rr(e,t,n,i){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!==t,l=null===t,c=Fs(t),u=t===r;o<a;){var d=Ut((o+a)/2),h=n(e[d]),p=h!==r,f=null===h,m=h===h,g=Fs(h);if(s)var v=i||m;else v=u?m&&(i||p):l?m&&p&&(i||!f):c?m&&p&&!f&&(i||!g):!f&&!g&&(i?h<=t:h<t);v?o=d+1:a=d}return qn(a,B)}function zr(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n],s=t?t(a):a;if(!n||!ms(s,l)){var l=s;o[r++]=0===a?0:a}}return o}function Fr(e){return"number"==typeof e?e:Fs(e)?z:+e}function Br(e){if("string"==typeof e)return e;if(xs(e))return dn(e,Br)+"";if(Fs(e))return fi?fi.call(e):"";var t=e+"";return"0"==t&&1/e==-D?"-0":t}function Nr(e,t,n){var i=-1,r=cn,a=e.length,s=!0,l=[],c=l;if(n)s=!1,r=un;else if(a>=o){var u=t?null:Co(e);if(u)return Vn(u);s=!1,r=In,c=new ki}else c=t?[]:l;e:for(;++i<a;){var d=e[i],h=t?t(d):d;if(d=n||0!==d?d:0,s&&h===h){for(var p=c.length;p--;)if(c[p]===h)continue e;t&&c.push(h),l.push(d)}else r(c,h,n)||(c!==l&&c.push(h),l.push(d))}return l}function jr(e,t){return null==(e=ia(e,t=qr(t,e)))||delete e[ha(Ca(t))]}function Vr(e,t,n,i){return Mr(e,t,n(Ji(e,t)),i)}function Wr(e,t,n,i){for(var r=e.length,o=i?r:-1;(i?o--:++o<r)&&t(e[o],o,e););return n?Lr(e,i?0:o,i?o+1:r):Lr(e,i?o+1:0,i?r:o)}function Ur(e,t){var n=e;return n instanceof xi&&(n=n.value()),pn(t,(function(e,t){return t.func.apply(t.thisArg,hn([e],t.args))}),n)}function Hr(e,t,i){var r=e.length;if(r<2)return r?Nr(e[0]):[];for(var o=-1,a=n(r);++o<r;)for(var s=e[o],l=-1;++l<r;)l!=o&&(a[o]=ji(a[o]||s,e[l],t,i));return Nr(Gi(a,1),t,i)}function Xr(e,t,n){for(var i=-1,o=e.length,a=t.length,s={};++i<o;){var l=i<a?t[i]:r;n(s,e[i],l)}return s}function Gr(e){return ws(e)?e:[]}function Yr(e){return"function"==typeof e?e:Ll}function qr(e,t){return xs(e)?e:$o(e,t)?[e]:da(Ys(e))}var Kr=Cr;function $r(e,t,n){var i=e.length;return n=n===r?i:n,!t&&n>=i?e:Lr(e,t,n)}var Zr=It||function(e){return Ht.clearTimeout(e)};function Jr(e,t){if(t)return e.slice();var n=e.length,i=bt?bt(n):new e.constructor(n);return e.copy(i),i}function Qr(e){var t=new e.constructor(e.byteLength);return new xt(t).set(new xt(e)),t}function eo(e,t){var n=t?Qr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function to(e,t){if(e!==t){var n=e!==r,i=null===e,o=e===e,a=Fs(e),s=t!==r,l=null===t,c=t===t,u=Fs(t);if(!l&&!u&&!a&&e>t||a&&s&&c&&!l&&!u||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!u&&e<t||u&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!c)return-1}return 0}function no(e,t,i,r){for(var o=-1,a=e.length,s=i.length,l=-1,c=t.length,u=Sn(a-s,0),d=n(c+u),h=!r;++l<c;)d[l]=t[l];for(;++o<s;)(h||o<a)&&(d[i[o]]=e[o]);for(;u--;)d[l++]=e[o++];return d}function io(e,t,i,r){for(var o=-1,a=e.length,s=-1,l=i.length,c=-1,u=t.length,d=Sn(a-l,0),h=n(d+u),p=!r;++o<d;)h[o]=e[o];for(var f=o;++c<u;)h[f+c]=t[c];for(;++s<l;)(p||o<a)&&(h[f+i[s]]=e[o++]);return h}function ro(e,t){var i=-1,r=e.length;for(t||(t=n(r));++i<r;)t[i]=e[i];return t}function oo(e,t,n,i){var o=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var l=t[a],c=i?i(n[l],e[l],l,n,e):r;c===r&&(c=e[l]),o?Oi(n,l,c):Ai(n,l,c)}return n}function ao(e,t){return function(n,i){var r=xs(n)?rn:Li,o=t?t():{};return r(n,e,Bo(i,2),o)}}function so(e){return Cr((function(t,n){var i=-1,o=n.length,a=o>1?n[o-1]:r,s=o>2?n[2]:r;for(a=e.length>3&&"function"==typeof a?(o--,a):r,s&&Ko(n[0],n[1],s)&&(a=o<3?r:a,o=1),t=tt(t);++i<o;){var l=n[i];l&&e(t,l,i,a)}return t}))}function lo(e,t){return function(n,i){if(null==n)return n;if(!_s(n))return e(n,i);for(var r=n.length,o=t?r:-1,a=tt(n);(t?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function co(e){return function(t,n,i){for(var r=-1,o=tt(t),a=i(t),s=a.length;s--;){var l=a[e?s:++r];if(!1===n(o[l],l,o))break}return t}}function uo(e){return function(t){var n=Fn(t=Ys(t))?Hn(t):r,i=n?n[0]:t.charAt(0),o=n?$r(n,1).join(""):t.slice(1);return i[e]()+o}}function ho(e){return function(t){return pn(El(yl(t).replace(Pt,"")),e,"")}}function po(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=gi(e.prototype),i=e.apply(n,t);return Ps(i)?i:n}}function fo(e){return function(t,n,i){var o=tt(t);if(!_s(t)){var a=Bo(n,3);t=al(t),n=function(e){return a(o[e],e,o)}}var s=e(t,n,i);return s>-1?o[a?t[s]:s]:r}}function mo(e){return Lo((function(t){var n=t.length,i=n,o=yi.prototype.thru;for(e&&t.reverse();i--;){var a=t[i];if("function"!=typeof a)throw new rt(s);if(o&&!l&&"wrapper"==zo(a))var l=new yi([],!0)}for(i=l?i:n;++i<n;){var c=zo(a=t[i]),u="wrapper"==c?Ro(a):r;l=u&&Zo(u[0])&&u[1]==(S|b|w|C)&&!u[4].length&&1==u[9]?l[zo(u[0])].apply(l,u[3]):1==a.length&&Zo(a)?l[c]():l.thru(a)}return function(){var e=arguments,i=e[0];if(l&&1==e.length&&xs(i))return l.plant(i).value();for(var r=0,o=n?t[r].apply(this,e):i;++r<n;)o=t[r].call(this,o);return o}}))}function go(e,t,i,o,a,s,l,c,u,d){var h=t&S,p=t&v,f=t&y,m=t&(b|_),g=t&E,x=f?r:po(e);return function v(){for(var y=arguments.length,b=n(y),_=y;_--;)b[_]=arguments[_];if(m)var w=Fo(v),k=function(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}(b,w);if(o&&(b=no(b,o,a,m)),s&&(b=io(b,s,l,m)),y-=k,m&&y<d){var S=jn(b,w);return ko(e,t,go,v.placeholder,i,b,S,c,u,d-y)}var C=p?i:this,E=f?C[e]:e;return y=b.length,c?b=function(e,t){var n=e.length,i=qn(t.length,n),o=ro(e);for(;i--;){var a=t[i];e[i]=qo(a,n)?o[a]:r}return e}(b,c):g&&y>1&&b.reverse(),h&&u<y&&(b.length=u),this&&this!==Ht&&this instanceof v&&(E=x||po(E)),E.apply(C,b)}}function vo(e,t){return function(n,i){return function(e,t,n,i){return Ki(e,(function(e,r,o){t(i,n(e),r,o)})),i}(n,e,t(i),{})}}function yo(e,t){return function(n,i){var o;if(n===r&&i===r)return t;if(n!==r&&(o=n),i!==r){if(o===r)return i;"string"==typeof n||"string"==typeof i?(n=Br(n),i=Br(i)):(n=Fr(n),i=Fr(i)),o=e(n,i)}return o}}function xo(e){return Lo((function(t){return t=dn(t,Pn(Bo())),Cr((function(n){var i=this;return e(t,(function(e){return nn(e,i,n)}))}))}))}function bo(e,t){var n=(t=t===r?" ":Br(t)).length;if(n<2)return n?Sr(t,e):t;var i=Sr(t,Wt(e/Un(t)));return Fn(t)?$r(Hn(i),0,e).join(""):i.slice(0,e)}function _o(e){return function(t,i,o){return o&&"number"!=typeof o&&Ko(t,i,o)&&(i=o=r),t=Ws(t),i===r?(i=t,t=0):i=Ws(i),function(e,t,i,r){for(var o=-1,a=Sn(Wt((t-e)/(i||1)),0),s=n(a);a--;)s[r?a:++o]=e,e+=i;return s}(t,i,o=o===r?t<i?1:-1:Ws(o),e)}}function wo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Xs(t),n=Xs(n)),e(t,n)}}function ko(e,t,n,i,o,a,s,l,c,u){var d=t&b;t|=d?w:k,(t&=~(d?k:w))&x||(t&=~(v|y));var h=[e,t,o,d?a:r,d?s:r,d?r:a,d?r:s,l,c,u],p=n.apply(r,h);return Zo(e)&&oa(p,h),p.placeholder=i,la(p,e,t)}function So(e){var t=et[e];return function(e,n){if(e=Xs(e),(n=null==n?0:qn(Us(n),292))&&qt(e)){var i=(Ys(e)+"e").split("e");return+((i=(Ys(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}var Co=ni&&1/Vn(new ni([,-0]))[1]==D?function(e){return new ni(e)}:Fl;function Eo(e){return function(t){var n=Ho(t);return n==$?Bn(t):n==ie?Wn(t):function(e,t){return dn(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function To(e,t,i,o,a,l,c,u){var h=t&y;if(!h&&"function"!=typeof e)throw new rt(s);var p=o?o.length:0;if(p||(t&=~(w|k),o=a=r),c=c===r?c:Sn(Us(c),0),u=u===r?u:Us(u),p-=a?a.length:0,t&k){var f=o,m=a;o=a=r}var g=h?r:Ro(e),E=[e,t,i,o,a,f,m,l,c,u];if(g&&function(e,t){var n=e[1],i=t[1],r=n|i,o=r<(v|y|S),a=i==S&&n==b||i==S&&n==C&&e[7].length<=t[8]||i==(S|C)&&t[7].length<=t[8]&&n==b;if(!o&&!a)return e;i&v&&(e[2]=t[2],r|=n&v?0:x);var s=t[3];if(s){var l=e[3];e[3]=l?no(l,s,t[4]):s,e[4]=l?jn(e[3],d):t[4]}(s=t[5])&&(l=e[5],e[5]=l?io(l,s,t[6]):s,e[6]=l?jn(e[5],d):t[6]);(s=t[7])&&(e[7]=s);i&S&&(e[8]=null==e[8]?t[8]:qn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=r}(E,g),e=E[0],t=E[1],i=E[2],o=E[3],a=E[4],!(u=E[9]=E[9]===r?h?0:e.length:Sn(E[9]-p,0))&&t&(b|_)&&(t&=~(b|_)),t&&t!=v)T=t==b||t==_?function(e,t,i){var o=po(e);return function a(){for(var s=arguments.length,l=n(s),c=s,u=Fo(a);c--;)l[c]=arguments[c];var d=s<3&&l[0]!==u&&l[s-1]!==u?[]:jn(l,u);return(s-=d.length)<i?ko(e,t,go,a.placeholder,r,l,d,r,r,i-s):nn(this&&this!==Ht&&this instanceof a?o:e,this,l)}}(e,t,u):t!=w&&t!=(v|w)||a.length?go.apply(r,E):function(e,t,i,r){var o=t&v,a=po(e);return function t(){for(var s=-1,l=arguments.length,c=-1,u=r.length,d=n(u+l),h=this&&this!==Ht&&this instanceof t?a:e;++c<u;)d[c]=r[c];for(;l--;)d[c++]=arguments[++s];return nn(h,o?i:this,d)}}(e,t,i,o);else var T=function(e,t,n){var i=t&v,r=po(e);return function t(){return(this&&this!==Ht&&this instanceof t?r:e).apply(i?n:this,arguments)}}(e,t,i);return la((g?Pr:oa)(T,E),e,t)}function Mo(e,t,n,i){return e===r||ms(e,st[n])&&!ut.call(i,n)?t:e}function Po(e,t,n,i,o,a){return Ps(e)&&Ps(t)&&(a.set(t,e),vr(e,t,r,Po,a),a.delete(t)),e}function Ao(e){return Ds(e)?r:e}function Io(e,t,n,i,o,a){var s=n&m,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var h=-1,p=!0,f=n&g?new ki:r;for(a.set(e,t),a.set(t,e);++h<l;){var v=e[h],y=t[h];if(i)var x=s?i(y,v,h,t,e,a):i(v,y,h,e,t,a);if(x!==r){if(x)continue;p=!1;break}if(f){if(!mn(t,(function(e,t){if(!In(f,t)&&(v===e||o(v,e,n,i,a)))return f.push(t)}))){p=!1;break}}else if(v!==y&&!o(v,y,n,i,a)){p=!1;break}}return a.delete(e),a.delete(t),p}function Lo(e){return sa(na(e,r,ba),e+"")}function Do(e){return Qi(e,al,Wo)}function Oo(e){return Qi(e,sl,Uo)}var Ro=oi?function(e){return oi.get(e)}:Fl;function zo(e){for(var t=e.name+"",n=ai[t],i=ut.call(ai,t)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==e)return r.name}return t}function Fo(e){return(ut.call(mi,"placeholder")?mi:e).placeholder}function Bo(){var e=mi.iteratee||Dl;return e=e===Dl?ur:e,arguments.length?e(arguments[0],arguments[1]):e}function No(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function jo(e){for(var t=al(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,ea(r)]}return t}function Vo(e,t){var n=function(e,t){return null==e?r:e[t]}(e,t);return cr(n)?n:r}var Wo=Xt?function(e){return null==e?[]:(e=tt(e),ln(Xt(e),(function(t){return kt.call(e,t)})))}:Hl,Uo=Xt?function(e){for(var t=[];e;)hn(t,Wo(e)),e=_t(e);return t}:Hl,Ho=er;function Xo(e,t,n){for(var i=-1,r=(t=qr(t,e)).length,o=!1;++i<r;){var a=ha(t[i]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++i!=r?o:!!(r=null==e?0:e.length)&&Ms(r)&&qo(a,r)&&(xs(e)||ys(e))}function Go(e){return"function"!=typeof e.constructor||Qo(e)?{}:gi(_t(e))}function Yo(e){return xs(e)||ys(e)||!!(Ct&&e&&e[Ct])}function qo(e,t){var n=typeof e;return!!(t=null==t?O:t)&&("number"==n||"symbol"!=n&&Ke.test(e))&&e>-1&&e%1==0&&e<t}function Ko(e,t,n){if(!Ps(n))return!1;var i=typeof t;return!!("number"==i?_s(n)&&qo(t,n.length):"string"==i&&t in n)&&ms(n[t],e)}function $o(e,t){if(xs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Fs(e))||(Ie.test(e)||!Ae.test(e)||null!=t&&e in tt(t))}function Zo(e){var t=zo(e),n=mi[t];if("function"!=typeof n||!(t in xi.prototype))return!1;if(e===n)return!0;var i=Ro(n);return!!i&&e===i[0]}(Qn&&Ho(new Qn(new ArrayBuffer(1)))!=ue||ei&&Ho(new ei)!=$||ti&&Ho(ti.resolve())!=ee||ni&&Ho(new ni)!=ie||ii&&Ho(new ii)!=se)&&(Ho=function(e){var t=er(e),n=t==Q?e.constructor:r,i=n?pa(n):"";if(i)switch(i){case si:return ue;case li:return $;case ci:return ee;case ui:return ie;case di:return se}return t});var Jo=lt?Es:Xl;function Qo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||st)}function ea(e){return e===e&&!Ps(e)}function ta(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==r||e in tt(n)))}}function na(e,t,i){return t=Sn(t===r?e.length-1:t,0),function(){for(var r=arguments,o=-1,a=Sn(r.length-t,0),s=n(a);++o<a;)s[o]=r[t+o];o=-1;for(var l=n(t+1);++o<t;)l[o]=r[o];return l[t]=i(s),nn(e,this,l)}}function ia(e,t){return t.length<2?e:Ji(e,Lr(t,0,-1))}function ra(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var oa=ca(Pr),aa=Nt||function(e,t){return Ht.setTimeout(e,t)},sa=ca(Ar);function la(e,t,n){var i=t+"";return sa(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(Fe,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return on(j,(function(n){var i="_."+n[0];t&n[1]&&!cn(e,i)&&e.push(i)})),e.sort()}(function(e){var t=e.match(Be);return t?t[1].split(Ne):[]}(i),n)))}function ca(e){var t=0,n=0;return function(){var i=Kn(),o=A-(i-n);if(n=i,o>0){if(++t>=P)return arguments[0]}else t=0;return e.apply(r,arguments)}}function ua(e,t){var n=-1,i=e.length,o=i-1;for(t=t===r?i:t;++n<t;){var a=kr(n,o),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var da=function(e){var t=cs(e,(function(e){return n.size===u&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Le,(function(e,n,i,r){t.push(i?r.replace(We,"$1"):n||e)})),t}));function ha(e){if("string"==typeof e||Fs(e))return e;var t=e+"";return"0"==t&&1/e==-D?"-0":t}function pa(e){if(null!=e){try{return ct.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function fa(e){if(e instanceof xi)return e.clone();var t=new yi(e.__wrapped__,e.__chain__);return t.__actions__=ro(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ma=Cr((function(e,t){return ws(e)?ji(e,Gi(t,1,ws,!0)):[]})),ga=Cr((function(e,t){var n=Ca(t);return ws(n)&&(n=r),ws(e)?ji(e,Gi(t,1,ws,!0),Bo(n,2)):[]})),va=Cr((function(e,t){var n=Ca(t);return ws(n)&&(n=r),ws(e)?ji(e,Gi(t,1,ws,!0),r,n):[]}));function ya(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:Us(n);return r<0&&(r=Sn(i+r,0)),yn(e,Bo(t,3),r)}function xa(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=i-1;return n!==r&&(o=Us(n),o=n<0?Sn(i+o,0):qn(o,i-1)),yn(e,Bo(t,3),o,!0)}function ba(e){return(null==e?0:e.length)?Gi(e,1):[]}function _a(e){return e&&e.length?e[0]:r}var wa=Cr((function(e){var t=dn(e,Gr);return t.length&&t[0]===e[0]?rr(t):[]})),ka=Cr((function(e){var t=Ca(e),n=dn(e,Gr);return t===Ca(n)?t=r:n.pop(),n.length&&n[0]===e[0]?rr(n,Bo(t,2)):[]})),Sa=Cr((function(e){var t=Ca(e),n=dn(e,Gr);return(t="function"==typeof t?t:r)&&n.pop(),n.length&&n[0]===e[0]?rr(n,r,t):[]}));function Ca(e){var t=null==e?0:e.length;return t?e[t-1]:r}var Ea=Cr(Ta);function Ta(e,t){return e&&e.length&&t&&t.length?_r(e,t):e}var Ma=Lo((function(e,t){var n=null==e?0:e.length,i=Ri(e,t);return wr(e,dn(t,(function(e){return qo(e,n)?+e:e})).sort(to)),i}));function Pa(e){return null==e?e:Jn.call(e)}var Aa=Cr((function(e){return Nr(Gi(e,1,ws,!0))})),Ia=Cr((function(e){var t=Ca(e);return ws(t)&&(t=r),Nr(Gi(e,1,ws,!0),Bo(t,2))})),La=Cr((function(e){var t=Ca(e);return t="function"==typeof t?t:r,Nr(Gi(e,1,ws,!0),r,t)}));function Da(e){if(!e||!e.length)return[];var t=0;return e=ln(e,(function(e){if(ws(e))return t=Sn(e.length,t),!0})),Tn(t,(function(t){return dn(e,kn(t))}))}function Oa(e,t){if(!e||!e.length)return[];var n=Da(e);return null==t?n:dn(n,(function(e){return nn(t,r,e)}))}var Ra=Cr((function(e,t){return ws(e)?ji(e,t):[]})),za=Cr((function(e){return Hr(ln(e,ws))})),Fa=Cr((function(e){var t=Ca(e);return ws(t)&&(t=r),Hr(ln(e,ws),Bo(t,2))})),Ba=Cr((function(e){var t=Ca(e);return t="function"==typeof t?t:r,Hr(ln(e,ws),r,t)})),Na=Cr(Da);var ja=Cr((function(e){var t=e.length,n=t>1?e[t-1]:r;return n="function"==typeof n?(e.pop(),n):r,Oa(e,n)}));function Va(e){var t=mi(e);return t.__chain__=!0,t}function Wa(e,t){return t(e)}var Ua=Lo((function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,o=function(t){return Ri(t,e)};return!(t>1||this.__actions__.length)&&i instanceof xi&&qo(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:Wa,args:[o],thisArg:r}),new yi(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(r),e}))):this.thru(o)}));var Ha=ao((function(e,t,n){ut.call(e,n)?++e[n]:Oi(e,n,1)}));var Xa=fo(ya),Ga=fo(xa);function Ya(e,t){return(xs(e)?on:Vi)(e,Bo(t,3))}function qa(e,t){return(xs(e)?an:Wi)(e,Bo(t,3))}var Ka=ao((function(e,t,n){ut.call(e,n)?e[n].push(t):Oi(e,n,[t])}));var $a=Cr((function(e,t,i){var r=-1,o="function"==typeof t,a=_s(e)?n(e.length):[];return Vi(e,(function(e){a[++r]=o?nn(t,e,i):or(e,t,i)})),a})),Za=ao((function(e,t,n){Oi(e,n,t)}));function Ja(e,t){return(xs(e)?dn:fr)(e,Bo(t,3))}var Qa=ao((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var es=Cr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Ko(e,t[0],t[1])?t=[]:n>2&&Ko(t[0],t[1],t[2])&&(t=[t[0]]),xr(e,Gi(t,1),[])})),ts=Dt||function(){return Ht.Date.now()};function ns(e,t,n){return t=n?r:t,t=e&&null==t?e.length:t,To(e,S,r,r,r,r,t)}function is(e,t){var n;if("function"!=typeof t)throw new rt(s);return e=Us(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=r),n}}var rs=Cr((function(e,t,n){var i=v;if(n.length){var r=jn(n,Fo(rs));i|=w}return To(e,i,t,n,r)})),os=Cr((function(e,t,n){var i=v|y;if(n.length){var r=jn(n,Fo(os));i|=w}return To(t,i,e,n,r)}));function as(e,t,n){var i,o,a,l,c,u,d=0,h=!1,p=!1,f=!0;if("function"!=typeof e)throw new rt(s);function m(t){var n=i,a=o;return i=o=r,d=t,l=e.apply(a,n)}function g(e){var n=e-u;return u===r||n>=t||n<0||p&&e-d>=a}function v(){var e=ts();if(g(e))return y(e);c=aa(v,function(e){var n=t-(e-u);return p?qn(n,a-(e-d)):n}(e))}function y(e){return c=r,f&&i?m(e):(i=o=r,l)}function x(){var e=ts(),n=g(e);if(i=arguments,o=this,u=e,n){if(c===r)return function(e){return d=e,c=aa(v,t),h?m(e):l}(u);if(p)return Zr(c),c=aa(v,t),m(u)}return c===r&&(c=aa(v,t)),l}return t=Xs(t)||0,Ps(n)&&(h=!!n.leading,a=(p="maxWait"in n)?Sn(Xs(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),x.cancel=function(){c!==r&&Zr(c),d=0,i=u=o=c=r},x.flush=function(){return c===r?l:y(ts())},x}var ss=Cr((function(e,t){return Ni(e,1,t)})),ls=Cr((function(e,t,n){return Ni(e,Xs(t)||0,n)}));function cs(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new rt(s);var n=function n(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(cs.Cache||wi),n}function us(e){if("function"!=typeof e)throw new rt(s);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}cs.Cache=wi;var ds=Kr((function(e,t){var n=(t=1==t.length&&xs(t[0])?dn(t[0],Pn(Bo())):dn(Gi(t,1),Pn(Bo()))).length;return Cr((function(i){for(var r=-1,o=qn(i.length,n);++r<o;)i[r]=t[r].call(this,i[r]);return nn(e,this,i)}))})),hs=Cr((function(e,t){var n=jn(t,Fo(hs));return To(e,w,r,t,n)})),ps=Cr((function(e,t){var n=jn(t,Fo(ps));return To(e,k,r,t,n)})),fs=Lo((function(e,t){return To(e,C,r,r,r,t)}));function ms(e,t){return e===t||e!==e&&t!==t}var gs=wo(tr),vs=wo((function(e,t){return e>=t})),ys=ar(function(){return arguments}())?ar:function(e){return As(e)&&ut.call(e,"callee")&&!kt.call(e,"callee")},xs=n.isArray,bs=$t?Pn($t):function(e){return As(e)&&er(e)==ce};function _s(e){return null!=e&&Ms(e.length)&&!Es(e)}function ws(e){return As(e)&&_s(e)}var ks=Gt||Xl,Ss=Zt?Pn(Zt):function(e){return As(e)&&er(e)==X};function Cs(e){if(!As(e))return!1;var t=er(e);return t==Y||t==G||"string"==typeof e.message&&"string"==typeof e.name&&!Ds(e)}function Es(e){if(!Ps(e))return!1;var t=er(e);return t==q||t==K||t==U||t==te}function Ts(e){return"number"==typeof e&&e==Us(e)}function Ms(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=O}function Ps(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function As(e){return null!=e&&"object"==typeof e}var Is=Jt?Pn(Jt):function(e){return As(e)&&Ho(e)==$};function Ls(e){return"number"==typeof e||As(e)&&er(e)==Z}function Ds(e){if(!As(e)||er(e)!=Q)return!1;var t=_t(e);if(null===t)return!0;var n=ut.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ct.call(n)==ft}var Os=Qt?Pn(Qt):function(e){return As(e)&&er(e)==ne};var Rs=en?Pn(en):function(e){return As(e)&&Ho(e)==ie};function zs(e){return"string"==typeof e||!xs(e)&&As(e)&&er(e)==re}function Fs(e){return"symbol"==typeof e||As(e)&&er(e)==oe}var Bs=tn?Pn(tn):function(e){return As(e)&&Ms(e.length)&&!!Ft[er(e)]};var Ns=wo(pr),js=wo((function(e,t){return e<=t}));function Vs(e){if(!e)return[];if(_s(e))return zs(e)?Hn(e):ro(e);if(Et&&e[Et])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Et]());var t=Ho(e);return(t==$?Bn:t==ie?Vn:ml)(e)}function Ws(e){return e?(e=Xs(e))===D||e===-D?(e<0?-1:1)*R:e===e?e:0:0===e?e:0}function Us(e){var t=Ws(e),n=t%1;return t===t?n?t-n:t:0}function Hs(e){return e?zi(Us(e),0,F):0}function Xs(e){if("number"==typeof e)return e;if(Fs(e))return z;if(Ps(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ps(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Mn(e);var n=Ge.test(e);return n||qe.test(e)?Vt(e.slice(2),n?2:8):Xe.test(e)?z:+e}function Gs(e){return oo(e,sl(e))}function Ys(e){return null==e?"":Br(e)}var qs=so((function(e,t){if(Qo(t)||_s(t))oo(t,al(t),e);else for(var n in t)ut.call(t,n)&&Ai(e,n,t[n])})),Ks=so((function(e,t){oo(t,sl(t),e)})),$s=so((function(e,t,n,i){oo(t,sl(t),e,i)})),Zs=so((function(e,t,n,i){oo(t,al(t),e,i)})),Js=Lo(Ri);var Qs=Cr((function(e,t){e=tt(e);var n=-1,i=t.length,o=i>2?t[2]:r;for(o&&Ko(t[0],t[1],o)&&(i=1);++n<i;)for(var a=t[n],s=sl(a),l=-1,c=s.length;++l<c;){var u=s[l],d=e[u];(d===r||ms(d,st[u])&&!ut.call(e,u))&&(e[u]=a[u])}return e})),el=Cr((function(e){return e.push(r,Po),nn(cl,r,e)}));function tl(e,t,n){var i=null==e?r:Ji(e,t);return i===r?n:i}function nl(e,t){return null!=e&&Xo(e,t,ir)}var il=vo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=pt.call(t)),e[t]=n}),Pl(Ll)),rl=vo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=pt.call(t)),ut.call(e,t)?e[t].push(n):e[t]=[n]}),Bo),ol=Cr(or);function al(e){return _s(e)?Ci(e):dr(e)}function sl(e){return _s(e)?Ci(e,!0):hr(e)}var ll=so((function(e,t,n){vr(e,t,n)})),cl=so((function(e,t,n,i){vr(e,t,n,i)})),ul=Lo((function(e,t){var n={};if(null==e)return n;var i=!1;t=dn(t,(function(t){return t=qr(t,e),i||(i=t.length>1),t})),oo(e,Oo(e),n),i&&(n=Fi(n,h|p|f,Ao));for(var r=t.length;r--;)jr(n,t[r]);return n}));var dl=Lo((function(e,t){return null==e?{}:function(e,t){return br(e,t,(function(t,n){return nl(e,n)}))}(e,t)}));function hl(e,t){if(null==e)return{};var n=dn(Oo(e),(function(e){return[e]}));return t=Bo(t),br(e,n,(function(e,n){return t(e,n[0])}))}var pl=Eo(al),fl=Eo(sl);function ml(e){return null==e?[]:An(e,al(e))}var gl=ho((function(e,t,n){return t=t.toLowerCase(),e+(n?vl(t):t)}));function vl(e){return Cl(Ys(e).toLowerCase())}function yl(e){return(e=Ys(e))&&e.replace($e,On).replace(At,"")}var xl=ho((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),bl=ho((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),_l=uo("toLowerCase");var wl=ho((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var kl=ho((function(e,t,n){return e+(n?" ":"")+Cl(t)}));var Sl=ho((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Cl=uo("toUpperCase");function El(e,t,n){return e=Ys(e),(t=n?r:t)===r?function(e){return Ot.test(e)}(e)?function(e){return e.match(Lt)||[]}(e):function(e){return e.match(je)||[]}(e):e.match(t)||[]}var Tl=Cr((function(e,t){try{return nn(e,r,t)}catch(n){return Cs(n)?n:new ze(n)}})),Ml=Lo((function(e,t){return on(t,(function(t){t=ha(t),Oi(e,t,rs(e[t],e))})),e}));function Pl(e){return function(){return e}}var Al=mo(),Il=mo(!0);function Ll(e){return e}function Dl(e){return ur("function"==typeof e?e:Fi(e,h))}var Ol=Cr((function(e,t){return function(n){return or(n,e,t)}})),Rl=Cr((function(e,t){return function(n){return or(e,n,t)}}));function zl(e,t,n){var i=al(t),r=Zi(t,i);null!=n||Ps(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=Zi(t,al(t)));var o=!(Ps(n)&&"chain"in n)||!!n.chain,a=Es(e);return on(r,(function(n){var i=t[n];e[n]=i,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=ro(this.__actions__)).push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,hn([this.value()],arguments))})})),e}function Fl(){}var Bl=xo(dn),Nl=xo(sn),jl=xo(mn);function Vl(e){return $o(e)?kn(ha(e)):function(e){return function(t){return Ji(t,e)}}(e)}var Wl=_o(),Ul=_o(!0);function Hl(){return[]}function Xl(){return!1}var Gl=yo((function(e,t){return e+t}),0),Yl=So("ceil"),ql=yo((function(e,t){return e/t}),1),Kl=So("floor");var $l=yo((function(e,t){return e*t}),1),Zl=So("round"),Jl=yo((function(e,t){return e-t}),0);return mi.after=function(e,t){if("function"!=typeof t)throw new rt(s);return e=Us(e),function(){if(--e<1)return t.apply(this,arguments)}},mi.ary=ns,mi.assign=qs,mi.assignIn=Ks,mi.assignInWith=$s,mi.assignWith=Zs,mi.at=Js,mi.before=is,mi.bind=rs,mi.bindAll=Ml,mi.bindKey=os,mi.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return xs(e)?e:[e]},mi.chain=Va,mi.chunk=function(e,t,i){t=(i?Ko(e,t,i):t===r)?1:Sn(Us(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,l=n(Wt(o/t));a<o;)l[s++]=Lr(e,a,a+=t);return l},mi.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var o=e[t];o&&(r[i++]=o)}return r},mi.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),i=arguments[0],r=e;r--;)t[r-1]=arguments[r];return hn(xs(i)?ro(i):[i],Gi(t,1))},mi.cond=function(e){var t=null==e?0:e.length,n=Bo();return e=t?dn(e,(function(e){if("function"!=typeof e[1])throw new rt(s);return[n(e[0]),e[1]]})):[],Cr((function(n){for(var i=-1;++i<t;){var r=e[i];if(nn(r[0],this,n))return nn(r[1],this,n)}}))},mi.conforms=function(e){return function(e){var t=al(e);return function(n){return Bi(n,e,t)}}(Fi(e,h))},mi.constant=Pl,mi.countBy=Ha,mi.create=function(e,t){var n=gi(e);return null==t?n:Di(n,t)},mi.curry=function e(t,n,i){var o=To(t,b,r,r,r,r,r,n=i?r:n);return o.placeholder=e.placeholder,o},mi.curryRight=function e(t,n,i){var o=To(t,_,r,r,r,r,r,n=i?r:n);return o.placeholder=e.placeholder,o},mi.debounce=as,mi.defaults=Qs,mi.defaultsDeep=el,mi.defer=ss,mi.delay=ls,mi.difference=ma,mi.differenceBy=ga,mi.differenceWith=va,mi.drop=function(e,t,n){var i=null==e?0:e.length;return i?Lr(e,(t=n||t===r?1:Us(t))<0?0:t,i):[]},mi.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?Lr(e,0,(t=i-(t=n||t===r?1:Us(t)))<0?0:t):[]},mi.dropRightWhile=function(e,t){return e&&e.length?Wr(e,Bo(t,3),!0,!0):[]},mi.dropWhile=function(e,t){return e&&e.length?Wr(e,Bo(t,3),!0):[]},mi.fill=function(e,t,n,i){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&Ko(e,t,n)&&(n=0,i=o),function(e,t,n,i){var o=e.length;for((n=Us(n))<0&&(n=-n>o?0:o+n),(i=i===r||i>o?o:Us(i))<0&&(i+=o),i=n>i?0:Hs(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},mi.filter=function(e,t){return(xs(e)?ln:Xi)(e,Bo(t,3))},mi.flatMap=function(e,t){return Gi(Ja(e,t),1)},mi.flatMapDeep=function(e,t){return Gi(Ja(e,t),D)},mi.flatMapDepth=function(e,t,n){return n=n===r?1:Us(n),Gi(Ja(e,t),n)},mi.flatten=ba,mi.flattenDeep=function(e){return(null==e?0:e.length)?Gi(e,D):[]},mi.flattenDepth=function(e,t){return(null==e?0:e.length)?Gi(e,t=t===r?1:Us(t)):[]},mi.flip=function(e){return To(e,E)},mi.flow=Al,mi.flowRight=Il,mi.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},mi.functions=function(e){return null==e?[]:Zi(e,al(e))},mi.functionsIn=function(e){return null==e?[]:Zi(e,sl(e))},mi.groupBy=Ka,mi.initial=function(e){return(null==e?0:e.length)?Lr(e,0,-1):[]},mi.intersection=wa,mi.intersectionBy=ka,mi.intersectionWith=Sa,mi.invert=il,mi.invertBy=rl,mi.invokeMap=$a,mi.iteratee=Dl,mi.keyBy=Za,mi.keys=al,mi.keysIn=sl,mi.map=Ja,mi.mapKeys=function(e,t){var n={};return t=Bo(t,3),Ki(e,(function(e,i,r){Oi(n,t(e,i,r),e)})),n},mi.mapValues=function(e,t){var n={};return t=Bo(t,3),Ki(e,(function(e,i,r){Oi(n,i,t(e,i,r))})),n},mi.matches=function(e){return mr(Fi(e,h))},mi.matchesProperty=function(e,t){return gr(e,Fi(t,h))},mi.memoize=cs,mi.merge=ll,mi.mergeWith=cl,mi.method=Ol,mi.methodOf=Rl,mi.mixin=zl,mi.negate=us,mi.nthArg=function(e){return e=Us(e),Cr((function(t){return yr(t,e)}))},mi.omit=ul,mi.omitBy=function(e,t){return hl(e,us(Bo(t)))},mi.once=function(e){return is(2,e)},mi.orderBy=function(e,t,n,i){return null==e?[]:(xs(t)||(t=null==t?[]:[t]),xs(n=i?r:n)||(n=null==n?[]:[n]),xr(e,t,n))},mi.over=Bl,mi.overArgs=ds,mi.overEvery=Nl,mi.overSome=jl,mi.partial=hs,mi.partialRight=ps,mi.partition=Qa,mi.pick=dl,mi.pickBy=hl,mi.property=Vl,mi.propertyOf=function(e){return function(t){return null==e?r:Ji(e,t)}},mi.pull=Ea,mi.pullAll=Ta,mi.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?_r(e,t,Bo(n,2)):e},mi.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?_r(e,t,r,n):e},mi.pullAt=Ma,mi.range=Wl,mi.rangeRight=Ul,mi.rearg=fs,mi.reject=function(e,t){return(xs(e)?ln:Xi)(e,us(Bo(t,3)))},mi.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],o=e.length;for(t=Bo(t,3);++i<o;){var a=e[i];t(a,i,e)&&(n.push(a),r.push(i))}return wr(e,r),n},mi.rest=function(e,t){if("function"!=typeof e)throw new rt(s);return Cr(e,t=t===r?t:Us(t))},mi.reverse=Pa,mi.sampleSize=function(e,t,n){return t=(n?Ko(e,t,n):t===r)?1:Us(t),(xs(e)?Ti:Tr)(e,t)},mi.set=function(e,t,n){return null==e?e:Mr(e,t,n)},mi.setWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:Mr(e,t,n,i)},mi.shuffle=function(e){return(xs(e)?Mi:Ir)(e)},mi.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Ko(e,t,n)?(t=0,n=i):(t=null==t?0:Us(t),n=n===r?i:Us(n)),Lr(e,t,n)):[]},mi.sortBy=es,mi.sortedUniq=function(e){return e&&e.length?zr(e):[]},mi.sortedUniqBy=function(e,t){return e&&e.length?zr(e,Bo(t,2)):[]},mi.split=function(e,t,n){return n&&"number"!=typeof n&&Ko(e,t,n)&&(t=n=r),(n=n===r?F:n>>>0)?(e=Ys(e))&&("string"==typeof t||null!=t&&!Os(t))&&!(t=Br(t))&&Fn(e)?$r(Hn(e),0,n):e.split(t,n):[]},mi.spread=function(e,t){if("function"!=typeof e)throw new rt(s);return t=null==t?0:Sn(Us(t),0),Cr((function(n){var i=n[t],r=$r(n,0,t);return i&&hn(r,i),nn(e,this,r)}))},mi.tail=function(e){var t=null==e?0:e.length;return t?Lr(e,1,t):[]},mi.take=function(e,t,n){return e&&e.length?Lr(e,0,(t=n||t===r?1:Us(t))<0?0:t):[]},mi.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?Lr(e,(t=i-(t=n||t===r?1:Us(t)))<0?0:t,i):[]},mi.takeRightWhile=function(e,t){return e&&e.length?Wr(e,Bo(t,3),!1,!0):[]},mi.takeWhile=function(e,t){return e&&e.length?Wr(e,Bo(t,3)):[]},mi.tap=function(e,t){return t(e),e},mi.throttle=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new rt(s);return Ps(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),as(e,t,{leading:i,maxWait:t,trailing:r})},mi.thru=Wa,mi.toArray=Vs,mi.toPairs=pl,mi.toPairsIn=fl,mi.toPath=function(e){return xs(e)?dn(e,ha):Fs(e)?[e]:ro(da(Ys(e)))},mi.toPlainObject=Gs,mi.transform=function(e,t,n){var i=xs(e),r=i||ks(e)||Bs(e);if(t=Bo(t,4),null==n){var o=e&&e.constructor;n=r?i?new o:[]:Ps(e)&&Es(o)?gi(_t(e)):{}}return(r?on:Ki)(e,(function(e,i,r){return t(n,e,i,r)})),n},mi.unary=function(e){return ns(e,1)},mi.union=Aa,mi.unionBy=Ia,mi.unionWith=La,mi.uniq=function(e){return e&&e.length?Nr(e):[]},mi.uniqBy=function(e,t){return e&&e.length?Nr(e,Bo(t,2)):[]},mi.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?Nr(e,r,t):[]},mi.unset=function(e,t){return null==e||jr(e,t)},mi.unzip=Da,mi.unzipWith=Oa,mi.update=function(e,t,n){return null==e?e:Vr(e,t,Yr(n))},mi.updateWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:Vr(e,t,Yr(n),i)},mi.values=ml,mi.valuesIn=function(e){return null==e?[]:An(e,sl(e))},mi.without=Ra,mi.words=El,mi.wrap=function(e,t){return hs(Yr(t),e)},mi.xor=za,mi.xorBy=Fa,mi.xorWith=Ba,mi.zip=Na,mi.zipObject=function(e,t){return Xr(e||[],t||[],Ai)},mi.zipObjectDeep=function(e,t){return Xr(e||[],t||[],Mr)},mi.zipWith=ja,mi.entries=pl,mi.entriesIn=fl,mi.extend=Ks,mi.extendWith=$s,zl(mi,mi),mi.add=Gl,mi.attempt=Tl,mi.camelCase=gl,mi.capitalize=vl,mi.ceil=Yl,mi.clamp=function(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=(n=Xs(n))===n?n:0),t!==r&&(t=(t=Xs(t))===t?t:0),zi(Xs(e),t,n)},mi.clone=function(e){return Fi(e,f)},mi.cloneDeep=function(e){return Fi(e,h|f)},mi.cloneDeepWith=function(e,t){return Fi(e,h|f,t="function"==typeof t?t:r)},mi.cloneWith=function(e,t){return Fi(e,f,t="function"==typeof t?t:r)},mi.conformsTo=function(e,t){return null==t||Bi(e,t,al(t))},mi.deburr=yl,mi.defaultTo=function(e,t){return null==e||e!==e?t:e},mi.divide=ql,mi.endsWith=function(e,t,n){e=Ys(e),t=Br(t);var i=e.length,o=n=n===r?i:zi(Us(n),0,i);return(n-=t.length)>=0&&e.slice(n,o)==t},mi.eq=ms,mi.escape=function(e){return(e=Ys(e))&&Ee.test(e)?e.replace(Se,Rn):e},mi.escapeRegExp=function(e){return(e=Ys(e))&&Oe.test(e)?e.replace(De,"\\$&"):e},mi.every=function(e,t,n){var i=xs(e)?sn:Ui;return n&&Ko(e,t,n)&&(t=r),i(e,Bo(t,3))},mi.find=Xa,mi.findIndex=ya,mi.findKey=function(e,t){return vn(e,Bo(t,3),Ki)},mi.findLast=Ga,mi.findLastIndex=xa,mi.findLastKey=function(e,t){return vn(e,Bo(t,3),$i)},mi.floor=Kl,mi.forEach=Ya,mi.forEachRight=qa,mi.forIn=function(e,t){return null==e?e:Yi(e,Bo(t,3),sl)},mi.forInRight=function(e,t){return null==e?e:qi(e,Bo(t,3),sl)},mi.forOwn=function(e,t){return e&&Ki(e,Bo(t,3))},mi.forOwnRight=function(e,t){return e&&$i(e,Bo(t,3))},mi.get=tl,mi.gt=gs,mi.gte=vs,mi.has=function(e,t){return null!=e&&Xo(e,t,nr)},mi.hasIn=nl,mi.head=_a,mi.identity=Ll,mi.includes=function(e,t,n,i){e=_s(e)?e:ml(e),n=n&&!i?Us(n):0;var r=e.length;return n<0&&(n=Sn(r+n,0)),zs(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&xn(e,t,n)>-1},mi.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:Us(n);return r<0&&(r=Sn(i+r,0)),xn(e,t,r)},mi.inRange=function(e,t,n){return t=Ws(t),n===r?(n=t,t=0):n=Ws(n),function(e,t,n){return e>=qn(t,n)&&e<Sn(t,n)}(e=Xs(e),t,n)},mi.invoke=ol,mi.isArguments=ys,mi.isArray=xs,mi.isArrayBuffer=bs,mi.isArrayLike=_s,mi.isArrayLikeObject=ws,mi.isBoolean=function(e){return!0===e||!1===e||As(e)&&er(e)==H},mi.isBuffer=ks,mi.isDate=Ss,mi.isElement=function(e){return As(e)&&1===e.nodeType&&!Ds(e)},mi.isEmpty=function(e){if(null==e)return!0;if(_s(e)&&(xs(e)||"string"==typeof e||"function"==typeof e.splice||ks(e)||Bs(e)||ys(e)))return!e.length;var t=Ho(e);if(t==$||t==ie)return!e.size;if(Qo(e))return!dr(e).length;for(var n in e)if(ut.call(e,n))return!1;return!0},mi.isEqual=function(e,t){return sr(e,t)},mi.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:r)?n(e,t):r;return i===r?sr(e,t,r,n):!!i},mi.isError=Cs,mi.isFinite=function(e){return"number"==typeof e&&qt(e)},mi.isFunction=Es,mi.isInteger=Ts,mi.isLength=Ms,mi.isMap=Is,mi.isMatch=function(e,t){return e===t||lr(e,t,jo(t))},mi.isMatchWith=function(e,t,n){return n="function"==typeof n?n:r,lr(e,t,jo(t),n)},mi.isNaN=function(e){return Ls(e)&&e!=+e},mi.isNative=function(e){if(Jo(e))throw new ze(a);return cr(e)},mi.isNil=function(e){return null==e},mi.isNull=function(e){return null===e},mi.isNumber=Ls,mi.isObject=Ps,mi.isObjectLike=As,mi.isPlainObject=Ds,mi.isRegExp=Os,mi.isSafeInteger=function(e){return Ts(e)&&e>=-O&&e<=O},mi.isSet=Rs,mi.isString=zs,mi.isSymbol=Fs,mi.isTypedArray=Bs,mi.isUndefined=function(e){return e===r},mi.isWeakMap=function(e){return As(e)&&Ho(e)==se},mi.isWeakSet=function(e){return As(e)&&er(e)==le},mi.join=function(e,t){return null==e?"":Kt.call(e,t)},mi.kebabCase=xl,mi.last=Ca,mi.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=i;return n!==r&&(o=(o=Us(n))<0?Sn(i+o,0):qn(o,i-1)),t===t?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,t,o):yn(e,_n,o,!0)},mi.lowerCase=bl,mi.lowerFirst=_l,mi.lt=Ns,mi.lte=js,mi.max=function(e){return e&&e.length?Hi(e,Ll,tr):r},mi.maxBy=function(e,t){return e&&e.length?Hi(e,Bo(t,2),tr):r},mi.mean=function(e){return wn(e,Ll)},mi.meanBy=function(e,t){return wn(e,Bo(t,2))},mi.min=function(e){return e&&e.length?Hi(e,Ll,pr):r},mi.minBy=function(e,t){return e&&e.length?Hi(e,Bo(t,2),pr):r},mi.stubArray=Hl,mi.stubFalse=Xl,mi.stubObject=function(){return{}},mi.stubString=function(){return""},mi.stubTrue=function(){return!0},mi.multiply=$l,mi.nth=function(e,t){return e&&e.length?yr(e,Us(t)):r},mi.noConflict=function(){return Ht._===this&&(Ht._=mt),this},mi.noop=Fl,mi.now=ts,mi.pad=function(e,t,n){e=Ys(e);var i=(t=Us(t))?Un(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return bo(Ut(r),n)+e+bo(Wt(r),n)},mi.padEnd=function(e,t,n){e=Ys(e);var i=(t=Us(t))?Un(e):0;return t&&i<t?e+bo(t-i,n):e},mi.padStart=function(e,t,n){e=Ys(e);var i=(t=Us(t))?Un(e):0;return t&&i<t?bo(t-i,n)+e:e},mi.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),$n(Ys(e).replace(Re,""),t||0)},mi.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Ko(e,t,n)&&(t=n=r),n===r&&("boolean"==typeof t?(n=t,t=r):"boolean"==typeof e&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=Ws(e),t===r?(t=e,e=0):t=Ws(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var o=Zn();return qn(e+o*(t-e+jt("1e-"+((o+"").length-1))),t)}return kr(e,t)},mi.reduce=function(e,t,n){var i=xs(e)?pn:Cn,r=arguments.length<3;return i(e,Bo(t,4),n,r,Vi)},mi.reduceRight=function(e,t,n){var i=xs(e)?fn:Cn,r=arguments.length<3;return i(e,Bo(t,4),n,r,Wi)},mi.repeat=function(e,t,n){return t=(n?Ko(e,t,n):t===r)?1:Us(t),Sr(Ys(e),t)},mi.replace=function(){var e=arguments,t=Ys(e[0]);return e.length<3?t:t.replace(e[1],e[2])},mi.result=function(e,t,n){var i=-1,o=(t=qr(t,e)).length;for(o||(o=1,e=r);++i<o;){var a=null==e?r:e[ha(t[i])];a===r&&(i=o,a=n),e=Es(a)?a.call(e):a}return e},mi.round=Zl,mi.runInContext=e,mi.sample=function(e){return(xs(e)?Ei:Er)(e)},mi.size=function(e){if(null==e)return 0;if(_s(e))return zs(e)?Un(e):e.length;var t=Ho(e);return t==$||t==ie?e.size:dr(e).length},mi.snakeCase=wl,mi.some=function(e,t,n){var i=xs(e)?mn:Dr;return n&&Ko(e,t,n)&&(t=r),i(e,Bo(t,3))},mi.sortedIndex=function(e,t){return Or(e,t)},mi.sortedIndexBy=function(e,t,n){return Rr(e,t,Bo(n,2))},mi.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=Or(e,t);if(i<n&&ms(e[i],t))return i}return-1},mi.sortedLastIndex=function(e,t){return Or(e,t,!0)},mi.sortedLastIndexBy=function(e,t,n){return Rr(e,t,Bo(n,2),!0)},mi.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Or(e,t,!0)-1;if(ms(e[n],t))return n}return-1},mi.startCase=kl,mi.startsWith=function(e,t,n){return e=Ys(e),n=null==n?0:zi(Us(n),0,e.length),t=Br(t),e.slice(n,n+t.length)==t},mi.subtract=Jl,mi.sum=function(e){return e&&e.length?En(e,Ll):0},mi.sumBy=function(e,t){return e&&e.length?En(e,Bo(t,2)):0},mi.template=function(e,t,n){var i=mi.templateSettings;n&&Ko(e,t,n)&&(t=r),e=Ys(e),t=$s({},t,i,Mo);var o,a,s=$s({},t.imports,i.imports,Mo),c=al(s),u=An(s,c),d=0,h=t.interpolate||Ze,p="__p += '",f=nt((t.escape||Ze).source+"|"+h.source+"|"+(h===Pe?Ue:Ze).source+"|"+(t.evaluate||Ze).source+"|$","g"),m="//# sourceURL="+(ut.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++zt+"]")+"\n";e.replace(f,(function(t,n,i,r,s,l){return i||(i=r),p+=e.slice(d,l).replace(Je,zn),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),i&&(p+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),d=l+t.length,t})),p+="';\n";var g=ut.call(t,"variable")&&t.variable;if(g){if(Ve.test(g))throw new ze(l)}else p="with (obj) {\n"+p+"\n}\n";p=(a?p.replace(be,""):p).replace(_e,"$1").replace(we,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v=Tl((function(){return Qe(c,m+"return "+p).apply(r,u)}));if(v.source=p,Cs(v))throw v;return v},mi.times=function(e,t){if((e=Us(e))<1||e>O)return[];var n=F,i=qn(e,F);t=Bo(t),e-=F;for(var r=Tn(i,t);++n<e;)t(n);return r},mi.toFinite=Ws,mi.toInteger=Us,mi.toLength=Hs,mi.toLower=function(e){return Ys(e).toLowerCase()},mi.toNumber=Xs,mi.toSafeInteger=function(e){return e?zi(Us(e),-O,O):0===e?e:0},mi.toString=Ys,mi.toUpper=function(e){return Ys(e).toUpperCase()},mi.trim=function(e,t,n){if((e=Ys(e))&&(n||t===r))return Mn(e);if(!e||!(t=Br(t)))return e;var i=Hn(e),o=Hn(t);return $r(i,Ln(i,o),Dn(i,o)+1).join("")},mi.trimEnd=function(e,t,n){if((e=Ys(e))&&(n||t===r))return e.slice(0,Xn(e)+1);if(!e||!(t=Br(t)))return e;var i=Hn(e);return $r(i,0,Dn(i,Hn(t))+1).join("")},mi.trimStart=function(e,t,n){if((e=Ys(e))&&(n||t===r))return e.replace(Re,"");if(!e||!(t=Br(t)))return e;var i=Hn(e);return $r(i,Ln(i,Hn(t))).join("")},mi.truncate=function(e,t){var n=T,i=M;if(Ps(t)){var o="separator"in t?t.separator:o;n="length"in t?Us(t.length):n,i="omission"in t?Br(t.omission):i}var a=(e=Ys(e)).length;if(Fn(e)){var s=Hn(e);a=s.length}if(n>=a)return e;var l=n-Un(i);if(l<1)return i;var c=s?$r(s,0,l).join(""):e.slice(0,l);if(o===r)return c+i;if(s&&(l+=c.length-l),Os(o)){if(e.slice(l).search(o)){var u,d=c;for(o.global||(o=nt(o.source,Ys(He.exec(o))+"g")),o.lastIndex=0;u=o.exec(d);)var h=u.index;c=c.slice(0,h===r?l:h)}}else if(e.indexOf(Br(o),l)!=l){var p=c.lastIndexOf(o);p>-1&&(c=c.slice(0,p))}return c+i},mi.unescape=function(e){return(e=Ys(e))&&Ce.test(e)?e.replace(ke,Gn):e},mi.uniqueId=function(e){var t=++dt;return Ys(e)+t},mi.upperCase=Sl,mi.upperFirst=Cl,mi.each=Ya,mi.eachRight=qa,mi.first=_a,zl(mi,function(){var e={};return Ki(mi,(function(t,n){ut.call(mi.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),mi.VERSION="4.17.21",on(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){mi[e].placeholder=mi})),on(["drop","take"],(function(e,t){xi.prototype[e]=function(n){n=n===r?1:Sn(Us(n),0);var i=this.__filtered__&&!t?new xi(this):this.clone();return i.__filtered__?i.__takeCount__=qn(n,i.__takeCount__):i.__views__.push({size:qn(n,F),type:e+(i.__dir__<0?"Right":"")}),i},xi.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),on(["filter","map","takeWhile"],(function(e,t){var n=t+1,i=n==I||3==n;xi.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Bo(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}})),on(["head","last"],(function(e,t){var n="take"+(t?"Right":"");xi.prototype[e]=function(){return this[n](1).value()[0]}})),on(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");xi.prototype[e]=function(){return this.__filtered__?new xi(this):this[n](1)}})),xi.prototype.compact=function(){return this.filter(Ll)},xi.prototype.find=function(e){return this.filter(e).head()},xi.prototype.findLast=function(e){return this.reverse().find(e)},xi.prototype.invokeMap=Cr((function(e,t){return"function"==typeof e?new xi(this):this.map((function(n){return or(n,e,t)}))})),xi.prototype.reject=function(e){return this.filter(us(Bo(e)))},xi.prototype.slice=function(e,t){e=Us(e);var n=this;return n.__filtered__&&(e>0||t<0)?new xi(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(n=(t=Us(t))<0?n.dropRight(-t):n.take(t-e)),n)},xi.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},xi.prototype.toArray=function(){return this.take(F)},Ki(xi.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),o=mi[i?"take"+("last"==t?"Right":""):t],a=i||/^find/.test(t);o&&(mi.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,l=t instanceof xi,c=s[0],u=l||xs(t),d=function(e){var t=o.apply(mi,hn([e],s));return i&&h?t[0]:t};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var h=this.__chain__,p=!!this.__actions__.length,f=a&&!h,m=l&&!p;if(!a&&u){t=m?t:new xi(this);var g=e.apply(t,s);return g.__actions__.push({func:Wa,args:[d],thisArg:r}),new yi(g,h)}return f&&m?e.apply(this,s):(g=this.thru(d),f?i?g.value()[0]:g.value():g)})})),on(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ot[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);mi.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var r=this.value();return t.apply(xs(r)?r:[],e)}return this[n]((function(n){return t.apply(xs(n)?n:[],e)}))}})),Ki(xi.prototype,(function(e,t){var n=mi[t];if(n){var i=n.name+"";ut.call(ai,i)||(ai[i]=[]),ai[i].push({name:t,func:n})}})),ai[go(r,y).name]=[{name:"wrapper",func:r}],xi.prototype.clone=function(){var e=new xi(this.__wrapped__);return e.__actions__=ro(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ro(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ro(this.__views__),e},xi.prototype.reverse=function(){if(this.__filtered__){var e=new xi(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},xi.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=xs(e),i=t<0,r=n?e.length:0,o=function(e,t,n){var i=-1,r=n.length;for(;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=qn(t,e+a);break;case"takeRight":e=Sn(e,t-a)}}return{start:e,end:t}}(0,r,this.__views__),a=o.start,s=o.end,l=s-a,c=i?s:a-1,u=this.__iteratees__,d=u.length,h=0,p=qn(l,this.__takeCount__);if(!n||!i&&r==l&&p==l)return Ur(e,this.__actions__);var f=[];e:for(;l--&&h<p;){for(var m=-1,g=e[c+=t];++m<d;){var v=u[m],y=v.iteratee,x=v.type,b=y(g);if(x==L)g=b;else if(!b){if(x==I)continue e;break e}}f[h++]=g}return f},mi.prototype.at=Ua,mi.prototype.chain=function(){return Va(this)},mi.prototype.commit=function(){return new yi(this.value(),this.__chain__)},mi.prototype.next=function(){this.__values__===r&&(this.__values__=Vs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},mi.prototype.plant=function(e){for(var t,n=this;n instanceof vi;){var i=fa(n);i.__index__=0,i.__values__=r,t?o.__wrapped__=i:t=i;var o=i;n=n.__wrapped__}return o.__wrapped__=e,t},mi.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof xi){var t=e;return this.__actions__.length&&(t=new xi(this)),(t=t.reverse()).__actions__.push({func:Wa,args:[Pa],thisArg:r}),new yi(t,this.__chain__)}return this.thru(Pa)},mi.prototype.toJSON=mi.prototype.valueOf=mi.prototype.value=function(){return Ur(this.__wrapped__,this.__actions__)},mi.prototype.first=mi.prototype.head,Et&&(mi.prototype[Et]=function(){return this}),mi}();Ht._=Yn,(i=function(){return Yn}.call(t,n,t,e))===r||(e.exports=i)}.call(this)},2426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function i(){return t.apply(null,arguments)}function r(e){t=e}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function c(e){return void 0===e}function u(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,i=[],r=e.length;for(n=0;n<r;++n)i.push(t(e[n],n));return i}function p(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t,n,i){return qn(e,t,n,i,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(e){return null==e._pf&&(e._pf=m()),e._pf}function v(e){if(null==e._isValid){var t=g(e),i=n.call(t.parsedDateParts,(function(e){return null!=e})),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function y(e){var t=f(NaN);return null!=e?p(g(t),e):g(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),i=n.length>>>0;for(t=0;t<i;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var x=i.momentProperties=[],b=!1;function _(e,t){var n,i,r,o=x.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=g(t)),c(t._locale)||(e._locale=t._locale),o>0)for(n=0;n<o;n++)c(r=t[i=x[n]])||(e[i]=r);return e}function w(e){_(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,i.updateOffset(this),b=!1)}function k(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function S(e){!1===i.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function C(e,t){var n=!0;return p((function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),n){var r,o,a,l=[],c=arguments.length;for(o=0;o<c;o++){if(r="","object"===typeof arguments[o]){for(a in r+="\n["+o+"] ",arguments[0])s(arguments[0],a)&&(r+=a+": "+arguments[0][a]+", ");r=r.slice(0,-2)}else r=arguments[o];l.push(r)}S(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var E,T={};function M(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),T[e]||(S(t),T[e]=!0)}function P(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function A(e){var t,n;for(n in e)s(e,n)&&(P(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function I(e,t){var n,i=p({},e);for(n in t)s(t,n)&&(a(e[n])&&a(t[n])?(i[n]={},p(i[n],e[n]),p(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)s(e,n)&&!s(t,n)&&a(e[n])&&(i[n]=p({},i[n]));return i}function L(e){null!=e&&this.set(e)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,E=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var D={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function O(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return P(i)?i.call(t,n):i}function R(e,t,n){var i=""+Math.abs(e),r=t-i.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var z=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,B={},N={};function j(e,t,n,i){var r=i;"string"===typeof i&&(r=function(){return this[i]()}),e&&(N[e]=r),t&&(N[t[0]]=function(){return R(r.apply(this,arguments),t[1],t[2])}),n&&(N[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function V(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function W(e){var t,n,i=e.match(z);for(t=0,n=i.length;t<n;t++)N[i[t]]?i[t]=N[i[t]]:i[t]=V(i[t]);return function(t){var r,o="";for(r=0;r<n;r++)o+=P(i[r])?i[r].call(t,e):i[r];return o}}function U(e,t){return e.isValid()?(t=H(t,e.localeData()),B[t]=B[t]||W(t),B[t](e)):e.localeData().invalidDate()}function H(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(F.lastIndex=0;n>=0&&F.test(e);)e=e.replace(F,i),F.lastIndex=0,n-=1;return e}var X={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function G(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(z).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var Y="Invalid date";function q(){return this._invalidDate}var K="%d",$=/\d{1,2}/;function Z(e){return this._ordinal.replace("%d",e)}var J={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Q(e,t,n,i){var r=this._relativeTime[n];return P(r)?r(e,t,n,i):r.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return P(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function ie(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function re(e){var t,n,i={};for(n in e)s(e,n)&&(t=ie(n))&&(i[t]=e[n]);return i}var oe={};function ae(e,t){oe[e]=t}function se(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:oe[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function le(e){return e%4===0&&e%100!==0||e%400===0}function ce(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ue(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=ce(t)),n}function de(e,t){return function(n){return null!=n?(pe(this,e,n),i.updateOffset(this,t),this):he(this,e)}}function he(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function pe(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&le(e.year())&&1===e.month()&&29===e.date()?(n=ue(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Qe(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function fe(e){return P(this[e=ie(e)])?this[e]():this}function me(e,t){if("object"===typeof e){var n,i=se(e=re(e)),r=i.length;for(n=0;n<r;n++)this[i[n].unit](e[i[n].unit])}else if(P(this[e=ie(e)]))return this[e](t);return this}var ge,ve=/\d/,ye=/\d\d/,xe=/\d{3}/,be=/\d{4}/,_e=/[+-]?\d{6}/,we=/\d\d?/,ke=/\d\d\d\d?/,Se=/\d\d\d\d\d\d?/,Ce=/\d{1,3}/,Ee=/\d{1,4}/,Te=/[+-]?\d{1,6}/,Me=/\d+/,Pe=/[+-]?\d+/,Ae=/Z|[+-]\d\d:?\d\d/gi,Ie=/Z|[+-]\d\d(?::?\d\d)?/gi,Le=/[+-]?\d+(\.\d{1,3})?/,De=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Oe(e,t,n){ge[e]=P(t)?t:function(e,i){return e&&n?n:t}}function Re(e,t){return s(ge,e)?ge[e](t._strict,t._locale):new RegExp(ze(e))}function ze(e){return Fe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,i,r){return t||n||i||r})))}function Fe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}ge={};var Be={};function Ne(e,t){var n,i,r=t;for("string"===typeof e&&(e=[e]),u(t)&&(r=function(e,n){n[t]=ue(e)}),i=e.length,n=0;n<i;n++)Be[e[n]]=r}function je(e,t){Ne(e,(function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)}))}function Ve(e,t,n){null!=t&&s(Be,e)&&Be[e](t,n._a,n,e)}var We,Ue=0,He=1,Xe=2,Ge=3,Ye=4,qe=5,Ke=6,$e=7,Ze=8;function Je(e,t){return(e%t+t)%t}function Qe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Je(t,12);return e+=(t-n)/12,1===n?le(e)?29:28:31-n%7%2}We=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},j("M",["MM",2],"Mo",(function(){return this.month()+1})),j("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),j("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),ae("month",8),Oe("M",we),Oe("MM",we,ye),Oe("MMM",(function(e,t){return t.monthsShortRegex(e)})),Oe("MMMM",(function(e,t){return t.monthsRegex(e)})),Ne(["M","MM"],(function(e,t){t[He]=ue(e)-1})),Ne(["MMM","MMMM"],(function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[He]=r:g(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,it=De,rt=De;function ot(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone}function at(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function st(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=f([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=We.call(this._shortMonthsParse,a))?r:null:-1!==(r=We.call(this._longMonthsParse,a))?r:null:"MMM"===t?-1!==(r=We.call(this._shortMonthsParse,a))||-1!==(r=We.call(this._longMonthsParse,a))?r:null:-1!==(r=We.call(this._longMonthsParse,a))||-1!==(r=We.call(this._shortMonthsParse,a))?r:null}function lt(e,t,n){var i,r,o;if(this._monthsParseExact)return st.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=f([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function ct(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=ue(t);else if(!u(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Qe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ut(e){return null!=e?(ct(this,e),i.updateOffset(this,!0),this):he(this,"Month")}function dt(){return Qe(this.year(),this.month())}function ht(e){return this._monthsParseExact?(s(this,"_monthsRegex")||ft.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=it),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function pt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||ft.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=rt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ft(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],o=[];for(t=0;t<12;t++)n=f([2e3,t]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(e),r.sort(e),o.sort(e),t=0;t<12;t++)i[t]=Fe(i[t]),r[t]=Fe(r[t]);for(t=0;t<24;t++)o[t]=Fe(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function mt(e){return le(e)?366:365}j("Y",0,0,(function(){var e=this.year();return e<=9999?R(e,4):"+"+e})),j(0,["YY",2],0,(function(){return this.year()%100})),j(0,["YYYY",4],0,"year"),j(0,["YYYYY",5],0,"year"),j(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),ae("year",1),Oe("Y",Pe),Oe("YY",we,ye),Oe("YYYY",Ee,be),Oe("YYYYY",Te,_e),Oe("YYYYYY",Te,_e),Ne(["YYYYY","YYYYYY"],Ue),Ne("YYYY",(function(e,t){t[Ue]=2===e.length?i.parseTwoDigitYear(e):ue(e)})),Ne("YY",(function(e,t){t[Ue]=i.parseTwoDigitYear(e)})),Ne("Y",(function(e,t){t[Ue]=parseInt(e,10)})),i.parseTwoDigitYear=function(e){return ue(e)+(ue(e)>68?1900:2e3)};var gt=de("FullYear",!0);function vt(){return le(this.year())}function yt(e,t,n,i,r,o,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,i,r,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,i,r,o,a),s}function xt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function bt(e,t,n){var i=7+t-n;return-(7+xt(e,0,i).getUTCDay()-t)%7+i-1}function _t(e,t,n,i,r){var o,a,s=1+7*(t-1)+(7+n-i)%7+bt(e,i,r);return s<=0?a=mt(o=e-1)+s:s>mt(e)?(o=e+1,a=s-mt(e)):(o=e,a=s),{year:o,dayOfYear:a}}function wt(e,t,n){var i,r,o=bt(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?i=a+kt(r=e.year()-1,t,n):a>kt(e.year(),t,n)?(i=a-kt(e.year(),t,n),r=e.year()+1):(r=e.year(),i=a),{week:i,year:r}}function kt(e,t,n){var i=bt(e,t,n),r=bt(e+1,t,n);return(mt(e)-i+r)/7}function St(e){return wt(e,this._week.dow,this._week.doy).week}j("w",["ww",2],"wo","week"),j("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),ae("week",5),ae("isoWeek",5),Oe("w",we),Oe("ww",we,ye),Oe("W",we),Oe("WW",we,ye),je(["w","ww","W","WW"],(function(e,t,n,i){t[i.substr(0,1)]=ue(e)}));var Ct={dow:0,doy:6};function Et(){return this._week.dow}function Tt(){return this._week.doy}function Mt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Pt(e){var t=wt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function At(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function It(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Lt(e,t){return e.slice(t,7).concat(e.slice(0,t))}j("d",0,"do","day"),j("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),j("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),j("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),j("e",0,0,"weekday"),j("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),ae("day",11),ae("weekday",11),ae("isoWeekday",11),Oe("d",we),Oe("e",we),Oe("E",we),Oe("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Oe("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Oe("dddd",(function(e,t){return t.weekdaysRegex(e)})),je(["dd","ddd","dddd"],(function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:g(n).invalidWeekday=e})),je(["d","e","E"],(function(e,t,n,i){t[i]=ue(e)}));var Dt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ot="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Rt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),zt=De,Ft=De,Bt=De;function Nt(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Lt(n,this._week.dow):e?n[e.day()]:n}function jt(e){return!0===e?Lt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Vt(e){return!0===e?Lt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Wt(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=f([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=We.call(this._weekdaysParse,a))?r:null:"ddd"===t?-1!==(r=We.call(this._shortWeekdaysParse,a))?r:null:-1!==(r=We.call(this._minWeekdaysParse,a))?r:null:"dddd"===t?-1!==(r=We.call(this._weekdaysParse,a))||-1!==(r=We.call(this._shortWeekdaysParse,a))||-1!==(r=We.call(this._minWeekdaysParse,a))?r:null:"ddd"===t?-1!==(r=We.call(this._shortWeekdaysParse,a))||-1!==(r=We.call(this._weekdaysParse,a))||-1!==(r=We.call(this._minWeekdaysParse,a))?r:null:-1!==(r=We.call(this._minWeekdaysParse,a))||-1!==(r=We.call(this._weekdaysParse,a))||-1!==(r=We.call(this._shortWeekdaysParse,a))?r:null}function Ut(e,t,n){var i,r,o;if(this._weekdaysParseExact)return Wt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=f([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function Ht(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=At(e,this.localeData()),this.add(e-t,"d")):t}function Xt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Gt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=It(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Yt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=zt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function qt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ft),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Kt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Bt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function $t(){function e(e,t){return t.length-e.length}var t,n,i,r,o,a=[],s=[],l=[],c=[];for(t=0;t<7;t++)n=f([2e3,1]).day(t),i=Fe(this.weekdaysMin(n,"")),r=Fe(this.weekdaysShort(n,"")),o=Fe(this.weekdays(n,"")),a.push(i),s.push(r),l.push(o),c.push(i),c.push(r),c.push(o);a.sort(e),s.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Zt(){return this.hours()%12||12}function Jt(){return this.hours()||24}function Qt(e,t){j(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}j("H",["HH",2],0,"hour"),j("h",["hh",2],0,Zt),j("k",["kk",2],0,Jt),j("hmm",0,0,(function(){return""+Zt.apply(this)+R(this.minutes(),2)})),j("hmmss",0,0,(function(){return""+Zt.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)})),j("Hmm",0,0,(function(){return""+this.hours()+R(this.minutes(),2)})),j("Hmmss",0,0,(function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)})),Qt("a",!0),Qt("A",!1),ne("hour","h"),ae("hour",13),Oe("a",en),Oe("A",en),Oe("H",we),Oe("h",we),Oe("k",we),Oe("HH",we,ye),Oe("hh",we,ye),Oe("kk",we,ye),Oe("hmm",ke),Oe("hmmss",Se),Oe("Hmm",ke),Oe("Hmmss",Se),Ne(["H","HH"],Ge),Ne(["k","kk"],(function(e,t,n){var i=ue(e);t[Ge]=24===i?0:i})),Ne(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Ne(["h","hh"],(function(e,t,n){t[Ge]=ue(e),g(n).bigHour=!0})),Ne("hmm",(function(e,t,n){var i=e.length-2;t[Ge]=ue(e.substr(0,i)),t[Ye]=ue(e.substr(i)),g(n).bigHour=!0})),Ne("hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[Ge]=ue(e.substr(0,i)),t[Ye]=ue(e.substr(i,2)),t[qe]=ue(e.substr(r)),g(n).bigHour=!0})),Ne("Hmm",(function(e,t,n){var i=e.length-2;t[Ge]=ue(e.substr(0,i)),t[Ye]=ue(e.substr(i))})),Ne("Hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[Ge]=ue(e.substr(0,i)),t[Ye]=ue(e.substr(i,2)),t[qe]=ue(e.substr(r))}));var nn=/[ap]\.?m?\.?/i,rn=de("Hours",!0);function on(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var an,sn={calendar:D,longDateFormat:X,invalidDate:Y,ordinal:K,dayOfMonthOrdinalParse:$,relativeTime:J,months:et,monthsShort:tt,week:Ct,weekdays:Dt,weekdaysMin:Rt,weekdaysShort:Ot,meridiemParse:nn},ln={},cn={};function un(e,t){var n,i=Math.min(e.length,t.length);for(n=0;n<i;n+=1)if(e[n]!==t[n])return n;return i}function dn(e){return e?e.toLowerCase().replace("_","-"):e}function hn(e){for(var t,n,i,r,o=0;o<e.length;){for(t=(r=dn(e[o]).split("-")).length,n=(n=dn(e[o+1]))?n.split("-"):null;t>0;){if(i=fn(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&un(r,n)>=t-1)break;t--}o++}return an}function pn(e){return null!=e.match("^[^/\\\\]*$")}function fn(t){var n=null;if(void 0===ln[t]&&e&&e.exports&&pn(t))try{n=an._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),mn(n)}catch(i){ln[t]=null}return ln[t]}function mn(e,t){var n;return e&&((n=c(t)?yn(e):gn(e,t))?an=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),an._abbr}function gn(e,t){if(null!==t){var n,i=sn;if(t.abbr=e,null!=ln[e])M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=ln[e]._config;else if(null!=t.parentLocale)if(null!=ln[t.parentLocale])i=ln[t.parentLocale]._config;else{if(null==(n=fn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;i=n._config}return ln[e]=new L(I(i,t)),cn[e]&&cn[e].forEach((function(e){gn(e.name,e.config)})),mn(e),ln[e]}return delete ln[e],null}function vn(e,t){if(null!=t){var n,i,r=sn;null!=ln[e]&&null!=ln[e].parentLocale?ln[e].set(I(ln[e]._config,t)):(null!=(i=fn(e))&&(r=i._config),t=I(r,t),null==i&&(t.abbr=e),(n=new L(t)).parentLocale=ln[e],ln[e]=n),mn(e)}else null!=ln[e]&&(null!=ln[e].parentLocale?(ln[e]=ln[e].parentLocale,e===mn()&&mn(e)):null!=ln[e]&&delete ln[e]);return ln[e]}function yn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return an;if(!o(e)){if(t=fn(e))return t;e=[e]}return hn(e)}function xn(){return E(ln)}function bn(e){var t,n=e._a;return n&&-2===g(e).overflow&&(t=n[He]<0||n[He]>11?He:n[Xe]<1||n[Xe]>Qe(n[Ue],n[He])?Xe:n[Ge]<0||n[Ge]>24||24===n[Ge]&&(0!==n[Ye]||0!==n[qe]||0!==n[Ke])?Ge:n[Ye]<0||n[Ye]>59?Ye:n[qe]<0||n[qe]>59?qe:n[Ke]<0||n[Ke]>999?Ke:-1,g(e)._overflowDayOfYear&&(t<Ue||t>Xe)&&(t=Xe),g(e)._overflowWeeks&&-1===t&&(t=$e),g(e)._overflowWeekday&&-1===t&&(t=Ze),g(e).overflow=t),e}var _n=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,kn=/Z|[+-]\d\d(?::?\d\d)?/,Sn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Cn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],En=/^\/?Date\((-?\d+)/i,Tn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Mn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Pn(e){var t,n,i,r,o,a,s=e._i,l=_n.exec(s)||wn.exec(s),c=Sn.length,u=Cn.length;if(l){for(g(e).iso=!0,t=0,n=c;t<n;t++)if(Sn[t][1].exec(l[1])){r=Sn[t][0],i=!1!==Sn[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=u;t<n;t++)if(Cn[t][1].exec(l[3])){o=(l[2]||" ")+Cn[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(l[4]){if(!kn.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=r+(o||"")+(a||""),Vn(e)}else e._isValid=!1}function An(e,t,n,i,r,o){var a=[In(e),tt.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return o&&a.push(parseInt(o,10)),a}function In(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Ln(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Dn(e,t,n){return!e||Ot.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(g(n).weekdayMismatch=!0,n._isValid=!1,!1)}function On(e,t,n){if(e)return Mn[e];if(t)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}function Rn(e){var t,n=Tn.exec(Ln(e._i));if(n){if(t=An(n[4],n[3],n[2],n[5],n[6],n[7]),!Dn(n[1],t,e))return;e._a=t,e._tzm=On(n[8],n[9],n[10]),e._d=xt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),g(e).rfc2822=!0}else e._isValid=!1}function zn(e){var t=En.exec(e._i);null===t?(Pn(e),!1===e._isValid&&(delete e._isValid,Rn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:i.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Fn(e,t,n){return null!=e?e:null!=t?t:n}function Bn(e){var t=new Date(i.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Nn(e){var t,n,i,r,o,a=[];if(!e._d){for(i=Bn(e),e._w&&null==e._a[Xe]&&null==e._a[He]&&jn(e),null!=e._dayOfYear&&(o=Fn(e._a[Ue],i[Ue]),(e._dayOfYear>mt(o)||0===e._dayOfYear)&&(g(e)._overflowDayOfYear=!0),n=xt(o,0,e._dayOfYear),e._a[He]=n.getUTCMonth(),e._a[Xe]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=i[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ge]&&0===e._a[Ye]&&0===e._a[qe]&&0===e._a[Ke]&&(e._nextDay=!0,e._a[Ge]=0),e._d=(e._useUTC?xt:yt).apply(null,a),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ge]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==r&&(g(e).weekdayMismatch=!0)}}function jn(e){var t,n,i,r,o,a,s,l,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,a=4,n=Fn(t.GG,e._a[Ue],wt(Kn(),1,4).year),i=Fn(t.W,1),((r=Fn(t.E,1))<1||r>7)&&(l=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,c=wt(Kn(),o,a),n=Fn(t.gg,e._a[Ue],c.year),i=Fn(t.w,c.week),null!=t.d?((r=t.d)<0||r>6)&&(l=!0):null!=t.e?(r=t.e+o,(t.e<0||t.e>6)&&(l=!0)):r=o),i<1||i>kt(n,o,a)?g(e)._overflowWeeks=!0:null!=l?g(e)._overflowWeekday=!0:(s=_t(n,i,r,o,a),e._a[Ue]=s.year,e._dayOfYear=s.dayOfYear)}function Vn(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],g(e).empty=!0;var t,n,r,o,a,s,l,c=""+e._i,u=c.length,d=0;for(l=(r=H(e._f,e._locale).match(z)||[]).length,t=0;t<l;t++)o=r[t],(n=(c.match(Re(o,e))||[])[0])&&((a=c.substr(0,c.indexOf(n))).length>0&&g(e).unusedInput.push(a),c=c.slice(c.indexOf(n)+n.length),d+=n.length),N[o]?(n?g(e).empty=!1:g(e).unusedTokens.push(o),Ve(o,n,e)):e._strict&&!n&&g(e).unusedTokens.push(o);g(e).charsLeftOver=u-d,c.length>0&&g(e).unusedInput.push(c),e._a[Ge]<=12&&!0===g(e).bigHour&&e._a[Ge]>0&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[Ge]=Wn(e._locale,e._a[Ge],e._meridiem),null!==(s=g(e).era)&&(e._a[Ue]=e._locale.erasConvertYear(s,e._a[Ue])),Nn(e),bn(e)}else Rn(e);else Pn(e)}function Wn(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0),t):t}function Un(e){var t,n,i,r,o,a,s=!1,l=e._f.length;if(0===l)return g(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<l;r++)o=0,a=!1,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],Vn(t),v(t)&&(a=!0),o+=g(t).charsLeftOver,o+=10*g(t).unusedTokens.length,g(t).score=o,s?o<i&&(i=o,n=t):(null==i||o<i||a)&&(i=o,n=t,a&&(s=!0));p(e,n||t)}function Hn(e){if(!e._d){var t=re(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Nn(e)}}function Xn(e){var t=new w(bn(Gn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Gn(e){var t=e._i,n=e._f;return e._locale=e._locale||yn(e._l),null===t||void 0===n&&""===t?y({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),k(t)?new w(bn(t)):(d(t)?e._d=t:o(n)?Un(e):n?Vn(e):Yn(e),v(e)||(e._d=null),e))}function Yn(e){var t=e._i;c(t)?e._d=new Date(i.now()):d(t)?e._d=new Date(t.valueOf()):"string"===typeof t?zn(e):o(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),Nn(e)):a(t)?Hn(e):u(t)?e._d=new Date(t):i.createFromInputFallback(e)}function qn(e,t,n,i,r){var s={};return!0!==t&&!1!==t||(i=t,t=void 0),!0!==n&&!1!==n||(i=n,n=void 0),(a(e)&&l(e)||o(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=n,s._i=e,s._f=t,s._strict=i,Xn(s)}function Kn(e,t,n,i){return qn(e,t,n,i,!1)}i.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),i.ISO_8601=function(){},i.RFC_2822=function(){};var $n=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()})),Zn=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}));function Jn(e,t){var n,i;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Kn();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}function Qn(){return Jn("isBefore",[].slice.call(arguments,0))}function ei(){return Jn("isAfter",[].slice.call(arguments,0))}var ti=function(){return Date.now?Date.now():+new Date},ni=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ii(e){var t,n,i=!1,r=ni.length;for(t in e)if(s(e,t)&&(-1===We.call(ni,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<r;++n)if(e[ni[n]]){if(i)return!1;parseFloat(e[ni[n]])!==ue(e[ni[n]])&&(i=!0)}return!0}function ri(){return this._isValid}function oi(){return Mi(NaN)}function ai(e){var t=re(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=ii(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=yn(),this._bubble()}function si(e){return e instanceof ai}function li(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function ci(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&ue(e[i])!==ue(t[i]))&&a++;return a+o}function ui(e,t){j(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+R(~~(e/60),2)+t+R(~~e%60,2)}))}ui("Z",":"),ui("ZZ",""),Oe("Z",Ie),Oe("ZZ",Ie),Ne(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=hi(Ie,e)}));var di=/([\+\-]|\d\d)/gi;function hi(e,t){var n,i,r=(t||"").match(e);return null===r?null:0===(i=60*(n=((r[r.length-1]||[])+"").match(di)||["-",0,0])[1]+ue(n[2]))?0:"+"===n[0]?i:-i}function pi(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(k(e)||d(e)?e.valueOf():Kn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):Kn(e).local()}function fi(e){return-Math.round(e._d.getTimezoneOffset())}function mi(e,t,n){var r,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=hi(Ie,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=fi(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!t||this._changeInProgress?Di(this,Mi(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:fi(this)}function gi(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function vi(e){return this.utcOffset(0,e)}function yi(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(fi(this),"m")),this}function xi(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=hi(Ae,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function bi(e){return!!this.isValid()&&(e=e?Kn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function _i(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function wi(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return _(t,this),(t=Gn(t))._a?(e=t._isUTC?f(t._a):Kn(t._a),this._isDSTShifted=this.isValid()&&ci(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function ki(){return!!this.isValid()&&!this._isUTC}function Si(){return!!this.isValid()&&this._isUTC}function Ci(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var Ei=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ti=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Mi(e,t){var n,i,r,o=e,a=null;return si(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(o={},t?o[t]=+e:o.milliseconds=+e):(a=Ei.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:ue(a[Xe])*n,h:ue(a[Ge])*n,m:ue(a[Ye])*n,s:ue(a[qe])*n,ms:ue(li(1e3*a[Ke]))*n}):(a=Ti.exec(e))?(n="-"===a[1]?-1:1,o={y:Pi(a[2],n),M:Pi(a[3],n),w:Pi(a[4],n),d:Pi(a[5],n),h:Pi(a[6],n),m:Pi(a[7],n),s:Pi(a[8],n)}):null==o?o={}:"object"===typeof o&&("from"in o||"to"in o)&&(r=Ii(Kn(o.from),Kn(o.to)),(o={}).ms=r.milliseconds,o.M=r.months),i=new ai(o),si(e)&&s(e,"_locale")&&(i._locale=e._locale),si(e)&&s(e,"_isValid")&&(i._isValid=e._isValid),i}function Pi(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ai(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ii(e,t){var n;return e.isValid()&&t.isValid()?(t=pi(t,e),e.isBefore(t)?n=Ai(e,t):((n=Ai(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Li(e,t){return function(n,i){var r;return null===i||isNaN(+i)||(M(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),Di(this,Mi(n,i),e),this}}function Di(e,t,n,r){var o=t._milliseconds,a=li(t._days),s=li(t._months);e.isValid()&&(r=null==r||r,s&&ct(e,he(e,"Month")+s*n),a&&pe(e,"Date",he(e,"Date")+a*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&i.updateOffset(e,a||s))}Mi.fn=ai.prototype,Mi.invalid=oi;var Oi=Li(1,"add"),Ri=Li(-1,"subtract");function zi(e){return"string"===typeof e||e instanceof String}function Fi(e){return k(e)||d(e)||zi(e)||u(e)||Ni(e)||Bi(e)||null===e||void 0===e}function Bi(e){var t,n,i=a(e)&&!l(e),r=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=o.length;for(t=0;t<c;t+=1)n=o[t],r=r||s(e,n);return i&&r}function Ni(e){var t=o(e),n=!1;return t&&(n=0===e.filter((function(t){return!u(t)&&zi(e)})).length),t&&n}function ji(e){var t,n,i=a(e)&&!l(e),r=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)n=o[t],r=r||s(e,n);return i&&r}function Vi(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Wi(e,t){1===arguments.length&&(arguments[0]?Fi(arguments[0])?(e=arguments[0],t=void 0):ji(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Kn(),r=pi(n,this).startOf("day"),o=i.calendarFormat(this,r)||"sameElse",a=t&&(P(t[o])?t[o].call(this,n):t[o]);return this.format(a||this.localeData().calendar(o,this,Kn(n)))}function Ui(){return new w(this)}function Hi(e,t){var n=k(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=ie(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Xi(e,t){var n=k(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=ie(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Gi(e,t,n,i){var r=k(e)?e:Kn(e),o=k(t)?t:Kn(t);return!!(this.isValid()&&r.isValid()&&o.isValid())&&("("===(i=i||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(o,n):!this.isAfter(o,n))}function Yi(e,t){var n,i=k(e)?e:Kn(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=ie(t)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function qi(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Ki(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function $i(e,t,n){var i,r,o;if(!this.isValid())return NaN;if(!(i=pi(e,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=ie(t)){case"year":o=Zi(this,i)/12;break;case"month":o=Zi(this,i);break;case"quarter":o=Zi(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:ce(o)}function Zi(e,t){if(e.date()<t.date())return-Zi(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months");return-(n+(t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(n+1,"months")-i)))||0}function Ji(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Qi(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?U(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):P(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",U(n,"Z")):U(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function er(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,i,r="moment",o="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+r+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",i=o+'[")]',this.format(e+t+n+i)}function tr(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=U(this,e);return this.localeData().postformat(t)}function nr(e,t){return this.isValid()&&(k(e)&&e.isValid()||Kn(e).isValid())?Mi({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ir(e){return this.from(Kn(),e)}function rr(e,t){return this.isValid()&&(k(e)&&e.isValid()||Kn(e).isValid())?Mi({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function or(e){return this.to(Kn(),e)}function ar(e){var t;return void 0===e?this._locale._abbr:(null!=(t=yn(e))&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var sr=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function lr(){return this._locale}var cr=1e3,ur=60*cr,dr=60*ur,hr=3506328*dr;function pr(e,t){return(e%t+t)%t}function fr(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-hr:new Date(e,t,n).valueOf()}function mr(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-hr:Date.UTC(e,t,n)}function gr(e){var t,n;if(void 0===(e=ie(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?mr:fr,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=pr(t+(this._isUTC?0:this.utcOffset()*ur),dr);break;case"minute":t=this._d.valueOf(),t-=pr(t,ur);break;case"second":t=this._d.valueOf(),t-=pr(t,cr)}return this._d.setTime(t),i.updateOffset(this,!0),this}function vr(e){var t,n;if(void 0===(e=ie(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?mr:fr,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=dr-pr(t+(this._isUTC?0:this.utcOffset()*ur),dr)-1;break;case"minute":t=this._d.valueOf(),t+=ur-pr(t,ur)-1;break;case"second":t=this._d.valueOf(),t+=cr-pr(t,cr)-1}return this._d.setTime(t),i.updateOffset(this,!0),this}function yr(){return this._d.valueOf()-6e4*(this._offset||0)}function xr(){return Math.floor(this.valueOf()/1e3)}function br(){return new Date(this.valueOf())}function _r(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function wr(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function kr(){return this.isValid()?this.toISOString():null}function Sr(){return v(this)}function Cr(){return p({},g(this))}function Er(){return g(this).overflow}function Tr(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Mr(e,t){var n,r,o,a=this._eras||yn("en")._eras;for(n=0,r=a.length;n<r;++n)switch("string"===typeof a[n].since&&(o=i(a[n].since).startOf("day"),a[n].since=o.valueOf()),typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":o=i(a[n].until).startOf("day").valueOf(),a[n].until=o.valueOf()}return a}function Pr(e,t,n){var i,r,o,a,s,l=this.eras();for(e=e.toUpperCase(),i=0,r=l.length;i<r;++i)if(o=l[i].name.toUpperCase(),a=l[i].abbr.toUpperCase(),s=l[i].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return l[i];break;case"NNNN":if(o===e)return l[i];break;case"NNNNN":if(s===e)return l[i]}else if([o,a,s].indexOf(e)>=0)return l[i]}function Ar(e,t){var n=e.since<=e.until?1:-1;return void 0===t?i(e.since).year():i(e.since).year()+(t-e.offset)*n}function Ir(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].name;if(i[e].until<=n&&n<=i[e].since)return i[e].name}return""}function Lr(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].narrow;if(i[e].until<=n&&n<=i[e].since)return i[e].narrow}return""}function Dr(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].abbr;if(i[e].until<=n&&n<=i[e].since)return i[e].abbr}return""}function Or(){var e,t,n,r,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,r=this.clone().startOf("day").valueOf(),o[e].since<=r&&r<=o[e].until||o[e].until<=r&&r<=o[e].since)return(this.year()-i(o[e].since).year())*n+o[e].offset;return this.year()}function Rr(e){return s(this,"_erasNameRegex")||Wr.call(this),e?this._erasNameRegex:this._erasRegex}function zr(e){return s(this,"_erasAbbrRegex")||Wr.call(this),e?this._erasAbbrRegex:this._erasRegex}function Fr(e){return s(this,"_erasNarrowRegex")||Wr.call(this),e?this._erasNarrowRegex:this._erasRegex}function Br(e,t){return t.erasAbbrRegex(e)}function Nr(e,t){return t.erasNameRegex(e)}function jr(e,t){return t.erasNarrowRegex(e)}function Vr(e,t){return t._eraYearOrdinalRegex||Me}function Wr(){var e,t,n=[],i=[],r=[],o=[],a=this.eras();for(e=0,t=a.length;e<t;++e)i.push(Fe(a[e].name)),n.push(Fe(a[e].abbr)),r.push(Fe(a[e].narrow)),o.push(Fe(a[e].name)),o.push(Fe(a[e].abbr)),o.push(Fe(a[e].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+i.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}function Ur(e,t){j(0,[e,e.length],0,t)}function Hr(e){return $r.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Xr(e){return $r.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Gr(){return kt(this.year(),1,4)}function Yr(){return kt(this.isoWeekYear(),1,4)}function qr(){var e=this.localeData()._week;return kt(this.year(),e.dow,e.doy)}function Kr(){var e=this.localeData()._week;return kt(this.weekYear(),e.dow,e.doy)}function $r(e,t,n,i,r){var o;return null==e?wt(this,i,r).year:(t>(o=kt(e,i,r))&&(t=o),Zr.call(this,e,t,n,i,r))}function Zr(e,t,n,i,r){var o=_t(e,t,n,i,r),a=xt(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Jr(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}j("N",0,0,"eraAbbr"),j("NN",0,0,"eraAbbr"),j("NNN",0,0,"eraAbbr"),j("NNNN",0,0,"eraName"),j("NNNNN",0,0,"eraNarrow"),j("y",["y",1],"yo","eraYear"),j("y",["yy",2],0,"eraYear"),j("y",["yyy",3],0,"eraYear"),j("y",["yyyy",4],0,"eraYear"),Oe("N",Br),Oe("NN",Br),Oe("NNN",Br),Oe("NNNN",Nr),Oe("NNNNN",jr),Ne(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,i){var r=n._locale.erasParse(e,i,n._strict);r?g(n).era=r:g(n).invalidEra=e})),Oe("y",Me),Oe("yy",Me),Oe("yyy",Me),Oe("yyyy",Me),Oe("yo",Vr),Ne(["y","yy","yyy","yyyy"],Ue),Ne(["yo"],(function(e,t,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Ue]=n._locale.eraYearOrdinalParse(e,r):t[Ue]=parseInt(e,10)})),j(0,["gg",2],0,(function(){return this.weekYear()%100})),j(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Ur("gggg","weekYear"),Ur("ggggg","weekYear"),Ur("GGGG","isoWeekYear"),Ur("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),ae("weekYear",1),ae("isoWeekYear",1),Oe("G",Pe),Oe("g",Pe),Oe("GG",we,ye),Oe("gg",we,ye),Oe("GGGG",Ee,be),Oe("gggg",Ee,be),Oe("GGGGG",Te,_e),Oe("ggggg",Te,_e),je(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,i){t[i.substr(0,2)]=ue(e)})),je(["gg","GG"],(function(e,t,n,r){t[r]=i.parseTwoDigitYear(e)})),j("Q",0,"Qo","quarter"),ne("quarter","Q"),ae("quarter",7),Oe("Q",ve),Ne("Q",(function(e,t){t[He]=3*(ue(e)-1)})),j("D",["DD",2],"Do","date"),ne("date","D"),ae("date",9),Oe("D",we),Oe("DD",we,ye),Oe("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Ne(["D","DD"],Xe),Ne("Do",(function(e,t){t[Xe]=ue(e.match(we)[0])}));var Qr=de("Date",!0);function eo(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}j("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),ae("dayOfYear",4),Oe("DDD",Ce),Oe("DDDD",xe),Ne(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=ue(e)})),j("m",["mm",2],0,"minute"),ne("minute","m"),ae("minute",14),Oe("m",we),Oe("mm",we,ye),Ne(["m","mm"],Ye);var to=de("Minutes",!1);j("s",["ss",2],0,"second"),ne("second","s"),ae("second",15),Oe("s",we),Oe("ss",we,ye),Ne(["s","ss"],qe);var no,io,ro=de("Seconds",!1);for(j("S",0,0,(function(){return~~(this.millisecond()/100)})),j(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),j(0,["SSS",3],0,"millisecond"),j(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),j(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),j(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),j(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),j(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),j(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),ae("millisecond",16),Oe("S",Ce,ve),Oe("SS",Ce,ye),Oe("SSS",Ce,xe),no="SSSS";no.length<=9;no+="S")Oe(no,Me);function oo(e,t){t[Ke]=ue(1e3*("0."+e))}for(no="S";no.length<=9;no+="S")Ne(no,oo);function ao(){return this._isUTC?"UTC":""}function so(){return this._isUTC?"Coordinated Universal Time":""}io=de("Milliseconds",!1),j("z",0,0,"zoneAbbr"),j("zz",0,0,"zoneName");var lo=w.prototype;function co(e){return Kn(1e3*e)}function uo(){return Kn.apply(null,arguments).parseZone()}function ho(e){return e}lo.add=Oi,lo.calendar=Wi,lo.clone=Ui,lo.diff=$i,lo.endOf=vr,lo.format=tr,lo.from=nr,lo.fromNow=ir,lo.to=rr,lo.toNow=or,lo.get=fe,lo.invalidAt=Er,lo.isAfter=Hi,lo.isBefore=Xi,lo.isBetween=Gi,lo.isSame=Yi,lo.isSameOrAfter=qi,lo.isSameOrBefore=Ki,lo.isValid=Sr,lo.lang=sr,lo.locale=ar,lo.localeData=lr,lo.max=Zn,lo.min=$n,lo.parsingFlags=Cr,lo.set=me,lo.startOf=gr,lo.subtract=Ri,lo.toArray=_r,lo.toObject=wr,lo.toDate=br,lo.toISOString=Qi,lo.inspect=er,"undefined"!==typeof Symbol&&null!=Symbol.for&&(lo[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),lo.toJSON=kr,lo.toString=Ji,lo.unix=xr,lo.valueOf=yr,lo.creationData=Tr,lo.eraName=Ir,lo.eraNarrow=Lr,lo.eraAbbr=Dr,lo.eraYear=Or,lo.year=gt,lo.isLeapYear=vt,lo.weekYear=Hr,lo.isoWeekYear=Xr,lo.quarter=lo.quarters=Jr,lo.month=ut,lo.daysInMonth=dt,lo.week=lo.weeks=Mt,lo.isoWeek=lo.isoWeeks=Pt,lo.weeksInYear=qr,lo.weeksInWeekYear=Kr,lo.isoWeeksInYear=Gr,lo.isoWeeksInISOWeekYear=Yr,lo.date=Qr,lo.day=lo.days=Ht,lo.weekday=Xt,lo.isoWeekday=Gt,lo.dayOfYear=eo,lo.hour=lo.hours=rn,lo.minute=lo.minutes=to,lo.second=lo.seconds=ro,lo.millisecond=lo.milliseconds=io,lo.utcOffset=mi,lo.utc=vi,lo.local=yi,lo.parseZone=xi,lo.hasAlignedHourOffset=bi,lo.isDST=_i,lo.isLocal=ki,lo.isUtcOffset=Si,lo.isUtc=Ci,lo.isUTC=Ci,lo.zoneAbbr=ao,lo.zoneName=so,lo.dates=C("dates accessor is deprecated. Use date instead.",Qr),lo.months=C("months accessor is deprecated. Use month instead",ut),lo.years=C("years accessor is deprecated. Use year instead",gt),lo.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gi),lo.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",wi);var po=L.prototype;function fo(e,t,n,i){var r=yn(),o=f().set(i,t);return r[n](o,e)}function mo(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return fo(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=fo(e,i,n,"month");return r}function go(e,t,n,i){"boolean"===typeof e?(u(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,u(t)&&(n=t,t=void 0),t=t||"");var r,o=yn(),a=e?o._week.dow:0,s=[];if(null!=n)return fo(t,(n+a)%7,i,"day");for(r=0;r<7;r++)s[r]=fo(t,(r+a)%7,i,"day");return s}function vo(e,t){return mo(e,t,"months")}function yo(e,t){return mo(e,t,"monthsShort")}function xo(e,t,n){return go(e,t,n,"weekdays")}function bo(e,t,n){return go(e,t,n,"weekdaysShort")}function _o(e,t,n){return go(e,t,n,"weekdaysMin")}po.calendar=O,po.longDateFormat=G,po.invalidDate=q,po.ordinal=Z,po.preparse=ho,po.postformat=ho,po.relativeTime=Q,po.pastFuture=ee,po.set=A,po.eras=Mr,po.erasParse=Pr,po.erasConvertYear=Ar,po.erasAbbrRegex=zr,po.erasNameRegex=Rr,po.erasNarrowRegex=Fr,po.months=ot,po.monthsShort=at,po.monthsParse=lt,po.monthsRegex=pt,po.monthsShortRegex=ht,po.week=St,po.firstDayOfYear=Tt,po.firstDayOfWeek=Et,po.weekdays=Nt,po.weekdaysMin=Vt,po.weekdaysShort=jt,po.weekdaysParse=Ut,po.weekdaysRegex=Yt,po.weekdaysShortRegex=qt,po.weekdaysMinRegex=Kt,po.isPM=tn,po.meridiem=on,mn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===ue(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),i.lang=C("moment.lang is deprecated. Use moment.locale instead.",mn),i.langData=C("moment.langData is deprecated. Use moment.localeData instead.",yn);var wo=Math.abs;function ko(){var e=this._data;return this._milliseconds=wo(this._milliseconds),this._days=wo(this._days),this._months=wo(this._months),e.milliseconds=wo(e.milliseconds),e.seconds=wo(e.seconds),e.minutes=wo(e.minutes),e.hours=wo(e.hours),e.months=wo(e.months),e.years=wo(e.years),this}function So(e,t,n,i){var r=Mi(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function Co(e,t){return So(this,e,t,1)}function Eo(e,t){return So(this,e,t,-1)}function To(e){return e<0?Math.floor(e):Math.ceil(e)}function Mo(){var e,t,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*To(Ao(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=ce(o/1e3),l.seconds=e%60,t=ce(e/60),l.minutes=t%60,n=ce(t/60),l.hours=n%24,a+=ce(n/24),s+=r=ce(Po(a)),a-=To(Ao(r)),i=ce(s/12),s%=12,l.days=a,l.months=s,l.years=i,this}function Po(e){return 4800*e/146097}function Ao(e){return 146097*e/4800}function Io(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=ie(e))||"quarter"===e||"year"===e)switch(t=this._days+i/864e5,n=this._months+Po(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Ao(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function Lo(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*ue(this._months/12):NaN}function Do(e){return function(){return this.as(e)}}var Oo=Do("ms"),Ro=Do("s"),zo=Do("m"),Fo=Do("h"),Bo=Do("d"),No=Do("w"),jo=Do("M"),Vo=Do("Q"),Wo=Do("y");function Uo(){return Mi(this)}function Ho(e){return e=ie(e),this.isValid()?this[e+"s"]():NaN}function Xo(e){return function(){return this.isValid()?this._data[e]:NaN}}var Go=Xo("milliseconds"),Yo=Xo("seconds"),qo=Xo("minutes"),Ko=Xo("hours"),$o=Xo("days"),Zo=Xo("months"),Jo=Xo("years");function Qo(){return ce(this.days()/7)}var ea=Math.round,ta={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function na(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function ia(e,t,n,i){var r=Mi(e).abs(),o=ea(r.as("s")),a=ea(r.as("m")),s=ea(r.as("h")),l=ea(r.as("d")),c=ea(r.as("M")),u=ea(r.as("w")),d=ea(r.as("y")),h=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(h=h||u<=1&&["w"]||u<n.w&&["ww",u]),(h=h||c<=1&&["M"]||c<n.M&&["MM",c]||d<=1&&["y"]||["yy",d])[2]=t,h[3]=+e>0,h[4]=i,na.apply(null,h)}function ra(e){return void 0===e?ea:"function"===typeof e&&(ea=e,!0)}function oa(e,t){return void 0!==ta[e]&&(void 0===t?ta[e]:(ta[e]=t,"s"===e&&(ta.ss=t-1),!0))}function aa(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,i,r=!1,o=ta;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(r=e),"object"===typeof t&&(o=Object.assign({},ta,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),i=ia(this,!r,o,n=this.localeData()),r&&(i=n.pastFuture(+this,i)),n.postformat(i)}var sa=Math.abs;function la(e){return(e>0)-(e<0)||+e}function ca(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,i,r,o,a,s,l=sa(this._milliseconds)/1e3,c=sa(this._days),u=sa(this._months),d=this.asSeconds();return d?(e=ce(l/60),t=ce(e/60),l%=60,e%=60,n=ce(u/12),u%=12,i=l?l.toFixed(3).replace(/\.?0+$/,""):"",r=d<0?"-":"",o=la(this._months)!==la(d)?"-":"",a=la(this._days)!==la(d)?"-":"",s=la(this._milliseconds)!==la(d)?"-":"",r+"P"+(n?o+n+"Y":"")+(u?o+u+"M":"")+(c?a+c+"D":"")+(t||e||l?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(l?s+i+"S":"")):"P0D"}var ua=ai.prototype;return ua.isValid=ri,ua.abs=ko,ua.add=Co,ua.subtract=Eo,ua.as=Io,ua.asMilliseconds=Oo,ua.asSeconds=Ro,ua.asMinutes=zo,ua.asHours=Fo,ua.asDays=Bo,ua.asWeeks=No,ua.asMonths=jo,ua.asQuarters=Vo,ua.asYears=Wo,ua.valueOf=Lo,ua._bubble=Mo,ua.clone=Uo,ua.get=Ho,ua.milliseconds=Go,ua.seconds=Yo,ua.minutes=qo,ua.hours=Ko,ua.days=$o,ua.weeks=Qo,ua.months=Zo,ua.years=Jo,ua.humanize=aa,ua.toISOString=ca,ua.toString=ca,ua.toJSON=ca,ua.locale=ar,ua.localeData=lr,ua.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ca),ua.lang=sr,j("X",0,0,"unix"),j("x",0,0,"valueOf"),Oe("x",Pe),Oe("X",Le),Ne("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Ne("x",(function(e,t,n){n._d=new Date(ue(e))})),i.version="2.29.4",r(Kn),i.fn=lo,i.min=Qn,i.max=ei,i.now=ti,i.utc=f,i.unix=co,i.months=vo,i.isDate=d,i.locale=mn,i.invalid=y,i.duration=Mi,i.isMoment=k,i.weekdays=xo,i.parseZone=uo,i.localeData=yn,i.isDuration=si,i.monthsShort=yo,i.weekdaysMin=_o,i.defineLocale=gn,i.updateLocale=vn,i.locales=xn,i.weekdaysShort=bo,i.normalizeUnits=ie,i.relativeTimeRounding=ra,i.relativeTimeThreshold=oa,i.calendarFormat=Vi,i.prototype=lo,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i}()},4501:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case u:case d:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case r:return t}}}function w(e){return _(e)===d}t.isFragment=function(e){return _(e)===o},t.isMemo=function(e){return _(e)===m}},3873:function(e,t,n){"use strict";e.exports=n(4501)},3513:function(e,t,n){"use strict";var i,r,o,a,s,l,c,u,d,h,p,f,m,g,v,y,x,b,_,w,k,S,C,E,T,M,P,A,I,L,D,O,R,z,F,B,N,j,V,W,U,H,X,G,Y,q,K,$,Z,J,Q,ee,te,ne,ie,re,oe=n(7424).default,ae=n(8416).default,se=n(9400).default,le=n(861).default;var ce=n(2791),ue=n(8789);function de(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var he,pe=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}(ce),fe=de(ce),me=de(ue);function ge(e,t){return e[t]}function ve(e,t){return t.split(".").reduce((function(e,t){var n=t.match(/[^\]\\[.]+/g);if(n&&n.length>1)for(var i=0;i<n.length;i++)return e[n[i]][n[i+1]];return e[t]}),e)}function ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return[].concat(le(e.slice(0,n)),[t],le(e.slice(n)))}function xe(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).slice(),i=ge(e,t);return i?n.splice(n.findIndex((function(e){return ge(e,t)===i})),1):n.splice(n.findIndex((function(t){return t===e})),1),n}function be(e){return e.map((function(e,t){var n=Object.assign(Object.assign({},e),{sortable:e.sortable||!!e.sortFunction||void 0});return e.id||(n.id=t+1),n}))}function _e(e,t){return Math.ceil(e/t)}function we(e,t){return Math.min(e,t)}!function(e){e.ASC="asc",e.DESC="desc"}(he||(he={}));var ke=function(){return null};function Se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={},i=le(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]);return t.length&&t.forEach((function(t){if(!t.when||"function"!=typeof t.when)throw new Error('"when" must be defined in the conditional style object and must be function');t.when(e)&&(n=t.style||{},t.classNames&&(i=[].concat(le(i),le(t.classNames))),"function"==typeof t.style&&(n=t.style(e)||{}))})),{style:n,classNames:i.join(" ")}}function Ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",i=ge(e,n);return i?t.some((function(e){return ge(e,n)===i})):t.some((function(t){return t===e}))}function Ee(e,t){return t?e.findIndex((function(e){return Te(e.id,t)})):-1}function Te(e,t){return e==t}function Me(e,t){var n=!e.toggleOnSelectedRowsChange;switch(t.type){case"SELECT_ALL_ROWS":var i=t.keyField,r=t.rows,o=t.rowCount,a=t.mergeSelections,s=!e.allSelected,l=!e.toggleOnSelectedRowsChange;if(a){var c=s?[].concat(le(e.selectedRows),le(r.filter((function(t){return!Ce(t,e.selectedRows,i)})))):e.selectedRows.filter((function(e){return!Ce(e,r,i)}));return Object.assign(Object.assign({},e),{allSelected:s,selectedCount:c.length,selectedRows:c,toggleOnSelectedRowsChange:l})}return Object.assign(Object.assign({},e),{allSelected:s,selectedCount:s?o:0,selectedRows:s?r:[],toggleOnSelectedRowsChange:l});case"SELECT_SINGLE_ROW":var u=t.keyField,d=t.row,h=t.isSelected,p=t.rowCount;return t.singleSelect?h?Object.assign(Object.assign({},e),{selectedCount:0,allSelected:!1,selectedRows:[],toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},e),{selectedCount:1,allSelected:!1,selectedRows:[d],toggleOnSelectedRowsChange:n}):h?Object.assign(Object.assign({},e),{selectedCount:e.selectedRows.length>0?e.selectedRows.length-1:0,allSelected:!1,selectedRows:xe(e.selectedRows,d,u),toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},e),{selectedCount:e.selectedRows.length+1,allSelected:e.selectedRows.length+1===p,selectedRows:ye(e.selectedRows,d),toggleOnSelectedRowsChange:n});case"SELECT_MULTIPLE_ROWS":var f=t.keyField,m=t.selectedRows,g=t.totalRows;if(t.mergeSelections){var v=[].concat(le(e.selectedRows),le(m.filter((function(t){return!Ce(t,e.selectedRows,f)}))));return Object.assign(Object.assign({},e),{selectedCount:v.length,allSelected:!1,selectedRows:v,toggleOnSelectedRowsChange:n})}return Object.assign(Object.assign({},e),{selectedCount:m.length,allSelected:m.length===g,selectedRows:m,toggleOnSelectedRowsChange:n});case"CLEAR_SELECTED_ROWS":var y=t.selectedRowsFlag;return Object.assign(Object.assign({},e),{allSelected:!1,selectedCount:0,selectedRows:[],selectedRowsFlag:y});case"SORT_CHANGE":var x=t.sortDirection,b=t.selectedColumn,_=t.clearSelectedOnSort;return Object.assign(Object.assign(Object.assign({},e),{selectedColumn:b,sortDirection:x,currentPage:1}),_&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n});case"CHANGE_PAGE":var w=t.page,k=t.paginationServer,S=t.visibleOnly,C=t.persistSelectedOnPageChange,E=k&&C,T=k&&!C||S;return Object.assign(Object.assign(Object.assign(Object.assign({},e),{currentPage:w}),E&&{allSelected:!1}),T&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n});case"CHANGE_ROWS_PER_PAGE":var M=t.rowsPerPage,P=t.page;return Object.assign(Object.assign({},e),{currentPage:P,rowsPerPage:M})}}var Pe=ue.css(i||(i=se(["\n\tpointer-events: none;\n\topacity: 0.4;\n"]))),Ae=me.default.div(r||(r=se(["\n\tposition: relative;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 100%;\n\theight: 100%;\n\tmax-width: 100%;\n\t",";\n\t",";\n"])),(function(e){return e.disabled&&Pe}),(function(e){return e.theme.table.style})),Ie=ue.css(o||(o=se(["\n\tposition: sticky;\n\tposition: -webkit-sticky; /* Safari */\n\ttop: 0;\n\tz-index: 1;\n"]))),Le=me.default.div(a||(a=se(["\n\tdisplay: flex;\n\twidth: 100%;\n\t",";\n\t",";\n"])),(function(e){return e.fixedHeader&&Ie}),(function(e){return e.theme.head.style})),De=me.default.div(s||(s=se(["\n\tdisplay: flex;\n\talign-items: stretch;\n\twidth: 100%;\n\t",";\n\t",";\n"])),(function(e){return e.theme.headRow.style}),(function(e){var t=e.dense,n=e.theme;return t&&n.headRow.denseStyle})),Oe=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return ue.css(l||(l=se(["\n\t\t@media screen and (max-width: ","px) {\n\t\t\t","\n\t\t}\n\t"])),599,ue.css.apply(ue,[e].concat(n)))},Re=me.default.div(h||(h=se(["\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n\tbox-sizing: border-box;\n\tline-height: normal;\n\t",";\n\t",";\n"])),(function(e){return e.theme[e.headCell?"headCells":"cells"].style}),(function(e){return e.noPadding&&"padding: 0"})),ze=me.default(Re)(p||(p=se(["\n\tflex-grow: ",";\n\tflex-shrink: 0;\n\tflex-basis: 0;\n\tmax-width: ",";\n\tmin-width: ",";\n\t",";\n\t",";\n\t",";\n\t",";\n\n\t/* handle hiding cells */\n\t",";\n\t",";\n\t",";\n\t",";\n"])),(function(e){var t=e.button,n=e.grow;return 0===n||t?0:n||1}),(function(e){return e.maxWidth||"100%"}),(function(e){return e.minWidth||"100px"}),(function(e){var t=e.width;return t&&ue.css(f||(f=se(["\n\t\t\tmin-width: ",";\n\t\t\tmax-width: ",";\n\t\t"])),t,t)}),(function(e){return e.right&&"justify-content: flex-end"}),(function(e){var t=e.button;return(e.center||t)&&"justify-content: center"}),(function(e){var t=e.compact,n=e.button;return(t||n)&&"padding: 0"}),(function(e){var t=e.hide;return t&&"sm"===t&&Oe(m||(m=se(["\n    display: none;\n  "])))}),(function(e){var t=e.hide;return t&&"md"===t&&function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return ue.css(c||(c=se(["\n\t\t@media screen and (max-width: ","px) {\n\t\t\t","\n\t\t}\n\t"])),959,ue.css.apply(ue,[e].concat(n)))}(g||(g=se(["\n    display: none;\n  "])))}),(function(e){var t=e.hide;return t&&"lg"===t&&function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return ue.css(u||(u=se(["\n\t\t@media screen and (max-width: ","px) {\n\t\t\t","\n\t\t}\n\t"])),1280,ue.css.apply(ue,[e].concat(n)))}(v||(v=se(["\n    display: none;\n  "])))}),(function(e){var t=e.hide;return t&&Number.isInteger(t)&&function(e){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return ue.css(d||(d=se(["\n\t\t\t\t@media screen and (max-width: ","px) {\n\t\t\t\t\t","\n\t\t\t\t}\n\t\t\t"])),e,ue.css.apply(ue,[t].concat(i)))}}(t)(y||(y=se(["\n    display: none;\n  "])))})),Fe=ue.css(x||(x=se(["\n\tdiv:first-child {\n\t\twhite-space: ",";\n\t\toverflow: ",";\n\t\ttext-overflow: ellipsis;\n\t}\n"])),(function(e){return e.wrapCell?"normal":"nowrap"}),(function(e){return e.allowOverflow?"visible":"hidden"})),Be=me.default(ze).attrs((function(e){return{style:e.style}}))(b||(b=se(["\n\t",";\n\t",";\n\t",";\n"])),(function(e){return!e.renderAsCell&&Fe}),(function(e){var t=e.theme;return e.isDragging&&t.cells.draggingStyle}),(function(e){return e.cellStyle})),Ne=pe.memo((function(e){var t=e.id,n=e.column,i=e.row,r=e.rowIndex,o=e.dataTag,a=e.isDragging,s=e.onDragStart,l=e.onDragOver,c=e.onDragEnd,u=e.onDragEnter,d=e.onDragLeave,h=Se(i,n.conditionalCellStyles,["rdt_TableCell"]),p=h.style,f=h.classNames;return pe.createElement(Be,{id:t,"data-column-id":n.id,role:"cell",className:f,"data-tag":o,cellStyle:n.style,renderAsCell:!!n.cell,allowOverflow:n.allowOverflow,button:n.button,center:n.center,compact:n.compact,grow:n.grow,hide:n.hide,maxWidth:n.maxWidth,minWidth:n.minWidth,right:n.right,width:n.width,wrapCell:n.wrap,style:p,isDragging:a,onDragStart:s,onDragOver:l,onDragEnd:c,onDragEnter:u,onDragLeave:d},!n.cell&&pe.createElement("div",{"data-tag":o},function(e,t,n,i){if(!t)return null;if("string"!=typeof t&&"function"!=typeof t)throw new Error("selector must be a . delimited string eg (my.property) or function (e.g. row => row.field");return n&&"function"==typeof n?n(e,i):t&&"function"==typeof t?t(e,i):ve(e,t)}(i,n.selector,n.format,r)),n.cell&&n.cell(i,r,n,t))})),je=pe.memo((function(e){var t=e.name,n=e.component,i=void 0===n?"input":n,r=e.componentOptions,o=void 0===r?{style:{}}:r,a=e.indeterminate,s=void 0!==a&&a,l=e.checked,c=void 0!==l&&l,u=e.disabled,d=void 0!==u&&u,h=e.onClick,p=void 0===h?ke:h,f=i,m="input"!==f?o.style:function(e){return Object.assign(Object.assign({fontSize:"18px"},!e&&{cursor:"pointer"}),{padding:0,marginTop:"1px",verticalAlign:"middle",position:"relative"})}(d),g=pe.useMemo((function(){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r;return Object.keys(e).map((function(t){return e[t]})).forEach((function(t,i){var o=e;"function"==typeof t&&(r=Object.assign(Object.assign({},o),ae({},Object.keys(e)[i],t.apply(void 0,n))))})),r||e}(o,s)}),[o,s]);return pe.createElement(f,Object.assign({type:"checkbox",ref:function(e){e&&(e.indeterminate=s)},style:m,onClick:d?ke:p,name:t,"aria-label":t,checked:c,disabled:d},g,{onChange:ke}))})),Ve=me.default(Re)(_||(_=se(["\n\tflex: 0 0 48px;\n\tmin-width: 48px;\n\tjustify-content: center;\n\talign-items: center;\n\tuser-select: none;\n\twhite-space: nowrap;\n"])));function We(e){var t=e.name,n=e.keyField,i=e.row,r=e.rowCount,o=e.selected,a=e.selectableRowsComponent,s=e.selectableRowsComponentProps,l=e.selectableRowsSingle,c=e.selectableRowDisabled,u=e.onSelectedRow,d=!(!c||!c(i));return pe.createElement(Ve,{onClick:function(e){return e.stopPropagation()},className:"rdt_TableCell",noPadding:!0},pe.createElement(je,{name:t,component:a,componentOptions:s,checked:o,"aria-checked":o,onClick:function(){u({type:"SELECT_SINGLE_ROW",row:i,isSelected:o,keyField:n,rowCount:r,singleSelect:l})},disabled:d}))}var Ue=me.default.button(w||(w=se(["\n\tdisplay: inline-flex;\n\talign-items: center;\n\tuser-select: none;\n\twhite-space: nowrap;\n\tborder: none;\n\tbackground-color: transparent;\n\t",";\n"])),(function(e){return e.theme.expanderButton.style}));function He(e){var t=e.disabled,n=void 0!==t&&t,i=e.expanded,r=void 0!==i&&i,o=e.expandableIcon,a=e.id,s=e.row,l=e.onToggled,c=r?o.expanded:o.collapsed;return pe.createElement(Ue,{"aria-disabled":n,onClick:function(){return l&&l(s)},"data-testid":"expander-button-".concat(a),disabled:n,"aria-label":r?"Collapse Row":"Expand Row",role:"button",type:"button"},c)}var Xe=me.default(Re)(k||(k=se(["\n\twhite-space: nowrap;\n\tfont-weight: 400;\n\tmin-width: 48px;\n\t",";\n"])),(function(e){return e.theme.expanderCell.style}));function Ge(e){var t=e.row,n=e.expanded,i=void 0!==n&&n,r=e.expandableIcon,o=e.id,a=e.onToggled,s=e.disabled,l=void 0!==s&&s;return pe.createElement(Xe,{onClick:function(e){return e.stopPropagation()},noPadding:!0},pe.createElement(He,{id:o,row:t,expanded:i,expandableIcon:r,disabled:l,onToggled:a}))}var Ye,qe,Ke,$e=me.default.div(S||(S=se(["\n\twidth: 100%;\n\tbox-sizing: border-box;\n\t",";\n\t",";\n"])),(function(e){return e.theme.expanderRow.style}),(function(e){return e.extendedRowStyle})),Ze=pe.memo((function(e){var t=e.data,n=e.ExpanderComponent,i=e.expanderComponentProps,r=e.extendedRowStyle,o=e.extendedClassNames,a=["rdt_ExpanderRow"].concat(le(o.split(" ").filter((function(e){return"rdt_TableRow"!==e})))).join(" ");return pe.createElement($e,{className:a,extendedRowStyle:r},pe.createElement(n,Object.assign({data:t},i)))}));t.Nm=void 0,(Ye=t.Nm||(t.Nm={})).LTR="ltr",Ye.RTL="rtl",Ye.AUTO="auto",t.v2=void 0,(qe=t.v2||(t.v2={})).LEFT="left",qe.RIGHT="right",qe.CENTER="center",t.pU=void 0,(Ke=t.pU||(t.pU={})).SM="sm",Ke.MD="md",Ke.LG="lg";var Je=ue.css(C||(C=se(["\n\t&:hover {\n\t\t",";\n\t}\n"])),(function(e){var t=e.highlightOnHover,n=e.theme;return t&&n.rows.highlightOnHoverStyle})),Qe=ue.css(E||(E=se(["\n\t&:hover {\n\t\tcursor: pointer;\n\t}\n"]))),et=me.default.div.attrs((function(e){return{style:e.style}}))(T||(T=se(["\n\tdisplay: flex;\n\talign-items: stretch;\n\talign-content: stretch;\n\twidth: 100%;\n\tbox-sizing: border-box;\n\t",";\n\t",";\n\t",";\n\t",";\n\t",";\n\t",";\n"])),(function(e){return e.theme.rows.style}),(function(e){var t=e.dense,n=e.theme;return t&&n.rows.denseStyle}),(function(e){var t=e.striped,n=e.theme;return t&&n.rows.stripedStyle}),(function(e){return e.highlightOnHover&&Je}),(function(e){return e.pointerOnHover&&Qe}),(function(e){var t=e.selected,n=e.theme;return t&&n.rows.selectedHighlightStyle}));function tt(e){var t=e.columns,n=void 0===t?[]:t,i=e.conditionalRowStyles,r=void 0===i?[]:i,o=e.defaultExpanded,a=void 0!==o&&o,s=e.defaultExpanderDisabled,l=void 0!==s&&s,c=e.dense,u=void 0!==c&&c,d=e.expandableIcon,h=e.expandableRows,p=void 0!==h&&h,f=e.expandableRowsComponent,m=e.expandableRowsComponentProps,g=e.expandableRowsHideExpander,v=e.expandOnRowClicked,y=void 0!==v&&v,x=e.expandOnRowDoubleClicked,b=void 0!==x&&x,_=e.highlightOnHover,w=void 0!==_&&_,k=e.id,S=e.expandableInheritConditionalStyles,C=e.keyField,E=e.onRowClicked,T=void 0===E?ke:E,M=e.onRowDoubleClicked,P=void 0===M?ke:M,A=e.onRowMouseEnter,I=void 0===A?ke:A,L=e.onRowMouseLeave,D=void 0===L?ke:L,O=e.onRowExpandToggled,R=void 0===O?ke:O,z=e.onSelectedRow,F=void 0===z?ke:z,B=e.pointerOnHover,N=void 0!==B&&B,j=e.row,V=e.rowCount,W=e.rowIndex,U=e.selectableRowDisabled,H=void 0===U?null:U,X=e.selectableRows,G=void 0!==X&&X,Y=e.selectableRowsComponent,q=e.selectableRowsComponentProps,K=e.selectableRowsHighlight,$=void 0!==K&&K,Z=e.selectableRowsSingle,J=void 0!==Z&&Z,Q=e.selected,ee=e.striped,te=void 0!==ee&&ee,ne=e.draggingColumnId,ie=e.onDragStart,re=e.onDragOver,ae=e.onDragEnd,se=e.onDragEnter,le=e.onDragLeave,ce=pe.useState(a),ue=oe(ce,2),de=ue[0],he=ue[1];pe.useEffect((function(){he(a)}),[a]);var fe=pe.useCallback((function(){he(!de),R(!de,j)}),[de,R,j]),me=N||p&&(y||b),ve=pe.useCallback((function(e){e.target&&"allowRowEvents"===e.target.getAttribute("data-tag")&&(T(j,e),!l&&p&&y&&fe())}),[l,y,p,fe,T,j]),ye=pe.useCallback((function(e){e.target&&"allowRowEvents"===e.target.getAttribute("data-tag")&&(P(j,e),!l&&p&&b&&fe())}),[l,b,p,fe,P,j]),xe=pe.useCallback((function(e){I(j,e)}),[I,j]),be=pe.useCallback((function(e){D(j,e)}),[D,j]),_e=ge(j,C),we=Se(j,r,["rdt_TableRow"]),Ce=we.style,Ee=we.classNames,Me=$&&Q,Pe=S?Ce:{},Ae=te&&W%2==0;return pe.createElement(pe.Fragment,null,pe.createElement(et,{id:"row-".concat(k),role:"row",striped:Ae,highlightOnHover:w,pointerOnHover:!l&&me,dense:u,onClick:ve,onDoubleClick:ye,onMouseEnter:xe,onMouseLeave:be,className:Ee,selected:Me,style:Ce},G&&pe.createElement(We,{name:"select-row-".concat(_e),keyField:C,row:j,rowCount:V,selected:Q,selectableRowsComponent:Y,selectableRowsComponentProps:q,selectableRowDisabled:H,selectableRowsSingle:J,onSelectedRow:F}),p&&!g&&pe.createElement(Ge,{id:_e,expandableIcon:d,expanded:de,row:j,onToggled:fe,disabled:l}),n.map((function(e){return e.omit?null:pe.createElement(Ne,{id:"cell-".concat(e.id,"-").concat(_e),key:"cell-".concat(e.id,"-").concat(_e),dataTag:e.ignoreRowClick||e.button?null:"allowRowEvents",column:e,row:j,rowIndex:W,isDragging:Te(ne,e.id),onDragStart:ie,onDragOver:re,onDragEnd:ae,onDragEnter:se,onDragLeave:le})}))),p&&de&&pe.createElement(Ze,{key:"expander-".concat(_e),data:j,extendedRowStyle:Pe,extendedClassNames:Ee,ExpanderComponent:f,expanderComponentProps:m}))}var nt=me.default.span(M||(M=se(["\n\tpadding: 2px;\n\tcolor: inherit;\n\tflex-grow: 0;\n\tflex-shrink: 0;\n\t",";\n\t",";\n"])),(function(e){return e.sortActive?"opacity: 1":"opacity: 0"}),(function(e){return"desc"===e.sortDirection&&"transform: rotate(180deg)"})),it=function(e){var t=e.sortActive,n=e.sortDirection;return fe.default.createElement(nt,{sortActive:t,sortDirection:n},"\u25b2")},rt=me.default(ze)(P||(P=se(["\n\t",";\n\t",";\n"])),(function(e){return e.button&&"text-align: center"}),(function(e){var t=e.theme;return e.isDragging&&t.headCells.draggingStyle})),ot=ue.css(A||(A=se(["\n\tcursor: pointer;\n\tspan.__rdt_custom_sort_icon__ {\n\t\ti,\n\t\tsvg {\n\t\t\ttransform: 'translate3d(0, 0, 0)';\n\t\t\t",";\n\t\t\tcolor: inherit;\n\t\t\tfont-size: 18px;\n\t\t\theight: 18px;\n\t\t\twidth: 18px;\n\t\t\tbackface-visibility: hidden;\n\t\t\ttransform-style: preserve-3d;\n\t\t\ttransition-duration: 95ms;\n\t\t\ttransition-property: transform;\n\t\t}\n\n\t\t&.asc i,\n\t\t&.asc svg {\n\t\t\ttransform: rotate(180deg);\n\t\t}\n\t}\n\n\t",";\n"])),(function(e){return e.sortActive?"opacity: 1":"opacity: 0"}),(function(e){return!e.sortActive&&ue.css(I||(I=se(["\n\t\t\t&:hover,\n\t\t\t&:focus {\n\t\t\t\topacity: 0.7;\n\n\t\t\t\tspan,\n\t\t\t\tspan.__rdt_custom_sort_icon__ * {\n\t\t\t\t\topacity: 0.7;\n\t\t\t\t}\n\t\t\t}\n\t\t"])))})),at=me.default.div(L||(L=se(["\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: inherit;\n\theight: 100%;\n\twidth: 100%;\n\toutline: none;\n\tuser-select: none;\n\toverflow: hidden;\n\t",";\n"])),(function(e){return!e.disabled&&ot})),st=me.default.div(D||(D=se(["\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n"]))),lt=pe.memo((function(e){var t=e.column,n=e.disabled,i=e.draggingColumnId,r=e.selectedColumn,o=void 0===r?{}:r,a=e.sortDirection,s=e.sortIcon,l=e.sortServer,c=e.pagination,u=e.paginationServer,d=e.persistSelectedOnSort,h=e.selectableRowsVisibleOnly,p=e.onSort,f=e.onDragStart,m=e.onDragOver,g=e.onDragEnd,v=e.onDragEnter,y=e.onDragLeave;pe.useEffect((function(){"string"==typeof t.selector&&console.error("Warning: ".concat(t.selector," is a string based column selector which has been deprecated as of v7 and will be removed in v8. Instead, use a selector function e.g. row => row[field]..."))}),[]);var x=pe.useState(!1),b=oe(x,2),_=b[0],w=b[1],k=pe.useRef(null);if(pe.useEffect((function(){k.current&&w(k.current.scrollWidth>k.current.clientWidth)}),[_]),t.omit)return null;var S=function(){if(t.sortable||t.selector){var e=a;Te(o.id,t.id)&&(e=a===he.ASC?he.DESC:he.ASC),p({type:"SORT_CHANGE",sortDirection:e,selectedColumn:t,clearSelectedOnSort:c&&u&&!d||l||h})}},C=function(e){return pe.createElement(it,{sortActive:e,sortDirection:a})},E=function(){return pe.createElement("span",{className:[a,"__rdt_custom_sort_icon__"].join(" ")},s)},T=!(!t.sortable||!Te(o.id,t.id)),M=!t.sortable||n,P=t.sortable&&!s&&!t.right,A=t.sortable&&!s&&t.right,I=t.sortable&&s&&!t.right,L=t.sortable&&s&&t.right;return pe.createElement(rt,{"data-column-id":t.id,className:"rdt_TableCol",headCell:!0,allowOverflow:t.allowOverflow,button:t.button,compact:t.compact,grow:t.grow,hide:t.hide,maxWidth:t.maxWidth,minWidth:t.minWidth,right:t.right,center:t.center,width:t.width,draggable:t.reorder,isDragging:Te(t.id,i),onDragStart:f,onDragOver:m,onDragEnd:g,onDragEnter:v,onDragLeave:y},t.name&&pe.createElement(at,{"data-column-id":t.id,"data-sort-id":t.id,role:"columnheader",tabIndex:0,className:"rdt_TableCol_Sortable",onClick:M?void 0:S,onKeyPress:M?void 0:function(e){"Enter"===e.key&&S()},sortActive:!M&&T,disabled:M},!M&&L&&E(),!M&&A&&C(T),"string"==typeof t.name?pe.createElement(st,{title:_?t.name:void 0,ref:k,"data-column-id":t.id},t.name):t.name,!M&&I&&E(),!M&&P&&C(T)))})),ct=me.default(Re)(O||(O=se(["\n\tflex: 0 0 48px;\n\tjustify-content: center;\n\talign-items: center;\n\tuser-select: none;\n\twhite-space: nowrap;\n\tfont-size: unset;\n"])));function ut(e){var t=e.headCell,n=void 0===t||t,i=e.rowData,r=e.keyField,o=e.allSelected,a=e.mergeSelections,s=e.selectedRows,l=e.selectableRowsComponent,c=e.selectableRowsComponentProps,u=e.selectableRowDisabled,d=e.onSelectAllRows,h=s.length>0&&!o,p=u?i.filter((function(e){return!u(e)})):i,f=0===p.length,m=Math.min(i.length,p.length);return pe.createElement(ct,{className:"rdt_TableCol",headCell:n,noPadding:!0},pe.createElement(je,{name:"select-all-rows",component:l,componentOptions:c,onClick:function(){d({type:"SELECT_ALL_ROWS",rows:p,rowCount:m,mergeSelections:a,keyField:r})},checked:o,indeterminate:h,disabled:f}))}function dt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.Nm.AUTO,n="object"==typeof window,i=pe.useState(!1),r=oe(i,2),o=r[0],a=r[1];return pe.useEffect((function(){if(n)if("auto"!==e)a("rtl"===e);else{var t=!(!window.document||!window.document.createElement),i=document.getElementsByTagName("BODY")[0],r=document.getElementsByTagName("HTML")[0],o="rtl"===i.dir||"rtl"===r.dir;a(t&&o)}}),[e,n]),o}var ht=me.default.div(R||(R=se(["\n\tdisplay: flex;\n\talign-items: center;\n\tflex: 1 0 auto;\n\theight: 100%;\n\tcolor: ",";\n\tfont-size: ",";\n\tfont-weight: 400;\n"])),(function(e){return e.theme.contextMenu.fontColor}),(function(e){return e.theme.contextMenu.fontSize})),pt=me.default.div(z||(z=se(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: flex-end;\n\tflex-wrap: wrap;\n"]))),ft=me.default.div(F||(F=se(["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tbox-sizing: inherit;\n\tz-index: 1;\n\talign-items: center;\n\tjustify-content: space-between;\n\tdisplay: flex;\n\t",";\n\t",";\n\t",";\n"])),(function(e){return e.rtl&&"direction: rtl"}),(function(e){return e.theme.contextMenu.style}),(function(e){var t=e.theme;return e.visible&&t.contextMenu.activeStyle}));function mt(e){var t=e.contextMessage,n=e.contextActions,i=e.contextComponent,r=e.selectedCount,o=dt(e.direction),a=r>0;return i?pe.createElement(ft,{visible:a},pe.cloneElement(i,{selectedCount:r})):pe.createElement(ft,{visible:a,rtl:o},pe.createElement(ht,null,function(e,t,n){if(0===t)return null;var i=1===t?e.singular:e.plural;return n?"".concat(t," ").concat(e.message||""," ").concat(i):"".concat(t," ").concat(i," ").concat(e.message||"")}(t,r,o)),pe.createElement(pt,null,n))}var gt=me.default.div(B||(B=se(["\n\tposition: relative;\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\tdisplay: flex;\n\tflex: 1 1 auto;\n\talign-items: center;\n\tjustify-content: space-between;\n\twidth: 100%;\n\tflex-wrap: wrap;\n\t","\n"])),(function(e){return e.theme.header.style})),vt=me.default.div(N||(N=se(["\n\tflex: 1 0 auto;\n\tcolor: ",";\n\tfont-size: ",";\n\tfont-weight: 400;\n"])),(function(e){return e.theme.header.fontColor}),(function(e){return e.theme.header.fontSize})),yt=me.default.div(j||(j=se(["\n\tflex: 1 0 auto;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: flex-end;\n\n\t> * {\n\t\tmargin-left: 5px;\n\t}\n"]))),xt=function(e){var t=e.title,n=e.actions,i=void 0===n?null:n,r=e.contextMessage,o=e.contextActions,a=e.contextComponent,s=e.selectedCount,l=e.direction,c=e.showMenu,u=void 0===c||c;return pe.createElement(gt,{className:"rdt_TableHeader",role:"heading","aria-level":1},pe.createElement(vt,null,t),i&&pe.createElement(yt,null,i),u&&pe.createElement(mt,{contextMessage:r,contextActions:o,contextComponent:a,direction:l,selectedCount:s}))};function bt(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}var _t={left:"flex-start",right:"flex-end",center:"center"},wt=me.default.header(V||(V=se(["\n\tposition: relative;\n\tdisplay: flex;\n\tflex: 1 1 auto;\n\tbox-sizing: border-box;\n\talign-items: center;\n\tpadding: 4px 16px 4px 24px;\n\twidth: 100%;\n\tjustify-content: ",";\n\tflex-wrap: ",";\n\t","\n"])),(function(e){var t=e.align;return _t[t]}),(function(e){return e.wrapContent?"wrap":"nowrap"}),(function(e){return e.theme.subHeader.style})),kt=function(e){var t=e.align,n=void 0===t?"right":t,i=e.wrapContent,r=void 0===i||i,o=bt(e,["align","wrapContent"]);return pe.createElement(wt,Object.assign({align:n,wrapContent:r},o))},St=me.default.div(W||(W=se(["\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),Ct=me.default.div(U||(U=se(["\n\tposition: relative;\n\twidth: 100%;\n\tborder-radius: inherit;\n\t",";\n\n\t",";\n\n\t",";\n"])),(function(e){var t=e.responsive,n=e.fixedHeader;return t&&ue.css(H||(H=se(["\n\t\t\toverflow-x: auto;\n\n\t\t\t// hidden prevents vertical scrolling in firefox when fixedHeader is disabled\n\t\t\toverflow-y: ",";\n\t\t\tmin-height: 0;\n\t\t"])),n?"auto":"hidden")}),(function(e){var t=e.fixedHeader,n=void 0!==t&&t,i=e.fixedHeaderScrollHeight,r=void 0===i?"100vh":i;return n&&ue.css(X||(X=se(["\n\t\t\tmax-height: ",";\n\t\t\t-webkit-overflow-scrolling: touch;\n\t\t"])),r)}),(function(e){return e.theme.responsiveWrapper.style})),Et=me.default.div(G||(G=se(["\n\tposition: relative;\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n\t",";\n"])),(function(e){return e.theme.progress.style})),Tt=me.default.div(Y||(Y=se(["\n\tposition: relative;\n\twidth: 100%;\n\t",";\n"])),(function(e){return e.theme.tableWrapper.style})),Mt=me.default(Re)(q||(q=se(["\n\twhite-space: nowrap;\n\t",";\n"])),(function(e){return e.theme.expanderCell.style})),Pt=me.default.div(K||(K=se(["\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n\t",";\n"])),(function(e){return e.theme.noData.style})),At=function(){return fe.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},fe.default.createElement("path",{d:"M7 10l5 5 5-5z"}),fe.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))},It=me.default.select($||($=se(["\n\tcursor: pointer;\n\theight: 24px;\n\tmax-width: 100%;\n\tuser-select: none;\n\tpadding-left: 8px;\n\tpadding-right: 24px;\n\tbox-sizing: content-box;\n\tfont-size: inherit;\n\tcolor: inherit;\n\tborder: none;\n\tbackground-color: transparent;\n\tappearance: none;\n\tdirection: ltr;\n\tflex-shrink: 0;\n\n\t&::-ms-expand {\n\t\tdisplay: none;\n\t}\n\n\t&:disabled::-ms-expand {\n\t\tbackground: #f60;\n\t}\n\n\toption {\n\t\tcolor: initial;\n\t}\n"]))),Lt=me.default.div(Z||(Z=se(["\n\tposition: relative;\n\tflex-shrink: 0;\n\tfont-size: inherit;\n\tcolor: inherit;\n\tmargin-top: 1px;\n\n\tsvg {\n\t\ttop: 0;\n\t\tright: 0;\n\t\tcolor: inherit;\n\t\tposition: absolute;\n\t\tfill: currentColor;\n\t\twidth: 24px;\n\t\theight: 24px;\n\t\tdisplay: inline-block;\n\t\tuser-select: none;\n\t\tpointer-events: none;\n\t}\n"]))),Dt=function(e){var t=e.defaultValue,n=e.onChange,i=bt(e,["defaultValue","onChange"]);return pe.createElement(Lt,null,pe.createElement(It,Object.assign({onChange:n,defaultValue:t},i)),pe.createElement(At,null))},Ot={columns:[],data:[],title:"",keyField:"id",selectableRows:!1,selectableRowsHighlight:!1,selectableRowsNoSelectAll:!1,selectableRowSelected:null,selectableRowDisabled:null,selectableRowsComponent:"input",selectableRowsComponentProps:{},selectableRowsVisibleOnly:!1,selectableRowsSingle:!1,clearSelectedRows:!1,expandableRows:!1,expandableRowDisabled:null,expandableRowExpanded:null,expandOnRowClicked:!1,expandableRowsHideExpander:!1,expandOnRowDoubleClicked:!1,expandableInheritConditionalStyles:!1,expandableRowsComponent:function(){return fe.default.createElement("div",null,"To add an expander pass in a component instance via ",fe.default.createElement("strong",null,"expandableRowsComponent"),". You can then access props.data from this component.")},expandableIcon:{collapsed:fe.default.createElement((function(){return fe.default.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},fe.default.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),fe.default.createElement("path",{d:"M0-.25h24v24H0z",fill:"none"}))}),null),expanded:fe.default.createElement((function(){return fe.default.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},fe.default.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}),fe.default.createElement("path",{d:"M0-.75h24v24H0z",fill:"none"}))}),null)},expandableRowsComponentProps:{},progressPending:!1,progressComponent:fe.default.createElement("div",{style:{fontSize:"24px",fontWeight:700,padding:"24px"}},"Loading..."),persistTableHead:!1,sortIcon:null,sortFunction:null,sortServer:!1,striped:!1,highlightOnHover:!1,pointerOnHover:!1,noContextMenu:!1,contextMessage:{singular:"item",plural:"items",message:"selected"},actions:null,contextActions:null,contextComponent:null,defaultSortFieldId:null,defaultSortAsc:!0,responsive:!0,noDataComponent:fe.default.createElement("div",{style:{padding:"24px"}},"There are no records to display"),disabled:!1,noTableHead:!1,noHeader:!1,subHeader:!1,subHeaderAlign:t.v2.RIGHT,subHeaderWrap:!0,subHeaderComponent:null,fixedHeader:!1,fixedHeaderScrollHeight:"100vh",pagination:!1,paginationServer:!1,paginationServerOptions:{persistSelectedOnSort:!1,persistSelectedOnPageChange:!1},paginationDefaultPage:1,paginationResetDefaultPage:!1,paginationTotalRows:0,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],paginationComponent:null,paginationComponentOptions:{},paginationIconFirstPage:fe.default.createElement((function(){return fe.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},fe.default.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),fe.default.createElement("path",{fill:"none",d:"M24 24H0V0h24v24z"}))}),null),paginationIconLastPage:fe.default.createElement((function(){return fe.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},fe.default.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),fe.default.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))}),null),paginationIconNext:fe.default.createElement((function(){return fe.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},fe.default.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),fe.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),null),paginationIconPrevious:fe.default.createElement((function(){return fe.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},fe.default.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),fe.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),null),dense:!1,conditionalRowStyles:[],theme:"default",customStyles:{},direction:t.Nm.AUTO,onChangePage:ke,onChangeRowsPerPage:ke,onRowClicked:ke,onRowDoubleClicked:ke,onRowMouseEnter:ke,onRowMouseLeave:ke,onRowExpandToggled:ke,onSelectedRowsChange:ke,onSort:ke,onColumnOrderChange:ke},Rt={rowsPerPageText:"Rows per page:",rangeSeparatorText:"of",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"All"},zt=me.default.nav(J||(J=se(["\n\tdisplay: flex;\n\tflex: 1 1 auto;\n\tjustify-content: flex-end;\n\talign-items: center;\n\tbox-sizing: border-box;\n\tpadding-right: 8px;\n\tpadding-left: 8px;\n\twidth: 100%;\n\t",";\n"])),(function(e){return e.theme.pagination.style})),Ft=me.default.button(Q||(Q=se(["\n\tposition: relative;\n\tdisplay: block;\n\tuser-select: none;\n\tborder: none;\n\t",";\n\t",";\n"])),(function(e){return e.theme.pagination.pageButtonsStyle}),(function(e){return e.isRTL&&"transform: scale(-1, -1)"})),Bt=me.default.div(ee||(ee=se(["\n\tdisplay: flex;\n\talign-items: center;\n\tborder-radius: 4px;\n\twhite-space: nowrap;\n\t",";\n"])),Oe(te||(te=se(["\n    width: 100%;\n    justify-content: space-around;\n  "])))),Nt=me.default.span(ne||(ne=se(["\n\tflex-shrink: 1;\n\tuser-select: none;\n"]))),jt=me.default(Nt)(ie||(ie=se(["\n\tmargin: 0 24px;\n"]))),Vt=me.default(Nt)(re||(re=se(["\n\tmargin: 0 4px;\n"]))),Wt=pe.memo((function(e){var t=e.rowsPerPage,n=e.rowCount,i=e.currentPage,r=e.direction,o=void 0===r?Ot.direction:r,a=e.paginationRowsPerPageOptions,s=void 0===a?Ot.paginationRowsPerPageOptions:a,l=e.paginationIconLastPage,c=void 0===l?Ot.paginationIconLastPage:l,u=e.paginationIconFirstPage,d=void 0===u?Ot.paginationIconFirstPage:u,h=e.paginationIconNext,p=void 0===h?Ot.paginationIconNext:h,f=e.paginationIconPrevious,m=void 0===f?Ot.paginationIconPrevious:f,g=e.paginationComponentOptions,v=void 0===g?Ot.paginationComponentOptions:g,y=e.onChangeRowsPerPage,x=void 0===y?Ot.onChangeRowsPerPage:y,b=e.onChangePage,_=void 0===b?Ot.onChangePage:b,w=function(){var e="object"==typeof window;function t(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}}var n=pe.useState(t),i=oe(n,2),r=i[0],o=i[1];return pe.useEffect((function(){if(!e)return function(){return null};function n(){o(t())}return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]),r}(),k=dt(o),S=w.width&&w.width>599,C=_e(n,t),E=i*t,T=E-t+1,M=1===i,P=i===C,A=Object.assign(Object.assign({},Rt),v),I=i===C?"".concat(T,"-").concat(n," ").concat(A.rangeSeparatorText," ").concat(n):"".concat(T,"-").concat(E," ").concat(A.rangeSeparatorText," ").concat(n),L=pe.useCallback((function(){return _(i-1)}),[i,_]),D=pe.useCallback((function(){return _(i+1)}),[i,_]),O=pe.useCallback((function(){return _(1)}),[_]),R=pe.useCallback((function(){return _(_e(n,t))}),[_,n,t]),z=pe.useCallback((function(e){return x(Number(e.target.value),i)}),[i,x]),F=s.map((function(e){return pe.createElement("option",{key:e,value:e},e)}));A.selectAllRowsItem&&F.push(pe.createElement("option",{key:-1,value:n},A.selectAllRowsItemText));var B=pe.createElement(Dt,{onChange:z,defaultValue:t,"aria-label":A.rowsPerPageText},F);return pe.createElement(zt,{className:"rdt_Pagination"},!A.noRowsPerPage&&S&&pe.createElement(pe.Fragment,null,pe.createElement(Vt,null,A.rowsPerPageText),B),S&&pe.createElement(jt,null,I),pe.createElement(Bt,null,pe.createElement(Ft,{id:"pagination-first-page",type:"button","aria-label":"First Page","aria-disabled":M,onClick:O,disabled:M,isRTL:k},d),pe.createElement(Ft,{id:"pagination-previous-page",type:"button","aria-label":"Previous Page","aria-disabled":M,onClick:L,disabled:M,isRTL:k},m),!S&&B,pe.createElement(Ft,{id:"pagination-next-page",type:"button","aria-label":"Next Page","aria-disabled":P,onClick:D,disabled:P,isRTL:k},p),pe.createElement(Ft,{id:"pagination-last-page",type:"button","aria-label":"Last Page","aria-disabled":P,onClick:R,disabled:P,isRTL:k},c)))})),Ut=function(e,t){var n=pe.useRef(!0);pe.useEffect((function(){n.current?n.current=!1:e()}),t)},Ht=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===Xt}(e)}(e)},Xt="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function Gt(e,t){return!1!==t.clone&&t.isMergeableObject(e)?$t((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function Yt(e,t,n){return e.concat(t).map((function(e){return Gt(e,n)}))}function qt(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function Kt(e,t){try{return t in e}catch(e){return!1}}function $t(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||Yt,n.isMergeableObject=n.isMergeableObject||Ht,n.cloneUnlessOtherwiseSpecified=Gt;var i=Array.isArray(t);return i===Array.isArray(e)?i?n.arrayMerge(e,t,n):function(e,t,n){var i={};return n.isMergeableObject(e)&&qt(e).forEach((function(t){i[t]=Gt(e[t],n)})),qt(t).forEach((function(r){(function(e,t){return Kt(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,r)||(Kt(e,r)&&n.isMergeableObject(t[r])?i[r]=function(e,t){if(!t.customMerge)return $t;var n=t.customMerge(e);return"function"==typeof n?n:$t}(r,n)(e[r],t[r],n):i[r]=Gt(t[r],n))})),i}(e,t,n):Gt(t,n)}$t.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return $t(e,n,t)}),{})};var Zt=$t,Jt={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},background:{default:"#FFFFFF"},context:{background:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},divider:{default:"rgba(0,0,0,.12)"},button:{default:"rgba(0,0,0,.54)",focus:"rgba(0,0,0,.12)",hover:"rgba(0,0,0,.12)",disabled:"rgba(0, 0, 0, .18)"},selected:{default:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},highlightOnHover:{default:"#EEEEEE",text:"rgba(0, 0, 0, 0.87)"},striped:{default:"#FAFAFA",text:"rgba(0, 0, 0, 0.87)"}},Qt={default:Jt,light:Jt,dark:{text:{primary:"#FFFFFF",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(0,0,0,.12)"},background:{default:"#424242"},context:{background:"#E91E63",text:"#FFFFFF"},divider:{default:"rgba(81, 81, 81, 1)"},button:{default:"#FFFFFF",focus:"rgba(255, 255, 255, .54)",hover:"rgba(255, 255, 255, .12)",disabled:"rgba(255, 255, 255, .18)"},selected:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},highlightOnHover:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},striped:{default:"rgba(0, 0, 0, .87)",text:"#FFFFFF"}}};function en(e,t,n,i){var r=pe.useState((function(){return be(e)})),o=oe(r,2),a=o[0],s=o[1],l=pe.useState(""),c=oe(l,2),u=c[0],d=c[1],h=pe.useRef("");Ut((function(){s(be(e))}),[e]);var p=pe.useCallback((function(e){var t,n,i,r=null===(t=e.target.attributes.getNamedItem("data-column-id"))||void 0===t?void 0:t.value;r&&(h.current=(null===(i=null===(n=a[Ee(a,r)])||void 0===n?void 0:n.id)||void 0===i?void 0:i.toString())||"",d(h.current))}),[a]),f=pe.useCallback((function(e){var n,i=null===(n=e.target.attributes.getNamedItem("data-column-id"))||void 0===n?void 0:n.value;if(i&&h.current&&i!==h.current){var r=Ee(a,h.current),o=Ee(a,i),l=le(a);l[r]=a[o],l[o]=a[r],s(l),t(l)}}),[t,a]),m=pe.useCallback((function(e){e.preventDefault()}),[]),g=pe.useCallback((function(e){e.preventDefault()}),[]),v=pe.useCallback((function(e){e.preventDefault(),h.current="",d("")}),[]),y=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?he.ASC:he.DESC}(i),x=pe.useMemo((function(){return a[Ee(a,null==n?void 0:n.toString())]||{}}),[n,a]);return{tableColumns:a,draggingColumnId:u,handleDragStart:p,handleDragEnter:f,handleDragOver:m,handleDragLeave:g,handleDragEnd:v,defaultSortDirection:y,defaultSortColumn:x}}var tn=pe.memo((function(e){var t=e.data,n=void 0===t?Ot.data:t,i=e.columns,r=void 0===i?Ot.columns:i,o=e.title,a=void 0===o?Ot.title:o,s=e.actions,l=void 0===s?Ot.actions:s,c=e.keyField,u=void 0===c?Ot.keyField:c,d=e.striped,h=void 0===d?Ot.striped:d,p=e.highlightOnHover,f=void 0===p?Ot.highlightOnHover:p,m=e.pointerOnHover,g=void 0===m?Ot.pointerOnHover:m,v=e.dense,y=void 0===v?Ot.dense:v,x=e.selectableRows,b=void 0===x?Ot.selectableRows:x,_=e.selectableRowsSingle,w=void 0===_?Ot.selectableRowsSingle:_,k=e.selectableRowsHighlight,S=void 0===k?Ot.selectableRowsHighlight:k,C=e.selectableRowsNoSelectAll,E=void 0===C?Ot.selectableRowsNoSelectAll:C,T=e.selectableRowsVisibleOnly,M=void 0===T?Ot.selectableRowsVisibleOnly:T,P=e.selectableRowSelected,A=void 0===P?Ot.selectableRowSelected:P,I=e.selectableRowDisabled,L=void 0===I?Ot.selectableRowDisabled:I,D=e.selectableRowsComponent,O=void 0===D?Ot.selectableRowsComponent:D,R=e.selectableRowsComponentProps,z=void 0===R?Ot.selectableRowsComponentProps:R,F=e.onRowExpandToggled,B=void 0===F?Ot.onRowExpandToggled:F,N=e.onSelectedRowsChange,j=void 0===N?Ot.onSelectedRowsChange:N,V=e.expandableIcon,W=void 0===V?Ot.expandableIcon:V,U=e.onChangeRowsPerPage,H=void 0===U?Ot.onChangeRowsPerPage:U,X=e.onChangePage,G=void 0===X?Ot.onChangePage:X,Y=e.paginationServer,q=void 0===Y?Ot.paginationServer:Y,K=e.paginationServerOptions,$=void 0===K?Ot.paginationServerOptions:K,Z=e.paginationTotalRows,J=void 0===Z?Ot.paginationTotalRows:Z,Q=e.paginationDefaultPage,ee=void 0===Q?Ot.paginationDefaultPage:Q,te=e.paginationResetDefaultPage,ne=void 0===te?Ot.paginationResetDefaultPage:te,ie=e.paginationPerPage,re=void 0===ie?Ot.paginationPerPage:ie,ae=e.paginationRowsPerPageOptions,se=void 0===ae?Ot.paginationRowsPerPageOptions:ae,ce=e.paginationIconLastPage,de=void 0===ce?Ot.paginationIconLastPage:ce,fe=e.paginationIconFirstPage,me=void 0===fe?Ot.paginationIconFirstPage:fe,ye=e.paginationIconNext,xe=void 0===ye?Ot.paginationIconNext:ye,be=e.paginationIconPrevious,ke=void 0===be?Ot.paginationIconPrevious:be,Se=e.paginationComponent,Ee=void 0===Se?Ot.paginationComponent:Se,Te=e.paginationComponentOptions,Pe=void 0===Te?Ot.paginationComponentOptions:Te,Ie=e.responsive,Oe=void 0===Ie?Ot.responsive:Ie,ze=e.progressPending,Fe=void 0===ze?Ot.progressPending:ze,Be=e.progressComponent,Ne=void 0===Be?Ot.progressComponent:Be,je=e.persistTableHead,Ve=void 0===je?Ot.persistTableHead:je,We=e.noDataComponent,Ue=void 0===We?Ot.noDataComponent:We,He=e.disabled,Xe=void 0===He?Ot.disabled:He,Ge=e.noTableHead,Ye=void 0===Ge?Ot.noTableHead:Ge,qe=e.noHeader,Ke=void 0===qe?Ot.noHeader:qe,$e=e.fixedHeader,Ze=void 0===$e?Ot.fixedHeader:$e,Je=e.fixedHeaderScrollHeight,Qe=void 0===Je?Ot.fixedHeaderScrollHeight:Je,et=e.pagination,nt=void 0===et?Ot.pagination:et,it=e.subHeader,rt=void 0===it?Ot.subHeader:it,ot=e.subHeaderAlign,at=void 0===ot?Ot.subHeaderAlign:ot,st=e.subHeaderWrap,ct=void 0===st?Ot.subHeaderWrap:st,dt=e.subHeaderComponent,ht=void 0===dt?Ot.subHeaderComponent:dt,pt=e.noContextMenu,ft=void 0===pt?Ot.noContextMenu:pt,mt=e.contextMessage,gt=void 0===mt?Ot.contextMessage:mt,vt=e.contextActions,yt=void 0===vt?Ot.contextActions:vt,bt=e.contextComponent,_t=void 0===bt?Ot.contextComponent:bt,wt=e.expandableRows,At=void 0===wt?Ot.expandableRows:wt,It=e.onRowClicked,Lt=void 0===It?Ot.onRowClicked:It,Dt=e.onRowDoubleClicked,Rt=void 0===Dt?Ot.onRowDoubleClicked:Dt,zt=e.onRowMouseEnter,Ft=void 0===zt?Ot.onRowMouseEnter:zt,Bt=e.onRowMouseLeave,Nt=void 0===Bt?Ot.onRowMouseLeave:Bt,jt=e.sortIcon,Vt=void 0===jt?Ot.sortIcon:jt,Ht=e.onSort,Xt=void 0===Ht?Ot.onSort:Ht,Gt=e.sortFunction,Yt=void 0===Gt?Ot.sortFunction:Gt,qt=e.sortServer,Kt=void 0===qt?Ot.sortServer:qt,$t=e.expandableRowsComponent,Jt=void 0===$t?Ot.expandableRowsComponent:$t,tn=e.expandableRowsComponentProps,nn=void 0===tn?Ot.expandableRowsComponentProps:tn,rn=e.expandableRowDisabled,on=void 0===rn?Ot.expandableRowDisabled:rn,an=e.expandableRowsHideExpander,sn=void 0===an?Ot.expandableRowsHideExpander:an,ln=e.expandOnRowClicked,cn=void 0===ln?Ot.expandOnRowClicked:ln,un=e.expandOnRowDoubleClicked,dn=void 0===un?Ot.expandOnRowDoubleClicked:un,hn=e.expandableRowExpanded,pn=void 0===hn?Ot.expandableRowExpanded:hn,fn=e.expandableInheritConditionalStyles,mn=void 0===fn?Ot.expandableInheritConditionalStyles:fn,gn=e.defaultSortFieldId,vn=void 0===gn?Ot.defaultSortFieldId:gn,yn=e.defaultSortAsc,xn=void 0===yn?Ot.defaultSortAsc:yn,bn=e.clearSelectedRows,_n=void 0===bn?Ot.clearSelectedRows:bn,wn=e.conditionalRowStyles,kn=void 0===wn?Ot.conditionalRowStyles:wn,Sn=e.theme,Cn=void 0===Sn?Ot.theme:Sn,En=e.customStyles,Tn=void 0===En?Ot.customStyles:En,Mn=e.direction,Pn=void 0===Mn?Ot.direction:Mn,An=e.onColumnOrderChange,In=void 0===An?Ot.onColumnOrderChange:An,Ln=e.className,Dn=en(r,In,vn,xn),On=Dn.tableColumns,Rn=Dn.draggingColumnId,zn=Dn.handleDragStart,Fn=Dn.handleDragEnter,Bn=Dn.handleDragOver,Nn=Dn.handleDragLeave,jn=Dn.handleDragEnd,Vn=Dn.defaultSortDirection,Wn=Dn.defaultSortColumn,Un=pe.useReducer(Me,{allSelected:!1,selectedCount:0,selectedRows:[],selectedColumn:Wn,toggleOnSelectedRowsChange:!1,sortDirection:Vn,currentPage:ee,rowsPerPage:re,selectedRowsFlag:!1,contextMessage:Ot.contextMessage}),Hn=oe(Un,2),Xn=Hn[0],Gn=Xn.rowsPerPage,Yn=Xn.currentPage,qn=Xn.selectedRows,Kn=Xn.allSelected,$n=Xn.selectedCount,Zn=Xn.selectedColumn,Jn=Xn.sortDirection,Qn=Xn.toggleOnSelectedRowsChange,ei=Hn[1],ti=$.persistSelectedOnSort,ni=void 0!==ti&&ti,ii=$.persistSelectedOnPageChange,ri=void 0!==ii&&ii,oi=!(!q||!ri&&!ni),ai=nt&&!Fe&&n.length>0,si=Ee||Wt,li=pe.useMemo((function(){return function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",r=Qt[n]?n:i;return Zt({table:{style:{color:(e=Qt[r]).text.primary,backgroundColor:e.background.default}},tableWrapper:{style:{display:"table"}},responsiveWrapper:{style:{}},header:{style:{fontSize:"22px",color:e.text.primary,backgroundColor:e.background.default,minHeight:"56px",paddingLeft:"16px",paddingRight:"8px"}},subHeader:{style:{backgroundColor:e.background.default,minHeight:"52px"}},head:{style:{color:e.text.primary,fontSize:"12px",fontWeight:500}},headRow:{style:{backgroundColor:e.background.default,minHeight:"52px",borderBottomWidth:"1px",borderBottomColor:e.divider.default,borderBottomStyle:"solid"},denseStyle:{minHeight:"32px"}},headCells:{style:{paddingLeft:"16px",paddingRight:"16px"},draggingStyle:{cursor:"move"}},contextMenu:{style:{backgroundColor:e.context.background,fontSize:"18px",fontWeight:400,color:e.context.text,paddingLeft:"16px",paddingRight:"8px",transform:"translate3d(0, -100%, 0)",transitionDuration:"125ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",willChange:"transform"},activeStyle:{transform:"translate3d(0, 0, 0)"}},cells:{style:{paddingLeft:"16px",paddingRight:"16px",wordBreak:"break-word"},draggingStyle:{}},rows:{style:{fontSize:"13px",fontWeight:400,color:e.text.primary,backgroundColor:e.background.default,minHeight:"48px","&:not(:last-of-type)":{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:e.divider.default}},denseStyle:{minHeight:"32px"},selectedHighlightStyle:{"&:nth-of-type(n)":{color:e.selected.text,backgroundColor:e.selected.default,borderBottomColor:e.background.default}},highlightOnHoverStyle:{color:e.highlightOnHover.text,backgroundColor:e.highlightOnHover.default,transitionDuration:"0.15s",transitionProperty:"background-color",borderBottomColor:e.background.default,outlineStyle:"solid",outlineWidth:"1px",outlineColor:e.background.default},stripedStyle:{color:e.striped.text,backgroundColor:e.striped.default}},expanderRow:{style:{color:e.text.primary,backgroundColor:e.background.default}},expanderCell:{style:{flex:"0 0 48px"}},expanderButton:{style:{color:e.button.default,fill:e.button.default,backgroundColor:"transparent",borderRadius:"2px",transition:"0.25s",height:"100%",width:"100%","&:hover:enabled":{cursor:"pointer"},"&:disabled":{color:e.button.disabled},"&:hover:not(:disabled)":{cursor:"pointer",backgroundColor:e.button.hover},"&:focus":{outline:"none",backgroundColor:e.button.focus},svg:{margin:"auto"}}},pagination:{style:{color:e.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:e.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:e.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:e.button.default,fill:e.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:e.button.disabled,fill:e.button.disabled},"&:hover:not(:disabled)":{backgroundColor:e.button.hover},"&:focus":{outline:"none",backgroundColor:e.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:e.text.primary,backgroundColor:e.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:e.text.primary,backgroundColor:e.background.default}}},t)}(Tn,Cn)}),[Tn,Cn]),ci=pe.useMemo((function(){return Object.assign({},"auto"!==Pn&&{dir:Pn})}),[Pn]),ui=pe.useMemo((function(){if(Kt)return n;if((null==Zn?void 0:Zn.sortFunction)&&"function"==typeof Zn.sortFunction){var e=Zn.sortFunction,t=Jn===he.ASC?e:function(t,n){return-1*e(t,n)};return le(n).sort(t)}return function(e,t,n,i){return t?i&&"function"==typeof i?i(e.slice(0),t,n):e.slice(0).sort((function(e,i){var r,o;if("string"==typeof t?(r=ve(e,t),o=ve(i,t)):(r=t(e),o=t(i)),"asc"===n){if(r<o)return-1;if(r>o)return 1}if("desc"===n){if(r>o)return-1;if(r<o)return 1}return 0})):e}(n,null==Zn?void 0:Zn.selector,Jn,Yt)}),[Kt,Zn,Jn,n,Yt]),di=pe.useMemo((function(){if(nt&&!q){var e=Yn*Gn,t=e-Gn;return ui.slice(t,e)}return ui}),[Yn,nt,q,Gn,ui]),hi=pe.useCallback((function(e){ei(e)}),[]),pi=pe.useCallback((function(e){ei(e)}),[]),fi=pe.useCallback((function(e){ei(e)}),[]),mi=pe.useCallback((function(e,t){return Lt(e,t)}),[Lt]),gi=pe.useCallback((function(e,t){return Rt(e,t)}),[Rt]),vi=pe.useCallback((function(e,t){return Ft(e,t)}),[Ft]),yi=pe.useCallback((function(e,t){return Nt(e,t)}),[Nt]),xi=pe.useCallback((function(e){return ei({type:"CHANGE_PAGE",page:e,paginationServer:q,visibleOnly:M,persistSelectedOnPageChange:ri})}),[q,ri,M]),bi=pe.useCallback((function(e){var t=_e(J||di.length,e),n=we(Yn,t);q||xi(n),ei({type:"CHANGE_ROWS_PER_PAGE",page:n,rowsPerPage:e})}),[Yn,xi,q,J,di.length]);if(nt&&!q&&ui.length>0&&0===di.length){var _i=_e(ui.length,Gn),wi=we(Yn,_i);xi(wi)}Ut((function(){j({allSelected:Kn,selectedCount:$n,selectedRows:qn.slice(0)})}),[Qn]),Ut((function(){Xt(Zn,Jn,ui.slice(0))}),[Zn,Jn]),Ut((function(){G(Yn,J||ui.length)}),[Yn]),Ut((function(){H(Gn,Yn)}),[Gn]),Ut((function(){xi(ee)}),[ee,ne]),Ut((function(){if(nt&&q&&J>0){var e=_e(J,Gn),t=we(Yn,e);Yn!==t&&xi(t)}}),[J]),pe.useEffect((function(){ei({type:"CLEAR_SELECTED_ROWS",selectedRowsFlag:_n})}),[w,_n]),pe.useEffect((function(){if(A){var e=ui.filter((function(e){return A(e)})),t=w?e.slice(0,1):e;ei({type:"SELECT_MULTIPLE_ROWS",keyField:u,selectedRows:t,totalRows:ui.length,mergeSelections:oi})}}),[n,A]);var ki=M?di:ui,Si=ri||w||E;return pe.createElement(ue.ThemeProvider,{theme:li},!Ke&&(!!a||!!l)&&pe.createElement(xt,{title:a,actions:l,showMenu:!ft,selectedCount:$n,direction:Pn,contextActions:yt,contextComponent:_t,contextMessage:gt}),rt&&pe.createElement(kt,{align:at,wrapContent:ct},ht),pe.createElement(Ct,Object.assign({responsive:Oe,fixedHeader:Ze,fixedHeaderScrollHeight:Qe,className:Ln},ci),pe.createElement(Tt,null,Fe&&!Ve&&pe.createElement(Et,null,Ne),pe.createElement(Ae,{disabled:Xe,className:"rdt_Table",role:"table"},!Ye&&(!!Ve||ui.length>0&&!Fe)&&pe.createElement(Le,{className:"rdt_TableHead",role:"rowgroup",fixedHeader:Ze},pe.createElement(De,{className:"rdt_TableHeadRow",role:"row",dense:y},b&&(Si?pe.createElement(Re,{style:{flex:"0 0 48px"}}):pe.createElement(ut,{allSelected:Kn,selectedRows:qn,selectableRowsComponent:O,selectableRowsComponentProps:z,selectableRowDisabled:L,rowData:ki,keyField:u,mergeSelections:oi,onSelectAllRows:pi})),At&&!sn&&pe.createElement(Mt,null),On.map((function(e){return pe.createElement(lt,{key:e.id,column:e,selectedColumn:Zn,disabled:Fe||0===ui.length,pagination:nt,paginationServer:q,persistSelectedOnSort:ni,selectableRowsVisibleOnly:M,sortDirection:Jn,sortIcon:Vt,sortServer:Kt,onSort:hi,onDragStart:zn,onDragOver:Bn,onDragEnd:jn,onDragEnter:Fn,onDragLeave:Nn,draggingColumnId:Rn})})))),!ui.length&&!Fe&&pe.createElement(Pt,null,Ue),Fe&&Ve&&pe.createElement(Et,null,Ne),!Fe&&ui.length>0&&pe.createElement(St,{className:"rdt_TableBody",role:"rowgroup"},di.map((function(e,t){var n=ge(e,u),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"number"!=typeof e&&(!e||0===e.length)}(n)?t:n,r=Ce(e,qn,u),o=!!(At&&pn&&pn(e)),a=!!(At&&on&&on(e));return pe.createElement(tt,{id:i,key:i,keyField:u,"data-row-id":i,columns:On,row:e,rowCount:ui.length,rowIndex:t,selectableRows:b,expandableRows:At,expandableIcon:W,highlightOnHover:f,pointerOnHover:g,dense:y,expandOnRowClicked:cn,expandOnRowDoubleClicked:dn,expandableRowsComponent:Jt,expandableRowsComponentProps:nn,expandableRowsHideExpander:sn,defaultExpanderDisabled:a,defaultExpanded:o,expandableInheritConditionalStyles:mn,conditionalRowStyles:kn,selected:r,selectableRowsHighlight:S,selectableRowsComponent:O,selectableRowsComponentProps:z,selectableRowDisabled:L,selectableRowsSingle:w,striped:h,onRowExpandToggled:B,onRowClicked:mi,onRowDoubleClicked:gi,onRowMouseEnter:vi,onRowMouseLeave:yi,onSelectedRow:fi,draggingColumnId:Rn,onDragStart:zn,onDragOver:Bn,onDragEnd:jn,onDragEnter:Fn,onDragLeave:Nn})})))))),ai&&pe.createElement("div",null,pe.createElement(si,{onChangePage:xi,onChangeRowsPerPage:bi,rowCount:J||ui.length,currentPage:Yn,rowsPerPage:Gn,direction:Pn,paginationRowsPerPageOptions:se,paginationIconLastPage:de,paginationIconFirstPage:me,paginationIconNext:xe,paginationIconPrevious:ke,paginationComponentOptions:Pe})))}));t.ZP=tn},4463:function(e,t,n){"use strict";var i=n(2791),r=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,i,r,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function x(e,t,n,i){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var z,F=Object.assign;function B(e){if(void 0===z)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var N=!1;function j(e,t){if(!e||N)return"";N=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),o=i.stack.split("\n"),a=r.length-1,s=o.length-1;1<=a&&0<=s&&r[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(r[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||r[a]!==o[s]){var l="\n"+r[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{N=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function V(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case w:return"Portal";case C:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case M:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=X(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function J(e,t){Z(e,t);var n=H(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),i=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=me(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,ke=null,Se=null;function Ce(e){if(e=xr(e)){if("function"!==typeof we)throw Error(o(280));var t=e.stateNode;t&&(t=_r(t),we(e.stateNode,e.type,t))}}function Ee(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Te(){if(ke){var e=ke,t=Se;if(Se=ke=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Me(e,t){return e(t)}function Pe(){}var Ae=!1;function Ie(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Me(e,t,n)}finally{Ae=!1,(null!==ke||null!==Se)&&(Pe(),Te())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var i=_r(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var De=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){De=!1}function Re(e,t,n,i,r,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var ze=!1,Fe=null,Be=!1,Ne=null,je={onError:function(e){ze=!0,Fe=e}};function Ve(e,t,n,i,r,o,a,s,l){ze=!1,Fe=null,Re.apply(je,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(We(e)!==e)throw Error(o(188))}function Xe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(i=r.return)){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return He(r),e;if(a===i)return He(r),t;a=a.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=a;break}if(l===i){s=!0,i=r,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,i=r;break}if(l===i){s=!0,i=a,n=r;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ye=r.unstable_scheduleCallback,qe=r.unstable_cancelCallback,Ke=r.unstable_shouldYield,$e=r.unstable_requestPaint,Ze=r.unstable_now,Je=r.unstable_getCurrentPriorityLevel,Qe=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~r;0!==s?i=dt(s):0!==(o&=a)&&(i=dt(o))}else 0!==(a=n&~r)?i=dt(a):0!==o&&(i=dt(o));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(o=t&-t)||16===r&&0!==(4194240&o)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-at(t)),i|=e[n],t&=~r;return i}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-at(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,wt,kt,St,Ct,Et=!1,Tt=[],Mt=null,Pt=null,At=null,It=new Map,Lt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function zt(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},null!==t&&(null!==(t=xr(t))&&wt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Ft(e){var t=yr(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ue(n)))return e.blockedOn=t,void Ct(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xr(n))&&wt(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);be=i,n.target.dispatchEvent(i),be=null,t.shift()}return!0}function Nt(e,t,n){Bt(e)&&n.delete(t)}function jt(){Et=!1,null!==Mt&&Bt(Mt)&&(Mt=null),null!==Pt&&Bt(Pt)&&(Pt=null),null!==At&&Bt(At)&&(At=null),It.forEach(Nt),Lt.forEach(Nt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,jt)))}function Wt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var i=Tt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Mt&&Vt(Mt,e),null!==Pt&&Vt(Pt,e),null!==At&&Vt(At,e),It.forEach(t),Lt.forEach(t),n=0;n<Dt.length;n++)(i=Dt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var Ut=b.ReactCurrentBatchConfig,Ht=!0;function Xt(e,t,n,i){var r=xt,o=Ut.transition;Ut.transition=null;try{xt=1,Yt(e,t,n,i)}finally{xt=r,Ut.transition=o}}function Gt(e,t,n,i){var r=xt,o=Ut.transition;Ut.transition=null;try{xt=4,Yt(e,t,n,i)}finally{xt=r,Ut.transition=o}}function Yt(e,t,n,i){if(Ht){var r=Kt(e,t,n,i);if(null===r)Hi(e,t,i,qt,n),Rt(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Mt=zt(Mt,e,t,n,i,r),!0;case"dragenter":return Pt=zt(Pt,e,t,n,i,r),!0;case"mouseover":return At=zt(At,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return It.set(o,zt(It.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Lt.set(o,zt(Lt.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Rt(e,i),4&t&&-1<Ot.indexOf(e)){for(;null!==r;){var o=xr(r);if(null!==o&&_t(o),null===(o=Kt(e,t,n,i))&&Hi(e,t,i,qt,n),o===r)break;r=o}null!==r&&i.stopPropagation()}else Hi(e,t,i,null,n)}}var qt=null;function Kt(e,t,n,i){if(qt=null,null!==(e=yr(e=_e(i))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Zt=null,Jt=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=Jt,i=n.length,r="value"in Zt?Zt.value:Zt.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[o-t];t++);return Qt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,i,r,o){for(var a in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=F({},cn,{view:0,detail:0}),hn=on(dn),pn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=on(pn),mn=on(F({},pn,{dataTransfer:0})),gn=on(F({},dn,{relatedTarget:0})),vn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=on(yn),bn=on(F({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Cn(){return Sn}var En=F({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(En),Mn=on(F({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=on(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),An=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=F({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=on(In),Dn=[9,13,27,32],On=u&&"CompositionEvent"in window,Rn=null;u&&"documentMode"in document&&(Rn=document.documentMode);var zn=u&&"TextEvent"in window&&!Rn,Fn=u&&(!On||Rn&&8<Rn&&11>=Rn),Bn=String.fromCharCode(32),Nn=!1;function jn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function Xn(e,t,n,i){Ee(i),0<(t=Gi(t,"onChange")).length&&(n=new un("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Gn=null,Yn=null;function qn(e){Bi(e,0)}function Kn(e){if(Y(br(e)))return e}function $n(e,t){if("change"===e)return t}var Zn=!1;if(u){var Jn;if(u){var Qn="oninput"in document;if(!Qn){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Qn="function"===typeof ei.oninput}Jn=Qn}else Jn=!1;Zn=Jn&&(!document.documentMode||9<document.documentMode)}function ti(){Gn&&(Gn.detachEvent("onpropertychange",ni),Yn=Gn=null)}function ni(e){if("value"===e.propertyName&&Kn(Yn)){var t=[];Xn(t,Yn,e,_e(e)),Ie(qn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Yn=n,(Gn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Yn)}function oi(e,t){if("click"===e)return Kn(t)}function ai(e,t){if("input"===e||"change"===e)return Kn(t)}var si="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(si(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!d.call(t,r)||!si(e[r],t[r]))return!1}return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ui(e,t){var n,i=ci(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ci(i)}}function di(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?di(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hi(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function pi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fi(e){var t=hi(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&di(n.ownerDocument.documentElement,n)){if(null!==i&&pi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=void 0===i.end?o:Math.min(i.end,r),!e.extend&&o>i&&(r=i,i=o,o=r),r=ui(n,o);var a=ui(n,i);r&&a&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mi=u&&"documentMode"in document&&11>=document.documentMode,gi=null,vi=null,yi=null,xi=!1;function bi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xi||null==gi||gi!==q(i)||("selectionStart"in(i=gi)&&pi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=Gi(vi,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=gi)))}function _i(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wi={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionend:_i("Transition","TransitionEnd")},ki={},Si={};function Ci(e){if(ki[e])return ki[e];if(!wi[e])return e;var t,n=wi[e];for(t in n)if(n.hasOwnProperty(t)&&t in Si)return ki[e]=n[t];return e}u&&(Si=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);var Ei=Ci("animationend"),Ti=Ci("animationiteration"),Mi=Ci("animationstart"),Pi=Ci("transitionend"),Ai=new Map,Ii="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Li(e,t){Ai.set(e,t),l(t,[e])}for(var Di=0;Di<Ii.length;Di++){var Oi=Ii[Di];Li(Oi.toLowerCase(),"on"+(Oi[0].toUpperCase()+Oi.slice(1)))}Li(Ei,"onAnimationEnd"),Li(Ti,"onAnimationIteration"),Li(Mi,"onAnimationStart"),Li("dblclick","onDoubleClick"),Li("focusin","onFocus"),Li("focusout","onBlur"),Li(Pi,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ri));function Fi(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,a,s,l,c){if(Ve.apply(this,arguments),ze){if(!ze)throw Error(o(198));var u=Fe;ze=!1,Fe=null,Be||(Be=!0,Ne=u)}}(i,t,void 0,e),e.currentTarget=null}function Bi(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var a=i.length-1;0<=a;a--){var s=i[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&r.isPropagationStopped())break e;Fi(r,s,c),o=l}else for(a=0;a<i.length;a++){if(l=(s=i[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&r.isPropagationStopped())break e;Fi(r,s,c),o=l}}}if(Be)throw e=Ne,Be=!1,Ne=null,e}function Ni(e,t){var n=t[mr];void 0===n&&(n=t[mr]=new Set);var i=e+"__bubble";n.has(i)||(Ui(t,e,2,!1),n.add(i))}function ji(e,t,n){var i=0;t&&(i|=4),Ui(n,e,i,t)}var Vi="_reactListening"+Math.random().toString(36).slice(2);function Wi(e){if(!e[Vi]){e[Vi]=!0,a.forEach((function(t){"selectionchange"!==t&&(zi.has(t)||ji(t,!1,e),ji(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vi]||(t[Vi]=!0,ji("selectionchange",!1,t))}}function Ui(e,t,n,i){switch($t(t)){case 1:var r=Xt;break;case 4:r=Gt;break;default:r=Yt}n=r.bind(null,t,n,e),r=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Hi(e,t,n,i,r){var o=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var s=i.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===a)for(a=i.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;a=a.return}for(;null!==s;){if(null===(a=yr(s)))return;if(5===(l=a.tag)||6===l){i=o=a;continue e}s=s.parentNode}}i=i.return}Ie((function(){var i=o,r=_e(n),a=[];e:{var s=Ai.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Ei:case Ti:case Mi:l=vn;break;case Pi:l=An;break;case"scroll":l=hn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Mn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=i;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Le(f,h))&&u.push(Xi(f,m,p)))),d)break;f=f.return}0<u.length&&(s=new l(s,c,null,n,r),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yr(c)&&!c[fr])&&(l||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?yr(c):null)&&(c!==(d=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Mn,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?s:br(l),p=null==c?s:br(c),(s=new u(m,f+"leave",l,n,r)).target=d,s.relatedTarget=p,m=null,yr(r)===i&&((u=new u(h,f+"enter",c,n,r)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Yi(p))f++;for(p=0,m=h;m;m=Yi(m))p++;for(;0<f-p;)u=Yi(u),f--;for(;0<p-f;)h=Yi(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Yi(u),h=Yi(h)}u=null}else u=null;null!==l&&qi(a,s,l,u,!1),null!==c&&null!==d&&qi(a,d,c,u,!0)}if("select"===(l=(s=i?br(i):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=$n;else if(Hn(s))if(Zn)g=ai;else{g=ri;var v=ii}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=oi);switch(g&&(g=g(e,i))?Xn(a,g,n,r):(v&&v(e,s,i),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=i?br(i):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gi=v,vi=i,yi=null);break;case"focusout":yi=vi=gi=null;break;case"mousedown":xi=!0;break;case"contextmenu":case"mouseup":case"dragend":xi=!1,bi(a,n,r);break;case"selectionchange":if(mi)break;case"keydown":case"keyup":bi(a,n,r)}var y;if(On)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Wn?jn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Fn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Wn&&(y=en()):(Jt="value"in(Zt=r)?Zt.value:Zt.textContent,Wn=!0)),0<(v=Gi(i,x)).length&&(x=new bn(x,e,null,n,r),a.push({event:x,listeners:v}),y?x.data=y:null!==(y=Vn(n))&&(x.data=y))),(y=zn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Nn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Nn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!On&&jn(e,t)?(e=en(),Qt=Jt=Zt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Gi(i,"onBeforeInput")).length&&(r=new bn("onBeforeInput","beforeinput",null,n,r),a.push({event:r,listeners:i}),r.data=y))}Bi(a,t)}))}function Xi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=Le(e,n))&&i.unshift(Xi(e,o,r)),null!=(o=Le(e,t))&&i.push(Xi(e,o,r))),e=e.return}return i}function Yi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qi(e,t,n,i,r){for(var o=t._reactName,a=[];null!==n&&n!==i;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===i)break;5===s.tag&&null!==c&&(s=c,r?null!=(l=Le(n,o))&&a.unshift(Xi(n,l,s)):r||null!=(l=Le(n,o))&&a.push(Xi(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Ki=/\r\n?/g,$i=/\u0000|\uFFFD/g;function Zi(e){return("string"===typeof e?e:""+e).replace(Ki,"\n").replace($i,"")}function Ji(e,t,n){if(t=Zi(t),Zi(e)!==t&&n)throw Error(o(425))}function Qi(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,or="function"===typeof Promise?Promise:void 0,ar="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof or?function(e){return or.resolve(null).then(e).catch(sr)}:ir;function sr(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void Wt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Wt(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ur(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),hr="__reactFiber$"+dr,pr="__reactProps$"+dr,fr="__reactContainer$"+dr,mr="__reactEvents$"+dr,gr="__reactListeners$"+dr,vr="__reactHandles$"+dr;function yr(e){var t=e[hr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fr]||n[hr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ur(e);null!==e;){if(n=e[hr])return n;e=ur(e)}return t}n=(e=n).parentNode}return null}function xr(e){return!(e=e[hr]||e[fr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function br(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _r(e){return e[pr]||null}var wr=[],kr=-1;function Sr(e){return{current:e}}function Cr(e){0>kr||(e.current=wr[kr],wr[kr]=null,kr--)}function Er(e,t){kr++,wr[kr]=e.current,e.current=t}var Tr={},Mr=Sr(Tr),Pr=Sr(!1),Ar=Tr;function Ir(e,t){var n=e.type.contextTypes;if(!n)return Tr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Lr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Dr(){Cr(Pr),Cr(Mr)}function Or(e,t,n){if(Mr.current!==Tr)throw Error(o(168));Er(Mr,t),Er(Pr,n)}function Rr(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(o(108,U(e)||"Unknown",r));return F({},n,i)}function zr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tr,Ar=Mr.current,Er(Mr,e),Er(Pr,Pr.current),!0}function Fr(e,t,n){var i=e.stateNode;if(!i)throw Error(o(169));n?(e=Rr(e,t,Ar),i.__reactInternalMemoizedMergedChildContext=e,Cr(Pr),Cr(Mr),Er(Mr,e)):Cr(Pr),Er(Pr,n)}var Br=null,Nr=!1,jr=!1;function Vr(e){null===Br?Br=[e]:Br.push(e)}function Wr(){if(!jr&&null!==Br){jr=!0;var e=0,t=xt;try{var n=Br;for(xt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Br=null,Nr=!1}catch(r){throw null!==Br&&(Br=Br.slice(e+1)),Ye(Qe,Wr),r}finally{xt=t,jr=!1}}return null}var Ur=[],Hr=0,Xr=null,Gr=0,Yr=[],qr=0,Kr=null,$r=1,Zr="";function Jr(e,t){Ur[Hr++]=Gr,Ur[Hr++]=Xr,Xr=e,Gr=t}function Qr(e,t,n){Yr[qr++]=$r,Yr[qr++]=Zr,Yr[qr++]=Kr,Kr=e;var i=$r;e=Zr;var r=32-at(i)-1;i&=~(1<<r),n+=1;var o=32-at(t)+r;if(30<o){var a=r-r%5;o=(i&(1<<a)-1).toString(32),i>>=a,r-=a,$r=1<<32-at(t)+r|n<<r|i,Zr=o+e}else $r=1<<o|n<<r|i,Zr=e}function eo(e){null!==e.return&&(Jr(e,1),Qr(e,1,0))}function to(e){for(;e===Xr;)Xr=Ur[--Hr],Ur[Hr]=null,Gr=Ur[--Hr],Ur[Hr]=null;for(;e===Kr;)Kr=Yr[--qr],Yr[qr]=null,Zr=Yr[--qr],Yr[qr]=null,$r=Yr[--qr],Yr[qr]=null}var no=null,io=null,ro=!1,oo=null;function ao(e,t){var n=Lc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,io=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,io=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Kr?{id:$r,overflow:Zr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Lc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,io=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(ro){var t=io;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=cr(n.nextSibling);var i=no;t&&so(e,t)?ao(i,n):(e.flags=-4097&e.flags|2,ro=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ro=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!ro)return uo(e),ro=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=io)){if(lo(e))throw po(),Error(o(418));for(;t;)ao(e,t),t=cr(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){io=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}io=null}}else io=no?cr(e.stateNode.nextSibling):null;return!0}function po(){for(var e=io;e;)e=cr(e.nextSibling)}function fo(){io=no=null,ro=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=b.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Sr(null),xo=null,bo=null,_o=null;function wo(){_o=bo=xo=null}function ko(e){var t=yo.current;Cr(yo),e._currentValue=t}function So(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Co(e,t){xo=e,_o=bo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Eo(e){var t=e._currentValue;if(_o!==e)if(e={context:e,memoizedValue:t,next:null},null===bo){if(null===xo)throw Error(o(308));bo=e,xo.dependencies={lanes:0,firstContext:e}}else bo=bo.next=e;return t}var To=null;function Mo(e){null===To?To=[e]:To.push(e)}function Po(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,Mo(t)):(n.next=r.next,r.next=n),t.interleaved=n,Ao(e,i)}function Ao(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Io=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ro(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Pl)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,Ao(e,n)}return null===(r=i.interleaved)?(t.next=t,Mo(i)):(t.next=r.next,r.next=t),i.interleaved=t,Ao(e,n)}function zo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Fo(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bo(e,t,n,i){var r=e.updateQueue;Io=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=r.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,p=s.eventTime;if((i&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=F({},d,h);break e;case 2:Io=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=r.effects)?r.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=h;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(h=s).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}if(null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(t=r.shared.interleaved)){r=t;do{a|=r.lane,r=r.next}while(r!==t)}else null===o&&(r.shared.lanes=0);Fl|=a,e.lanes=a,e.memoizedState=d}}function No(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var jo=(new i.Component).refs;function Vo(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Wo={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=tc(),r=nc(e),o=Oo(i,r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ro(e,o,r))&&(ic(t,e,r,i),zo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=tc(),r=nc(e),o=Oo(i,r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ro(e,o,r))&&(ic(t,e,r,i),zo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),i=nc(e),r=Oo(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Ro(e,r,i))&&(ic(t,e,i,n),zo(t,e,i))}};function Uo(e,t,n,i,r,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(r,o))}function Ho(e,t,n){var i=!1,r=Tr,o=t.contextType;return"object"===typeof o&&null!==o?o=Eo(o):(r=Lr(t)?Ar:Mr.current,o=(i=null!==(i=t.contextTypes)&&void 0!==i)?Ir(e,r):Tr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Wo,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function Xo(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Wo.enqueueReplaceState(t,t.state,null)}function Go(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=jo,Lo(e);var o=t.contextType;"object"===typeof o&&null!==o?r.context=Eo(o):(o=Lr(t)?Ar:Mr.current,r.context=Ir(e,o)),r.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Vo(e,t,o,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Wo.enqueueReplaceState(r,r.state,null),Bo(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function Yo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,e));var r=i,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=r.refs;t===jo&&(t=r.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ko(e){return(0,e._init)(e._payload)}function $o(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Bc(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var o=n.type;return o===k?d(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===L&&Ko(o)===t.type)?((i=r(t,n.props)).ref=Yo(e,t,n),i.return=e,i):((i=Rc(n.type,n.key,n.props,null,e.mode,i)).ref=Yo(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Nc(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,o){return null===t||7!==t.tag?((t=zc(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Yo(e,null,t),n.return=e,n;case w:return(t=Nc(t,e.mode,n)).return=e,t;case L:return h(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=zc(t,e.mode,n,null)).return=e,t;qo(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===r?c(e,t,n,i):null;case w:return n.key===r?u(e,t,n,i):null;case L:return p(e,t,(r=n._init)(n._payload),i)}if(te(n)||R(n))return null!==r?null:d(e,t,n,i,null);qo(e,n)}return null}function f(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case _:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case w:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case L:return f(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||R(i))return d(t,e=e.get(n)||null,i,r,null);qo(t,i)}return null}function m(r,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(r,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(r,d),o=a(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(r,d),ro&&Jr(r,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(r,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return ro&&Jr(r,m),c}for(d=i(r,d);m<s.length;m++)null!==(g=f(d,r,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(r,e)})),ro&&Jr(r,m),c}function g(r,s,l,c){var u=R(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var x=p(r,m,y.value,c);if(null===x){null===m&&(m=v);break}e&&m&&null===x.alternate&&t(r,m),s=a(x,s,g),null===d?u=x:d.sibling=x,d=x,m=v}if(y.done)return n(r,m),ro&&Jr(r,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(r,y.value,c))&&(s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return ro&&Jr(r,g),u}for(m=i(r,m);!y.done;g++,y=l.next())null!==(y=f(m,r,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(r,e)})),ro&&Jr(r,g),u}return function e(i,o,a,l){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===k){if(7===u.tag){n(i,u.sibling),(o=r(u,a.props.children)).return=i,i=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===L&&Ko(c)===u.type){n(i,u.sibling),(o=r(u,a.props)).ref=Yo(i,u,a),o.return=i,i=o;break e}n(i,u);break}t(i,u),u=u.sibling}a.type===k?((o=zc(a.props.children,i.mode,l,a.key)).return=i,i=o):((l=Rc(a.type,a.key,a.props,null,i.mode,l)).ref=Yo(i,o,a),l.return=i,i=l)}return s(i);case w:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(i,o.sibling),(o=r(o,a.children||[])).return=i,i=o;break e}n(i,o);break}t(i,o),o=o.sibling}(o=Nc(a,i.mode,l)).return=i,i=o}return s(i);case L:return e(i,o,(u=a._init)(a._payload),l)}if(te(a))return m(i,o,a,l);if(R(a))return g(i,o,a,l);qo(i,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(i,o.sibling),(o=r(o,a)).return=i,i=o):(n(i,o),(o=Bc(a,i.mode,l)).return=i,i=o),s(i)):n(i,o)}}var Zo=$o(!0),Jo=$o(!1),Qo={},ea=Sr(Qo),ta=Sr(Qo),na=Sr(Qo);function ia(e){if(e===Qo)throw Error(o(174));return e}function ra(e,t){switch(Er(na,t),Er(ta,e),Er(ea,Qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Cr(ea),Er(ea,t)}function oa(){Cr(ea),Cr(ta),Cr(na)}function aa(e){ia(na.current);var t=ia(ea.current),n=le(t,e.type);t!==n&&(Er(ta,e),Er(ea,n))}function sa(e){ta.current===e&&(Cr(ea),Cr(ta))}var la=Sr(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function da(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var ha=b.ReactCurrentDispatcher,pa=b.ReactCurrentBatchConfig,fa=0,ma=null,ga=null,va=null,ya=!1,xa=!1,ba=0,_a=0;function wa(){throw Error(o(321))}function ka(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!si(e[n],t[n]))return!1;return!0}function Sa(e,t,n,i,r,a){if(fa=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ss:ls,e=n(i,r),xa){a=0;do{if(xa=!1,ba=0,25<=a)throw Error(o(301));a+=1,va=ga=null,t.updateQueue=null,ha.current=cs,e=n(i,r)}while(xa)}if(ha.current=as,t=null!==ga&&null!==ga.next,fa=0,va=ga=ma=null,ya=!1,t)throw Error(o(300));return e}function Ca(){var e=0!==ba;return ba=0,e}function Ea(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===va?ma.memoizedState=va=e:va=va.next=e,va}function Ta(){if(null===ga){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===va?ma.memoizedState:va.next;if(null!==t)va=t,ga=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===va?ma.memoizedState=va=e:va=va.next=e}return va}function Ma(e,t){return"function"===typeof t?t(e):t}function Pa(e){var t=Ta(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=ga,r=i.baseQueue,a=n.pending;if(null!==a){if(null!==r){var s=r.next;r.next=a.next,a.next=s}i.baseQueue=r=a,n.pending=null}if(null!==r){a=r.next,i=i.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((fa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=i):c=c.next=h,ma.lanes|=d,Fl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=i:c.next=l,si(i,t.memoizedState)||(bs=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{a=r.lane,ma.lanes|=a,Fl|=a,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Aa(e){var t=Ta(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{a=e(a,s.action),s=s.next}while(s!==r);si(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Ia(){}function La(e,t){var n=ma,i=Ta(),r=t(),a=!si(i.memoizedState,r);if(a&&(i.memoizedState=r,bs=!0),i=i.queue,Ha(Ra.bind(null,n,i,e),[e]),i.getSnapshot!==t||a||null!==va&&1&va.memoizedState.tag){if(n.flags|=2048,Na(9,Oa.bind(null,n,i,r,t),void 0,null),null===Al)throw Error(o(349));0!==(30&fa)||Da(n,t,r)}return r}function Da(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oa(e,t,n,i){t.value=n,t.getSnapshot=i,za(t)&&Fa(e)}function Ra(e,t,n){return n((function(){za(t)&&Fa(e)}))}function za(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!si(e,n)}catch(i){return!0}}function Fa(e){var t=Ao(e,1);null!==t&&ic(t,e,1,-1)}function Ba(e){var t=Ea();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ma,e),[t.memoizedState,e]}function Na(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function ja(){return Ta().memoizedState}function Va(e,t,n,i){var r=Ea();ma.flags|=e,r.memoizedState=Na(1|t,n,void 0,void 0===i?null:i)}function Wa(e,t,n,i){var r=Ta();i=void 0===i?null:i;var o=void 0;if(null!==ga){var a=ga.memoizedState;if(o=a.destroy,null!==i&&ka(i,a.deps))return void(r.memoizedState=Na(t,n,o,i))}ma.flags|=e,r.memoizedState=Na(1|t,n,o,i)}function Ua(e,t){return Va(8390656,8,e,t)}function Ha(e,t){return Wa(2048,8,e,t)}function Xa(e,t){return Wa(4,2,e,t)}function Ga(e,t){return Wa(4,4,e,t)}function Ya(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Wa(4,4,Ya.bind(null,t,e),n)}function Ka(){}function $a(e,t){var n=Ta();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ka(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Za(e,t){var n=Ta();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ka(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0===(21&fa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(si(n,t)||(n=mt(),ma.lanes|=n,Fl|=n,e.baseState=!0),t)}function Qa(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var i=pa.transition;pa.transition={};try{e(!1),t()}finally{xt=n,pa.transition=i}}function es(){return Ta().memoizedState}function ts(e,t,n){var i=nc(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},is(e))rs(t,n);else if(null!==(n=Po(e,t,n,i))){ic(n,e,i,tc()),os(n,t,i)}}function ns(e,t,n){var i=nc(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(is(e))rs(t,r);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(r.hasEagerState=!0,r.eagerState=s,si(s,a)){var l=t.interleaved;return null===l?(r.next=r,Mo(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Po(e,t,r,i))&&(ic(n,e,i,r=tc()),os(n,t,i))}}function is(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function rs(e,t){xa=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:Eo,useCallback:wa,useContext:wa,useEffect:wa,useImperativeHandle:wa,useInsertionEffect:wa,useLayoutEffect:wa,useMemo:wa,useReducer:wa,useRef:wa,useState:wa,useDebugValue:wa,useDeferredValue:wa,useTransition:wa,useMutableSource:wa,useSyncExternalStore:wa,useId:wa,unstable_isNewReconciler:!1},ss={readContext:Eo,useCallback:function(e,t){return Ea().memoizedState=[e,void 0===t?null:t],e},useContext:Eo,useEffect:Ua,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4194308,4,Ya.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=Ea();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Ea();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=ts.bind(null,ma,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Ea().memoizedState=e},useState:Ba,useDebugValue:Ka,useDeferredValue:function(e){return Ea().memoizedState=e},useTransition:function(){var e=Ba(!1),t=e[0];return e=Qa.bind(null,e[1]),Ea().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=ma,r=Ea();if(ro){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Al)throw Error(o(349));0!==(30&fa)||Da(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,Ua(Ra.bind(null,i,a,e),[e]),i.flags|=2048,Na(9,Oa.bind(null,i,a,n,t),void 0,null),n},useId:function(){var e=Ea(),t=Al.identifierPrefix;if(ro){var n=Zr;t=":"+t+"R"+(n=($r&~(1<<32-at($r)-1)).toString(32)+n),0<(n=ba++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_a++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Eo,useCallback:$a,useContext:Eo,useEffect:Ha,useImperativeHandle:qa,useInsertionEffect:Xa,useLayoutEffect:Ga,useMemo:Za,useReducer:Pa,useRef:ja,useState:function(){return Pa(Ma)},useDebugValue:Ka,useDeferredValue:function(e){return Ja(Ta(),ga.memoizedState,e)},useTransition:function(){return[Pa(Ma)[0],Ta().memoizedState]},useMutableSource:Ia,useSyncExternalStore:La,useId:es,unstable_isNewReconciler:!1},cs={readContext:Eo,useCallback:$a,useContext:Eo,useEffect:Ha,useImperativeHandle:qa,useInsertionEffect:Xa,useLayoutEffect:Ga,useMemo:Za,useReducer:Aa,useRef:ja,useState:function(){return Aa(Ma)},useDebugValue:Ka,useDeferredValue:function(e){var t=Ta();return null===ga?t.memoizedState=e:Ja(t,ga.memoizedState,e)},useTransition:function(){return[Aa(Ma)[0],Ta().memoizedState]},useMutableSource:Ia,useSyncExternalStore:La,useId:es,unstable_isNewReconciler:!1};function us(e,t){try{var n="",i=t;do{n+=V(i),i=i.return}while(i);var r=n}catch(o){r="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:r,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Oo(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Xl||(Xl=!0,Gl=i),hs(0,t)},n}function ms(e,t,n){(n=Oo(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){hs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof i&&(null===Yl?Yl=new Set([this]):Yl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new ps;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oo(-1,1)).tag=2,Ro(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var xs=b.ReactCurrentOwner,bs=!1;function _s(e,t,n,i){t.child=null===e?Jo(t,null,n,i):Zo(t,e.child,n,i)}function ws(e,t,n,i,r){n=n.render;var o=t.ref;return Co(t,r),i=Sa(e,t,n,i,o,r),n=Ca(),null===e||bs?(ro&&n&&eo(t),t.flags|=1,_s(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Xs(e,t,r))}function ks(e,t,n,i,r){if(null===e){var o=n.type;return"function"!==typeof o||Dc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ss(e,t,o,i,r))}if(o=e.child,0===(e.lanes&r)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:li)(a,i)&&e.ref===t.ref)return Xs(e,t,r)}return t.flags|=1,(e=Oc(o,i)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,i,r){if(null!==e){var o=e.memoizedProps;if(li(o,i)&&e.ref===t.ref){if(bs=!1,t.pendingProps=i=o,0===(e.lanes&r))return t.lanes=e.lanes,Xs(e,t,r);0!==(131072&e.flags)&&(bs=!0)}}return Ts(e,t,n,i,r)}function Cs(e,t,n){var i=t.pendingProps,r=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Er(Ol,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Er(Ol,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==o?o.baseLanes:n,Er(Ol,Dl),Dl|=i}else null!==o?(i=o.baseLanes|n,t.memoizedState=null):i=n,Er(Ol,Dl),Dl|=i;return _s(e,t,r,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,i,r){var o=Lr(n)?Ar:Mr.current;return o=Ir(t,o),Co(t,r),n=Sa(e,t,n,i,o,r),i=Ca(),null===e||bs?(ro&&i&&eo(t),t.flags|=1,_s(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Xs(e,t,r))}function Ms(e,t,n,i,r){if(Lr(n)){var o=!0;zr(t)}else o=!1;if(Co(t,r),null===t.stateNode)Hs(e,t),Ho(t,n,i),Go(t,n,i,r),i=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Eo(c):c=Ir(t,c=Lr(n)?Ar:Mr.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==i||l!==c)&&Xo(t,a,i,c),Io=!1;var h=t.memoizedState;a.state=h,Bo(t,i,a,r),l=t.memoizedState,s!==i||h!==l||Pr.current||Io?("function"===typeof u&&(Vo(t,n,u,i),l=t.memoizedState),(s=Io||Uo(t,n,s,i,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),a.props=i,a.state=l,a.context=c,i=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,Do(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:vo(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Eo(l):l=Ir(t,l=Lr(n)?Ar:Mr.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&Xo(t,a,i,l),Io=!1,h=t.memoizedState,a.state=h,Bo(t,i,a,r);var f=t.memoizedState;s!==d||h!==f||Pr.current||Io?("function"===typeof p&&(Vo(t,n,p,i),f=t.memoizedState),(c=Io||Uo(t,n,c,i,h,f,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=f),a.props=i,a.state=f,a.context=l,i=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return Ps(e,t,n,i,o,r)}function Ps(e,t,n,i,r,o){Es(e,t);var a=0!==(128&t.flags);if(!i&&!a)return r&&Fr(t,n,!1),Xs(e,t,o);i=t.stateNode,xs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&a?(t.child=Zo(t,e.child,null,o),t.child=Zo(t,null,s,o)):_s(e,t,s,o),t.memoizedState=i.state,r&&Fr(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Or(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Or(0,t.context,!1),ra(e,t.containerInfo)}function Is(e,t,n,i,r){return fo(),mo(r),t.flags|=256,_s(e,t,n,i),t.child}var Ls,Ds,Os,Rs,zs={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bs(e,t,n){var i,r=t.pendingProps,a=la.current,s=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&a)),i?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Er(la,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Fc(l,r,0,null),e=zc(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=zs,e):Ns(t,l));if(null!==(a=e.memoizedState)&&null!==(i=a.dehydrated))return function(e,t,n,i,r,a,s){if(n)return 256&t.flags?(t.flags&=-257,js(e,t,s,i=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=i.fallback,r=t.mode,i=Fc({mode:"visible",children:i.children},r,0,null),(a=zc(a,r,s,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,0!==(1&t.mode)&&Zo(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=zs,a);if(0===(1&t.mode))return js(e,t,s,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,js(e,t,s,i=ds(a=Error(o(419)),i,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(i=Al)){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|s))?0:r)&&r!==a.retryLane&&(a.retryLane=r,Ao(e,r),ic(i,e,r,-1))}return gc(),js(e,t,s,i=ds(Error(o(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Mc.bind(null,e),r._reactRetry=t,null):(e=a.treeContext,io=cr(r.nextSibling),no=t,ro=!0,oo=null,null!==e&&(Yr[qr++]=$r,Yr[qr++]=Zr,Yr[qr++]=Kr,$r=e.id,Zr=e.overflow,Kr=t),t=Ns(t,i.children),t.flags|=4096,t)}(e,t,l,r,i,a,n);if(s){s=r.fallback,l=t.mode,i=(a=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==a?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==i?s=Oc(i,s):(s=zc(s,l,n,null)).flags|=2,s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=null===(l=e.child.memoizedState)?Fs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=zs,r}return e=(s=e.child).sibling,r=Oc(s,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ns(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function js(e,t,n,i){return null!==i&&mo(i),Zo(t,e.child,null,n),(e=Ns(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),So(e.return,t,n)}function Ws(e,t,n,i,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function Us(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(_s(e,t,i.children,n),0!==(2&(i=la.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Er(la,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ws(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ca(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ws(t,!0,n,null,o);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!ro)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ys(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function qs(e,t,n){var i=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ys(t),null;case 1:case 17:return Lr(t.type)&&Dr(),Ys(t),null;case 3:return i=t.stateNode,oa(),Cr(Pr),Cr(Mr),da(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Ds(e,t),Ys(t),null;case 5:sa(t);var r=ia(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(o(166));return Ys(t),null}if(e=ia(ea.current),ho(t)){i=t.stateNode,n=t.type;var a=t.memoizedProps;switch(i[hr]=t,i[pr]=a,e=0!==(1&t.mode),n){case"dialog":Ni("cancel",i),Ni("close",i);break;case"iframe":case"object":case"embed":Ni("load",i);break;case"video":case"audio":for(r=0;r<Ri.length;r++)Ni(Ri[r],i);break;case"source":Ni("error",i);break;case"img":case"image":case"link":Ni("error",i),Ni("load",i);break;case"details":Ni("toggle",i);break;case"input":$(i,a),Ni("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Ni("invalid",i);break;case"textarea":re(i,a),Ni("invalid",i)}for(var l in ye(n,a),r=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==a.suppressHydrationWarning&&Ji(i.textContent,c,e),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Ji(i.textContent,c,e),r=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ni("scroll",i)}switch(n){case"input":G(i),Q(i,a,!0);break;case"textarea":G(i),ae(i);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(i.onclick=Qi)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[hr]=t,e[pr]=i,Ls(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,i),n){case"dialog":Ni("cancel",e),Ni("close",e),r=i;break;case"iframe":case"object":case"embed":Ni("load",e),r=i;break;case"video":case"audio":for(r=0;r<Ri.length;r++)Ni(Ri[r],e);r=i;break;case"source":Ni("error",e),r=i;break;case"img":case"image":case"link":Ni("error",e),Ni("load",e),r=i;break;case"details":Ni("toggle",e),r=i;break;case"input":$(e,i),r=K(e,i),Ni("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=F({},i,{value:void 0}),Ni("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),Ni("invalid",e)}for(a in ye(n,r),c=r)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ni("scroll",e):null!=u&&x(e,a,u,l))}switch(n){case"input":G(e),Q(e,i,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=i.value&&e.setAttribute("value",""+H(i.value));break;case"select":e.multiple=!!i.multiple,null!=(a=i.value)?ne(e,!!i.multiple,a,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Qi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ys(t),null;case 6:if(e&&null!=t.stateNode)Rs(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(o(166));if(n=ia(na.current),ia(ea.current),ho(t)){if(i=t.stateNode,n=t.memoizedProps,i[hr]=t,(a=i.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Ji(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ji(i.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[hr]=t,t.stateNode=i}return Ys(t),null;case 13:if(Cr(la),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ro&&null!==io&&0!==(1&t.mode)&&0===(128&t.flags))po(),fo(),t.flags|=98560,a=!1;else if(a=ho(t),null!==i&&null!==i.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hr]=t}else fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ys(t),a=!1}else null!==oo&&(sc(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&la.current)?0===Rl&&(Rl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ys(t),null);case 4:return oa(),Ds(e,t),null===e&&Wi(t.stateNode.containerInfo),Ys(t),null;case 10:return ko(t.type._context),Ys(t),null;case 19:if(Cr(la),null===(a=t.memoizedState))return Ys(t),null;if(i=0!==(128&t.flags),null===(l=a.rendering))if(i)Gs(a,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ca(e))){for(t.flags|=128,Gs(a,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Er(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&Ze()>Ul&&(t.flags|=128,i=!0,Gs(a,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=ca(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ro)return Ys(t),null}else 2*Ze()-a.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,i=!0,Gs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ze(),t.sibling=null,n=la.current,Er(la,i?1&n|2:1&n),t):(Ys(t),null);case 22:case 23:return hc(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Ys(t),6&t.subtreeFlags&&(t.flags|=8192)):Ys(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ks(e,t){switch(to(t),t.tag){case 1:return Lr(t.type)&&Dr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Cr(Pr),Cr(Mr),da(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Cr(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Cr(la),null;case 4:return oa(),null;case 10:return ko(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ls=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},Os=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,ia(ea.current);var o,a=null;switch(n){case"input":r=K(e,r),i=K(e,i),a=[];break;case"select":r=F({},r,{value:void 0}),i=F({},i,{value:void 0}),a=[];break;case"textarea":r=ie(e,r),i=ie(e,i),a=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=Qi)}for(u in ye(n,i),n=null,r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=r?r[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ni("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Rs=function(e,t,n,i){n!==i&&(t.flags|=4)};var $s=!1,Zs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Qs=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Cc(e,t,i)}else n.current=null}function tl(e,t,n){try{n()}catch(i){Cc(e,t,i)}}var nl=!1;function il(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var o=r.destroy;r.destroy=void 0,void 0!==o&&tl(t,n,o)}r=r.next}while(r!==i)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hr],delete t[pr],delete t[mr],delete t[gr],delete t[vr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qi));else if(4!==i&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function pl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:Zs||el(n,t);case 6:var i=dl,r=hl;dl=null,pl(e,t,n),hl=r,null!==(dl=i)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Wt(e)):lr(dl,n.stateNode));break;case 4:i=dl,r=hl,dl=n.stateNode.containerInfo,hl=!0,pl(e,t,n),dl=i,hl=r;break;case 0:case 11:case 14:case 15:if(!Zs&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var o=r,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tl(n,t,a),r=r.next}while(r!==i)}pl(e,t,n);break;case 1:if(!Zs&&(el(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(s){Cc(n,t,s)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Zs=(i=Zs)||null!==n.memoizedState,pl(e,t,n),Zs=i):pl(e,t,n);break;default:pl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var i=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));fl(a,s,r),dl=null,hl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){Cc(r,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&i){try{il(3,e,e.return),rl(3,e)}catch(g){Cc(e,e.return,g)}try{il(5,e,e.return)}catch(g){Cc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&i&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&i&&null!==n&&el(n,n.return),32&e.flags){var r=e.stateNode;try{he(r,"")}catch(g){Cc(e,e.return,g)}}if(4&i&&null!=(r=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Z(r,a),xe(l,s);var u=xe(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(r,h):"dangerouslySetInnerHTML"===d?de(r,h):"children"===d?he(r,h):x(r,d,h,u)}switch(l){case"input":J(r,a);break;case"textarea":oe(r,a);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(r,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(r,!!a.multiple,a.defaultValue,!0):ne(r,!!a.multiple,a.multiple?[]:"",!1))}r[pr]=a}catch(g){Cc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&i){if(null===e.stateNode)throw Error(o(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(g){Cc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(g){Cc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(r=e.child).flags&&(a=null!==r.memoizedState,r.stateNode.isHidden=a,!a||null!==r.alternate&&null!==r.alternate.memoizedState||(Wl=Ze())),4&i&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Zs=(u=Zs)||d,gl(t,e),Zs=u):gl(t,e),yl(e),8192&i){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Qs=e,d=e.child;null!==d;){for(h=Qs=d;null!==Qs;){switch(f=(p=Qs).child,p.tag){case 0:case 11:case 14:case 15:il(4,p,p.return);break;case 1:el(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){i=p,n=p.return;try{t=i,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Cc(i,n,g)}}break;case 5:el(p,p.return);break;case 22:if(null!==p.memoizedState){wl(h);continue}}null!==f?(f.return=p,Qs=f):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{r=h.stateNode,u?"function"===typeof(a=r.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Cc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Cc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),yl(e),4&i&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var i=n;break e}n=n.return}throw Error(o(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(he(r,""),i.flags&=-33),ul(e,ll(e),r);break;case 3:case 4:var a=i.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(o(161))}}catch(s){Cc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,n){Qs=e,bl(e,t,n)}function bl(e,t,n){for(var i=0!==(1&e.mode);null!==Qs;){var r=Qs,o=r.child;if(22===r.tag&&i){var a=null!==r.memoizedState||$s;if(!a){var s=r.alternate,l=null!==s&&null!==s.memoizedState||Zs;s=$s;var c=Zs;if($s=a,(Zs=l)&&!c)for(Qs=r;null!==Qs;)l=(a=Qs).child,22===a.tag&&null!==a.memoizedState?kl(r):null!==l?(l.return=a,Qs=l):kl(r);for(;null!==o;)Qs=o,bl(o,t,n),o=o.sibling;Qs=r,$s=s,Zs=c}_l(e)}else 0!==(8772&r.subtreeFlags)&&null!==o?(o.return=r,Qs=o):_l(e)}}function _l(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Zs||rl(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Zs)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&No(t,a,i);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}No(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Wt(h)}}}break;default:throw Error(o(163))}Zs||512&t.flags&&ol(t)}catch(p){Cc(t,t.return,p)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function wl(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function kl(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Cc(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(l){Cc(t,r,l)}}var o=t.return;try{ol(t)}catch(l){Cc(t,o,l)}break;case 5:var a=t.return;try{ol(t)}catch(l){Cc(t,a,l)}}}catch(l){Cc(t,t.return,l)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var Sl,Cl=Math.ceil,El=b.ReactCurrentDispatcher,Tl=b.ReactCurrentOwner,Ml=b.ReactCurrentBatchConfig,Pl=0,Al=null,Il=null,Ll=0,Dl=0,Ol=Sr(0),Rl=0,zl=null,Fl=0,Bl=0,Nl=0,jl=null,Vl=null,Wl=0,Ul=1/0,Hl=null,Xl=!1,Gl=null,Yl=null,ql=!1,Kl=null,$l=0,Zl=0,Jl=null,Ql=-1,ec=0;function tc(){return 0!==(6&Pl)?Ze():-1!==Ql?Ql:Ql=Ze()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==Ll?Ll&-Ll:null!==go.transition?(0===ec&&(ec=mt()),ec):0!==(e=xt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function ic(e,t,n,i){if(50<Zl)throw Zl=0,Jl=null,Error(o(185));vt(e,n,i),0!==(2&Pl)&&e===Al||(e===Al&&(0===(2&Pl)&&(Bl|=n),4===Rl&&lc(e,Ll)),rc(e,i),1===n&&0===Pl&&0===(1&t.mode)&&(Ul=Ze()+500,Nr&&Wr()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=r[a];-1===l?0!==(s&n)&&0===(s&i)||(r[a]=pt(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var i=ht(e,e===Al?Ll:0);if(0===i)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Nr=!0,Vr(e)}(cc.bind(null,e)):Vr(cc.bind(null,e)),ar((function(){0===(6&Pl)&&Wr()})),n=null;else{switch(bt(i)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Ac(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Ql=-1,ec=0,0!==(6&Pl))throw Error(o(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var i=ht(e,e===Al?Ll:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=vc(e,i);else{t=i;var r=Pl;Pl|=2;var a=mc();for(Al===e&&Ll===t||(Hl=null,Ul=Ze()+500,pc(e,t));;)try{xc();break}catch(l){fc(e,l)}wo(),El.current=a,Pl=r,null!==Il?t=0:(Al=null,Ll=0,t=Rl)}if(0!==t){if(2===t&&(0!==(r=ft(e))&&(i=r,t=ac(e,r))),1===t)throw n=zl,pc(e,0),lc(e,i),rc(e,Ze()),n;if(6===t)lc(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!si(o(),r))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=vc(e,i))&&(0!==(a=ft(e))&&(i=a,t=ac(e,a))),1===t))throw n=zl,pc(e,0),lc(e,i),rc(e,Ze()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(o(345));case 2:case 5:wc(e,Vl,Hl);break;case 3:if(lc(e,i),(130023424&i)===i&&10<(t=Wl+500-Ze())){if(0!==ht(e,0))break;if(((r=e.suspendedLanes)&i)!==i){tc(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(wc.bind(null,e,Vl,Hl),t);break}wc(e,Vl,Hl);break;case 4:if(lc(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var s=31-at(i);a=1<<s,(s=t[s])>r&&(r=s),i&=~a}if(i=r,10<(i=(120>(i=Ze()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Cl(i/1960))-i)){e.timeoutHandle=ir(wc.bind(null,e,Vl,Hl),i);break}wc(e,Vl,Hl);break;default:throw Error(o(329))}}}return rc(e,Ze()),e.callbackNode===n?oc.bind(null,e):null}function ac(e,t){var n=jl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Vl,Vl=n,null!==t&&sc(t)),e}function sc(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function lc(e,t){for(t&=~Nl,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),i=1<<n;e[n]=-1,t&=~i}}function cc(e){if(0!==(6&Pl))throw Error(o(327));kc();var t=ht(e,0);if(0===(1&t))return rc(e,Ze()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var i=ft(e);0!==i&&(t=i,n=ac(e,i))}if(1===n)throw n=zl,pc(e,0),lc(e,t),rc(e,Ze()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vl,Hl),rc(e,Ze()),null}function uc(e,t){var n=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=n)&&(Ul=Ze()+500,Nr&&Wr())}}function dc(e){null!==Kl&&0===Kl.tag&&0===(6&Pl)&&kc();var t=Pl;Pl|=1;var n=Ml.transition,i=xt;try{if(Ml.transition=null,xt=1,e)return e()}finally{xt=i,Ml.transition=n,0===(6&(Pl=t))&&Wr()}}function hc(){Dl=Ol.current,Cr(Ol)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Il)for(n=Il.return;null!==n;){var i=n;switch(to(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Dr();break;case 3:oa(),Cr(Pr),Cr(Mr),da();break;case 5:sa(i);break;case 4:oa();break;case 13:case 19:Cr(la);break;case 10:ko(i.type._context);break;case 22:case 23:hc()}n=n.return}if(Al=e,Il=e=Oc(e.current,null),Ll=Dl=t,Rl=0,zl=null,Nl=Bl=Fl=0,Vl=jl=null,null!==To){for(t=0;t<To.length;t++)if(null!==(i=(n=To[t]).interleaved)){n.interleaved=null;var r=i.next,o=n.pending;if(null!==o){var a=o.next;o.next=r,i.next=a}n.pending=i}To=null}return e}function fc(e,t){for(;;){var n=Il;try{if(wo(),ha.current=as,ya){for(var i=ma.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}ya=!1}if(fa=0,va=ga=ma=null,xa=!1,ba=0,Tl.current=null,null===n||null===n.return){Rl=1,zl=t,Il=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Ll,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=vs(s);if(null!==f){f.flags&=-257,ys(f,s,l,0,t),1&f.mode&&gs(a,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){gs(a,u,t),gc();break e}c=Error(o(426))}else if(ro&&1&l.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ys(v,s,l,0,t),mo(us(c,l));break e}}a=c=us(c,l),4!==Rl&&(Rl=2),null===jl?jl=[a]:jl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,fs(0,c,t));break e;case 1:l=c;var y=a.type,x=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Yl||!Yl.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,ms(a,l,t));break e}}a=a.return}while(null!==a)}_c(n)}catch(b){t=b,Il===n&&null!==n&&(Il=n=n.return);continue}break}}function mc(){var e=El.current;return El.current=as,null===e?as:e}function gc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Al||0===(268435455&Fl)&&0===(268435455&Bl)||lc(Al,Ll)}function vc(e,t){var n=Pl;Pl|=2;var i=mc();for(Al===e&&Ll===t||(Hl=null,pc(e,t));;)try{yc();break}catch(r){fc(e,r)}if(wo(),Pl=n,El.current=i,null!==Il)throw Error(o(261));return Al=null,Ll=0,Rl}function yc(){for(;null!==Il;)bc(Il)}function xc(){for(;null!==Il&&!Ke();)bc(Il)}function bc(e){var t=Sl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?_c(e):Il=t,Tl.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qs(n,t,Dl)))return void(Il=n)}else{if(null!==(n=Ks(n,t)))return n.flags&=32767,void(Il=n);if(null===e)return Rl=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===Rl&&(Rl=5)}function wc(e,t,n){var i=xt,r=Ml.transition;try{Ml.transition=null,xt=1,function(e,t,n,i){do{kc()}while(null!==Kl);if(0!==(6&Pl))throw Error(o(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-at(n),o=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~o}}(e,a),e===Al&&(Il=Al=null,Ll=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||ql||(ql=!0,Ac(tt,(function(){return kc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ml.transition,Ml.transition=null;var s=xt;xt=1;var l=Pl;Pl|=4,Tl.current=null,function(e,t){if(er=Ht,pi(e=hi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(_){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==r&&3!==h.nodeType||(l=s+r),h!==a||0!==i&&3!==h.nodeType||(c=s+i),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===r&&(l=s),p===a&&++d===i&&(c=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Ht=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(_){Cc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}m=nl,nl=!1}(e,n),vl(n,e),fi(tr),Ht=!!er,tr=er=null,e.current=n,xl(n,e,r),$e(),Pl=l,xt=s,Ml.transition=a}else e.current=n;if(ql&&(ql=!1,Kl=e,$l=r),a=e.pendingLanes,0===a&&(Yl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ze()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Xl)throw Xl=!1,e=Gl,Gl=null,e;0!==(1&$l)&&0!==e.tag&&kc(),a=e.pendingLanes,0!==(1&a)?e===Jl?Zl++:(Zl=0,Jl=e):Zl=0,Wr()}(e,t,n,i)}finally{Ml.transition=r,xt=i}return null}function kc(){if(null!==Kl){var e=bt($l),t=Ml.transition,n=xt;try{if(Ml.transition=null,xt=16>e?16:e,null===Kl)var i=!1;else{if(e=Kl,Kl=null,$l=0,0!==(6&Pl))throw Error(o(331));var r=Pl;for(Pl|=4,Qs=e.current;null!==Qs;){var a=Qs,s=a.child;if(0!==(16&Qs.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Qs=u;null!==Qs;){var d=Qs;switch(d.tag){case 0:case 11:case 15:il(8,d,a)}var h=d.child;if(null!==h)h.return=d,Qs=h;else for(;null!==Qs;){var p=(d=Qs).sibling,f=d.return;if(al(d),d===u){Qs=null;break}if(null!==p){p.return=f,Qs=p;break}Qs=f}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Qs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(a=Qs).flags))switch(a.tag){case 0:case 11:case 15:il(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Qs=y;break e}Qs=a.return}}var x=e.current;for(Qs=x;null!==Qs;){var b=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Qs=b;else e:for(s=x;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(w){Cc(l,l.return,w)}if(l===s){Qs=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Qs=_;break e}Qs=l.return}}if(Pl=r,Wr(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(rt,e)}catch(w){}i=!0}return i}finally{xt=n,Ml.transition=t}}return!1}function Sc(e,t,n){e=Ro(e,t=fs(0,t=us(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),rc(e,t))}function Cc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Yl||!Yl.has(i))){t=Ro(t,e=ms(t,e=us(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Ll&n)===n&&(4===Rl||3===Rl&&(130023424&Ll)===Ll&&500>Ze()-Wl?pc(e,0):Nl|=n),rc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ao(e,t))&&(vt(e,t,n),rc(e,n))}function Mc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(o(314))}null!==i&&i.delete(t),Tc(e,n)}function Ac(e,t){return Ye(e,t)}function Ic(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lc(e,t,n,i){return new Ic(e,t,n,i)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Lc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,i,r,a){var s=2;if(i=e,"function"===typeof e)Dc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return zc(n.children,r,a,t);case S:s=8,r|=8;break;case C:return(e=Lc(12,n,t,2|r)).elementType=C,e.lanes=a,e;case P:return(e=Lc(13,n,t,r)).elementType=P,e.lanes=a,e;case A:return(e=Lc(19,n,t,r)).elementType=A,e.lanes=a,e;case D:return Fc(n,r,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case T:s=9;break e;case M:s=11;break e;case I:s=14;break e;case L:s=16,i=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Lc(s,n,t,r)).elementType=e,t.type=i,t.lanes=a,t}function zc(e,t,n,i){return(e=Lc(7,e,i,t)).lanes=n,e}function Fc(e,t,n,i){return(e=Lc(22,e,i,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Bc(e,t,n){return(e=Lc(6,e,null,t)).lanes=n,e}function Nc(e,t,n){return(t=Lc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,i,r,o,a,s,l){return e=new jc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Lc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(o),e}function Wc(e){if(!e)return Tr;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Lr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Lr(n))return Rr(e,n,t)}return t}function Uc(e,t,n,i,r,o,a,s,l){return(e=Vc(n,i,!0,e,0,o,0,s,l)).context=Wc(null),n=e.current,(o=Oo(i=tc(),r=nc(n))).callback=void 0!==t&&null!==t?t:null,Ro(n,o,r),e.current.lanes=r,vt(e,r,i),rc(e,i),e}function Hc(e,t,n,i){var r=t.current,o=tc(),a=nc(r);return n=Wc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oo(o,a)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Ro(r,t,a))&&(ic(e,r,a,o),zo(e,r,a)),a}function Xc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pr.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:As(t),fo();break;case 5:aa(t);break;case 1:Lr(t.type)&&zr(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Er(yo,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Er(la,1&la.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Bs(e,t,n):(Er(la,1&la.current),null!==(e=Xs(e,t,n))?e.sibling:null);Er(la,1&la.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return Us(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Er(la,la.current),i)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return Xs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ro&&0!==(1048576&t.flags)&&Qr(t,Gr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Hs(e,t),e=t.pendingProps;var r=Ir(t,Mr.current);Co(t,n),r=Sa(null,t,i,e,r,n);var a=Ca();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Lr(i)?(a=!0,zr(t)):a=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Lo(t),r.updater=Wo,t.stateNode=r,r._reactInternals=t,Go(t,i,e,n),t=Ps(null,t,i,!0,a,n)):(t.tag=0,ro&&a&&eo(t),_s(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===M)return 11;if(e===I)return 14}return 2}(i),e=vo(i,e),r){case 0:t=Ts(null,t,i,e,n);break e;case 1:t=Ms(null,t,i,e,n);break e;case 11:t=ws(null,t,i,e,n);break e;case 14:t=ks(null,t,i,vo(i.type,e),n);break e}throw Error(o(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Ts(e,t,i,r=t.elementType===i?r:vo(i,r),n);case 1:return i=t.type,r=t.pendingProps,Ms(e,t,i,r=t.elementType===i?r:vo(i,r),n);case 3:e:{if(As(t),null===e)throw Error(o(387));i=t.pendingProps,r=(a=t.memoizedState).element,Do(e,t),Bo(t,i,null,n);var s=t.memoizedState;if(i=s.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Is(e,t,i,n,r=us(Error(o(423)),t));break e}if(i!==r){t=Is(e,t,i,n,r=us(Error(o(424)),t));break e}for(io=cr(t.stateNode.containerInfo.firstChild),no=t,ro=!0,oo=null,n=Jo(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),i===r){t=Xs(e,t,n);break e}_s(e,t,i,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),i=t.type,r=t.pendingProps,a=null!==e?e.memoizedProps:null,s=r.children,nr(i,r)?s=null:null!==a&&nr(i,a)&&(t.flags|=32),Es(e,t),_s(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Bs(e,t,n);case 4:return ra(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Zo(t,null,i,n):_s(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,ws(e,t,i,r=t.elementType===i?r:vo(i,r),n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,a=t.memoizedProps,s=r.value,Er(yo,i._currentValue),i._currentValue=s,null!==a)if(si(a.value,s)){if(a.children===r.children&&!Pr.current){t=Xs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===a.tag){(c=Oo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),So(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),So(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}_s(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,Co(t,n),i=i(r=Eo(r)),t.flags|=1,_s(e,t,i,n),t.child;case 14:return r=vo(i=t.type,t.pendingProps),ks(e,t,i,r=vo(i.type,r),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:vo(i,r),Hs(e,t),t.tag=1,Lr(i)?(e=!0,zr(t)):e=!1,Co(t,n),Ho(t,i,r),Go(t,i,r,n),Ps(null,t,i,!0,e,n);case 19:return Us(e,t,n);case 22:return Cs(e,t,n)}throw Error(o(156,t.tag))};var qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function eu(e,t,n,i,r){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof r){var s=r;r=function(){var e=Xc(a);s.call(e)}}Hc(t,a,e,r)}else a=function(e,t,n,i,r){if(r){if("function"===typeof i){var o=i;i=function(){var e=Xc(a);o.call(e)}}var a=Uc(t,i,e,0,null,!1,0,"",Qc);return e._reactRootContainer=a,e[fr]=a.current,Wi(8===e.nodeType?e.parentNode:e),dc(),a}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var s=i;i=function(){var e=Xc(l);s.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[fr]=l.current,Wi(8===e.nodeType?e.parentNode:e),dc((function(){Hc(t,l,n,i)})),l}(n,t,e,r,i);return Xc(a)}$c.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hc(e,t,null,null)},$c.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Hc(null,e,null,null)})),t[fr]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Ze()),0===(6&Pl)&&(Ul=Ze()+500,Wr()))}break;case 13:dc((function(){var t=Ao(e,1);if(null!==t){var n=tc();ic(t,e,1,n)}})),Yc(e,1)}},wt=function(e){if(13===e.tag){var t=Ao(e,134217728);if(null!==t)ic(t,e,134217728,tc());Yc(e,134217728)}},kt=function(e){if(13===e.tag){var t=nc(e),n=Ao(e,t);if(null!==n)ic(n,e,t,tc());Yc(e,t)}},St=function(){return xt},Ct=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=_r(i);if(!r)throw Error(o(90));Y(i),J(i,r)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Me=uc,Pe=dc;var tu={usingClientEntryPoint:!1,Events:[xr,br,_r,Ee,Te,uc]},nu={findFiberByHostInstance:yr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},iu={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{rt=ru.inject(iu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(o(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zc(e))throw Error(o(299));var n=!1,i="",r=qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,i,r),e[fr]=t.current,Wi(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zc(e))throw Error(o(405));var i=null!=n&&n.hydratedSources||null,r=!1,a="",s=qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,r,0,a,s),e[fr]=t.current,Wi(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[fr]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,i)},t.version="18.2.0-next-9e3b772b8-20220608"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},77:function(e){var t="undefined"!==typeof Element,n="function"===typeof Map,i="function"===typeof Set,r="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var s,l,c,u;if(Array.isArray(e)){if((s=e.length)!=a.length)return!1;for(l=s;0!==l--;)if(!o(e[l],a[l]))return!1;return!0}if(n&&e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!o(l.value[1],a.get(l.value[0])))return!1;return!0}if(i&&e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if((s=e.length)!=a.length)return!1;for(l=s;0!==l--;)if(e[l]!==a[l])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===a.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(l=s;0!==l--;)if(!Object.prototype.hasOwnProperty.call(a,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=s;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!o(e[c[l]],a[c[l]]))return!1;return!0}return e!==e&&a!==a}e.exports=function(e,t){try{return o(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},1372:function(e,t){"use strict";var n,i=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case o:case s:case a:case h:case p:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case f:case l:return e;default:return t}}case r:return t}}}n=Symbol.for("react.module.reference"),t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===s||e===a||e===h||e===p||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===f||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===n||void 0!==e.getModuleId)},t.typeOf=v},7441:function(e,t,n){"use strict";e.exports=n(1372)},8459:function(e,t){"use strict";var n=60103,i=60106,r=60107,o=60108,a=60114,s=60109,l=60110,c=60112,u=60113,d=60120,h=60115,p=60116,f=60121,m=60122,g=60117,v=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var x=Symbol.for;n=x("react.element"),i=x("react.portal"),r=x("react.fragment"),o=x("react.strict_mode"),a=x("react.profiler"),s=x("react.provider"),l=x("react.context"),c=x("react.forward_ref"),u=x("react.suspense"),d=x("react.suspense_list"),h=x("react.memo"),p=x("react.lazy"),f=x("react.block"),m=x("react.server.block"),g=x("react.fundamental"),v=x("react.debug_trace_mode"),y=x("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case r:case a:case o:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case h:case s:return e;default:return t}}case i:return t}}}t.isContextConsumer=function(e){return b(e)===l}},6900:function(e,t,n){"use strict";e.exports=n(8459)},6374:function(e,t,n){"use strict";var i=n(2791),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,o={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,i)&&!l.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===o[i]&&(o[i]=t[i]);return{$$typeof:r,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=x.prototype=new y;b.constructor=x,m(b,v.prototype),b.isPureReactComponent=!0;var _=Array.isArray,w=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,i){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!S.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:k.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function M(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,r,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return a=a(l=e),e=""===o?"."+M(l,0):o,_(a)?(r="",null!=e&&(r=e.replace(T,"$&/")+"/"),P(a,t,r,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",_(e))for(var c=0;c<e.length;c++){var u=o+M(s=e[c],c);l+=P(s,t,r,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=P(s=s.value,t,r,u=o+M(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var i=[],r=0;return P(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function I(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},D={transition:null},O={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:D,ReactCurrentOwner:k};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=a,t.PureComponent=x,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!S.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:r,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<o(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,a=r>>>1;i<a;){var s=2*(i+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<r&&0>o(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[s]=n,i=s);else{if(!(c<r&&0>o(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function _(e){if(g=!1,b(e),!m)if(null!==i(c))m=!0,D(w);else{var t=i(u);null!==t&&O(_,t.startTime-e)}}function w(e,n){m=!1,g&&(g=!1,y(E),E=-1),f=!0;var o=p;try{for(b(n),h=i(c);null!==h&&(!(h.expirationTime>n)||e&&!P());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===i(c)&&r(c),b(n)}else r(c);h=i(c)}if(null!==h)var l=!0;else{var d=i(u);null!==d&&O(_,d.startTime-n),l=!1}return l}finally{h=null,p=o,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,C=null,E=-1,T=5,M=-1;function P(){return!(t.unstable_now()-M<T)}function A(){if(null!==C){var e=t.unstable_now();M=e;var n=!0;try{n=C(!0,e)}finally{n?k():(S=!1,C=null)}}else S=!1}if("function"===typeof x)k=function(){x(A)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,L=I.port2;I.port1.onmessage=A,k=function(){L.postMessage(null)}}else k=function(){v(A,0)};function D(e){C=e,S||(S=!0,k())}function O(e,n){E=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,D(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===i(c)&&e===i(u)&&(g?(y(E),E=-1):g=!0,O(_,o-a))):(e.sortIndex=s,n(c,e),m||f||(m=!0,D(w))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,i){var r=n?n.call(i,e,t):void 0;if(void 0!==r)return!!r;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!s(c))return!1;var u=e[c],d=t[c];if(!1===(r=n?n.call(i,u,d,c):void 0)||void 0===r&&u!==d)return!1}return!0}},8789:function(e,t,n){"use strict";n.r(t),n.d(t,{ServerStyleSheet:function(){return Ne},StyleSheetConsumer:function(){return ie},StyleSheetContext:function(){return ne},StyleSheetManager:function(){return ce},ThemeConsumer:function(){return Ie},ThemeContext:function(){return Ae},ThemeProvider:function(){return Le},__PRIVATE__:function(){return We},createGlobalStyle:function(){return Fe},css:function(){return xe},default:function(){return Ue},isStyledComponent:function(){return x},keyframes:function(){return Be},useTheme:function(){return Ve},version:function(){return _},withTheme:function(){return je}});var i=n(7441),r=n(2791),o=n(9613),a=n.n(o);var s=function(e){function t(e,i,l,c,h){for(var p,f,m,g,b,w=0,k=0,S=0,C=0,E=0,L=0,O=m=p=0,z=0,F=0,B=0,N=0,j=l.length,V=j-1,W="",U="",H="",X="";z<j;){if(f=l.charCodeAt(z),z===V&&0!==k+C+S+w&&(0!==k&&(f=47===k?10:47),C=S=w=0,j++,V++),0===k+C+S+w){if(z===V&&(0<F&&(W=W.replace(d,"")),0<W.trim().length)){switch(f){case 32:case 9:case 59:case 13:case 10:break;default:W+=l.charAt(z)}f=59}switch(f){case 123:for(p=(W=W.trim()).charCodeAt(0),m=1,N=++z;z<j;){switch(f=l.charCodeAt(z)){case 123:m++;break;case 125:m--;break;case 47:switch(f=l.charCodeAt(z+1)){case 42:case 47:e:{for(O=z+1;O<V;++O)switch(l.charCodeAt(O)){case 47:if(42===f&&42===l.charCodeAt(O-1)&&z+2!==O){z=O+1;break e}break;case 10:if(47===f){z=O+1;break e}}z=O}}break;case 91:f++;case 40:f++;case 34:case 39:for(;z++<V&&l.charCodeAt(z)!==f;);}if(0===m)break;z++}if(m=l.substring(N,z),0===p&&(p=(W=W.replace(u,"").trim()).charCodeAt(0)),64===p){switch(0<F&&(W=W.replace(d,"")),f=W.charCodeAt(1)){case 100:case 109:case 115:case 45:F=i;break;default:F=I}if(N=(m=t(i,F,m,f,h+1)).length,0<D&&(b=s(3,m,F=n(I,W,B),i,M,T,N,f,h,c),W=F.join(""),void 0!==b&&0===(N=(m=b.trim()).length)&&(f=0,m="")),0<N)switch(f){case 115:W=W.replace(_,a);case 100:case 109:case 45:m=W+"{"+m+"}";break;case 107:m=(W=W.replace(v,"$1 $2"))+"{"+m+"}",m=1===A||2===A&&o("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=W+m,112===c&&(U+=m,m="")}else m=""}else m=t(i,n(i,W,B),m,c,h+1);H+=m,m=B=F=O=p=0,W="",f=l.charCodeAt(++z);break;case 125:case 59:if(1<(N=(W=(0<F?W.replace(d,""):W).trim()).length))switch(0===O&&(p=W.charCodeAt(0),45===p||96<p&&123>p)&&(N=(W=W.replace(" ",":")).length),0<D&&void 0!==(b=s(1,W,i,e,M,T,U.length,c,h,c))&&0===(N=(W=b.trim()).length)&&(W="\0\0"),p=W.charCodeAt(0),f=W.charCodeAt(1),p){case 0:break;case 64:if(105===f||99===f){X+=W+l.charAt(z);break}default:58!==W.charCodeAt(N-1)&&(U+=r(W,p,f,W.charCodeAt(2)))}B=F=O=p=0,W="",f=l.charCodeAt(++z)}}switch(f){case 13:case 10:47===k?k=0:0===1+p&&107!==c&&0<W.length&&(F=1,W+="\0"),0<D*R&&s(0,W,i,e,M,T,U.length,c,h,c),T=1,M++;break;case 59:case 125:if(0===k+C+S+w){T++;break}default:switch(T++,g=l.charAt(z),f){case 9:case 32:if(0===C+w+k)switch(E){case 44:case 58:case 9:case 32:g="";break;default:32!==f&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===C+k+w&&(F=B=1,g="\f"+g);break;case 108:if(0===C+k+w+P&&0<O)switch(z-O){case 2:112===E&&58===l.charCodeAt(z-3)&&(P=E);case 8:111===L&&(P=L)}break;case 58:0===C+k+w&&(O=z);break;case 44:0===k+S+C+w&&(F=1,g+="\r");break;case 34:case 39:0===k&&(C=C===f?0:0===C?f:C);break;case 91:0===C+k+S&&w++;break;case 93:0===C+k+S&&w--;break;case 41:0===C+k+w&&S--;break;case 40:if(0===C+k+w){if(0===p)if(2*E+3*L===533);else p=1;S++}break;case 64:0===k+S+C+w+O+m&&(m=1);break;case 42:case 47:if(!(0<C+w+S))switch(k){case 0:switch(2*f+3*l.charCodeAt(z+1)){case 235:k=47;break;case 220:N=z,k=42}break;case 42:47===f&&42===E&&N+2!==z&&(33===l.charCodeAt(N+2)&&(U+=l.substring(N,z+1)),g="",k=0)}}0===k&&(W+=g)}L=E,E=f,z++}if(0<(N=U.length)){if(F=i,0<D&&(void 0!==(b=s(2,U,F,e,M,T,N,c,h,c))&&0===(U=b).length))return X+U+H;if(U=F.join(",")+"{"+U+"}",0!==A*P){switch(2!==A||o(U,2)||(P=0),P){case 111:U=U.replace(x,":-moz-$1")+U;break;case 112:U=U.replace(y,"::-webkit-input-$1")+U.replace(y,"::-moz-$1")+U.replace(y,":-ms-input-$1")+U}P=0}}return X+U+H}function n(e,t,n){var r=t.trim().split(m);t=r;var o=r.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=i(e,t[s],n).trim();break;default:var l=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[l++]=i(e[c]+" ",r[s],n).trim()}return t}function i(e,t,n){var i=t.charCodeAt(0);switch(33>i&&(i=(t=t.trim()).charCodeAt(0)),i){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function r(e,t,n,i){var a=e+";",s=2*t+3*n+4*i;if(944===s){e=a.indexOf(":",9)+1;var l=a.substring(e,a.length-1).trim();return l=a.substring(0,e).trim()+l+";",1===A||2===A&&o(l,1)?"-webkit-"+l+l:l}if(0===A||2===A&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(E,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(l=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+l+a;case 1005:return p.test(a)?a.replace(h,":-webkit-")+a.replace(h,":-moz-")+a:a;case 1e3:switch(t=(l=a.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=a.replace(b,"tb");break;case 232:l=a.replace(b,"tb-rl");break;case 220:l=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+l+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(l=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:a=a.replace(l,"-webkit-"+l)+";"+a;break;case 207:case 102:a=a.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(l,"-webkit-"+l)+";"+a.replace(l,"-ms-"+l+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return l=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+l+"-ms-flex-"+l+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(k,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(k,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===C.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?r(e.replace("stretch","fill-available"),t,n,i).replace(":fill-available",":stretch"):a.replace(l,"-webkit-"+l)+a.replace(l,"-moz-"+l.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+i&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(f,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),i=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),O(2!==t?i:i.replace(S,"$1"),n,t)}function a(e,t){var n=r(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(w," or ($1)").substring(4):"("+t+")"}function s(e,t,n,i,r,o,a,s,l,u){for(var d,h=0,p=t;h<D;++h)switch(d=L[h].call(c,e,p,n,i,r,o,a,s,l,u)){case void 0:case!1:case!0:case null:break;default:p=d}if(p!==t)return p}function l(e){return void 0!==(e=e.prefix)&&(O=null,e?"function"!==typeof e?A=1:(A=2,O=e):A=0),l}function c(e,n){var i=e;if(33>i.charCodeAt(0)&&(i=i.trim()),i=[i],0<D){var r=s(-1,n,i,i,M,T,0,0,0,0);void 0!==r&&"string"===typeof r&&(n=r)}var o=t(I,i,n,0,0);return 0<D&&(void 0!==(r=s(-2,o,i,i,M,T,o.length,0,0,0))&&(o=r)),"",P=0,T=M=1,o}var u=/^\0+/g,d=/[\0\r\f]/g,h=/: */g,p=/zoo|gra/,f=/([,: ])(transform)/g,m=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,x=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,_=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,k=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,C=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,T=1,M=1,P=0,A=1,I=[],L=[],D=0,O=null,R=0;return c.use=function e(t){switch(t){case void 0:case null:D=L.length=0;break;default:if("function"===typeof t)L[D++]=t;else if("object"===typeof t)for(var n=0,i=t.length;n<i;++n)e(t[n]);else R=0|!!t}return e},c.set=l,void 0!==e&&l(e),c},l={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},c=n(9791),u=n(2110),d=n.n(u);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var p=function(e,t){for(var n=[e[0]],i=0,r=t.length;i<r;i+=1)n.push(t[i],e[i+1]);return n},f=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,i.typeOf)(e)},m=Object.freeze([]),g=Object.freeze({});function v(e){return"function"==typeof e}function y(e){return e.displayName||e.name||"Component"}function x(e){return e&&"string"==typeof e.styledComponentId}var b="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",_="5.3.6",w="undefined"!=typeof window&&"HTMLElement"in window,k=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),S={};function C(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var E=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,i=n.length,r=i;e>=r;)(r<<=1)<0&&C(16,""+e);this.groupSizes=new Uint32Array(r),this.groupSizes.set(n),this.length=r;for(var o=i;o<r;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,l=t.length;s<l;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),i=n+t;this.groupSizes[e]=0;for(var r=n;r<i;r++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],i=this.indexOfGroup(e),r=i+n,o=i;o<r;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),T=new Map,M=new Map,P=1,A=function(e){if(T.has(e))return T.get(e);for(;M.has(P);)P++;var t=P++;return T.set(e,t),M.set(t,e),t},I=function(e){return M.get(e)},L=function(e,t){t>=P&&(P=t+1),T.set(e,t),M.set(t,e)},D="style["+b+'][data-styled-version="5.3.6"]',O=new RegExp("^"+b+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),R=function(e,t,n){for(var i,r=n.split(","),o=0,a=r.length;o<a;o++)(i=r[o])&&e.registerName(t,i)},z=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),i=[],r=0,o=n.length;r<o;r++){var a=n[r].trim();if(a){var s=a.match(O);if(s){var l=0|parseInt(s[1],10),c=s[2];0!==l&&(L(c,l),R(e,c,s[3]),e.getTag().insertRules(l,i)),i.length=0}else i.push(a)}}},F=function(){return n.nc},B=function(e){var t=document.head,n=e||t,i=document.createElement("style"),r=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var i=t[n];if(i&&1===i.nodeType&&i.hasAttribute(b))return i}}(n),o=void 0!==r?r.nextSibling:null;i.setAttribute(b,"active"),i.setAttribute("data-styled-version","5.3.6");var a=F();return a&&i.setAttribute("nonce",a),n.insertBefore(i,o),i},N=function(){function e(e){var t=this.element=B(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,i=t.length;n<i;n++){var r=t[n];if(r.ownerNode===e)return r}C(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),j=function(){function e(e){var t=this.element=B(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),i=this.nodes[e];return this.element.insertBefore(n,i||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),V=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),W=w,U={isServer:!w,useCSSOMInjection:!k},H=function(){function e(e,t,n){void 0===e&&(e=g),void 0===t&&(t={}),this.options=h({},U,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&w&&W&&(W=!1,function(e){for(var t=document.querySelectorAll(D),n=0,i=t.length;n<i;n++){var r=t[n];r&&"active"!==r.getAttribute(b)&&(z(e,r),r.parentNode&&r.parentNode.removeChild(r))}}(this))}e.registerId=function(e){return A(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(h({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,i=t.useCSSOMInjection,r=t.target,e=n?new V(r):i?new N(r):new j(r),new E(e)));var e,t,n,i,r},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(A(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(A(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(A(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,i="",r=0;r<n;r++){var o=I(r);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(r);if(a&&s&&a.size){var l=b+".g"+r+'[id="'+o+'"]',c="";void 0!==a&&a.forEach((function(e){e.length>0&&(c+=e+",")})),i+=""+s+l+'{content:"'+c+'"}/*!sc*/\n'}}}return i}(this)},e}(),X=/(a)(d)/gi,G=function(e){return String.fromCharCode(e+(e>25?39:97))};function Y(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=G(t%52)+n;return(G(t%52)+n).replace(X,"$1-$2")}var q=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},K=function(e){return q(5381,e)};function $(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(v(n)&&!x(n))return!1}return!0}var Z=K("5.3.6"),J=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&$(e),this.componentId=t,this.baseHash=q(Z,t),this.baseStyle=n,H.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var i=this.componentId,r=[];if(this.baseStyle&&r.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(i,this.staticRulesId))r.push(this.staticRulesId);else{var o=ve(this.rules,e,t,n).join(""),a=Y(q(this.baseHash,o)>>>0);if(!t.hasNameForId(i,a)){var s=n(o,"."+a,void 0,i);t.insertRules(i,a,s)}r.push(a),this.staticRulesId=a}else{for(var l=this.rules.length,c=q(this.baseHash,n.hash),u="",d=0;d<l;d++){var h=this.rules[d];if("string"==typeof h)u+=h;else if(h){var p=ve(h,e,t,n),f=Array.isArray(p)?p.join(""):p;c=q(c,f+d),u+=f}}if(u){var m=Y(c>>>0);if(!t.hasNameForId(i,m)){var g=n(u,"."+m,void 0,i);t.insertRules(i,m,g)}r.push(m)}}return r.join(" ")},e}(),Q=/^\s*\/\/.*$/gm,ee=[":","[",".","#"];function te(e){var t,n,i,r,o=void 0===e?g:e,a=o.options,l=void 0===a?g:a,c=o.plugins,u=void 0===c?m:c,d=new s(l),h=[],p=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,i,r,o,a,s,l,c,u,d){switch(n){case 1:if(0===u&&64===i.charCodeAt(0))return e(i+";"),"";break;case 2:if(0===c)return i+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(r[0]+i),"";default:return i+(0===d?"/*|*/":"")}case-2:i.split("/*|*/}").forEach(t)}}}((function(e){h.push(e)})),f=function(e,i,o){return 0===i&&-1!==ee.indexOf(o[n.length])||o.match(r)?e:"."+t};function v(e,o,a,s){void 0===s&&(s="&");var l=e.replace(Q,""),c=o&&a?a+" "+o+" { "+l+" }":l;return t=s,n=o,i=new RegExp("\\"+n+"\\b","g"),r=new RegExp("(\\"+n+"\\b){2,}"),d(a||!o?"":o,c)}return d.use([].concat(u,[function(e,t,r){2===e&&r.length&&r[0].lastIndexOf(n)>0&&(r[0]=r[0].replace(i,f))},p,function(e){if(-2===e){var t=h;return h=[],t}}])),v.hash=u.length?u.reduce((function(e,t){return t.name||C(15),q(e,t.name)}),5381).toString():"",v}var ne=r.createContext(),ie=ne.Consumer,re=r.createContext(),oe=(re.Consumer,new H),ae=te();function se(){return(0,r.useContext)(ne)||oe}function le(){return(0,r.useContext)(re)||ae}function ce(e){var t=(0,r.useState)(e.stylisPlugins),n=t[0],i=t[1],o=se(),s=(0,r.useMemo)((function(){var t=o;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),l=(0,r.useMemo)((function(){return te({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,r.useEffect)((function(){a()(n,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),r.createElement(ne.Provider,{value:s},r.createElement(re.Provider,{value:l},e.children))}var ue=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=ae);var i=n.name+t.hash;e.hasNameForId(n.id,i)||e.insertRules(n.id,i,t(n.rules,i,"@keyframes"))},this.toString=function(){return C(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=ae),this.name+e.hash},e}(),de=/([A-Z])/,he=/([A-Z])/g,pe=/^ms-/,fe=function(e){return"-"+e.toLowerCase()};function me(e){return de.test(e)?e.replace(he,fe).replace(pe,"-ms-"):e}var ge=function(e){return null==e||!1===e||""===e};function ve(e,t,n,i){if(Array.isArray(e)){for(var r,o=[],a=0,s=e.length;a<s;a+=1)""!==(r=ve(e[a],t,n,i))&&(Array.isArray(r)?o.push.apply(o,r):o.push(r));return o}return ge(e)?"":x(e)?"."+e.styledComponentId:v(e)?"function"!=typeof(c=e)||c.prototype&&c.prototype.isReactComponent||!t?e:ve(e(t),t,n,i):e instanceof ue?n?(e.inject(n,i),e.getName(i)):e:f(e)?function e(t,n){var i,r,o=[];for(var a in t)t.hasOwnProperty(a)&&!ge(t[a])&&(Array.isArray(t[a])&&t[a].isCss||v(t[a])?o.push(me(a)+":",t[a],";"):f(t[a])?o.push.apply(o,e(t[a],a)):o.push(me(a)+": "+(i=a,(null==(r=t[a])||"boolean"==typeof r||""===r?"":"number"!=typeof r||0===r||i in l?String(r).trim():r+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var c}var ye=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function xe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return v(e)||f(e)?ye(ve(p(m,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:ye(ve(p(e,n)))}new Set;var be=function(e,t,n){return void 0===n&&(n=g),e.theme!==n.theme&&e.theme||t||n.theme},_e=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,we=/(^-|-$)/g;function ke(e){return e.replace(_e,"-").replace(we,"")}var Se=function(e){return Y(K(e)>>>0)};function Ce(e){return"string"==typeof e&&!0}var Ee=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Te=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Me(e,t,n){var i=e[n];Ee(t)&&Ee(i)?Pe(i,t):e[n]=t}function Pe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(var r=0,o=n;r<o.length;r++){var a=o[r];if(Ee(a))for(var s in a)Te(s)&&Me(e,a[s],s)}return e}var Ae=r.createContext(),Ie=Ae.Consumer;function Le(e){var t=(0,r.useContext)(Ae),n=(0,r.useMemo)((function(){return function(e,t){return e?v(e)?e(t):Array.isArray(e)||"object"!=typeof e?C(8):t?h({},t,{},e):e:C(14)}(e.theme,t)}),[e.theme,t]);return e.children?r.createElement(Ae.Provider,{value:n},e.children):null}var De={};function Oe(e,t,n){var i=x(e),o=!Ce(e),a=t.attrs,s=void 0===a?m:a,l=t.componentId,u=void 0===l?function(e,t){var n="string"!=typeof e?"sc":ke(e);De[n]=(De[n]||0)+1;var i=n+"-"+Se("5.3.6"+n+De[n]);return t?t+"-"+i:i}(t.displayName,t.parentComponentId):l,p=t.displayName,f=void 0===p?function(e){return Ce(e)?"styled."+e:"Styled("+y(e)+")"}(e):p,b=t.displayName&&t.componentId?ke(t.displayName)+"-"+t.componentId:t.componentId||u,_=i&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,w=t.shouldForwardProp;i&&e.shouldForwardProp&&(w=t.shouldForwardProp?function(n,i,r){return e.shouldForwardProp(n,i,r)&&t.shouldForwardProp(n,i,r)}:e.shouldForwardProp);var k,S=new J(n,b,i?e.componentStyle:void 0),C=S.isStatic&&0===s.length,E=function(e,t){return function(e,t,n,i){var o=e.attrs,a=e.componentStyle,s=e.defaultProps,l=e.foldedComponentIds,u=e.shouldForwardProp,d=e.styledComponentId,p=e.target,f=function(e,t,n){void 0===e&&(e=g);var i=h({},t,{theme:e}),r={};return n.forEach((function(e){var t,n,o,a=e;for(t in v(a)&&(a=a(i)),a)i[t]=r[t]="className"===t?(n=r[t],o=a[t],n&&o?n+" "+o:n||o):a[t]})),[i,r]}(be(t,(0,r.useContext)(Ae),s)||g,t,o),m=f[0],y=f[1],x=function(e,t,n,i){var r=se(),o=le();return t?e.generateAndInjectStyles(g,r,o):e.generateAndInjectStyles(n,r,o)}(a,i,m),b=n,_=y.$as||t.$as||y.as||t.as||p,w=Ce(_),k=y!==t?h({},t,{},y):t,S={};for(var C in k)"$"!==C[0]&&"as"!==C&&("forwardedAs"===C?S.as=k[C]:(u?u(C,c.Z,_):!w||(0,c.Z)(C))&&(S[C]=k[C]));return t.style&&y.style!==t.style&&(S.style=h({},t.style,{},y.style)),S.className=Array.prototype.concat(l,d,x!==d?x:null,t.className,y.className).filter(Boolean).join(" "),S.ref=b,(0,r.createElement)(_,S)}(k,e,t,C)};return E.displayName=f,(k=r.forwardRef(E)).attrs=_,k.componentStyle=S,k.displayName=f,k.shouldForwardProp=w,k.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):m,k.styledComponentId=b,k.target=i?e.target:e,k.withComponent=function(e){var i=t.componentId,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,["componentId"]),o=i&&i+"-"+(Ce(e)?e:ke(y(e)));return Oe(e,h({},r,{attrs:_,componentId:o}),n)},Object.defineProperty(k,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?Pe({},e.defaultProps,t):t}}),k.toString=function(){return"."+k.styledComponentId},o&&d()(k,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),k}var Re=function(e){return function e(t,n,r){if(void 0===r&&(r=g),!(0,i.isValidElementType)(n))return C(1,String(n));var o=function(){return t(n,r,xe.apply(void 0,arguments))};return o.withConfig=function(i){return e(t,n,h({},r,{},i))},o.attrs=function(i){return e(t,n,h({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},o}(Oe,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Re[e]=Re(e)}));var ze=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=$(e),H.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,i){var r=i(ve(this.rules,t,n,i).join(""),""),o=this.componentId+e;n.insertRules(o,o,r)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,i){e>2&&H.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,i)},e}();function Fe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o=xe.apply(void 0,[e].concat(n)),a="sc-global-"+Se(JSON.stringify(o)),s=new ze(o,a);function l(e){var t=se(),n=le(),i=(0,r.useContext)(Ae),o=(0,r.useRef)(t.allocateGSInstance(a)).current;return t.server&&c(o,e,t,i,n),(0,r.useLayoutEffect)((function(){if(!t.server)return c(o,e,t,i,n),function(){return s.removeStyles(o,t)}}),[o,e,t,i,n]),null}function c(e,t,n,i,r){if(s.isStatic)s.renderStyles(e,S,n,r);else{var o=h({},t,{theme:be(t,i,l.defaultProps)});s.renderStyles(e,o,n,r)}}return r.memo(l)}function Be(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=xe.apply(void 0,[e].concat(n)).join(""),o=Se(r);return new ue(o,r)}var Ne=function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=F();return"<style "+[n&&'nonce="'+n+'"',b+'="true"','data-styled-version="5.3.6"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?C(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return C(2);var n=((t={})[b]="",t["data-styled-version"]="5.3.6",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),i=F();return i&&(n.nonce=i),[r.createElement("style",h({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new H({isServer:!0}),this.sealed=!1}var t=e.prototype;return t.collectStyles=function(e){return this.sealed?C(2):r.createElement(ce,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return C(3)},e}(),je=function(e){var t=r.forwardRef((function(t,n){var i=(0,r.useContext)(Ae),o=e.defaultProps,a=be(t,i,o);return r.createElement(e,h({},t,{theme:a,ref:n}))}));return d()(t,e),t.displayName="WithTheme("+y(e)+")",t},Ve=function(){return(0,r.useContext)(Ae)},We={StyleSheet:H,masterSheet:oe},Ue=Re},3373:function(e){e.exports=function(){"use strict";var e,t,n;function i(i,r){if(e)if(t){var o="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk); self.onerror = null;",a={};e(a),n=r(a),"undefined"!==typeof window&&window&&window.URL&&window.URL.createObjectURL&&(n.workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"})))}else t=r;else e=r}return i(["exports"],(function(e){var t="undefined"!=typeof self?self:{},n="2.12.1";let i;const r={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==i){const e=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{i=null!={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_URL_REGEX?new RegExp({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_URL_REGEX):e}catch(t){i=e}}return i},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},o={supported:!1,testSupport:function(e){!l&&s&&(c?u(e):a=e)}};let a,s,l=!1,c=!1;function u(e){const t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,s),e.isContextLost())return;o.supported=!0}catch(e){}e.deleteTexture(t),l=!0}t.document&&(s=t.document.createElement("img"),s.onload=function(){a&&u(a),a=null,c=!0},s.onerror=function(){l=!0,a=null},s.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const d="01";var h=p;function p(e,t,n,i){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(i-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=i}p.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,i=0;i<8;i++){var r=this.sampleCurveX(n)-e;if(Math.abs(r)<t)return n;var o=this.sampleCurveDerivativeX(n);if(Math.abs(o)<1e-6)break;n-=r/o}var a=0,s=1;for(n=e,i=0;i<20&&(r=this.sampleCurveX(n),!(Math.abs(r-e)<t));i++)e>r?a=n:s=n,n=.5*(s-a)+a;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}};var f=m;function m(e,t){this.x=e,this.y=t}m.prototype={clone:function(){return new m(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),i=n*this.x+t*this.y;return this.x=t*this.x-n*this.y,this.y=i,this},_rotateAround:function(e,t){var n=Math.cos(e),i=Math.sin(e),r=t.y+i*(this.x-t.x)+n*(this.y-t.y);return this.x=t.x+n*(this.x-t.x)-i*(this.y-t.y),this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},m.convert=function(e){return e instanceof m?e:Array.isArray(e)?new m(e[0],e[1]):e};const g=Math.PI/180,v=180/Math.PI;function y(e){return e*g}function x(e){return e*v}const b=[[0,0],[1,0],[1,1],[0,1]];function _(e){if(e<=0)return 0;if(e>=1)return 1;const t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function w(e,t,n,i){const r=new h(e,t,n,i);return function(e){return r.solve(e)}}const k=w(.25,.1,.25,1);function S(e,t,n){return Math.min(n,Math.max(t,e))}function C(e,t,n){return(n=S((n-e)/(t-e),0,1))*n*(3-2*n)}function E(e,t,n){const i=n-t,r=((e-t)%i+i)%i+t;return r===t?n:r}function T(e,t,n){if(!e.length)return n(null,[]);let i=e.length;const r=new Array(e.length);let o=null;e.forEach(((e,a)=>{t(e,((e,t)=>{e&&(o=e),r[a]=t,0==--i&&n(o,r)}))}))}function M(e){const t=[];for(const n in e)t.push(e[n]);return t}function P(e,...t){for(const n of t)for(const t in n)e[t]=n[t];return e}let A=1;function I(){return A++}function L(){return function e(t){return t?(t^Math.random()*(16>>t/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function D(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function O(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function R(e,t){e.forEach((e=>{t[e]&&(t[e]=t[e].bind(t))}))}function z(e,t){return-1!==e.indexOf(t,e.length-t.length)}function F(e,t,n){const i={};for(const r in e)i[r]=t.call(n||this,e[r],r,e);return i}function B(e,t,n){const i={};for(const r in e)t.call(n||this,e[r],r,e)&&(i[r]=e[r]);return i}function N(e){return Array.isArray(e)?e.map(N):"object"==typeof e&&e?F(e,N):e}const j={};function V(e){j[e]||("undefined"!=typeof console&&console.warn(e),j[e]=!0)}function W(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function U(e){let t=0;for(let n,i,r=0,o=e.length,a=o-1;r<o;a=r++)n=e[r],i=e[a],t+=(i.x-n.x)*(n.y+i.y);return t}function H(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function X(e){const t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,((e,n,i,r)=>{const o=i||r;return t[n]=!o||o.toLowerCase(),""})),t["max-age"]){const e=parseInt(t["max-age"],10);isNaN(e)?delete t["max-age"]:t["max-age"]=e}return t}let G=null;function Y(e){if(null==G){const t=e.navigator?e.navigator.userAgent:null;G=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return G}function q(e){try{const n=t[e];return n.setItem("_mapbox_test_",1),n.removeItem("_mapbox_test_"),!0}catch(e){return!1}}function K(e,t){return[e[4*t],e[4*t+1],e[4*t+2],e[4*t+3]]}const $="mapbox-tiles";let Z,J,Q=500,ee=50;function te(){try{return t.caches}catch(e){}}function ne(){te()&&!Z&&(Z=t.caches.open($))}function ie(e){const t=e.indexOf("?");if(t<0)return e;const n=function(e){const t=e.indexOf("?");return t>0?e.slice(t+1).split("&"):[]}(e),i=n.filter((e=>{const t=e.split("=");return"language"===t[0]||"worldview"===t[0]}));return i.length?`${e.slice(0,t)}?${i.join("&")}`:e.slice(0,t)}let re=1/0;const oe={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(oe);class ae extends Error{constructor(e,t,n){401===t&&ve(n)&&(e+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(e),this.status=t,this.url=n}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const se=H()?()=>self.worker&&self.worker.referrer:()=>("blob:"===t.location.protocol?t.parent:t).location.href,le=function(e,n){if(!(/^file:/.test(i=e.url)||/^file:/.test(se())&&!/^\w+:/.test(i))){if(t.fetch&&t.Request&&t.AbortController&&t.Request.prototype.hasOwnProperty("signal"))return function(e,n){const i=new t.AbortController,r=new t.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:se(),signal:i.signal});let o=!1,a=!1;const s=(l=r.url).indexOf("sku=")>0&&ve(l);var l;"json"===e.type&&r.headers.set("Accept","application/json");const c=(i,o,l)=>{if(a)return;if(i&&"SecurityError"!==i.message&&V(i),o&&l)return u(o);const c=Date.now();t.fetch(r).then((t=>{if(t.ok){const e=s?t.clone():null;return u(t,e,c)}return n(new ae(t.statusText,t.status,e.url))})).catch((e=>{20!==e.code&&n(new Error(e.message))}))},u=(i,s,l)=>{("arrayBuffer"===e.type?i.arrayBuffer():"json"===e.type?i.json():i.text()).then((e=>{a||(s&&l&&function(e,n,i){if(ne(),!Z)return;const r={status:n.status,statusText:n.statusText,headers:new t.Headers};n.headers.forEach(((e,t)=>r.headers.set(t,e)));const o=X(n.headers.get("Cache-Control")||"");if(o["no-store"])return;o["max-age"]&&r.headers.set("Expires",new Date(i+1e3*o["max-age"]).toUTCString());const a=r.headers.get("Expires");a&&(new Date(a).getTime()-i<42e4||function(e,t){if(void 0===J)try{new Response(new ReadableStream),J=!0}catch(e){J=!1}J?t(e.body):e.blob().then(t)}(n,(n=>{const i=new t.Response(n,r);ne(),Z&&Z.then((t=>t.put(ie(e.url),i))).catch((e=>V(e.message)))})))}(r,s,l),o=!0,n(null,e,i.headers.get("Cache-Control"),i.headers.get("Expires")))})).catch((e=>{a||n(new Error(e.message))}))};return s?function(e,t){if(ne(),!Z)return t(null);const n=ie(e.url);Z.then((e=>{e.match(n).then((i=>{const r=function(e){if(!e)return!1;const t=new Date(e.headers.get("Expires")||0),n=X(e.headers.get("Cache-Control")||"");return t>Date.now()&&!n["no-cache"]}(i);e.delete(n),r&&e.put(n,i.clone()),t(null,i,r)})).catch(t)})).catch(t)}(r,c):c(null,null),{cancel:()=>{a=!0,o||i.abort()}}}(e,n);if(H()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,n,void 0,!0)}var i;return function(e,n){const i=new t.XMLHttpRequest;i.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(i.responseType="arraybuffer");for(const t in e.headers)i.setRequestHeader(t,e.headers[t]);return"json"===e.type&&(i.responseType="text",i.setRequestHeader("Accept","application/json")),i.withCredentials="include"===e.credentials,i.onerror=()=>{n(new Error(i.statusText))},i.onload=()=>{if((i.status>=200&&i.status<300||0===i.status)&&null!==i.response){let t=i.response;if("json"===e.type)try{t=JSON.parse(i.response)}catch(e){return n(e)}n(null,t,i.getResponseHeader("Cache-Control"),i.getResponseHeader("Expires"))}else n(new ae(i.statusText,i.status,e.url))},i.send(e.body),{cancel:()=>i.abort()}}(e,n)},ce=function(e,t){return le(P(e,{type:"arrayBuffer"}),t)};function ue(e){const n=t.document.createElement("a");return n.href=e,n.protocol===t.document.location.protocol&&n.host===t.document.location.host}const de="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let he,pe;he=[],pe=0;const fe=function(e,n){if(o.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),pe>=r.MAX_PARALLEL_IMAGE_REQUESTS){const t={requestParameters:e,callback:n,cancelled:!1,cancel(){this.cancelled=!0}};return he.push(t),t}pe++;let i=!1;const a=()=>{if(!i)for(i=!0,pe--;he.length&&pe<r.MAX_PARALLEL_IMAGE_REQUESTS;){const e=he.shift(),{requestParameters:t,callback:n,cancelled:i}=e;i||(e.cancel=fe(t,n).cancel)}},s=ce(e,((e,i,r,o)=>{a(),e?n(e):i&&(t.createImageBitmap?function(e,n){const i=new t.Blob([new Uint8Array(e)],{type:"image/png"});t.createImageBitmap(i).then((e=>{n(null,e)})).catch((e=>{n(new Error(`Could not load image because of ${e.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))}))}(i,((e,t)=>n(e,t,r,o))):function(e,n){const i=new t.Image,r=t.URL;i.onload=()=>{n(null,i),r.revokeObjectURL(i.src),i.onload=null,t.requestAnimationFrame((()=>{i.src=de}))},i.onerror=()=>n(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const o=new t.Blob([new Uint8Array(e)],{type:"image/png"});i.src=e.byteLength?r.createObjectURL(o):de}(i,((e,t)=>n(e,t,r,o))))}));return{cancel:()=>{s.cancel(),a()}}},me="NO_ACCESS_TOKEN";function ge(e){return 0===e.indexOf("mapbox:")}function ve(e){return r.API_URL_REGEX.test(e)}function ye(e){return r.API_CDN_URL_REGEX.test(e)}function xe(e){return r.API_STYLE_REGEX.test(e)&&!be(e)}function be(e){return r.API_SPRITE_REGEX.test(e)}const _e=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function we(e){const t=e.match(_e);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function ke(e){const t=e.params.length?`?${e.params.join("&")}`:"";return`${e.protocol}://${e.authority}${e.path}${t}`}function Se(e){if(!e)return null;const n=e.split(".");if(!n||3!==n.length)return null;try{return JSON.parse(decodeURIComponent(t.atob(n[1]).split("").map((e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2))).join("")))}catch(e){return null}}class Ce{constructor(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(e){const n=Se(r.ACCESS_TOKEN);let i="";return i=n&&n.u?t.btoa(encodeURIComponent(n.u).replace(/%([0-9A-F]{2})/g,((e,t)=>String.fromCharCode(Number("0x"+t))))):r.ACCESS_TOKEN||"",e?`mapbox.eventData.${e}:${i}`:`mapbox.eventData:${i}`}fetchEventData(){const e=q("localStorage"),n=this.getStorageKey(),i=this.getStorageKey("uuid");if(e)try{const e=t.localStorage.getItem(n);e&&(this.eventData=JSON.parse(e));const r=t.localStorage.getItem(i);r&&(this.anonId=r)}catch(e){V("Unable to read from LocalStorage")}}saveEventData(){const e=q("localStorage"),n=this.getStorageKey(),i=this.getStorageKey("uuid");if(e)try{t.localStorage.setItem(i,this.anonId),Object.keys(this.eventData).length>=1&&t.localStorage.setItem(n,JSON.stringify(this.eventData))}catch(e){V("Unable to write to LocalStorage")}}processRequests(e){}postEvent(e,t,n,i){if(!r.EVENTS_URL)return;const o=we(r.EVENTS_URL);o.params.push(`access_token=${i||r.ACCESS_TOKEN||""}`);const a={event:this.type,created:new Date(e).toISOString()},s=t?P(a,t):a,l={url:ke(o),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=function(e,t){return le(P(e,{method:"POST"}),t)}(l,(e=>{this.pendingRequest=null,n(e),this.saveEventData(),this.processRequests(i)}))}queueRequest(e,t){this.queue.push(e),this.processRequests(t)}}const Ee=new class extends Ce{constructor(e){super("appUserTurnstile"),this._customAccessToken=e}postTurnstileEvent(e,t){r.EVENTS_URL&&r.ACCESS_TOKEN&&Array.isArray(e)&&e.some((e=>ge(e)||ve(e)))&&this.queueRequest(Date.now(),t)}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const t=Se(r.ACCESS_TOKEN),i=t?t.u:r.ACCESS_TOKEN;let o=i!==this.eventData.tokenU;O(this.anonId)||(this.anonId=L(),o=!0);const a=this.queue.shift();if(this.eventData.lastSuccess){const e=new Date(this.eventData.lastSuccess),t=new Date(a),n=(a-this.eventData.lastSuccess)/864e5;o=o||n>=1||n<-1||e.getDate()!==t.getDate()}else o=!0;o?this.postEvent(a,{sdkIdentifier:"mapbox-gl-js",sdkVersion:n,skuId:d,"enabled.telemetry":!1,userId:this.anonId},(e=>{e||(this.eventData.lastSuccess=a,this.eventData.tokenU=i)}),e):this.processRequests()}},Te=Ee.postTurnstileEvent.bind(Ee),Me=new class extends Ce{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(e,t,n,i){this.skuToken=t,this.errorCb=i,r.EVENTS_URL&&(n||r.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},n):this.errorCb(new Error(me)))}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{id:t,timestamp:i}=this.queue.shift();t&&this.success[t]||(this.anonId||this.fetchEventData(),O(this.anonId)||(this.anonId=L()),this.postEvent(i,{sdkIdentifier:"mapbox-gl-js",sdkVersion:n,skuId:d,skuToken:this.skuToken,userId:this.anonId},(e=>{e?this.errorCb(e):t&&(this.success[t]=!0)}),e))}},Pe=Me.postMapLoadEvent.bind(Me),Ae=new class extends Ce{constructor(){super("gljs.performance")}postPerformanceEvent(e,t){r.EVENTS_URL&&(e||r.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:t},e)}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{timestamp:i,performanceData:r}=this.queue.shift(),o=function(e){const i=t.performance.getEntriesByType("resource"),r=t.performance.getEntriesByType("mark"),o=function(e){const t={};if(e)for(const n in e)if("other"!==n)for(const i of e[n]){const e=`${n}ResolveRangeMin`,r=`${n}ResolveRangeMax`,o=`${n}RequestCount`,a=`${n}RequestCachedCount`;t[e]=Math.min(t[e]||1/0,i.startTime),t[r]=Math.max(t[r]||-1/0,i.responseEnd);const s=e=>{void 0===t[e]&&(t[e]=0),++t[e]};void 0!==i.transferSize&&0===i.transferSize&&s(a),s(o)}return t}(function(e,t){const n={};if(e)for(const i of e){const e=t(i);void 0===n[e]&&(n[e]=[]),n[e].push(i)}return n}(i,Fe)),a=t.devicePixelRatio,s=t.navigator.connection||t.navigator.mozConnection||t.navigator.webkitConnection,l={counters:[],metadata:[],attributes:[]},c=(e,t,n)=>{null!=n&&e.push({name:t,value:n.toString()})};for(const t in o)c(l.counters,t,o[t]);if(e.interactionRange[0]!==1/0&&e.interactionRange[1]!==-1/0&&(c(l.counters,"interactionRangeMin",e.interactionRange[0]),c(l.counters,"interactionRangeMax",e.interactionRange[1])),r)for(const t of Object.keys(Re)){const e=Re[t],n=r.find((t=>t.name===e));n&&c(l.counters,e,n.startTime)}return c(l.counters,"visibilityHidden",e.visibilityHidden),c(l.attributes,"style",function(e){if(e)for(const t of e){const e=t.name.split("?")[0];if(xe(e)){const t=e.split("/").slice(-2);if(2===t.length)return`mapbox://styles/${t[0]}/${t[1]}`}}}(i)),c(l.attributes,"terrainEnabled",e.terrainEnabled?"true":"false"),c(l.attributes,"fogEnabled",e.fogEnabled?"true":"false"),c(l.attributes,"projection",e.projection),c(l.attributes,"zoom",e.zoom),c(l.metadata,"devicePixelRatio",a),c(l.metadata,"connectionEffectiveType",s?s.effectiveType:void 0),c(l.metadata,"navigatorUserAgent",t.navigator.userAgent),c(l.metadata,"screenWidth",t.screen.width),c(l.metadata,"screenHeight",t.screen.height),c(l.metadata,"windowWidth",t.innerWidth),c(l.metadata,"windowHeight",t.innerHeight),c(l.metadata,"mapWidth",e.width/a),c(l.metadata,"mapHeight",e.height/a),c(l.metadata,"webglRenderer",e.renderer),c(l.metadata,"webglVendor",e.vendor),c(l.metadata,"sdkVersion",n),c(l.metadata,"sdkIdentifier","mapbox-gl-js"),l}(r);for(const t of o.metadata);for(const t of o.counters);for(const t of o.attributes);this.postEvent(i,o,(()=>{}),e)}},Ie=Ae.postPerformanceEvent.bind(Ae),Le=new class extends Ce{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(e,t,n,i){if(!r.API_URL||!r.SESSION_PATH)return;const o=we(r.API_URL+r.SESSION_PATH);o.params.push(`sku=${t||""}`),o.params.push(`access_token=${i||r.ACCESS_TOKEN||""}`);const a={url:ke(o),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(e,t){return le(P(e,{method:"GET"}),t)}(a,(e=>{this.pendingRequest=null,n(e),this.saveEventData(),this.processRequests(i)}))}getSessionAPI(e,t,n,i){this.skuToken=t,this.errorCb=i,r.SESSION_PATH&&r.API_URL&&(n||r.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},n):this.errorCb(new Error(me)))}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{id:t,timestamp:n}=this.queue.shift();t&&this.success[t]||this.getSession(n,this.skuToken,(e=>{e?this.errorCb(e):t&&(this.success[t]=!0)}),e)}},De=Le.getSessionAPI.bind(Le),Oe=new Set,Re={create:"create",load:"load",fullLoad:"fullLoad"},ze={mark(e){t.performance.mark(e)},measure(e,n,i){t.performance.measure(e,n,i)}};function Fe(e){const t=e.name.split("?")[0];return ye(t)&&t.includes("mapbox-gl.js")?"javascript":ye(t)&&t.includes("mapbox-gl.css")?"css":function(e){return r.API_FONTS_REGEX.test(e)}(t)?"fontRange":be(t)?"sprite":xe(t)?"style":function(e){return r.API_TILEJSON_REGEX.test(e)}(t)?"tilejson":"other"}const Be=t.performance;function Ne(e){const t=e?e.url.toString():void 0;return Be.getEntriesByName(t)}let je,Ve,We,Ue;const He={now:()=>void 0!==We?We:t.performance.now(),setNow(e){We=e},restoreNow(){We=void 0},frame(e){const n=t.requestAnimationFrame(e);return{cancel:()=>t.cancelAnimationFrame(n)}},getImageData(e,n=0){const{width:i,height:r}=e;Ue||(Ue=t.document.createElement("canvas"));const o=Ue.getContext("2d",{willReadFrequently:!0});if(!o)throw new Error("failed to create canvas 2d context");return(i>Ue.width||r>Ue.height)&&(Ue.width=i,Ue.height=r),o.clearRect(-n,-n,i+2*n,r+2*n),o.drawImage(e,0,0,i,r),o.getImageData(-n,-n,i+2*n,r+2*n)},resolveURL:e=>(je||(je=t.document.createElement("a")),je.href=e,je.href),get devicePixelRatio(){return t.devicePixelRatio},get prefersReducedMotion(){return!!t.matchMedia&&(null==Ve&&(Ve=t.matchMedia("(prefers-reduced-motion: reduce)")),Ve.matches)}};function Xe(e,t,n){n[e]&&-1!==n[e].indexOf(t)||(n[e]=n[e]||[],n[e].push(t))}function Ge(e,t,n){if(n&&n[e]){const i=n[e].indexOf(t);-1!==i&&n[e].splice(i,1)}}class Ye{constructor(e,t={}){P(this,t),this.type=e}}class qe extends Ye{constructor(e,t={}){super("error",P({error:e},t))}}class Ke{on(e,t){return this._listeners=this._listeners||{},Xe(e,t,this._listeners),this}off(e,t){return Ge(e,t,this._listeners),Ge(e,t,this._oneTimeListeners),this}once(e,t){return t?(this._oneTimeListeners=this._oneTimeListeners||{},Xe(e,t,this._oneTimeListeners),this):new Promise((t=>this.once(e,t)))}fire(e,t){"string"==typeof e&&(e=new Ye(e,t||{}));const n=e.type;if(this.listens(n)){e.target=this;const t=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];for(const n of t)n.call(this,e);const i=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];for(const o of i)Ge(n,o,this._oneTimeListeners),o.call(this,e);const r=this._eventedParent;r&&(P(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),r.fire(e))}else e instanceof qe&&console.error(e.error);return this}listens(e){return!!(this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e))}setEventedParent(e,t){return this._eventedParent=e,this._eventedParentData=t,this}}var $e=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function Ze(e,...t){for(const n of t)for(const t in n)e[t]=n[t];return e}function Je(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function Qe(e){if(Array.isArray(e))return e.map(Qe);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const n in e)t[n]=Qe(e[n]);return t}return Je(e)}class et extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}var tt=et;class nt{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[n,i]of t)this.bindings[n]=i}concat(e){return new nt(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}var it=nt;const rt={kind:"null"},ot={kind:"number"},at={kind:"string"},st={kind:"boolean"},lt={kind:"color"},ct={kind:"object"},ut={kind:"value"},dt={kind:"collator"},ht={kind:"formatted"},pt={kind:"resolvedImage"};function ft(e,t){return{kind:"array",itemType:e,N:t}}function mt(e){if("array"===e.kind){const t=mt(e.itemType);return"number"==typeof e.N?`array<${t}, ${e.N}>`:"value"===e.itemType.kind?"array":`array<${t}>`}return e.kind}const gt=[rt,ot,at,st,lt,ht,ct,ft(ut),pt];function vt(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!vt(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(const e of gt)if(!vt(e,t))return null}return`Expected ${mt(e)} but found ${mt(t)} instead.`}function yt(e,t){return t.some((t=>t.kind===e.kind))}function xt(e,t){return t.some((t=>"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e))}var bt,_t={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function wt(e){return(e=Math.round(e))<0?0:e>255?255:e}function kt(e){return wt("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function St(e){return(t="%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function Ct(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}try{bt={}.parseCSSColor=function(e){var t,n=e.replace(/ /g,"").toLowerCase();if(n in _t)return _t[n].slice();if("#"===n[0])return 4===n.length?(t=parseInt(n.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===n.length&&(t=parseInt(n.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var i=n.indexOf("("),r=n.indexOf(")");if(-1!==i&&r+1===n.length){var o=n.substr(0,i),a=n.substr(i+1,r-(i+1)).split(","),s=1;switch(o){case"rgba":if(4!==a.length)return null;s=St(a.pop());case"rgb":return 3!==a.length?null:[kt(a[0]),kt(a[1]),kt(a[2]),s];case"hsla":if(4!==a.length)return null;s=St(a.pop());case"hsl":if(3!==a.length)return null;var l=(parseFloat(a[0])%360+360)%360/360,c=St(a[1]),u=St(a[2]),d=u<=.5?u*(c+1):u+c-u*c,h=2*u-d;return[wt(255*Ct(h,d,l+1/3)),wt(255*Ct(h,d,l)),wt(255*Ct(h,d,l-1/3)),s];default:return null}}return null}}catch(e){}class Et{constructor(e,t,n,i=1){this.r=e,this.g=t,this.b=n,this.a=i}static parse(e){if(!e)return;if(e instanceof Et)return e;if("string"!=typeof e)return;const t=bt(e);return t?new Et(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3]):void 0}toString(){const[e,t,n,i]=this.toArray();return`rgba(${Math.round(e)},${Math.round(t)},${Math.round(n)},${i})`}toArray(){const{r:e,g:t,b:n,a:i}=this;return 0===i?[0,0,0,0]:[255*e/i,255*t/i,255*n/i,i]}toArray01(){const{r:e,g:t,b:n,a:i}=this;return 0===i?[0,0,0,0]:[e/i,t/i,n/i,i]}toArray01PremultipliedAlpha(){const{r:e,g:t,b:n,a:i}=this;return[e,t,n,i]}}Et.black=new Et(0,0,0,1),Et.white=new Et(1,1,1,1),Et.transparent=new Et(0,0,0,0),Et.red=new Et(1,0,0,1),Et.blue=new Et(0,0,1,1);var Tt=Et;class Mt{constructor(e,t,n){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Pt{constructor(e,t,n,i,r){this.text=e.normalize?e.normalize():e,this.image=t,this.scale=n,this.fontStack=i,this.textColor=r}}class At{constructor(e){this.sections=e}static fromString(e){return new At([new Pt(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some((e=>0!==e.text.length||e.image&&0!==e.image.name.length))}static factory(e){return e instanceof At?e:At.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map((e=>e.text)).join("")}serialize(){const e=["format"];for(const t of this.sections){if(t.image){e.push(["image",t.image.name]);continue}e.push(t.text);const n={};t.fontStack&&(n["text-font"]=["literal",t.fontStack.split(",")]),t.scale&&(n["font-scale"]=t.scale),t.textColor&&(n["text-color"]=["rgba"].concat(t.textColor.toArray())),e.push(n)}return e}}class It{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new It({name:e,available:!1}):null}serialize(){return["image",this.name]}}function Lt(e,t,n,i){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===i||"number"==typeof i&&i>=0&&i<=1?null:`Invalid rgba value [${[e,t,n,i].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof i?[e,t,n,i]:[e,t,n]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Dt(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof Tt)return!0;if(e instanceof Mt)return!0;if(e instanceof At)return!0;if(e instanceof It)return!0;if(Array.isArray(e)){for(const t of e)if(!Dt(t))return!1;return!0}if("object"==typeof e){for(const t in e)if(!Dt(e[t]))return!1;return!0}return!1}function Ot(e){if(null===e)return rt;if("string"==typeof e)return at;if("boolean"==typeof e)return st;if("number"==typeof e)return ot;if(e instanceof Tt)return lt;if(e instanceof Mt)return dt;if(e instanceof At)return ht;if(e instanceof It)return pt;if(Array.isArray(e)){const t=e.length;let n;for(const i of e){const e=Ot(i);if(n){if(n===e)continue;n=ut;break}n=e}return ft(n||ut,t)}return ct}function Rt(e){const t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof Tt||e instanceof At||e instanceof It?e.toString():JSON.stringify(e)}class zt{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(2!==e.length)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!Dt(e[1]))return t.error("invalid value");const n=e[1];let i=Ot(n);const r=t.expectedType;return"array"!==i.kind||0!==i.N||!r||"array"!==r.kind||"number"==typeof r.N&&0!==r.N||(i=r),new zt(i,n)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Tt?["rgba"].concat(this.value.toArray()):this.value instanceof At?this.value.serialize():this.value}}var Ft=zt,Bt=class{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}};const Nt={string:at,number:ot,boolean:st,object:ct};class jt{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let n,i=1;const r=e[0];if("array"===r){let r,o;if(e.length>2){const n=e[1];if("string"!=typeof n||!(n in Nt)||"object"===n)return t.error('The item type argument of "array" must be one of string, number, boolean',1);r=Nt[n],i++}else r=ut;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);o=e[2],i++}n=ft(r,o)}else n=Nt[r];const o=[];for(;i<e.length;i++){const n=t.parse(e[i],i,ut);if(!n)return null;o.push(n)}return new jt(n,o)}evaluate(e){for(let t=0;t<this.args.length;t++){const n=this.args[t].evaluate(e);if(!vt(this.type,Ot(n)))return n;if(t===this.args.length-1)throw new Bt(`Expected value to be of type ${mt(this.type)}, but found ${mt(Ot(n))} instead.`)}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){const e=this.type,t=[e.kind];if("array"===e.kind){const n=e.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){t.push(n.kind);const i=e.N;("number"==typeof i||this.args.length>1)&&t.push(i)}}return t.concat(this.args.map((e=>e.serialize())))}}var Vt=jt;class Wt{constructor(e){this.type=ht,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[1];if(!Array.isArray(n)&&"object"==typeof n)return t.error("First argument must be an image or text section.");const i=[];let r=!1;for(let o=1;o<=e.length-1;++o){const n=e[o];if(r&&"object"==typeof n&&!Array.isArray(n)){r=!1;let e=null;if(n["font-scale"]&&(e=t.parse(n["font-scale"],1,ot),!e))return null;let o=null;if(n["text-font"]&&(o=t.parse(n["text-font"],1,ft(at)),!o))return null;let a=null;if(n["text-color"]&&(a=t.parse(n["text-color"],1,lt),!a))return null;const s=i[i.length-1];s.scale=e,s.font=o,s.textColor=a}else{const n=t.parse(e[o],1,ut);if(!n)return null;const a=n.type.kind;if("string"!==a&&"value"!==a&&"null"!==a&&"resolvedImage"!==a)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");r=!0,i.push({content:n,scale:null,font:null,textColor:null})}}return new Wt(i)}evaluate(e){return new At(this.sections.map((t=>{const n=t.content.evaluate(e);return Ot(n)===pt?new Pt("",n,null,null,null):new Pt(Rt(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor)}outputDefined(){return!1}serialize(){const e=["format"];for(const t of this.sections){e.push(t.content.serialize());const n={};t.scale&&(n["font-scale"]=t.scale.serialize()),t.font&&(n["text-font"]=t.font.serialize()),t.textColor&&(n["text-color"]=t.textColor.serialize()),e.push(n)}return e}}class Ut{constructor(e){this.type=pt,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,at);return n?new Ut(n):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),n=It.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Ht={"to-boolean":st,"to-color":lt,"to-number":ot,"to-string":at};class Xt{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[0];if(("to-boolean"===n||"to-string"===n)&&2!==e.length)return t.error("Expected one argument.");const i=Ht[n],r=[];for(let o=1;o<e.length;o++){const n=t.parse(e[o],o,ut);if(!n)return null;r.push(n)}return new Xt(i,r)}evaluate(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){let t,n;for(const i of this.args){if(t=i.evaluate(e),n=null,t instanceof Tt)return t;if("string"==typeof t){const n=e.parseColor(t);if(n)return n}else if(Array.isArray(t)&&(n=t.length<3||t.length>4?`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:Lt(t[0],t[1],t[2],t[3]),!n))return new Tt(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new Bt(n||`Could not parse color from value '${"string"==typeof t?t:String(JSON.stringify(t))}'`)}if("number"===this.type.kind){let t=null;for(const n of this.args){if(t=n.evaluate(e),null===t)return 0;const i=Number(t);if(!isNaN(i))return i}throw new Bt(`Could not convert ${JSON.stringify(t)} to number.`)}return"formatted"===this.type.kind?At.fromString(Rt(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?It.fromString(Rt(this.args[0].evaluate(e))):Rt(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){if("formatted"===this.type.kind)return new Wt([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new Ut(this.args[0]).serialize();const e=[`to-${this.type.kind}`];return this.eachChild((t=>{e.push(t.serialize())})),e}}var Gt=Xt;const Yt=["Unknown","Point","LineString","Polygon"];var qt=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&void 0!==this.feature.id?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?Yt[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const e=this.featureDistanceData.center,t=this.featureDistanceData.scale,{x:n,y:i}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(n*t-e[0])+this.featureDistanceData.bearing[1]*(i*t-e[1])}return 0}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Tt.parse(e)),t}};class Kt{constructor(e,t,n,i){this.name=e,this.type=t,this._evaluate=n,this.args=i}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map((e=>e.serialize())))}static parse(e,t){const n=e[0],i=Kt.definitions[n];if(!i)return t.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0);const r=Array.isArray(i)?i[0]:i.type,o=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,a=o.filter((([t])=>!Array.isArray(t)||t.length===e.length-1));let s=null;for(const[l,c]of a){s=new kn(t.registry,t.path,null,t.scope);const i=[];let o=!1;for(let t=1;t<e.length;t++){const n=e[t],r=Array.isArray(l)?l[t-1]:l.type,a=s.parse(n,1+i.length,r);if(!a){o=!0;break}i.push(a)}if(!o)if(Array.isArray(l)&&l.length!==i.length)s.error(`Expected ${l.length} arguments, but found ${i.length} instead.`);else{for(let e=0;e<i.length;e++){const t=Array.isArray(l)?l[e]:l.type,n=i[e];s.concat(e+1).checkSubtype(t,n.type)}if(0===s.errors.length)return new Kt(n,r,c,i)}}if(1===a.length)t.errors.push(...s.errors);else{const n=(a.length?a:o).map((([e])=>{return t=e,Array.isArray(t)?`(${t.map(mt).join(", ")})`:`(${mt(t.type)}...)`;var t})).join(" | "),i=[];for(let r=1;r<e.length;r++){const n=t.parse(e[r],1+i.length);if(!n)return null;i.push(mt(n.type))}t.error(`Expected arguments of type ${n}, but found (${i.join(", ")}) instead.`)}return null}static register(e,t){Kt.definitions=t;for(const n in t)e[n]=Kt}}var $t=Kt;class Zt{constructor(e,t,n){this.type=dt,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(2!==e.length)return t.error("Expected one argument.");const n=e[1];if("object"!=typeof n||Array.isArray(n))return t.error("Collator options argument must be an object.");const i=t.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,st);if(!i)return null;const r=t.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,st);if(!r)return null;let o=null;return n.locale&&(o=t.parse(n.locale,1,at),!o)?null:new Zt(i,r,o)}evaluate(e){return new Mt(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){const e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}const Jt=8192;function Qt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function en(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function tn(e,t){const n=(180+e[0])/360,i=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,r=Math.pow(2,t.z);return[Math.round(n*r*Jt),Math.round(i*r*Jt)]}function nn(e,t,n){const i=e[0]-t[0],r=e[1]-t[1],o=e[0]-n[0],a=e[1]-n[1];return i*a-o*r==0&&i*o<=0&&r*a<=0}function rn(e,t){let n=!1;for(let a=0,s=t.length;a<s;a++){const s=t[a];for(let t=0,a=s.length;t<a-1;t++){if(nn(e,s[t],s[t+1]))return!1;(r=s[t])[1]>(i=e)[1]!=(o=s[t+1])[1]>i[1]&&i[0]<(o[0]-r[0])*(i[1]-r[1])/(o[1]-r[1])+r[0]&&(n=!n)}}var i,r,o;return n}function on(e,t){for(let n=0;n<t.length;n++)if(rn(e,t[n]))return!0;return!1}function an(e,t,n,i){const r=i[0]-n[0],o=i[1]-n[1],a=(e[0]-n[0])*o-r*(e[1]-n[1]),s=(t[0]-n[0])*o-r*(t[1]-n[1]);return a>0&&s<0||a<0&&s>0}function sn(e,t,n){for(const c of n)for(let n=0;n<c.length-1;++n)if(0!=(s=[(a=c[n+1])[0]-(o=c[n])[0],a[1]-o[1]])[0]*(l=[(r=t)[0]-(i=e)[0],r[1]-i[1]])[1]-s[1]*l[0]&&an(i,r,o,a)&&an(o,a,i,r))return!0;var i,r,o,a,s,l;return!1}function ln(e,t){for(let n=0;n<e.length;++n)if(!rn(e[n],t))return!1;for(let n=0;n<e.length-1;++n)if(sn(e[n],e[n+1],t))return!1;return!0}function cn(e,t){for(let n=0;n<t.length;n++)if(ln(e,t[n]))return!0;return!1}function un(e,t,n){const i=[];for(let r=0;r<e.length;r++){const o=[];for(let i=0;i<e[r].length;i++){const a=tn(e[r][i],n);Qt(t,a),o.push(a)}i.push(o)}return i}function dn(e,t,n){const i=[];for(let r=0;r<e.length;r++){const o=un(e[r],t,n);i.push(o)}return i}function hn(e,t,n,i){if(e[0]<n[0]||e[0]>n[2]){const t=.5*i;let r=e[0]-n[0]>t?-i:n[0]-e[0]>t?i:0;0===r&&(r=e[0]-n[2]>t?-i:n[2]-e[0]>t?i:0),e[0]+=r}Qt(t,e)}function pn(e,t,n,i){const r=Math.pow(2,i.z)*Jt,o=[i.x*Jt,i.y*Jt],a=[];if(!e)return a;for(const s of e)for(const e of s){const i=[e.x+o[0],e.y+o[1]];hn(i,t,n,r),a.push(i)}return a}function fn(e,t,n,i){const r=Math.pow(2,i.z)*Jt,o=[i.x*Jt,i.y*Jt],a=[];if(!e)return a;for(const l of e){const e=[];for(const n of l){const i=[n.x+o[0],n.y+o[1]];Qt(t,i),e.push(i)}a.push(e)}if(t[2]-t[0]<=r/2){(s=t)[0]=s[1]=1/0,s[2]=s[3]=-1/0;for(const e of a)for(const i of e)hn(i,t,n,r)}var s;return a}class mn{constructor(e,t){this.type=st,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(Dt(e[1])){const t=e[1];if("FeatureCollection"===t.type)for(let e=0;e<t.features.length;++e){const n=t.features[e].geometry.type;if("Polygon"===n||"MultiPolygon"===n)return new mn(t,t.features[e].geometry)}else if("Feature"===t.type){const e=t.geometry.type;if("Polygon"===e||"MultiPolygon"===e)return new mn(t,t.geometry)}else if("Polygon"===t.type||"MultiPolygon"===t.type)return new mn(t,t)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=e.canonicalID();if(!r)return!1;if("Polygon"===t.type){const o=un(t.coordinates,i,r),a=pn(e.geometry(),n,i,r);if(!en(n,i))return!1;for(const e of a)if(!rn(e,o))return!1}if("MultiPolygon"===t.type){const o=dn(t.coordinates,i,r),a=pn(e.geometry(),n,i,r);if(!en(n,i))return!1;for(const e of a)if(!on(e,o))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=e.canonicalID();if(!r)return!1;if("Polygon"===t.type){const o=un(t.coordinates,i,r),a=fn(e.geometry(),n,i,r);if(!en(n,i))return!1;for(const e of a)if(!ln(e,o))return!1}if("MultiPolygon"===t.type){const o=dn(t.coordinates,i,r),a=fn(e.geometry(),n,i,r);if(!en(n,i))return!1;for(const e of a)if(!cn(e,o))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var gn=mn;function vn(e){if(e instanceof $t){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof gn)return!1;let t=!0;return e.eachChild((e=>{t&&!vn(e)&&(t=!1)})),t}function yn(e){if(e instanceof $t&&"feature-state"===e.name)return!1;let t=!0;return e.eachChild((e=>{t&&!yn(e)&&(t=!1)})),t}function xn(e,t){if(e instanceof $t&&t.indexOf(e.name)>=0)return!1;let n=!0;return e.eachChild((e=>{n&&!xn(e,t)&&(n=!1)})),n}class bn{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");const n=e[1];return t.scope.has(n)?new bn(n,t.scope.get(n)):t.error(`Unknown variable "${n}". Make sure "${n}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var _n=bn;class wn{constructor(e,t=[],n,i=new it,r=[]){this.registry=e,this.path=t,this.key=t.map((e=>`[${e}]`)).join(""),this.scope=i,this.errors=r,this.expectedType=n}parse(e,t,n,i,r={}){return t?this.concat(t,n,i)._parse(e,r):this._parse(e,r)}_parse(e,t){function n(e,t,n){return"assert"===n?new Vt(t,[e]):"coerce"===n?new Gt(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=e[0];if("string"!=typeof i)return this.error(`Expression name must be a string, but found ${typeof i} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const r=this.registry[i];if(r){let i=r.parse(e,this);if(!i)return null;if(this.expectedType){const e=this.expectedType,r=i.type;if("string"!==e.kind&&"number"!==e.kind&&"boolean"!==e.kind&&"object"!==e.kind&&"array"!==e.kind||"value"!==r.kind)if("color"!==e.kind&&"formatted"!==e.kind&&"resolvedImage"!==e.kind||"value"!==r.kind&&"string"!==r.kind){if(this.checkSubtype(e,r))return null}else i=n(i,e,t.typeAnnotation||"coerce");else i=n(i,e,t.typeAnnotation||"assert")}if(!(i instanceof Ft)&&"resolvedImage"!==i.type.kind&&Sn(i)){const t=new qt;try{i=new Ft(i.type,i.evaluate(t))}catch(e){return this.error(e.message),null}}return i}return this.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof e} instead.`)}concat(e,t,n){const i="number"==typeof e?this.path.concat(e):this.path,r=n?this.scope.concat(n):this.scope;return new wn(this.registry,i,t||null,r,this.errors)}error(e,...t){const n=`${this.key}${t.map((e=>`[${e}]`)).join("")}`;this.errors.push(new tt(n,e))}checkSubtype(e,t){const n=vt(e,t);return n&&this.error(n),n}}var kn=wn;function Sn(e){if(e instanceof _n)return Sn(e.boundExpression);if(e instanceof $t&&"error"===e.name)return!1;if(e instanceof Zt)return!1;if(e instanceof gn)return!1;const t=e instanceof Gt||e instanceof Vt;let n=!0;return e.eachChild((e=>{n=t?n&&Sn(e):n&&e instanceof Ft})),!!n&&vn(e)&&xn(e,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function Cn(e,t){const n=e.length-1;let i,r,o=0,a=n,s=0;for(;o<=a;)if(s=Math.floor((o+a)/2),i=e[s],r=e[s+1],i<=t){if(s===n||t<r)return s;o=s+1}else{if(!(i>t))throw new Bt("Input is not a number.");a=s-1}return 0}class En{constructor(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[i,r]of n)this.labels.push(i),this.outputs.push(r)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");const n=t.parse(e[1],1,ot);if(!n)return null;const i=[];let r=null;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(let o=1;o<e.length;o+=2){const n=1===o?-1/0:e[o],a=e[o+1],s=o,l=o+1;if("number"!=typeof n)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',s);if(i.length&&i[i.length-1][0]>=n)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',s);const c=t.parse(a,l,r);if(!c)return null;r=r||c.type,i.push([n,c])}return new En(r,n,i)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return n[0].evaluate(e);const r=t.length;return i>=t[r-1]?n[r-1].evaluate(e):n[Cn(t,i)].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}serialize(){const e=["step",this.input.serialize()];for(let t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}var Tn=En;function Mn(e,t,n){return e*(1-n)+t*n}var Pn=Object.freeze({__proto__:null,number:Mn,color:function(e,t,n){return new Tt(Mn(e.r,t.r,n),Mn(e.g,t.g,n),Mn(e.b,t.b,n),Mn(e.a,t.a,n))},array:function(e,t,n){return e.map(((e,i)=>Mn(e,t[i],n)))}});const An=.95047,In=1.08883,Ln=4/29,Dn=6/29,On=3*Dn*Dn,Rn=Math.PI/180,zn=180/Math.PI;function Fn(e){return e>.008856451679035631?Math.pow(e,1/3):e/On+Ln}function Bn(e){return e>Dn?e*e*e:On*(e-Ln)}function Nn(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function jn(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Vn(e){const t=jn(e.r),n=jn(e.g),i=jn(e.b),r=Fn((.4124564*t+.3575761*n+.1804375*i)/An),o=Fn((.2126729*t+.7151522*n+.072175*i)/1);return{l:116*o-16,a:500*(r-o),b:200*(o-Fn((.0193339*t+.119192*n+.9503041*i)/In)),alpha:e.a}}function Wn(e){let t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,i=isNaN(e.b)?t:t-e.b/200;return t=1*Bn(t),n=An*Bn(n),i=In*Bn(i),new Tt(Nn(3.2404542*n-1.5371385*t-.4985314*i),Nn(-.969266*n+1.8760108*t+.041556*i),Nn(.0556434*n-.2040259*t+1.0572252*i),e.alpha)}function Un(e,t,n){const i=t-e;return e+n*(i>180||i<-180?i-360*Math.round(i/360):i)}const Hn={forward:Vn,reverse:Wn,interpolate:function(e,t,n){return{l:Mn(e.l,t.l,n),a:Mn(e.a,t.a,n),b:Mn(e.b,t.b,n),alpha:Mn(e.alpha,t.alpha,n)}}},Xn={forward:function(e){const{l:t,a:n,b:i}=Vn(e),r=Math.atan2(i,n)*zn;return{h:r<0?r+360:r,c:Math.sqrt(n*n+i*i),l:t,alpha:e.a}},reverse:function(e){const t=e.h*Rn,n=e.c;return Wn({l:e.l,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})},interpolate:function(e,t,n){return{h:Un(e.h,t.h,n),c:Mn(e.c,t.c,n),l:Mn(e.l,t.l,n),alpha:Mn(e.alpha,t.alpha,n)}}};var Gn=Object.freeze({__proto__:null,lab:Hn,hcl:Xn});class Yn{constructor(e,t,n,i,r){this.type=e,this.operator=t,this.interpolation=n,this.input=i,this.labels=[],this.outputs=[];for(const[o,a]of r)this.labels.push(o),this.outputs.push(a)}static interpolationFactor(e,t,n,i){let r=0;if("exponential"===e.name)r=qn(t,e.base,n,i);else if("linear"===e.name)r=qn(t,1,n,i);else if("cubic-bezier"===e.name){const o=e.controlPoints;r=new h(o[0],o[1],o[2],o[3]).solve(qn(t,1,n,i))}return r}static parse(e,t){let[n,i,r,...o]=e;if(!Array.isArray(i)||0===i.length)return t.error("Expected an interpolation type expression.",1);if("linear"===i[0])i={name:"linear"};else if("exponential"===i[0]){const e=i[1];if("number"!=typeof e)return t.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:e}}else{if("cubic-bezier"!==i[0])return t.error(`Unknown interpolation type ${String(i[0])}`,1,0);{const e=i.slice(1);if(4!==e.length||e.some((e=>"number"!=typeof e||e<0||e>1)))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:e}}}if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(r=t.parse(r,2,ot),!r)return null;const a=[];let s=null;"interpolate-hcl"===n||"interpolate-lab"===n?s=lt:t.expectedType&&"value"!==t.expectedType.kind&&(s=t.expectedType);for(let l=0;l<o.length;l+=2){const e=o[l],n=o[l+1],i=l+3,r=l+4;if("number"!=typeof e)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',i);if(a.length&&a[a.length-1][0]>=e)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',i);const c=t.parse(n,r,s);if(!c)return null;s=s||c.type,a.push([e,c])}return"number"===s.kind||"color"===s.kind||"array"===s.kind&&"number"===s.itemType.kind&&"number"==typeof s.N?new Yn(s,n,i,r,a):t.error(`Type ${mt(s)} is not interpolatable.`)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return n[0].evaluate(e);const r=t.length;if(i>=t[r-1])return n[r-1].evaluate(e);const o=Cn(t,i),a=Yn.interpolationFactor(this.interpolation,i,t[o],t[o+1]),s=n[o].evaluate(e),l=n[o+1].evaluate(e);return"interpolate"===this.operator?Pn[this.type.kind.toLowerCase()](s,l,a):"interpolate-hcl"===this.operator?Xn.reverse(Xn.interpolate(Xn.forward(s),Xn.forward(l),a)):Hn.reverse(Hn.interpolate(Hn.forward(s),Hn.forward(l),a))}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}serialize(){let e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const t=[this.operator,e,this.input.serialize()];for(let n=0;n<this.labels.length;n++)t.push(this.labels[n],this.outputs[n].serialize());return t}}function qn(e,t,n,i){const r=i-n,o=e-n;return 0===r?0:1===t?o/r:(Math.pow(t,o)-1)/(Math.pow(t,r)-1)}var Kn=Yn;class $n{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expectected at least one argument.");let n=null;const i=t.expectedType;i&&"value"!==i.kind&&(n=i);const r=[];for(const a of e.slice(1)){const e=t.parse(a,1+r.length,n,void 0,{typeAnnotation:"omit"});if(!e)return null;n=n||e.type,r.push(e)}const o=i&&r.some((e=>vt(i,e.type)));return new $n(o?ut:n,r)}evaluate(e){let t,n=null,i=0;for(const r of this.args){if(i++,n=r.evaluate(e),n&&n instanceof It&&!n.available&&(t||(t=n),n=null,i===this.args.length))return t;if(null!==n)break}return n}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){const e=["coalesce"];return this.eachChild((t=>{e.push(t.serialize())})),e}}var Zn=$n;class Jn{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const n=[];for(let r=1;r<e.length-1;r+=2){const i=e[r];if("string"!=typeof i)return t.error(`Expected string, but found ${typeof i} instead.`,r);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",r);const o=t.parse(e[r+1],r+1);if(!o)return null;n.push([i,o])}const i=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return i?new Jn(n,i):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=["let"];for(const[t,n]of this.bindings)e.push(t,n.serialize());return e.push(this.result.serialize()),e}}var Qn=Jn;class ei{constructor(e,t,n){this.type=e,this.index=t,this.input=n}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,ot),i=t.parse(e[2],2,ft(t.expectedType||ut));return n&&i?new ei(i.type.itemType,n,i):null}evaluate(e){const t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new Bt(`Array index out of bounds: ${t} < 0.`);if(t>=n.length)throw new Bt(`Array index out of bounds: ${t} > ${n.length-1}.`);if(t!==Math.floor(t))throw new Bt(`Array index must be an integer, but found ${t} instead.`);return n[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var ti=ei;class ni{constructor(e,t){this.type=st,this.needle=e,this.haystack=t}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,ut),i=t.parse(e[2],2,ut);return n&&i?yt(n.type,[st,at,ot,rt,ut])?new ni(n,i):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${mt(n.type)} instead`):null}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(null==n)return!1;if(!xt(t,["boolean","string","number","null"]))throw new Bt(`Expected first argument to be of type boolean, string, number or null, but found ${mt(Ot(t))} instead.`);if(!xt(n,["string","array"]))throw new Bt(`Expected second argument to be of type array or string, but found ${mt(Ot(n))} instead.`);return n.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var ii=ni;class ri{constructor(e,t,n){this.type=ot,this.needle=e,this.haystack=t,this.fromIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,ut),i=t.parse(e[2],2,ut);if(!n||!i)return null;if(!yt(n.type,[st,at,ot,rt,ut]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${mt(n.type)} instead`);if(4===e.length){const r=t.parse(e[3],3,ot);return r?new ri(n,i,r):null}return new ri(n,i)}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!xt(t,["boolean","string","number","null"]))throw new Bt(`Expected first argument to be of type boolean, string, number or null, but found ${mt(Ot(t))} instead.`);if(!xt(n,["string","array"]))throw new Bt(`Expected second argument to be of type array or string, but found ${mt(Ot(n))} instead.`);if(this.fromIndex){const i=this.fromIndex.evaluate(e);return n.indexOf(t,i)}return n.indexOf(t)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var oi=ri;class ai{constructor(e,t,n,i,r,o){this.inputType=e,this.type=t,this.input=n,this.cases=i,this.outputs=r,this.otherwise=o}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return t.error("Expected an even number of arguments.");let n,i;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);const r={},o=[];for(let l=2;l<e.length-1;l+=2){let a=e[l];const s=e[l+1];Array.isArray(a)||(a=[a]);const c=t.concat(l);if(0===a.length)return c.error("Expected at least one branch label.");for(const e of a){if("number"!=typeof e&&"string"!=typeof e)return c.error("Branch labels must be numbers or strings.");if("number"==typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return c.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof e&&Math.floor(e)!==e)return c.error("Numeric branch labels must be integer values.");if(n){if(c.checkSubtype(n,Ot(e)))return null}else n=Ot(e);if(void 0!==r[String(e)])return c.error("Branch labels must be unique.");r[String(e)]=o.length}const u=t.parse(s,l,i);if(!u)return null;i=i||u.type,o.push(u)}const a=t.parse(e[1],1,ut);if(!a)return null;const s=t.parse(e[e.length-1],e.length-1,i);return s?"value"!==a.type.kind&&t.concat(1).checkSubtype(n,a.type)?null:new ai(n,i,a,r,o,s):null}evaluate(e){const t=this.input.evaluate(e);return(Ot(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const e=["match",this.input.serialize()],t=Object.keys(this.cases).sort(),n=[],i={};for(const o of t){const e=i[this.cases[o]];void 0===e?(i[this.cases[o]]=n.length,n.push([this.cases[o],[o]])):n[e][1].push(o)}const r=e=>"number"===this.inputType.kind?Number(e):e;for(const[o,a]of n)e.push(1===a.length?r(a[0]):a.map(r)),e.push(this.outputs[o].serialize());return e.push(this.otherwise.serialize()),e}}var si=ai;class li{constructor(e,t,n){this.type=e,this.branches=t,this.otherwise=n}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return t.error("Expected an odd number of arguments.");let n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);const i=[];for(let o=1;o<e.length-1;o+=2){const r=t.parse(e[o],o,st);if(!r)return null;const a=t.parse(e[o+1],o+1,n);if(!a)return null;i.push([r,a]),n=n||a.type}const r=t.parse(e[e.length-1],e.length-1,n);return r?new li(n,i,r):null}evaluate(e){for(const[t,n]of this.branches)if(t.evaluate(e))return n.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,n]of this.branches)e(t),e(n);e(this.otherwise)}outputDefined(){return this.branches.every((([e,t])=>t.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const e=["case"];return this.eachChild((t=>{e.push(t.serialize())})),e}}var ci=li;class ui{constructor(e,t,n,i){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=i}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,ut),i=t.parse(e[2],2,ot);if(!n||!i)return null;if(!yt(n.type,[ft(ut),at,ut]))return t.error(`Expected first argument to be of type array or string, but found ${mt(n.type)} instead`);if(4===e.length){const r=t.parse(e[3],3,ot);return r?new ui(n.type,n,i,r):null}return new ui(n.type,n,i)}evaluate(e){const t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!xt(t,["string","array"]))throw new Bt(`Expected first argument to be of type array or string, but found ${mt(Ot(t))} instead.`);if(this.endIndex){const i=this.endIndex.evaluate(e);return t.slice(n,i)}return t.slice(n)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var di=ui;function hi(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function pi(e,t,n,i){return 0===i.compare(t,n)}function fi(e,t,n){const i="=="!==e&&"!="!==e;return class r{constructor(e,t,n){this.type=st,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");const n=e[0];let o=t.parse(e[1],1,ut);if(!o)return null;if(!hi(n,o.type))return t.concat(1).error(`"${n}" comparisons are not supported for type '${mt(o.type)}'.`);let a=t.parse(e[2],2,ut);if(!a)return null;if(!hi(n,a.type))return t.concat(2).error(`"${n}" comparisons are not supported for type '${mt(a.type)}'.`);if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error(`Cannot compare types '${mt(o.type)}' and '${mt(a.type)}'.`);i&&("value"===o.type.kind&&"value"!==a.type.kind?o=new Vt(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new Vt(o.type,[a])));let s=null;if(4===e.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(s=t.parse(e[3],3,dt),!s)return null}return new r(o,a,s)}evaluate(r){const o=this.lhs.evaluate(r),a=this.rhs.evaluate(r);if(i&&this.hasUntypedArgument){const t=Ot(o),n=Ot(a);if(t.kind!==n.kind||"string"!==t.kind&&"number"!==t.kind)throw new Bt(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${t.kind}, ${n.kind}) instead.`)}if(this.collator&&!i&&this.hasUntypedArgument){const e=Ot(o),n=Ot(a);if("string"!==e.kind||"string"!==n.kind)return t(r,o,a)}return this.collator?n(r,o,a,this.collator.evaluate(r)):t(r,o,a)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}outputDefined(){return!0}serialize(){const t=[e];return this.eachChild((e=>{t.push(e.serialize())})),t}}}const mi=fi("==",(function(e,t,n){return t===n}),pi),gi=fi("!=",(function(e,t,n){return t!==n}),(function(e,t,n,i){return!pi(0,t,n,i)})),vi=fi("<",(function(e,t,n){return t<n}),(function(e,t,n,i){return i.compare(t,n)<0})),yi=fi(">",(function(e,t,n){return t>n}),(function(e,t,n,i){return i.compare(t,n)>0})),xi=fi("<=",(function(e,t,n){return t<=n}),(function(e,t,n,i){return i.compare(t,n)<=0})),bi=fi(">=",(function(e,t,n){return t>=n}),(function(e,t,n,i){return i.compare(t,n)>=0}));class _i{constructor(e,t,n,i,r,o){this.type=at,this.number=e,this.locale=t,this.currency=n,this.unit=i,this.minFractionDigits=r,this.maxFractionDigits=o}static parse(e,t){if(3!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,ot);if(!n)return null;const i=e[2];if("object"!=typeof i||Array.isArray(i))return t.error("NumberFormat options argument must be an object.");let r=null;if(i.locale&&(r=t.parse(i.locale,1,at),!r))return null;let o=null;if(i.currency&&(o=t.parse(i.currency,1,at),!o))return null;let a=null;if(i.unit&&(a=t.parse(i.unit,1,at),!a))return null;let s=null;if(i["min-fraction-digits"]&&(s=t.parse(i["min-fraction-digits"],1,ot),!s))return null;let l=null;return i["max-fraction-digits"]&&(l=t.parse(i["max-fraction-digits"],1,ot),!l)?null:new _i(n,r,o,a,s,l)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(e):void 0,unit:this.unit?this.unit.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.unit&&e(this.unit),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.unit&&(e.unit=this.unit.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class wi{constructor(e){this.type=ot,this.input=e}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const n=t.parse(e[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?t.error(`Expected argument of type string or array, but found ${mt(n.type)} instead.`):new wi(n):null}evaluate(e){const t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new Bt(`Expected value to be of type string or array, but found ${mt(Ot(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){const e=["length"];return this.eachChild((t=>{e.push(t.serialize())})),e}}const ki={"==":mi,"!=":gi,">":yi,"<":vi,">=":bi,"<=":xi,array:Vt,at:ti,boolean:Vt,case:ci,coalesce:Zn,collator:Zt,format:Wt,image:Ut,in:ii,"index-of":oi,interpolate:Kn,"interpolate-hcl":Kn,"interpolate-lab":Kn,length:wi,let:Qn,literal:Ft,match:si,number:Vt,"number-format":_i,object:Vt,slice:di,step:Tn,string:Vt,"to-boolean":Gt,"to-color":Gt,"to-number":Gt,"to-string":Gt,var:_n,within:gn};function Si(e,[t,n,i,r]){t=t.evaluate(e),n=n.evaluate(e),i=i.evaluate(e);const o=r?r.evaluate(e):1,a=Lt(t,n,i,o);if(a)throw new Bt(a);return new Tt(t/255*o,n/255*o,i/255*o,o)}function Ci(e,t){return e in t}function Ei(e,t){const n=t[e];return void 0===n?null:n}function Ti(e){return{type:e}}$t.register(ki,{error:[{kind:"error"},[at],(e,[t])=>{throw new Bt(t.evaluate(e))}],typeof:[at,[ut],(e,[t])=>mt(Ot(t.evaluate(e)))],"to-rgba":[ft(ot,4),[lt],(e,[t])=>t.evaluate(e).toArray()],rgb:[lt,[ot,ot,ot],Si],rgba:[lt,[ot,ot,ot,ot],Si],has:{type:st,overloads:[[[at],(e,[t])=>Ci(t.evaluate(e),e.properties())],[[at,ct],(e,[t,n])=>Ci(t.evaluate(e),n.evaluate(e))]]},get:{type:ut,overloads:[[[at],(e,[t])=>Ei(t.evaluate(e),e.properties())],[[at,ct],(e,[t,n])=>Ei(t.evaluate(e),n.evaluate(e))]]},"feature-state":[ut,[at],(e,[t])=>Ei(t.evaluate(e),e.featureState||{})],properties:[ct,[],e=>e.properties()],"geometry-type":[at,[],e=>e.geometryType()],id:[ut,[],e=>e.id()],zoom:[ot,[],e=>e.globals.zoom],pitch:[ot,[],e=>e.globals.pitch||0],"distance-from-center":[ot,[],e=>e.distanceFromCenter()],"heatmap-density":[ot,[],e=>e.globals.heatmapDensity||0],"line-progress":[ot,[],e=>e.globals.lineProgress||0],"sky-radial-progress":[ot,[],e=>e.globals.skyRadialProgress||0],accumulated:[ut,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],"+":[ot,Ti(ot),(e,t)=>{let n=0;for(const i of t)n+=i.evaluate(e);return n}],"*":[ot,Ti(ot),(e,t)=>{let n=1;for(const i of t)n*=i.evaluate(e);return n}],"-":{type:ot,overloads:[[[ot,ot],(e,[t,n])=>t.evaluate(e)-n.evaluate(e)],[[ot],(e,[t])=>-t.evaluate(e)]]},"/":[ot,[ot,ot],(e,[t,n])=>t.evaluate(e)/n.evaluate(e)],"%":[ot,[ot,ot],(e,[t,n])=>t.evaluate(e)%n.evaluate(e)],ln2:[ot,[],()=>Math.LN2],pi:[ot,[],()=>Math.PI],e:[ot,[],()=>Math.E],"^":[ot,[ot,ot],(e,[t,n])=>Math.pow(t.evaluate(e),n.evaluate(e))],sqrt:[ot,[ot],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[ot,[ot],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[ot,[ot],(e,[t])=>Math.log(t.evaluate(e))],log2:[ot,[ot],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[ot,[ot],(e,[t])=>Math.sin(t.evaluate(e))],cos:[ot,[ot],(e,[t])=>Math.cos(t.evaluate(e))],tan:[ot,[ot],(e,[t])=>Math.tan(t.evaluate(e))],asin:[ot,[ot],(e,[t])=>Math.asin(t.evaluate(e))],acos:[ot,[ot],(e,[t])=>Math.acos(t.evaluate(e))],atan:[ot,[ot],(e,[t])=>Math.atan(t.evaluate(e))],min:[ot,Ti(ot),(e,t)=>Math.min(...t.map((t=>t.evaluate(e))))],max:[ot,Ti(ot),(e,t)=>Math.max(...t.map((t=>t.evaluate(e))))],abs:[ot,[ot],(e,[t])=>Math.abs(t.evaluate(e))],round:[ot,[ot],(e,[t])=>{const n=t.evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[ot,[ot],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[ot,[ot],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[st,[at,ut],(e,[t,n])=>e.properties()[t.value]===n.value],"filter-id-==":[st,[ut],(e,[t])=>e.id()===t.value],"filter-type-==":[st,[at],(e,[t])=>e.geometryType()===t.value],"filter-<":[st,[at,ut],(e,[t,n])=>{const i=e.properties()[t.value],r=n.value;return typeof i==typeof r&&i<r}],"filter-id-<":[st,[ut],(e,[t])=>{const n=e.id(),i=t.value;return typeof n==typeof i&&n<i}],"filter->":[st,[at,ut],(e,[t,n])=>{const i=e.properties()[t.value],r=n.value;return typeof i==typeof r&&i>r}],"filter-id->":[st,[ut],(e,[t])=>{const n=e.id(),i=t.value;return typeof n==typeof i&&n>i}],"filter-<=":[st,[at,ut],(e,[t,n])=>{const i=e.properties()[t.value],r=n.value;return typeof i==typeof r&&i<=r}],"filter-id-<=":[st,[ut],(e,[t])=>{const n=e.id(),i=t.value;return typeof n==typeof i&&n<=i}],"filter->=":[st,[at,ut],(e,[t,n])=>{const i=e.properties()[t.value],r=n.value;return typeof i==typeof r&&i>=r}],"filter-id->=":[st,[ut],(e,[t])=>{const n=e.id(),i=t.value;return typeof n==typeof i&&n>=i}],"filter-has":[st,[ut],(e,[t])=>t.value in e.properties()],"filter-has-id":[st,[],e=>null!==e.id()&&void 0!==e.id()],"filter-type-in":[st,[ft(at)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[st,[ft(ut)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[st,[at,ft(ut)],(e,[t,n])=>n.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[st,[at,ft(ut)],(e,[t,n])=>function(e,t,n,i){for(;n<=i;){const r=n+i>>1;if(t[r]===e)return!0;t[r]>e?i=r-1:n=r+1}return!1}(e.properties()[t.value],n.value,0,n.value.length-1)],all:{type:st,overloads:[[[st,st],(e,[t,n])=>t.evaluate(e)&&n.evaluate(e)],[Ti(st),(e,t)=>{for(const n of t)if(!n.evaluate(e))return!1;return!0}]]},any:{type:st,overloads:[[[st,st],(e,[t,n])=>t.evaluate(e)||n.evaluate(e)],[Ti(st),(e,t)=>{for(const n of t)if(n.evaluate(e))return!0;return!1}]]},"!":[st,[st],(e,[t])=>!t.evaluate(e)],"is-supported-script":[st,[at],(e,[t])=>{const n=e.globals&&e.globals.isSupportedScript;return!n||n(t.evaluate(e))}],upcase:[at,[at],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[at,[at],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[at,Ti(ut),(e,t)=>t.map((t=>Rt(t.evaluate(e)))).join("")],"resolved-locale":[at,[dt],(e,[t])=>t.evaluate(e).resolvedLocale()]});var Mi=ki;function Pi(e){return{result:"success",value:e}}function Ai(e){return{result:"error",value:e}}function Ii(e){return"data-driven"===e["property-type"]}function Li(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function Di(e){return!!e.expression&&e.expression.interpolated}function Oi(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function Ri(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function zi(e){return e}function Fi(e,t){const n="color"===t.type,i=e.stops&&"object"==typeof e.stops[0][0],r=i||!(i||void 0!==e.property),o=e.type||(Di(t)?"exponential":"interval");if(n&&((e=Ze({},e)).stops&&(e.stops=e.stops.map((e=>[e[0],Tt.parse(e[1])]))),e.default=Tt.parse(e.default?e.default:t.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!Gn[e.colorSpace])throw new Error(`Unknown color space: ${e.colorSpace}`);let a,s,l;if("exponential"===o)a=Vi;else if("interval"===o)a=ji;else if("categorical"===o){a=Ni,s=Object.create(null);for(const t of e.stops)s[t[0]]=t[1];l=typeof e.stops[0][0]}else{if("identity"!==o)throw new Error(`Unknown function type "${o}"`);a=Wi}if(i){const n={},i=[];for(let t=0;t<e.stops.length;t++){const r=e.stops[t],o=r[0].zoom;void 0===n[o]&&(n[o]={zoom:o,type:e.type,property:e.property,default:e.default,stops:[]},i.push(o)),n[o].stops.push([r[0].value,r[1]])}const r=[];for(const e of i)r.push([n[e].zoom,Fi(n[e],t)]);const o={name:"linear"};return{kind:"composite",interpolationType:o,interpolationFactor:Kn.interpolationFactor.bind(void 0,o),zoomStops:r.map((e=>e[0])),evaluate:({zoom:n},i)=>Vi({stops:r,base:e.base},t,n).evaluate(n,i)}}if(r){const n="exponential"===o?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:n,interpolationFactor:Kn.interpolationFactor.bind(void 0,n),zoomStops:e.stops.map((e=>e[0])),evaluate:({zoom:n})=>a(e,t,n,s,l)}}return{kind:"source",evaluate(n,i){const r=i&&i.properties?i.properties[e.property]:void 0;return void 0===r?Bi(e.default,t.default):a(e,t,r,s,l)}}}function Bi(e,t,n){return void 0!==e?e:void 0!==t?t:void 0!==n?n:void 0}function Ni(e,t,n,i,r){return Bi(typeof n===r?i[n]:void 0,e.default,t.default)}function ji(e,t,n){if("number"!==Oi(n))return Bi(e.default,t.default);const i=e.stops.length;if(1===i)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];const r=Cn(e.stops.map((e=>e[0])),n);return e.stops[r][1]}function Vi(e,t,n){const i=void 0!==e.base?e.base:1;if("number"!==Oi(n))return Bi(e.default,t.default);const r=e.stops.length;if(1===r)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];const o=Cn(e.stops.map((e=>e[0])),n),a=function(e,t,n,i){const r=i-n,o=e-n;return 0===r?0:1===t?o/r:(Math.pow(t,o)-1)/(Math.pow(t,r)-1)}(n,i,e.stops[o][0],e.stops[o+1][0]),s=e.stops[o][1],l=e.stops[o+1][1];let c=Pn[t.type]||zi;if(e.colorSpace&&"rgb"!==e.colorSpace){const t=Gn[e.colorSpace];c=(e,n)=>t.reverse(t.interpolate(t.forward(e),t.forward(n),a))}return"function"==typeof s.evaluate?{evaluate(...e){const t=s.evaluate.apply(void 0,e),n=l.evaluate.apply(void 0,e);if(void 0!==t&&void 0!==n)return c(t,n,a)}}:c(s,l,a)}function Wi(e,t,n){return"color"===t.type?n=Tt.parse(n):"formatted"===t.type?n=At.fromString(n.toString()):"resolvedImage"===t.type?n=It.fromString(n.toString()):Oi(n)===t.type||"enum"===t.type&&t.values[n]||(n=void 0),Bi(n,e.default,t.default)}class Ui{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new qt,this._defaultValue=t?function(e){return"color"===e.type&&(Ri(e.default)||Array.isArray(e.default))?new Tt(0,0,0,0):"color"===e.type?Tt.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null}evaluateWithoutErrorHandling(e,t,n,i,r,o,a,s){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=i||null,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=o,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=s||null,this.expression.evaluate(this._evaluator)}evaluate(e,t,n,i,r,o,a,s){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=i||null,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=o||null,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=s||null;try{const e=this.expression.evaluate(this._evaluator);if(null==e||"number"==typeof e&&e!=e)return this._defaultValue;if(this._enumValues&&!(e in this._enumValues))throw new Bt(`Expected value to be one of ${Object.keys(this._enumValues).map((e=>JSON.stringify(e))).join(", ")}, but found ${JSON.stringify(e)} instead.`);return e}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}function Hi(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in Mi}function Xi(e,t){const n=new kn(Mi,[],t?function(e){const t={color:lt,string:at,number:ot,enum:at,boolean:st,formatted:ht,resolvedImage:pt};return"array"===e.type?ft(t[e.value]||ut,e.length):t[e.type]}(t):void 0),i=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return i?Pi(new Ui(i,t)):Ai(n.errors)}class Gi{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!yn(t.expression)}evaluateWithoutErrorHandling(e,t,n,i,r,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,i,r,o)}evaluate(e,t,n,i,r,o){return this._styleExpression.evaluate(e,t,n,i,r,o)}}class Yi{constructor(e,t,n,i){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent="camera"!==e&&!yn(t.expression),this.interpolationType=i}evaluateWithoutErrorHandling(e,t,n,i,r,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,i,r,o)}evaluate(e,t,n,i,r,o){return this._styleExpression.evaluate(e,t,n,i,r,o)}interpolationFactor(e,t,n){return this.interpolationType?Kn.interpolationFactor(this.interpolationType,e,t,n):0}}function qi(e,t){if("error"===(e=Xi(e,t)).result)return e;const n=e.value.expression,i=vn(n);if(!i&&!Ii(t))return Ai([new tt("","data expressions not supported")]);const r=xn(n,["zoom","pitch","distance-from-center"]);if(!r&&!Li(t))return Ai([new tt("","zoom expressions not supported")]);const o=$i(n);return o||r?o instanceof tt?Ai([o]):o instanceof Kn&&!Di(t)?Ai([new tt("",'"interpolate" expressions cannot be used with this property')]):Pi(o?new Yi(i?"camera":"composite",e.value,o.labels,o instanceof Kn?o.interpolation:void 0):new Gi(i?"constant":"source",e.value)):Ai([new tt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Ki{constructor(e,t){this._parameters=e,this._specification=t,Ze(this,Fi(this._parameters,this._specification))}static deserialize(e){return new Ki(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function $i(e){let t=null;if(e instanceof Qn)t=$i(e.result);else if(e instanceof Zn){for(const n of e.args)if(t=$i(n),t)break}else(e instanceof Tn||e instanceof Kn)&&e.input instanceof $t&&"zoom"===e.input.name&&(t=e);return t instanceof tt||e.eachChild((e=>{const n=$i(e);n instanceof tt?t=n:!t&&n?t=new tt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&n&&t!==n&&(t=new tt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),t}class Zi{constructor(e,t,n,i){this.message=(e?`${e}: `:"")+n,i&&(this.identifier=i),null!=t&&t.__line__&&(this.line=t.__line__)}}function Ji(e){const t=e.key,n=e.value,i=e.valueSpec||{},r=e.objectElementValidators||{},o=e.style,a=e.styleSpec;let s=[];const l=Oi(n);if("object"!==l)return[new Zi(t,n,`object expected, ${l} found`)];for(const c in n){const e=c.split(".")[0],l=i[e]||i["*"];let u;r[e]?u=r[e]:i[e]?u=Lr:r["*"]?u=r["*"]:i["*"]&&(u=Lr),u?s=s.concat(u({key:(t?`${t}.`:t)+c,value:n[c],valueSpec:l,style:o,styleSpec:a,object:n,objectKey:c},n)):s.push(new Zi(t,n[c],`unknown property "${c}"`))}for(const c in i)r[c]||i[c].required&&void 0===i[c].default&&void 0===n[c]&&s.push(new Zi(t,n,`missing required property "${c}"`));return s}function Qi(e){const t=e.value,n=e.valueSpec,i=e.style,r=e.styleSpec,o=e.key,a=e.arrayElementValidator||Lr;if("array"!==Oi(t))return[new Zi(o,t,`array expected, ${Oi(t)} found`)];if(n.length&&t.length!==n.length)return[new Zi(o,t,`array length ${n.length} expected, length ${t.length} found`)];if(n["min-length"]&&t.length<n["min-length"])return[new Zi(o,t,`array length at least ${n["min-length"]} expected, length ${t.length} found`)];let s={type:n.value,values:n.values,minimum:n.minimum,maximum:n.maximum,function:void 0};r.$version<7&&(s.function=n.function),"object"===Oi(n.value)&&(s=n.value);let l=[];for(let c=0;c<t.length;c++)l=l.concat(a({array:t,arrayIndex:c,value:t[c],valueSpec:s,style:i,styleSpec:r,key:`${o}[${c}]`}));return l}function er(e){const t=e.key,n=e.value,i=e.valueSpec;let r=Oi(n);if("number"===r&&n!=n&&(r="NaN"),"number"!==r)return[new Zi(t,n,`number expected, ${r} found`)];if("minimum"in i){let r=i.minimum;if("array"===Oi(i.minimum)&&(r=i.minimum[e.arrayIndex]),n<r)return[new Zi(t,n,`${n} is less than the minimum value ${r}`)]}if("maximum"in i){let r=i.maximum;if("array"===Oi(i.maximum)&&(r=i.maximum[e.arrayIndex]),n>r)return[new Zi(t,n,`${n} is greater than the maximum value ${r}`)]}return[]}function tr(e){const t=e.valueSpec,n=Je(e.value.type);let i,r,o,a={};const s="categorical"!==n&&void 0===e.value.property,l=!s,c="array"===Oi(e.value.stops)&&"array"===Oi(e.value.stops[0])&&"object"===Oi(e.value.stops[0][0]),u=Ji({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===n)return[new Zi(e.key,e.value,'identity function may not have a "stops" property')];let t=[];const i=e.value;return t=t.concat(Qi({key:e.key,value:i,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:d})),"array"===Oi(i)&&0===i.length&&t.push(new Zi(e.key,i,"array must have at least one stop")),t},default:function(e){return Lr({key:e.key,value:e.value,valueSpec:t,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===n&&s&&u.push(new Zi(e.key,e.value,'missing required property "property"')),"identity"===n||e.value.stops||u.push(new Zi(e.key,e.value,'missing required property "stops"')),"exponential"===n&&e.valueSpec.expression&&!Di(e.valueSpec)&&u.push(new Zi(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!Ii(e.valueSpec)?u.push(new Zi(e.key,e.value,"property functions not supported")):s&&!Li(e.valueSpec)&&u.push(new Zi(e.key,e.value,"zoom functions not supported"))),"categorical"!==n&&!c||void 0!==e.value.property||u.push(new Zi(e.key,e.value,'"property" property is required')),u;function d(e){let n=[];const i=e.value,s=e.key;if("array"!==Oi(i))return[new Zi(s,i,`array expected, ${Oi(i)} found`)];if(2!==i.length)return[new Zi(s,i,`array length 2 expected, length ${i.length} found`)];if(c){if("object"!==Oi(i[0]))return[new Zi(s,i,`object expected, ${Oi(i[0])} found`)];if(void 0===i[0].zoom)return[new Zi(s,i,"object stop key must have zoom")];if(void 0===i[0].value)return[new Zi(s,i,"object stop key must have value")];const t=Je(i[0].zoom);if("number"!=typeof t)return[new Zi(s,i[0].zoom,"stop zoom values must be numbers")];if(o&&o>t)return[new Zi(s,i[0].zoom,"stop zoom values must appear in ascending order")];t!==o&&(o=t,r=void 0,a={}),n=n.concat(Ji({key:`${s}[0]`,value:i[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:er,value:h}}))}else n=n.concat(h({key:`${s}[0]`,value:i[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},i));return Hi(Qe(i[1]))?n.concat([new Zi(`${s}[1]`,i[1],"expressions are not allowed in function stops.")]):n.concat(Lr({key:`${s}[1]`,value:i[1],valueSpec:t,style:e.style,styleSpec:e.styleSpec}))}function h(e,o){const s=Oi(e.value),l=Je(e.value),c=null!==e.value?e.value:o;if(i){if(s!==i)return[new Zi(e.key,c,`${s} stop domain type must match previous stop domain type ${i}`)]}else i=s;if("number"!==s&&"string"!==s&&"boolean"!==s&&"number"!=typeof l&&"string"!=typeof l&&"boolean"!=typeof l)return[new Zi(e.key,c,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==n){let i=`number expected, ${s} found`;return Ii(t)&&void 0===n&&(i+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Zi(e.key,c,i)]}return"categorical"!==n||"number"!==s||"number"==typeof l&&isFinite(l)&&Math.floor(l)===l?"categorical"!==n&&"number"===s&&"number"==typeof l&&"number"==typeof r&&void 0!==r&&l<r?[new Zi(e.key,c,"stop domain values must appear in ascending order")]:(r=l,"categorical"===n&&l in a?[new Zi(e.key,c,"stop domain values must be unique")]:(a[l]=!0,[])):[new Zi(e.key,c,`integer expected, found ${String(l)}`)]}}function nr(e){const t=("property"===e.expressionContext?qi:Xi)(Qe(e.value),e.valueSpec);if("error"===t.result)return t.value.map((t=>new Zi(`${e.key}${t.key}`,e.value,t.message)));const n=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!n.outputDefined())return[new Zi(e.key,e.value,`Invalid data expression for "${e.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===e.expressionContext&&"layout"===e.propertyType&&!yn(n))return[new Zi(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext)return ir(n,e);if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!xn(n,["zoom","feature-state"]))return[new Zi(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!vn(n))return[new Zi(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function ir(e,t){const n=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(t.valueSpec&&t.valueSpec.expression)for(const r of t.valueSpec.expression.parameters)n.delete(r);if(0===n.size)return[];const i=[];return e instanceof $t&&n.has(e.name)?[new Zi(t.key,t.value,`["${e.name}"] expression is not supported in a filter for a ${t.object.type} layer with id: ${t.object.id}`)]:(e.eachChild((e=>{i.push(...ir(e,t))})),i)}function rr(e){const t=e.key,n=e.value,i=e.valueSpec,r=[];return Array.isArray(i.values)?-1===i.values.indexOf(Je(n))&&r.push(new Zi(t,n,`expected one of [${i.values.join(", ")}], ${JSON.stringify(n)} found`)):-1===Object.keys(i.values).indexOf(Je(n))&&r.push(new Zi(t,n,`expected one of [${Object.keys(i.values).join(", ")}], ${JSON.stringify(n)} found`)),r}function or(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!or(t)&&"boolean"!=typeof t)return!1;return!0;default:return!0}}function ar(e,t="fill"){if(null==e)return{filter:()=>!0,needGeometry:!1,needFeature:!1};or(e)||(e=pr(e));const n=e;let i=!0;try{i=function(e){if(!cr(e))return e;let t=Qe(e);return lr(t),t=sr(t),t}(n)}catch(e){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n${JSON.stringify(n,null,2)}\n        `)}const r=$e[`filter_${t}`],o=Xi(i,r);let a=null;if("error"===o.result)throw new Error(o.value.map((e=>`${e.key}: ${e.message}`)).join(", "));a=(e,t,n)=>o.value.evaluate(e,t,{},n);let s=null,l=null;if(i!==n){const e=Xi(n,r);if("error"===e.result)throw new Error(e.value.map((e=>`${e.key}: ${e.message}`)).join(", "));s=(t,n,i,r,o)=>e.value.evaluate(t,n,{},i,void 0,void 0,r,o),l=!vn(e.value.expression)}return{filter:a,dynamicFilter:s||void 0,needGeometry:hr(i),needFeature:!!l}}function sr(e){if(!Array.isArray(e))return e;const t=function(e){if(ur.has(e[0]))for(let t=1;t<e.length;t++)if(cr(e[t]))return!0;return e}(e);return!0===t?t:t.map((e=>sr(e)))}function lr(e){let t=!1;const n=[];if("case"===e[0]){for(let i=1;i<e.length-1;i+=2)t=t||cr(e[i]),n.push(e[i+1]);n.push(e[e.length-1])}else if("match"===e[0]){t=t||cr(e[1]);for(let t=2;t<e.length-1;t+=2)n.push(e[t+1]);n.push(e[e.length-1])}else if("step"===e[0]){t=t||cr(e[1]);for(let t=1;t<e.length-1;t+=2)n.push(e[t+1])}t&&(e.length=0,e.push("any",...n));for(let i=1;i<e.length;i++)lr(e[i])}function cr(e){if(!Array.isArray(e))return!1;if("pitch"===(t=e[0])||"distance-from-center"===t)return!0;var t;for(let n=1;n<e.length;n++)if(cr(e[n]))return!0;return!1}const ur=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function dr(e,t){return e<t?-1:e>t?1:0}function hr(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(let t=1;t<e.length;t++)if(hr(e[t]))return!0;return!1}function pr(e){if(!e)return!0;const t=e[0];return e.length<=1?"any"!==t:"=="===t?fr(e[1],e[2],"=="):"!="===t?vr(fr(e[1],e[2],"==")):"<"===t||">"===t||"<="===t||">="===t?fr(e[1],e[2],t):"any"===t?(n=e.slice(1),["any"].concat(n.map(pr))):"all"===t?["all"].concat(e.slice(1).map(pr)):"none"===t?["all"].concat(e.slice(1).map(pr).map(vr)):"in"===t?mr(e[1],e.slice(2)):"!in"===t?vr(mr(e[1],e.slice(2))):"has"===t?gr(e[1]):"!has"===t?vr(gr(e[1])):"within"!==t||e;var n}function fr(e,t,n){switch(e){case"$type":return[`filter-type-${n}`,t];case"$id":return[`filter-id-${n}`,t];default:return[`filter-${n}`,e,t]}}function mr(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((e=>typeof e!=typeof t[0]))?["filter-in-large",e,["literal",t.sort(dr)]]:["filter-in-small",e,["literal",t]]}}function gr(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function vr(e){return["!",e]}function yr(e){return or(Qe(e.value))?nr(Ze({},e,{expressionContext:"filter",valueSpec:e.styleSpec[`filter_${e.layerType||"fill"}`]})):xr(e)}function xr(e){const t=e.value,n=e.key;if("array"!==Oi(t))return[new Zi(n,t,`array expected, ${Oi(t)} found`)];const i=e.styleSpec;let r,o=[];if(t.length<1)return[new Zi(n,t,"filter array must have at least 1 element")];switch(o=o.concat(rr({key:`${n}[0]`,value:t[0],valueSpec:i.filter_operator,style:e.style,styleSpec:e.styleSpec})),Je(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&"$type"===Je(t[1])&&o.push(new Zi(n,t,`"$type" cannot be use with operator "${t[0]}"`));case"==":case"!=":3!==t.length&&o.push(new Zi(n,t,`filter array for operator "${t[0]}" must have 3 elements`));case"in":case"!in":t.length>=2&&(r=Oi(t[1]),"string"!==r&&o.push(new Zi(`${n}[1]`,t[1],`string expected, ${r} found`)));for(let a=2;a<t.length;a++)r=Oi(t[a]),"$type"===Je(t[1])?o=o.concat(rr({key:`${n}[${a}]`,value:t[a],valueSpec:i.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==r&&"number"!==r&&"boolean"!==r&&o.push(new Zi(`${n}[${a}]`,t[a],`string, number, or boolean expected, ${r} found`));break;case"any":case"all":case"none":for(let i=1;i<t.length;i++)o=o.concat(xr({key:`${n}[${i}]`,value:t[i],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":r=Oi(t[1]),2!==t.length?o.push(new Zi(n,t,`filter array for "${t[0]}" operator must have 2 elements`)):"string"!==r&&o.push(new Zi(`${n}[1]`,t[1],`string expected, ${r} found`));break;case"within":r=Oi(t[1]),2!==t.length?o.push(new Zi(n,t,`filter array for "${t[0]}" operator must have 2 elements`)):"object"!==r&&o.push(new Zi(`${n}[1]`,t[1],`object expected, ${r} found`))}return o}function br(e,t){const n=e.key,i=e.style,r=e.styleSpec,o=e.value,a=e.objectKey,s=r[`${t}_${e.layerType}`];if(!s)return[];const l=a.match(/^(.*)-transition$/);if("paint"===t&&l&&s[l[1]]&&s[l[1]].transition)return Lr({key:n,value:o,valueSpec:r.transition,style:i,styleSpec:r});const c=e.valueSpec||s[a];if(!c)return[new Zi(n,o,`unknown property "${a}"`)];let u;if("string"===Oi(o)&&Ii(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(o)))return[new Zi(n,o,`"${a}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(u[1])} }\`.`)];const d=[];return"symbol"===e.layerType&&("text-field"===a&&i&&!i.glyphs&&d.push(new Zi(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&Ri(Qe(o))&&"identity"===Je(o.type)&&d.push(new Zi(n,o,'"text-font" does not support identity functions'))),d.concat(Lr({key:e.key,value:o,valueSpec:c,style:i,styleSpec:r,expressionContext:"property",propertyType:t,propertyKey:a}))}function _r(e){return br(e,"paint")}function wr(e){return br(e,"layout")}function kr(e){let t=[];const n=e.value,i=e.key,r=e.style,o=e.styleSpec;n.type||n.ref||t.push(new Zi(i,n,'either "type" or "ref" is required'));let a=Je(n.type);const s=Je(n.ref);if(n.id){const o=Je(n.id);for(let a=0;a<e.arrayIndex;a++){const e=r.layers[a];Je(e.id)===o&&t.push(new Zi(i,n.id,`duplicate layer id "${n.id}", previously used at line ${e.id.__line__}`))}}if("ref"in n){let e;["type","source","source-layer","filter","layout"].forEach((e=>{e in n&&t.push(new Zi(i,n[e],`"${e}" is prohibited for ref layers`))})),r.layers.forEach((t=>{Je(t.id)===s&&(e=t)})),e?e.ref?t.push(new Zi(i,n.ref,"ref cannot reference another ref layer")):a=Je(e.type):"string"==typeof s&&t.push(new Zi(i,n.ref,`ref layer "${s}" not found`))}else if("background"!==a&&"sky"!==a)if(n.source){const e=r.sources&&r.sources[n.source],o=e&&Je(e.type);e?"vector"===o&&"raster"===a?t.push(new Zi(i,n.source,`layer "${n.id}" requires a raster source`)):"raster"===o&&"raster"!==a?t.push(new Zi(i,n.source,`layer "${n.id}" requires a vector source`)):"vector"!==o||n["source-layer"]?"raster-dem"===o&&"hillshade"!==a?t.push(new Zi(i,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==a||!n.paint||!n.paint["line-gradient"]&&!n.paint["line-trim-offset"]||"geojson"===o&&e.lineMetrics||t.push(new Zi(i,n,`layer "${n.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new Zi(i,n,`layer "${n.id}" must specify a "source-layer"`)):t.push(new Zi(i,n.source,`source "${n.source}" not found`))}else t.push(new Zi(i,n,'missing required property "source"'));return t=t.concat(Ji({key:i,value:n,valueSpec:o.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Lr({key:`${i}.type`,value:n.type,valueSpec:o.layer.type,style:e.style,styleSpec:e.styleSpec,object:n,objectKey:"type"}),filter:e=>yr(Ze({layerType:a},e)),layout:e=>Ji({layer:n,key:e.key,value:e.value,valueSpec:{},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>wr(Ze({layerType:a},e))}}),paint:e=>Ji({layer:n,key:e.key,value:e.value,valueSpec:{},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>_r(Ze({layerType:a},e))}})}})),t}function Sr(e){const t=e.value,n=e.key,i=Oi(t);return"string"!==i?[new Zi(n,t,`string expected, ${i} found`)]:[]}const Cr={promoteId:function({key:e,value:t}){if("string"===Oi(t))return Sr({key:e,value:t});{const n=[];for(const i in t)n.push(...Sr({key:`${e}.${i}`,value:t[i]}));return n}}};function Er(e){const t=e.value,n=e.key,i=e.styleSpec,r=e.style;if(!t.type)return[new Zi(n,t,'"type" is required')];const o=Je(t.type);let a;switch(o){case"vector":case"raster":case"raster-dem":return a=Ji({key:n,value:t,valueSpec:i[`source_${o.replace("-","_")}`],style:e.style,styleSpec:i,objectElementValidators:Cr}),a;case"geojson":if(a=Ji({key:n,value:t,valueSpec:i.source_geojson,style:r,styleSpec:i,objectElementValidators:Cr}),t.cluster)for(const e in t.clusterProperties){const[i,r]=t.clusterProperties[e],o="string"==typeof i?[i,["accumulated"],["get",e]]:i;a.push(...nr({key:`${n}.${e}.map`,value:r,expressionContext:"cluster-map"})),a.push(...nr({key:`${n}.${e}.reduce`,value:o,expressionContext:"cluster-reduce"}))}return a;case"video":return Ji({key:n,value:t,valueSpec:i.source_video,style:r,styleSpec:i});case"image":return Ji({key:n,value:t,valueSpec:i.source_image,style:r,styleSpec:i});case"canvas":return[new Zi(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return rr({key:`${n}.type`,value:t.type,valueSpec:{values:Tr(i)},style:r,styleSpec:i})}}function Tr(e){return e.source.reduce(((t,n)=>{const i=e[n];return"enum"===i.type.type&&(t=t.concat(Object.keys(i.type.values))),t}),[])}function Mr(e){const t=e.value,n=e.styleSpec,i=n.light,r=e.style;let o=[];const a=Oi(t);if(void 0===t)return o;if("object"!==a)return o=o.concat([new Zi("light",t,`object expected, ${a} found`)]),o;for(const s in t){const e=s.match(/^(.*)-transition$/);o=o.concat(e&&i[e[1]]&&i[e[1]].transition?Lr({key:s,value:t[s],valueSpec:n.transition,style:r,styleSpec:n}):i[s]?Lr({key:s,value:t[s],valueSpec:i[s],style:r,styleSpec:n}):[new Zi(s,t[s],`unknown property "${s}"`)])}return o}function Pr(e){const t=e.value,n=e.key,i=e.style,r=e.styleSpec,o=r.terrain;let a=[];const s=Oi(t);if(void 0===t)return a;if("object"!==s)return a=a.concat([new Zi("terrain",t,`object expected, ${s} found`)]),a;for(const l in t){const e=l.match(/^(.*)-transition$/);a=a.concat(e&&o[e[1]]&&o[e[1]].transition?Lr({key:l,value:t[l],valueSpec:r.transition,style:i,styleSpec:r}):o[l]?Lr({key:l,value:t[l],valueSpec:o[l],style:i,styleSpec:r}):[new Zi(l,t[l],`unknown property "${l}"`)])}if(t.source){const e=i.sources&&i.sources[t.source],r=e&&Je(e.type);e?"raster-dem"!==r&&a.push(new Zi(n,t.source,`terrain cannot be used with a source of type ${String(r)}, it only be used with a "raster-dem" source type`)):a.push(new Zi(n,t.source,`source "${t.source}" not found`))}else a.push(new Zi(n,t,'terrain is missing required property "source"'));return a}function Ar(e){const t=e.value,n=e.style,i=e.styleSpec,r=i.fog;let o=[];const a=Oi(t);if(void 0===t)return o;if("object"!==a)return o=o.concat([new Zi("fog",t,`object expected, ${a} found`)]),o;for(const s in t){const e=s.match(/^(.*)-transition$/);o=o.concat(e&&r[e[1]]&&r[e[1]].transition?Lr({key:s,value:t[s],valueSpec:i.transition,style:n,styleSpec:i}):r[s]?Lr({key:s,value:t[s],valueSpec:r[s],style:n,styleSpec:i}):[new Zi(s,t[s],`unknown property "${s}"`)])}return o}const Ir={"*":()=>[],array:Qi,boolean:function(e){const t=e.value,n=e.key,i=Oi(t);return"boolean"!==i?[new Zi(n,t,`boolean expected, ${i} found`)]:[]},number:er,color:function(e){const t=e.key,n=e.value,i=Oi(n);return"string"!==i?[new Zi(t,n,`color expected, ${i} found`)]:null===bt(n)?[new Zi(t,n,`color expected, "${n}" found`)]:[]},enum:rr,filter:yr,function:tr,layer:kr,object:Ji,source:Er,light:Mr,terrain:Pr,fog:Ar,string:Sr,formatted:function(e){return 0===Sr(e).length?[]:nr(e)},resolvedImage:function(e){return 0===Sr(e).length?[]:nr(e)},projection:function(e){const t=e.value,n=e.styleSpec,i=n.projection,r=e.style;let o=[];const a=Oi(t);if("object"===a)for(const s in t)o=o.concat(Lr({key:s,value:t[s],valueSpec:i[s],style:r,styleSpec:n}));else"string"!==a&&(o=o.concat([new Zi("projection",t,`object or string expected, ${a} found`)]));return o}};function Lr(e){const t=e.value,n=e.valueSpec,i=e.styleSpec;return n.expression&&Ri(Je(t))?tr(e):n.expression&&Hi(Qe(t))?nr(e):n.type&&Ir[n.type]?Ir[n.type](e):Ji(Ze({},e,{valueSpec:n.type?i[n.type]:n}))}function Dr(e){const t=e.value,n=e.key,i=Sr(e);return i.length||(-1===t.indexOf("{fontstack}")&&i.push(new Zi(n,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&i.push(new Zi(n,t,'"glyphs" url must include a "{range}" token'))),i}function Or(e,t=$e){return Fr(Lr({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:Dr,"*":()=>[]}}))}const Rr=e=>Fr(_r(e)),zr=e=>Fr(wr(e));function Fr(e){return e.slice().sort(((e,t)=>e.line&&t.line?e.line-t.line:0))}function Br(e,t){let n=!1;if(t&&t.length)for(const i of t)e.fire(new qe(new Error(i.message))),n=!0;return n}var Nr=jr;function jr(e,t,n){var i=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var r=new Int32Array(this.arrayBuffer);e=r[0],this.d=(t=r[1])+2*(n=r[2]);for(var o=0;o<this.d*this.d;o++){var a=r[3+o],s=r[3+o+1];i.push(a===s?null:r.subarray(a,s))}var l=r[3+i.length+1];this.keys=r.subarray(r[3+i.length],l),this.bboxes=r.subarray(l),this.insert=this._insertReadonly}else{this.d=t+2*n;for(var c=0;c<this.d*this.d;c++)i.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;var u=n/t*e;this.min=-u,this.max=e+u}jr.prototype.insert=function(e,t,n,i,r){this._forEachCell(t,n,i,r,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(i),this.bboxes.push(r)},jr.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},jr.prototype._insertCell=function(e,t,n,i,r,o){this.cells[r].push(o)},jr.prototype.query=function(e,t,n,i,r){var o=this.min,a=this.max;if(e<=o&&t<=o&&a<=n&&a<=i&&!r)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,n,i,this._queryCell,s,{},r),s},jr.prototype._queryCell=function(e,t,n,i,r,o,a,s){var l=this.cells[r];if(null!==l)for(var c=this.keys,u=this.bboxes,d=0;d<l.length;d++){var h=l[d];if(void 0===a[h]){var p=4*h;(s?s(u[p+0],u[p+1],u[p+2],u[p+3]):e<=u[p+2]&&t<=u[p+3]&&n>=u[p+0]&&i>=u[p+1])?(a[h]=!0,o.push(c[h])):a[h]=!1}}},jr.prototype._forEachCell=function(e,t,n,i,r,o,a,s){for(var l=this._convertToCellCoord(e),c=this._convertToCellCoord(t),u=this._convertToCellCoord(n),d=this._convertToCellCoord(i),h=l;h<=u;h++)for(var p=c;p<=d;p++){var f=this.d*p+h;if((!s||s(this._convertFromCellCoord(h),this._convertFromCellCoord(p),this._convertFromCellCoord(h+1),this._convertFromCellCoord(p+1)))&&r.call(this,e,t,n,i,f,o,a,s))return}},jr.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},jr.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},jr.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=3+this.cells.length+1+1,n=0,i=0;i<this.cells.length;i++)n+=this.cells[i].length;var r=new Int32Array(t+n+this.keys.length+this.bboxes.length);r[0]=this.extent,r[1]=this.n,r[2]=this.padding;for(var o=t,a=0;a<e.length;a++){var s=e[a];r[3+a]=o,r.set(s,o),o+=s.length}return r[3+e.length]=o,r.set(this.keys,o),r[3+e.length+1]=o+=this.keys.length,r.set(this.bboxes,o),o+=this.bboxes.length,r.buffer};const Vr={};function Wr(e,t,n={}){Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),Vr[t]={klass:e,omit:n.omit||[]}}Wr(Object,"Object"),Nr.serialize=function(e,t){const n=e.toArrayBuffer();return t&&t.push(n),{buffer:n}},Nr.deserialize=function(e){return new Nr(e.buffer)},Object.defineProperty(Nr,"name",{value:"Grid"}),Wr(Nr,"Grid"),Wr(Tt,"Color"),Wr(Error,"Error"),Wr(ae,"AJAXError"),Wr(It,"ResolvedImage"),Wr(Ki,"StylePropertyFunction"),Wr(Ui,"StyleExpression",{omit:["_evaluator"]}),Wr(Yi,"ZoomDependentExpression"),Wr(Gi,"ZoomConstantExpression"),Wr($t,"CompoundExpression",{omit:["_evaluate"]});for(const gm in Mi)Vr[Mi[gm]._classRegistryKey]||Wr(Mi[gm],`Expression${gm}`);function Ur(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function Hr(e){return t.ImageBitmap&&e instanceof t.ImageBitmap}function Xr(e,n){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(Ur(e)||Hr(e))return n&&n.push(e),e;if(ArrayBuffer.isView(e)){const t=e;return n&&n.push(t.buffer),t}if(e instanceof t.ImageData)return n&&n.push(e.data.buffer),e;if(Array.isArray(e)){const t=[];for(const i of e)t.push(Xr(i,n));return t}if("object"==typeof e){const t=e.constructor,i=t._classRegistryKey;if(!i)throw new Error(`can't serialize object of unregistered class ${i}`);const r=t.serialize?t.serialize(e,n):{};if(!t.serialize){for(const t in e)e.hasOwnProperty(t)&&(Vr[i].omit.indexOf(t)>=0||(r[t]=Xr(e[t],n)));e instanceof Error&&(r.message=e.message)}if(r.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==i&&(r.$name=i),r}throw new Error("can't serialize object of type "+typeof e)}function Gr(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||Ur(e)||Hr(e)||ArrayBuffer.isView(e)||e instanceof t.ImageData)return e;if(Array.isArray(e))return e.map(Gr);if("object"==typeof e){const t=e.$name||"Object",{klass:n}=Vr[t];if(!n)throw new Error(`can't deserialize unregistered class ${t}`);if(n.deserialize)return n.deserialize(e);const i=Object.create(n.prototype);for(const r of Object.keys(e))"$name"!==r&&(i[r]=Gr(e[r]));return i}throw new Error("can't deserialize object of type "+typeof e)}const Yr=e=>e>=1536&&e<=1791,qr=e=>e>=1872&&e<=1919,Kr=e=>e>=2208&&e<=2303,$r=e=>e>=11904&&e<=12031,Zr=e=>e>=12032&&e<=12255,Jr=e=>e>=12272&&e<=12287,Qr=e=>e>=12288&&e<=12351,eo=e=>e>=12352&&e<=12447,to=e=>e>=12448&&e<=12543,no=e=>e>=12544&&e<=12591,io=e=>e>=12704&&e<=12735,ro=e=>e>=12736&&e<=12783,oo=e=>e>=12784&&e<=12799,ao=e=>e>=12800&&e<=13055,so=e=>e>=13056&&e<=13311,lo=e=>e>=13312&&e<=19903,co=e=>e>=19968&&e<=40959,uo=e=>e>=40960&&e<=42127,ho=e=>e>=42128&&e<=42191,po=e=>e>=44032&&e<=55215,fo=e=>e>=63744&&e<=64255,mo=e=>e>=64336&&e<=65023,go=e=>e>=65040&&e<=65055,vo=e=>e>=65072&&e<=65103,yo=e=>e>=65104&&e<=65135,xo=e=>e>=65136&&e<=65279,bo=e=>e>=65280&&e<=65519;function _o(e){for(const t of e)if(So(t.charCodeAt(0)))return!0;return!1}function wo(e){for(const t of e)if(!ko(t.charCodeAt(0)))return!1;return!0}function ko(e){return!(Yr(e)||qr(e)||Kr(e)||mo(e)||xo(e))}function So(e){return!(746!==e&&747!==e&&(e<4352||!(io(e)||no(e)||vo(e)&&!(e>=65097&&e<=65103)||fo(e)||so(e)||$r(e)||ro(e)||!(!Qr(e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||lo(e)||co(e)||ao(e)||(e=>e>=12592&&e<=12687)(e)||(e=>e>=43360&&e<=43391)(e)||(e=>e>=55216&&e<=55295)(e)||(e=>e>=4352&&e<=4607)(e)||po(e)||eo(e)||Jr(e)||(e=>e>=12688&&e<=12703)(e)||Zr(e)||oo(e)||to(e)&&12540!==e||!(!bo(e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!yo(e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||(e=>e>=5120&&e<=5759)(e)||(e=>e>=6320&&e<=6399)(e)||go(e)||(e=>e>=19904&&e<=19967)(e)||uo(e)||ho(e))))}function Co(e){return!(So(e)||function(e){return!!((e=>e>=128&&e<=255)(e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||(e=>e>=8192&&e<=8303)(e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||(e=>e>=8448&&e<=8527)(e)||(e=>e>=8528&&e<=8591)(e)||(e=>e>=8960&&e<=9215)(e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||(e=>e>=9216&&e<=9279)(e)&&9251!==e||(e=>e>=9280&&e<=9311)(e)||(e=>e>=9312&&e<=9471)(e)||(e=>e>=9632&&e<=9727)(e)||(e=>e>=9728&&e<=9983)(e)&&!(e>=9754&&e<=9759)||(e=>e>=11008&&e<=11263)(e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||Qr(e)||to(e)||(e=>e>=57344&&e<=63743)(e)||vo(e)||yo(e)||bo(e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function Eo(e){return e>=1424&&e<=2303||mo(e)||xo(e)}function To(e,t){return!(!t&&Eo(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||(e=>e>=6016&&e<=6143)(e))}function Mo(e){for(const t of e)if(Eo(t.charCodeAt(0)))return!0;return!1}const Po="deferred",Ao="loading",Io="loaded";let Lo=null,Do="unavailable",Oo=null;const Ro=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&(Do="error"),Lo&&Lo(e)};function zo(){Fo.fire(new Ye("pluginStateChange",{pluginStatus:Do,pluginURL:Oo}))}const Fo=new Ke,Bo=function(){return Do},No=function(){if(Do!==Po||!Oo)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Do=Ao,zo(),Oo&&ce({url:Oo},(e=>{e?Ro(e):(Do=Io,zo())}))},jo={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Do===Io||null!=jo.applyArabicShaping,isLoading:()=>Do===Ao,setState(e){Do=e.pluginStatus,Oo=e.pluginURL},isParsed:()=>null!=jo.applyArabicShaping&&null!=jo.processBidirectionalText&&null!=jo.processStyledBidirectionalText,getPluginURL:()=>Oo};class Vo{constructor(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.transition=t.transition,this.pitch=t.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(e){return function(e,t){for(const n of e)if(!To(n.charCodeAt(0),t))return!1;return!0}(e,jo.isLoaded())}}class Wo{constructor(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(Ri(e))return new Ki(e,t);if(Hi(e)){const n=qi(e,t);if("error"===n.result)throw new Error(n.value.map((e=>`${e.key}: ${e.message}`)).join(", "));return n.value}{let n=e;return"string"==typeof e&&"color"===t.type&&(n=Tt.parse(e)),{kind:"constant",evaluate:()=>n}}}(void 0===t?e.specification.default:t,e.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(e,t,n){return this.property.possiblyEvaluate(this,e,t,n)}}class Uo{constructor(e){this.property=e,this.value=new Wo(e,void 0)}transitioned(e,t){return new Xo(this.property,this.value,t,P({},e.transition,this.transition),e.now)}untransitioned(){return new Xo(this.property,this.value,null,{},0)}}class Ho{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)}getValue(e){return N(this._values[e].value.value)}setValue(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new Uo(this._values[e].property)),this._values[e].value=new Wo(this._values[e].property,null===t?void 0:N(t))}getTransition(e){return N(this._values[e].transition)}setTransition(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new Uo(this._values[e].property)),this._values[e].transition=N(t)||void 0}serialize(){const e={};for(const t of Object.keys(this._values)){const n=this.getValue(t);void 0!==n&&(e[t]=n);const i=this.getTransition(t);void 0!==i&&(e[`${t}-transition`]=i)}return e}transitioned(e,t){const n=new Go(this._properties);for(const i of Object.keys(this._values))n._values[i]=this._values[i].transitioned(e,t._values[i]);return n}untransitioned(){const e=new Go(this._properties);for(const t of Object.keys(this._values))e._values[t]=this._values[t].untransitioned();return e}}class Xo{constructor(e,t,n,i,r){const o=i.delay||0,a=i.duration||0;r=r||0,this.property=e,this.value=t,this.begin=r+o,this.end=this.begin+a,e.specification.transition&&(i.delay||i.duration)&&(this.prior=n)}possiblyEvaluate(e,t,n){const i=e.now||0,r=this.value.possiblyEvaluate(e,t,n),o=this.prior;if(o){if(i>this.end)return this.prior=null,r;if(this.value.isDataDriven())return this.prior=null,r;if(i<this.begin)return o.possiblyEvaluate(e,t,n);{const a=(i-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(e,t,n),r,_(a))}}return r}}class Go{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}possiblyEvaluate(e,t,n){const i=new Ko(this._properties);for(const r of Object.keys(this._values))i._values[r]=this._values[r].possiblyEvaluate(e,t,n);return i}hasTransition(){for(const e of Object.keys(this._values))if(this._values[e].prior)return!0;return!1}}class Yo{constructor(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)}getValue(e){return N(this._values[e].value)}setValue(e,t){this._values[e]=new Wo(this._values[e].property,null===t?void 0:N(t))}serialize(){const e={};for(const t of Object.keys(this._values)){const n=this.getValue(t);void 0!==n&&(e[t]=n)}return e}possiblyEvaluate(e,t,n){const i=new Ko(this._properties);for(const r of Object.keys(this._values))i._values[r]=this._values[r].possiblyEvaluate(e,t,n);return i}}class qo{constructor(e,t,n){this.property=e,this.value=t,this.parameters=n}isConstant(){return"constant"===this.value.kind}constantOr(e){return"constant"===this.value.kind?this.value.value:e}evaluate(e,t,n,i){return this.property.evaluate(this.value,this.parameters,e,t,n,i)}}class Ko{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}get(e){return this._values[e]}}class $o{constructor(e){this.specification=e}possiblyEvaluate(e,t){return e.expression.evaluate(t)}interpolate(e,t,n){const i=Pn[this.specification.type];return i?i(e,t,n):e}}class Zo{constructor(e,t){this.specification=e,this.overrides=t}possiblyEvaluate(e,t,n,i){return new qo(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},n,i)}:e.expression,t)}interpolate(e,t,n){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new qo(this,{kind:"constant",value:void 0},e.parameters);const i=Pn[this.specification.type];return i?new qo(this,{kind:"constant",value:i(e.value.value,t.value.value,n)},e.parameters):e}evaluate(e,t,n,i,r,o){return"constant"===e.kind?e.value:e.evaluate(t,n,i,r,o)}}class Jo{constructor(e){this.specification=e}possiblyEvaluate(e,t,n,i){return!!e.expression.evaluate(t,null,{},n,i)}interpolate(){return!1}}class Qo{constructor(e){this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const t=new Vo(0,{});for(const n in e){const i=e[n];i.specification.overridable&&this.overridableProperties.push(n);const r=this.defaultPropertyValues[n]=new Wo(i,void 0),o=this.defaultTransitionablePropertyValues[n]=new Uo(i);this.defaultTransitioningPropertyValues[n]=o.untransitioned(),this.defaultPossiblyEvaluatedValues[n]=r.possiblyEvaluate(t)}}}function ea(e,t){return 256*(e=S(Math.floor(e),0,255))+S(Math.floor(t),0,255)}Wr(Zo,"DataDrivenProperty"),Wr($o,"DataConstantProperty"),Wr(Jo,"ColorRampProperty");const ta={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class na{constructor(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class ia{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){const t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(e){this.reserve(e),this.length=e}reserve(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function ra(e,t=1){let n=0,i=0;return{members:e.map((e=>{const r=ta[e.type].BYTES_PER_ELEMENT,o=n=oa(n,Math.max(t,r)),a=e.components||1;return i=Math.max(i,r),n+=r*a,{name:e.name,type:e.type,components:a,offset:o}})),size:oa(n,Math.max(i,t)),alignment:t}}function oa(e,t){return Math.ceil(e/t)*t}class aa extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const i=2*e;return this.int16[i+0]=t,this.int16[i+1]=n,e}}aa.prototype.bytesPerElement=4,Wr(aa,"StructArrayLayout2i4");class sa extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n)}emplace(e,t,n,i){const r=3*e;return this.int16[r+0]=t,this.int16[r+1]=n,this.int16[r+2]=i,e}}sa.prototype.bytesPerElement=6,Wr(sa,"StructArrayLayout3i6");class la extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n,i)}emplace(e,t,n,i,r){const o=4*e;return this.int16[o+0]=t,this.int16[o+1]=n,this.int16[o+2]=i,this.int16[o+3]=r,e}}la.prototype.bytesPerElement=8,Wr(la,"StructArrayLayout4i8");class ca extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o,a){const s=this.length;return this.resize(s+1),this.emplace(s,e,t,n,i,r,o,a)}emplace(e,t,n,i,r,o,a,s){const l=6*e,c=12*e,u=3*e;return this.int16[l+0]=t,this.int16[l+1]=n,this.uint8[c+4]=i,this.uint8[c+5]=r,this.uint8[c+6]=o,this.uint8[c+7]=a,this.float32[u+2]=s,e}}ca.prototype.bytesPerElement=12,Wr(ca,"StructArrayLayout2i4ub1f12");class ua extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n,i)}emplace(e,t,n,i,r){const o=4*e;return this.float32[o+0]=t,this.float32[o+1]=n,this.float32[o+2]=i,this.float32[o+3]=r,e}}ua.prototype.bytesPerElement=16,Wr(ua,"StructArrayLayout4f16");class da extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,i,r)}emplace(e,t,n,i,r,o){const a=6*e,s=3*e;return this.uint16[a+0]=t,this.uint16[a+1]=n,this.uint16[a+2]=i,this.uint16[a+3]=r,this.float32[s+2]=o,e}}da.prototype.bytesPerElement=12,Wr(da,"StructArrayLayout4ui1f12");class ha extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n,i)}emplace(e,t,n,i,r){const o=4*e;return this.uint16[o+0]=t,this.uint16[o+1]=n,this.uint16[o+2]=i,this.uint16[o+3]=r,e}}ha.prototype.bytesPerElement=8,Wr(ha,"StructArrayLayout4ui8");class pa extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,i,r,o)}emplace(e,t,n,i,r,o,a){const s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=i,this.int16[s+3]=r,this.int16[s+4]=o,this.int16[s+5]=a,e}}pa.prototype.bytesPerElement=12,Wr(pa,"StructArrayLayout6i12");class fa extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o,a,s,l,c,u,d){const h=this.length;return this.resize(h+1),this.emplace(h,e,t,n,i,r,o,a,s,l,c,u,d)}emplace(e,t,n,i,r,o,a,s,l,c,u,d,h){const p=12*e;return this.int16[p+0]=t,this.int16[p+1]=n,this.int16[p+2]=i,this.int16[p+3]=r,this.uint16[p+4]=o,this.uint16[p+5]=a,this.uint16[p+6]=s,this.uint16[p+7]=l,this.int16[p+8]=c,this.int16[p+9]=u,this.int16[p+10]=d,this.int16[p+11]=h,e}}fa.prototype.bytesPerElement=24,Wr(fa,"StructArrayLayout4i4ui4i24");class ma extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,i,r,o)}emplace(e,t,n,i,r,o,a){const s=10*e,l=5*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=i,this.float32[l+2]=r,this.float32[l+3]=o,this.float32[l+4]=a,e}}ma.prototype.bytesPerElement=20,Wr(ma,"StructArrayLayout3i3f20");class ga extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint32[1*e+0]=t,e}}ga.prototype.bytesPerElement=4,Wr(ga,"StructArrayLayout1ul4");class va extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o,a,s,l,c,u,d,h){const p=this.length;return this.resize(p+1),this.emplace(p,e,t,n,i,r,o,a,s,l,c,u,d,h)}emplace(e,t,n,i,r,o,a,s,l,c,u,d,h,p){const f=20*e,m=10*e;return this.int16[f+0]=t,this.int16[f+1]=n,this.int16[f+2]=i,this.int16[f+3]=r,this.int16[f+4]=o,this.float32[m+3]=a,this.float32[m+4]=s,this.float32[m+5]=l,this.float32[m+6]=c,this.int16[f+14]=u,this.uint32[m+8]=d,this.uint16[f+18]=h,this.uint16[f+19]=p,e}}va.prototype.bytesPerElement=40,Wr(va,"StructArrayLayout5i4f1i1ul2ui40");class ya extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o,a){const s=this.length;return this.resize(s+1),this.emplace(s,e,t,n,i,r,o,a)}emplace(e,t,n,i,r,o,a,s){const l=8*e;return this.int16[l+0]=t,this.int16[l+1]=n,this.int16[l+2]=i,this.int16[l+4]=r,this.int16[l+5]=o,this.int16[l+6]=a,this.int16[l+7]=s,e}}ya.prototype.bytesPerElement=16,Wr(ya,"StructArrayLayout3i2i2i16");class xa extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,i,r)}emplace(e,t,n,i,r,o){const a=4*e,s=8*e;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=i,this.int16[s+6]=r,this.int16[s+7]=o,e}}xa.prototype.bytesPerElement=16,Wr(xa,"StructArrayLayout2f1f2i16");class ba extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n,i)}emplace(e,t,n,i,r){const o=12*e,a=3*e;return this.uint8[o+0]=t,this.uint8[o+1]=n,this.float32[a+1]=i,this.float32[a+2]=r,e}}ba.prototype.bytesPerElement=12,Wr(ba,"StructArrayLayout2ub2f12");class _a extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n)}emplace(e,t,n,i){const r=3*e;return this.float32[r+0]=t,this.float32[r+1]=n,this.float32[r+2]=i,e}}_a.prototype.bytesPerElement=12,Wr(_a,"StructArrayLayout3f12");class wa extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n)}emplace(e,t,n,i){const r=3*e;return this.uint16[r+0]=t,this.uint16[r+1]=n,this.uint16[r+2]=i,e}}wa.prototype.bytesPerElement=6,Wr(wa,"StructArrayLayout3ui6");class ka extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o,a,s,l,c,u,d,h,p,f,m,g,v,y,x,b){const _=this.length;return this.resize(_+1),this.emplace(_,e,t,n,i,r,o,a,s,l,c,u,d,h,p,f,m,g,v,y,x,b)}emplace(e,t,n,i,r,o,a,s,l,c,u,d,h,p,f,m,g,v,y,x,b,_){const w=30*e,k=15*e,S=60*e;return this.int16[w+0]=t,this.int16[w+1]=n,this.int16[w+2]=i,this.float32[k+2]=r,this.float32[k+3]=o,this.uint16[w+8]=a,this.uint16[w+9]=s,this.uint32[k+5]=l,this.uint32[k+6]=c,this.uint32[k+7]=u,this.uint16[w+16]=d,this.uint16[w+17]=h,this.uint16[w+18]=p,this.float32[k+10]=f,this.float32[k+11]=m,this.uint8[S+48]=g,this.uint8[S+49]=v,this.uint8[S+50]=y,this.uint32[k+13]=x,this.int16[w+28]=b,this.uint8[S+58]=_,e}}ka.prototype.bytesPerElement=60,Wr(ka,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Sa extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o,a,s,l,c,u,d,h,p,f,m,g,v,y,x,b,_,w,k,S,C,E,T,M,P){const A=this.length;return this.resize(A+1),this.emplace(A,e,t,n,i,r,o,a,s,l,c,u,d,h,p,f,m,g,v,y,x,b,_,w,k,S,C,E,T,M,P)}emplace(e,t,n,i,r,o,a,s,l,c,u,d,h,p,f,m,g,v,y,x,b,_,w,k,S,C,E,T,M,P,A){const I=38*e,L=19*e;return this.int16[I+0]=t,this.int16[I+1]=n,this.int16[I+2]=i,this.float32[L+2]=r,this.float32[L+3]=o,this.int16[I+8]=a,this.int16[I+9]=s,this.int16[I+10]=l,this.int16[I+11]=c,this.int16[I+12]=u,this.int16[I+13]=d,this.uint16[I+14]=h,this.uint16[I+15]=p,this.uint16[I+16]=f,this.uint16[I+17]=m,this.uint16[I+18]=g,this.uint16[I+19]=v,this.uint16[I+20]=y,this.uint16[I+21]=x,this.uint16[I+22]=b,this.uint16[I+23]=_,this.uint16[I+24]=w,this.uint16[I+25]=k,this.uint16[I+26]=S,this.uint16[I+27]=C,this.uint16[I+28]=E,this.uint32[L+15]=T,this.float32[L+16]=M,this.float32[L+17]=P,this.float32[L+18]=A,e}}Sa.prototype.bytesPerElement=76,Wr(Sa,"StructArrayLayout3i2f6i15ui1ul3f76");class Ca extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.float32[1*e+0]=t,e}}Ca.prototype.bytesPerElement=4,Wr(Ca,"StructArrayLayout1f4");class Ea extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,i,r)}emplace(e,t,n,i,r,o){const a=5*e;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=i,this.float32[a+3]=r,this.float32[a+4]=o,e}}Ea.prototype.bytesPerElement=20,Wr(Ea,"StructArrayLayout5f20");class Ta extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n,i)}emplace(e,t,n,i,r){const o=6*e;return this.uint32[3*e+0]=t,this.uint16[o+2]=n,this.uint16[o+3]=i,this.uint16[o+4]=r,e}}Ta.prototype.bytesPerElement=12,Wr(Ta,"StructArrayLayout1ul3ui12");class Ma extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const i=2*e;return this.uint16[i+0]=t,this.uint16[i+1]=n,e}}Ma.prototype.bytesPerElement=4,Wr(Ma,"StructArrayLayout2ui4");class Pa extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint16[1*e+0]=t,e}}Pa.prototype.bytesPerElement=2,Wr(Pa,"StructArrayLayout1ui2");class Aa extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const i=2*e;return this.float32[i+0]=t,this.float32[i+1]=n,e}}Aa.prototype.bytesPerElement=8,Wr(Aa,"StructArrayLayout2f8");class Ia extends na{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}Ia.prototype.size=40;class La extends va{get(e){return new Ia(this,e)}}Wr(La,"CollisionBoxArray");class Da extends na{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(e){this._structArray.uint8[this._pos1+49]=e}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(e){this._structArray.uint8[this._pos1+50]=e}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(e){this._structArray.uint32[this._pos4+13]=e}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(e){this._structArray.uint8[this._pos1+58]=e}}Da.prototype.size=60;class Oa extends ka{get(e){return new Da(this,e)}}Wr(Oa,"PlacedSymbolArray");class Ra extends na{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(e){this._structArray.uint32[this._pos4+15]=e}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}Ra.prototype.size=76;class za extends Sa{get(e){return new Ra(this,e)}}Wr(za,"SymbolInstanceArray");class Fa extends Ca{getoffsetX(e){return this.float32[1*e+0]}}Wr(Fa,"GlyphOffsetArray");class Ba extends aa{getx(e){return this.int16[2*e+0]}gety(e){return this.int16[2*e+1]}}Wr(Ba,"SymbolLineVertexArray");class Na extends na{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}Na.prototype.size=12;class ja extends Ta{get(e){return new Na(this,e)}}Wr(ja,"FeatureIndexArray");class Va extends Ma{geta_centroid_pos0(e){return this.uint16[2*e+0]}geta_centroid_pos1(e){return this.uint16[2*e+1]}}Wr(Va,"FillExtrusionCentroidArray");const Wa=ra([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),Ua=ra([{name:"a_dash",components:4,type:"Uint16"}]);var Ha={exports:{}},Xa={exports:{}};Xa.exports=function(e,t){var n,i,r,o,a,s,l,c;for(i=e.length-(n=3&e.length),r=t,a=3432918353,s=461845907,c=0;c<i;)l=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,r=27492+(65535&(o=5*(65535&(r=(r^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|r>>>19))+((5*(r>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(l=0,n){case 3:l^=(255&e.charCodeAt(c+2))<<16;case 2:l^=(255&e.charCodeAt(c+1))<<8;case 1:r^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(c)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return r^=e.length,r=2246822507*(65535&(r^=r>>>16))+((2246822507*(r>>>16)&65535)<<16)&4294967295,r=3266489909*(65535&(r^=r>>>13))+((3266489909*(r>>>16)&65535)<<16)&4294967295,(r^=r>>>16)>>>0};var Ga={exports:{}};Ga.exports=function(e,t){for(var n,i=e.length,r=t^i,o=0;i>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),i-=4,++o;switch(i){case 3:r^=(255&e.charCodeAt(o+2))<<16;case 2:r^=(255&e.charCodeAt(o+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(o)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),(r^=r>>>15)>>>0};var Ya=Xa.exports,qa=Ga.exports;Ha.exports=Ya,Ha.exports.murmur3=Ya,Ha.exports.murmur2=qa;class Ka{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(e,t,n,i){this.ids.push($a(e)),this.positions.push(t,n,i)}getPositions(e){const t=$a(e);let n=0,i=this.ids.length-1;for(;n<i;){const e=n+i>>1;this.ids[e]>=t?i=e:n=e+1}const r=[];for(;this.ids[n]===t;)r.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return r}static serialize(e,t){const n=new Float64Array(e.ids),i=new Uint32Array(e.positions);return Za(n,i,0,n.length-1),t&&t.push(n.buffer,i.buffer),{ids:n,positions:i}}static deserialize(e){const t=new Ka;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t}}function $a(e){const t=+e;return!isNaN(t)&&Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:Ha.exports(String(e))}function Za(e,t,n,i){for(;n<i;){const r=e[n+i>>1];let o=n-1,a=i+1;for(;;){do{o++}while(e[o]<r);do{a--}while(e[a]>r);if(o>=a)break;Ja(e,o,a),Ja(t,3*o,3*a),Ja(t,3*o+1,3*a+1),Ja(t,3*o+2,3*a+2)}a-n<i-a?(Za(e,t,n,a),n=a+1):(Za(e,t,a+1,i),i=a)}}function Ja(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}Wr(Ka,"FeaturePositionMap");class Qa{constructor(e){this.gl=e.gl,this.initialized=!1}fetchUniformLocation(e,t){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(e,t),this.initialized=!0),!!this.location}}class es extends Qa{constructor(e){super(e),this.current=0}set(e,t,n){this.fetchUniformLocation(e,t)&&this.current!==n&&(this.current=n,this.gl.uniform1f(this.location,n))}}class ts extends Qa{constructor(e){super(e),this.current=[0,0,0,0]}set(e,t,n){this.fetchUniformLocation(e,t)&&(n[0]===this.current[0]&&n[1]===this.current[1]&&n[2]===this.current[2]&&n[3]===this.current[3]||(this.current=n,this.gl.uniform4f(this.location,n[0],n[1],n[2],n[3])))}}class ns extends Qa{constructor(e){super(e),this.current=Tt.transparent}set(e,t,n){this.fetchUniformLocation(e,t)&&(n.r===this.current.r&&n.g===this.current.g&&n.b===this.current.b&&n.a===this.current.a||(this.current=n,this.gl.uniform4f(this.location,n.r,n.g,n.b,n.a)))}}const is=new Float32Array(16),rs=new Float32Array(9),os=new Float32Array(4);function as(e){return[ea(255*e.r,255*e.g),ea(255*e.b,255*e.a)]}class ss{constructor(e,t,n){this.value=e,this.uniformNames=t.map((e=>`u_${e}`)),this.type=n}setUniform(e,t,n,i,r){t.set(e,r,i.constantOr(this.value))}getBinding(e,t){return"color"===this.type?new ns(e):new es(e)}}class ls{constructor(e,t){this.uniformNames=t.map((e=>`u_${e}`)),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(e){this.pixelRatio=e.pixelRatio||1,this.pattern=e.tl.concat(e.br)}setUniform(e,t,n,i,r){const o="u_pattern"===r||"u_dash"===r?this.pattern:"u_pixel_ratio"===r?this.pixelRatio:null;o&&t.set(e,r,o)}getBinding(e,t){return"u_pattern"===t||"u_dash"===t?new ts(e):new es(e)}}class cs{constructor(e,t,n,i){this.expression=e,this.type=n,this.maxValue=0,this.paintVertexAttributes=t.map((e=>({name:`a_${e}`,type:"Float32",components:"color"===n?2:1,offset:0}))),this.paintVertexArray=new i}populatePaintArray(e,t,n,i,r,o){const a=this.paintVertexArray.length,s=this.expression.evaluate(new Vo(0),t,{},r,i,o);this.paintVertexArray.resize(e),this._setPaintValue(a,e,s)}updatePaintArray(e,t,n,i,r){const o=this.expression.evaluate({zoom:0},n,i,void 0,r);this._setPaintValue(e,t,o)}_setPaintValue(e,t,n){if("color"===this.type){const i=as(n);for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,i[0],i[1])}else{for(let i=e;i<t;i++)this.paintVertexArray.emplace(i,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class us{constructor(e,t,n,i,r,o){this.expression=e,this.uniformNames=t.map((e=>`u_${e}_t`)),this.type=n,this.useIntegerZoom=i,this.zoom=r,this.maxValue=0,this.paintVertexAttributes=t.map((e=>({name:`a_${e}`,type:"Float32",components:"color"===n?4:2,offset:0}))),this.paintVertexArray=new o}populatePaintArray(e,t,n,i,r,o){const a=this.expression.evaluate(new Vo(this.zoom),t,{},r,i,o),s=this.expression.evaluate(new Vo(this.zoom+1),t,{},r,i,o),l=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(l,e,a,s)}updatePaintArray(e,t,n,i,r){const o=this.expression.evaluate({zoom:this.zoom},n,i,void 0,r),a=this.expression.evaluate({zoom:this.zoom+1},n,i,void 0,r);this._setPaintValue(e,t,o,a)}_setPaintValue(e,t,n,i){if("color"===this.type){const r=as(n),o=as(i);for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,r[0],r[1],o[0],o[1])}else{for(let r=e;r<t;r++)this.paintVertexArray.emplace(r,n,i);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(i))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(e,t,n,i,r){const o=this.useIntegerZoom?Math.floor(n.zoom):n.zoom,a=S(this.expression.interpolationFactor(o,this.zoom,this.zoom+1),0,1);t.set(e,r,a)}getBinding(e,t){return new es(e)}}class ds{constructor(e,t,n,i,r){this.expression=e,this.layerId=r,this.paintVertexAttributes=("array"===n?Ua:Wa).members;for(let o=0;o<t.length;++o);this.paintVertexArray=new i}populatePaintArray(e,t,n){const i=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValues(i,e,t.patterns&&t.patterns[this.layerId],n)}updatePaintArray(e,t,n,i,r,o){this._setPaintValues(e,t,n.patterns&&n.patterns[this.layerId],o)}_setPaintValues(e,t,n,i){if(!i||!n)return;const r=i[n];if(!r)return;const{tl:o,br:a,pixelRatio:s}=r;for(let l=e;l<t;l++)this.paintVertexArray.emplace(l,o[0],o[1],a[0],a[1],s)}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class hs{constructor(e,t,n=(()=>!0)){this.binders={},this._buffers=[];const i=[];for(const r in e.paint._values){if(!n(r))continue;const o=e.paint.get(r);if(!(o instanceof qo&&Ii(o.property.specification)))continue;const a=ms(r,e.type),s=o.value,l=o.property.specification.type,c=o.property.useIntegerZoom,u="line-dasharray"===r||r.endsWith("pattern"),d="line-dasharray"===r&&"constant"!==e.layout.get("line-cap").value.kind;if("constant"!==s.kind||d)if("source"===s.kind||d||u){const t=ys(r,l,"source");this.binders[r]=u?new ds(s,a,l,t,e.id):new cs(s,a,l,t),i.push(`/a_${r}`)}else{const e=ys(r,l,"composite");this.binders[r]=new us(s,a,l,c,t,e),i.push(`/z_${r}`)}else this.binders[r]=u?new ls(s.value,a):new ss(s.value,a,l),i.push(`/u_${r}`)}this.cacheKey=i.sort().join("")}getMaxValue(e){const t=this.binders[e];return t instanceof cs||t instanceof us?t.maxValue:0}populatePaintArrays(e,t,n,i,r,o){for(const a in this.binders){const s=this.binders[a];(s instanceof cs||s instanceof us||s instanceof ds)&&s.populatePaintArray(e,t,n,i,r,o)}}setConstantPatternPositions(e){for(const t in this.binders){const n=this.binders[t];n instanceof ls&&n.setConstantPatternPositions(e)}}updatePaintArrays(e,t,n,i,r,o){let a=!1;for(const s in e){const l=t.getPositions(s);for(const t of l){const l=n.feature(t.index);for(const n in this.binders){const c=this.binders[n];if((c instanceof cs||c instanceof us||c instanceof ds)&&!0===c.expression.isStateDependent){const u=i.paint.get(n);c.expression=u.value,c.updatePaintArray(t.start,t.end,l,e[s],r,o),a=!0}}}}return a}defines(){const e=[];for(const t in this.binders){const n=this.binders[t];(n instanceof ss||n instanceof ls)&&e.push(...n.uniformNames.map((e=>`#define HAS_UNIFORM_${e}`)))}return e}getBinderAttributes(){const e=[];for(const t in this.binders){const n=this.binders[t];if(n instanceof cs||n instanceof us||n instanceof ds)for(let t=0;t<n.paintVertexAttributes.length;t++)e.push(n.paintVertexAttributes[t].name)}return e}getBinderUniforms(){const e=[];for(const t in this.binders){const n=this.binders[t];if(n instanceof ss||n instanceof ls||n instanceof us)for(const t of n.uniformNames)e.push(t)}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e){const t=[];for(const n in this.binders){const i=this.binders[n];if(i instanceof ss||i instanceof ls||i instanceof us)for(const r of i.uniformNames)t.push({name:r,property:n,binding:i.getBinding(e,r)})}return t}setUniforms(e,t,n,i,r){for(const{name:o,property:a,binding:s}of n)this.binders[a].setUniform(e,s,r,i.get(a),o)}updatePaintBuffers(){this._buffers=[];for(const e in this.binders){const t=this.binders[e];(t instanceof cs||t instanceof us||t instanceof ds)&&t.paintVertexBuffer&&this._buffers.push(t.paintVertexBuffer)}}upload(e){for(const t in this.binders){const n=this.binders[t];(n instanceof cs||n instanceof us||n instanceof ds)&&n.upload(e)}this.updatePaintBuffers()}destroy(){for(const e in this.binders){const t=this.binders[e];(t instanceof cs||t instanceof us||t instanceof ds)&&t.destroy()}}}class ps{constructor(e,t,n=(()=>!0)){this.programConfigurations={};for(const i of e)this.programConfigurations[i.id]=new hs(i,t,n);this.needsUpload=!1,this._featureMap=new Ka,this._bufferOffset=0}populatePaintArrays(e,t,n,i,r,o,a){for(const s in this.programConfigurations)this.programConfigurations[s].populatePaintArrays(e,t,i,r,o,a);void 0!==t.id&&this._featureMap.add(t.id,n,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}updatePaintArrays(e,t,n,i,r){for(const o of n)this.needsUpload=this.programConfigurations[o.id].updatePaintArrays(e,this._featureMap,t,o,i,r)||this.needsUpload}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(const t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}}destroy(){for(const e in this.programConfigurations)this.programConfigurations[e].destroy()}}const fs={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function ms(e,t){return fs[e]||[e.replace(`${t}-`,"").replace(/-/g,"_")]}const gs={"line-pattern":{source:da,composite:da},"fill-pattern":{source:da,composite:da},"fill-extrusion-pattern":{source:da,composite:da},"line-dasharray":{source:ha,composite:ha}},vs={color:{source:Aa,composite:ua},number:{source:Ca,composite:Aa}};function ys(e,t,n){const i=gs[e];return i&&i[n]||vs[t][n]}Wr(ss,"ConstantBinder"),Wr(ls,"PatternConstantBinder"),Wr(cs,"SourceExpressionBinder"),Wr(ds,"PatternCompositeBinder"),Wr(us,"CompositeExpressionBinder"),Wr(hs,"ProgramConfiguration",{omit:["_buffers"]}),Wr(ps,"ProgramConfigurationSet");const xs="-transition";class bs extends Ke{constructor(e,t){if(super(),this.id=e.id,this.type=e.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,"custom"!==e.type&&(this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&"sky"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),t.layout&&(this._unevaluatedLayout=new Yo(t.layout)),t.paint)){this._transitionablePaint=new Ho(t.paint);for(const t in e.paint)this.setPaintProperty(t,e.paint[t],{validate:!1});for(const t in e.layout)this.setLayoutProperty(t,e.layout[t],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Ko(t.paint)}}getLayoutProperty(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}setLayoutProperty(e,t,n={}){null!=t&&this._validate(zr,`layers.${this.id}.layout.${e}`,e,t,n)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)}getPaintProperty(e){return z(e,xs)?this._transitionablePaint.getTransition(e.slice(0,-xs.length)):this._transitionablePaint.getValue(e)}setPaintProperty(e,t,n={}){if(null!=t&&this._validate(Rr,`layers.${this.id}.paint.${e}`,e,t,n))return!1;if(z(e,xs))return this._transitionablePaint.setTransition(e.slice(0,-xs.length),t||void 0),!1;{const n=this._transitionablePaint._values[e],i=n.value.isDataDriven(),r=n.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);const o=this._transitionablePaint._values[e].value,a=o.isDataDriven(),s=z(e,"pattern")||"line-dasharray"===e;return a||i||s||this._handleOverridablePaintPropertyUpdate(e,r,o)}}_handleSpecialPaintPropertyUpdate(e){}getProgramIds(){return null}getProgramConfiguration(e){return null}_handleOverridablePaintPropertyUpdate(e,t,n){return!1}isHidden(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(e,t){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)}serialize(){const e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),B(e,((e,t)=>!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)))}_validate(e,t,n,i,r={}){return(!r||!1!==r.validate)&&Br(this,e.call(Or,{key:t,layerType:this.type,objectKey:n,value:i,styleSpec:$e,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const e in this.paint._values){const t=this.paint.get(e);if(t instanceof qo&&Ii(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=ar(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const _s=ra([{name:"a_pos",components:2,type:"Int16"}],4),ws=ra([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class ks{constructor(e=[]){this.segments=e}prepareSegment(e,t,n,i){let r=this.segments[this.segments.length-1];return e>ks.MAX_VERTEX_ARRAY_LENGTH&&V(`Max vertices per segment is ${ks.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${e}`),(!r||r.vertexLength+e>ks.MAX_VERTEX_ARRAY_LENGTH||r.sortKey!==i)&&(r={vertexOffset:t.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==i&&(r.sortKey=i),this.segments.push(r)),r}get(){return this.segments}destroy(){for(const e of this.segments)for(const t in e.vaos)e.vaos[t].destroy()}static simpleSegment(e,t,n,i){return new ks([{vertexOffset:e,primitiveOffset:t,vertexLength:n,primitiveLength:i,vaos:{},sortKey:0}])}}ks.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Wr(ks,"SegmentVector");var Ss=8192;class Cs{constructor(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))}setNorthEast(e){return this._ne=e instanceof Ts?new Ts(e.lng,e.lat):Ts.convert(e),this}setSouthWest(e){return this._sw=e instanceof Ts?new Ts(e.lng,e.lat):Ts.convert(e),this}extend(e){const t=this._sw,n=this._ne;let i,r;if(e instanceof Ts)i=e,r=e;else{if(!(e instanceof Cs))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(Cs.convert(e)):this.extend(Ts.convert(e)):"object"==typeof e&&null!==e&&e.hasOwnProperty("lat")&&e.hasOwnProperty("lon")?this.extend(Ts.convert(e)):this;if(i=e._sw,r=e._ne,!i||!r)return this}return t||n?(t.lng=Math.min(i.lng,t.lng),t.lat=Math.min(i.lat,t.lat),n.lng=Math.max(r.lng,n.lng),n.lat=Math.max(r.lat,n.lat)):(this._sw=new Ts(i.lng,i.lat),this._ne=new Ts(r.lng,r.lat)),this}getCenter(){return new Ts((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Ts(this.getWest(),this.getNorth())}getSouthEast(){return new Ts(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){const{lng:t,lat:n}=Ts.convert(e);let i=this._sw.lng<=t&&t<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=t&&t>=this._ne.lng),this._sw.lat<=n&&n<=this._ne.lat&&i}static convert(e){return!e||e instanceof Cs?e:new Cs(e)}}const Es=6371008.8;class Ts{constructor(e,t){if(isNaN(e)||isNaN(t))throw new Error(`Invalid LngLat object: (${e}, ${t})`);if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Ts(E(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(e){const t=Math.PI/180,n=this.lat*t,i=e.lat*t,r=Math.sin(n)*Math.sin(i)+Math.cos(n)*Math.cos(i)*Math.cos((e.lng-this.lng)*t);return Es*Math.acos(Math.min(r,1))}toBounds(e=0){const t=360*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return new Cs(new Ts(this.lng-n,this.lat-t),new Ts(this.lng+n,this.lat+t))}static convert(e){if(e instanceof Ts)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new Ts(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new Ts(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Ms=2*Math.PI*Es;function Ps(e){return Ms*Math.cos(e*Math.PI/180)}function As(e){return(180+e)/360}function Is(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function Ls(e,t){return e/Ps(t)}function Ds(e){return 360*e-180}function Os(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}function Rs(e,t){return e*Ps(Os(t))}const zs=85.051129;function Fs(e){return 1/Math.cos(e*Math.PI/180)}class Bs{constructor(e,t,n=0){this.x=+e,this.y=+t,this.z=+n}static fromLngLat(e,t=0){const n=Ts.convert(e);return new Bs(As(n.lng),Is(n.lat),Ls(t,n.lat))}toLngLat(){return new Ts(Ds(this.x),Os(this.y))}toAltitude(){return Rs(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Ms*Fs(Os(this.y))}}function Ns(e,t,n,i,r,o,a,s,l){const c=(t+i)/2,u=(n+r)/2,d=new f(c,u);s(d),function(e,t,n,i,r,o){const a=n-r,s=i-o;return Math.abs((i-t)*a-(n-e)*s)/Math.hypot(a,s)}(d.x,d.y,o.x,o.y,a.x,a.y)>=l?(Ns(e,t,n,c,u,o,d,s,l),Ns(e,c,u,i,r,d,a,s,l)):e.push(a)}function js(e,t,n){let i=e[0],r=i.x,o=i.y;t(i);const a=[i];for(let s=1;s<e.length;s++){const l=e[s],{x:c,y:u}=l;t(l),Ns(a,r,o,c,u,i,l,t,n),r=c,o=u,i=l}return a}function Vs(e,t,n,i){if(i(t,n)){const r=t.add(n)._mult(.5);Vs(e,t,r,i),Vs(e,r,n,i)}else e.push(n)}function Ws(e,t){let n=e[0];const i=[n];for(let r=1;r<e.length;r++){const o=e[r];Vs(i,n,o,t),n=o}return i}const Us=Math.pow(2,14)-1,Hs=-Us-1;function Xs(e,t){const n=Math.round(e.x*t),i=Math.round(e.y*t);return e.x=S(n,Hs,Us),e.y=S(i,Hs,Us),(n<e.x||n>e.x+1||i<e.y||i>e.y+1)&&V("Geometry exceeds allowed extent, reduce your vector tile buffer size"),e}function Gs(e,t,n){const i=e.loadGeometry(),r=e.extent,o=Ss/r;if(t&&n&&n.projection.isReprojectedInTileSpace){const o=1<<t.z,{scale:a,x:s,y:l,projection:c}=n,u=e=>{const n=Ds((t.x+e.x/r)/o),i=Os((t.y+e.y/r)/o),u=c.project(n,i);e.x=(u.x*a-s)*r,e.y=(u.y*a-l)*r};for(let t=0;t<i.length;t++)if(1!==e.type)i[t]=js(i[t],u,1);else{const e=[];for(const n of i[t])n.x<0||n.x>=r||n.y<0||n.y>=r||(u(n),e.push(n));i[t]=e}}for(const a of i)for(const e of a)Xs(e,o);return i}function Ys(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?Gs(e):[]}}function qs(e,t,n,i,r){e.emplaceBack(2*t+(i+1)/2,2*n+(r+1)/2)}function Ks(e,t,n){const i=16384;e.emplaceBack(t.x,t.y,t.z,n[0]*i,n[1]*i,n[2]*i)}class $s{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.projection=e.projection,this.layoutVertexArray=new aa,this.indexArray=new wa,this.segments=new ks,this.programConfigurations=new ps(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,n,i){const r=this.layers[0],o=[];let a=null;"circle"===r.type&&(a=r.layout.get("circle-sort-key"));for(const{feature:l,id:c,index:u,sourceLayerIndex:d}of e){const e=this.layers[0]._featureFilter.needGeometry,t=Ys(l,e);if(!this.layers[0]._featureFilter.filter(new Vo(this.zoom),t,n))continue;const r=a?a.evaluate(t,{},n):void 0,s={id:c,properties:l.properties,type:l.type,sourceLayerIndex:d,index:u,geometry:e?t.geometry:Gs(l,n,i),patterns:{},sortKey:r};o.push(s)}a&&o.sort(((e,t)=>e.sortKey-t.sortKey));let s=null;"globe"===i.projection.name&&(this.globeExtVertexArray=new pa,s=i.projection);for(const l of o){const{geometry:i,index:r,sourceLayerIndex:o}=l,a=e[r].feature;this.addFeature(l,i,r,t.availableImages,n,s),t.featureIndex.insert(a,i,r,o,this.index)}}update(e,t,n,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,_s.members),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,ws.members))),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(e,t,n,i,r,o){for(const a of t)for(const t of a){const n=t.x,i=t.y;if(n<0||n>=Ss||i<0||i>=Ss)continue;if(o){const e=o.projectTilePoint(n,i,r),t=o.upVector(r,n,i),a=this.globeExtVertexArray;Ks(a,e,t),Ks(a,e,t),Ks(a,e,t),Ks(a,e,t)}const a=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),s=a.vertexLength;qs(this.layoutVertexArray,n,i,-1,-1),qs(this.layoutVertexArray,n,i,1,-1),qs(this.layoutVertexArray,n,i,1,1),qs(this.layoutVertexArray,n,i,-1,1),this.indexArray.emplaceBack(s,s+1,s+2),this.indexArray.emplaceBack(s,s+2,s+3),a.vertexLength+=4,a.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{},i,r)}}function Zs(e,t){for(let n=0;n<e.length;n++)if(al(t,e[n]))return!0;for(let n=0;n<t.length;n++)if(al(e,t[n]))return!0;return!!tl(e,t)}function Js(e,t,n){return!!al(e,t)||!!il(t,e,n)}function Qs(e,t){if(1===e.length)return ol(t,e[0]);for(let n=0;n<t.length;n++){const i=t[n];for(let t=0;t<i.length;t++)if(al(e,i[t]))return!0}for(let n=0;n<e.length;n++)if(ol(t,e[n]))return!0;for(let n=0;n<t.length;n++)if(tl(e,t[n]))return!0;return!1}function el(e,t,n){if(e.length>1){if(tl(e,t))return!0;for(let i=0;i<t.length;i++)if(il(t[i],e,n))return!0}for(let i=0;i<e.length;i++)if(il(e[i],t,n))return!0;return!1}function tl(e,t){if(0===e.length||0===t.length)return!1;for(let n=0;n<e.length-1;n++){const i=e[n],r=e[n+1];for(let e=0;e<t.length-1;e++)if(nl(i,r,t[e],t[e+1]))return!0}return!1}function nl(e,t,n,i){return W(e,n,i)!==W(t,n,i)&&W(e,t,n)!==W(e,t,i)}function il(e,t,n){const i=n*n;if(1===t.length)return e.distSqr(t[0])<i;for(let r=1;r<t.length;r++)if(rl(e,t[r-1],t[r])<i)return!0;return!1}function rl(e,t,n){const i=t.distSqr(n);if(0===i)return e.distSqr(t);const r=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/i;return e.distSqr(r<0?t:r>1?n:n.sub(t)._mult(r)._add(t))}function ol(e,t){let n,i,r,o=!1;for(let a=0;a<e.length;a++){n=e[a];for(let e=0,a=n.length-1;e<n.length;a=e++)i=n[e],r=n[a],i.y>t.y!=r.y>t.y&&t.x<(r.x-i.x)*(t.y-i.y)/(r.y-i.y)+i.x&&(o=!o)}return o}function al(e,t){let n=!1;for(let i=0,r=e.length-1;i<e.length;r=i++){const o=e[i],a=e[r];o.y>t.y!=a.y>t.y&&t.x<(a.x-o.x)*(t.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function sl(e,t,n,i,r){for(const a of e)if(t<=a.x&&n<=a.y&&i>=a.x&&r>=a.y)return!0;const o=[new f(t,n),new f(t,r),new f(i,r),new f(i,n)];if(e.length>2)for(const a of o)if(al(e,a))return!0;for(let a=0;a<e.length-1;a++)if(ll(e[a],e[a+1],o))return!0;return!1}function ll(e,t,n){const i=n[0],r=n[2];if(e.x<i.x&&t.x<i.x||e.x>r.x&&t.x>r.x||e.y<i.y&&t.y<i.y||e.y>r.y&&t.y>r.y)return!1;const o=W(e,t,n[0]);return o!==W(e,t,n[1])||o!==W(e,t,n[2])||o!==W(e,t,n[3])}function cl(e,t,n){const i=t.paint.get(e).value;return"constant"===i.kind?i.value:n.programConfigurations.get(t.id).getMaxValue(e)}function ul(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function dl(e,t,n,i,r){if(!t[0]&&!t[1])return e;const o=f.convert(t)._mult(r);"viewport"===n&&o._rotate(-i);const a=[];for(let s=0;s<e.length;s++)a.push(e[s].sub(o));return a}function hl(e,t,n,i){const r=f.convert(e)._mult(i);return"viewport"===t&&r._rotate(-n),r}Wr($s,"CircleBucket",{omit:["layers"]});const pl=new Qo({"circle-sort-key":new Zo($e.layout_circle["circle-sort-key"])});var fl={paint:new Qo({"circle-radius":new Zo($e.paint_circle["circle-radius"]),"circle-color":new Zo($e.paint_circle["circle-color"]),"circle-blur":new Zo($e.paint_circle["circle-blur"]),"circle-opacity":new Zo($e.paint_circle["circle-opacity"]),"circle-translate":new $o($e.paint_circle["circle-translate"]),"circle-translate-anchor":new $o($e.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new $o($e.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new $o($e.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Zo($e.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Zo($e.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Zo($e.paint_circle["circle-stroke-opacity"])}),layout:pl},ml=1e-6,gl="undefined"!=typeof Float32Array?Float32Array:Array;function vl(){var e=new gl(9);return gl!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function yl(e,t,n){var i=t[0],r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=n[0],p=n[1],f=n[2],m=n[3],g=n[4],v=n[5],y=n[6],x=n[7],b=n[8];return e[0]=h*i+p*a+f*c,e[1]=h*r+p*s+f*u,e[2]=h*o+p*l+f*d,e[3]=m*i+g*a+v*c,e[4]=m*r+g*s+v*u,e[5]=m*o+g*l+v*d,e[6]=y*i+x*a+b*c,e[7]=y*r+x*s+b*u,e[8]=y*o+x*l+b*d,e}function xl(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function bl(e,t){var n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],d=t[9],h=t[10],p=t[11],f=t[12],m=t[13],g=t[14],v=t[15],y=n*s-i*a,x=n*l-r*a,b=n*c-o*a,_=i*l-r*s,w=i*c-o*s,k=r*c-o*l,S=u*m-d*f,C=u*g-h*f,E=u*v-p*f,T=d*g-h*m,M=d*v-p*m,P=h*v-p*g,A=y*P-x*M+b*T+_*E-w*C+k*S;return A?(e[0]=(s*P-l*M+c*T)*(A=1/A),e[1]=(r*M-i*P-o*T)*A,e[2]=(m*k-g*w+v*_)*A,e[3]=(h*w-d*k-p*_)*A,e[4]=(l*E-a*P-c*C)*A,e[5]=(n*P-r*E+o*C)*A,e[6]=(g*b-f*k-v*x)*A,e[7]=(u*k-h*b+p*x)*A,e[8]=(a*M-s*E+c*S)*A,e[9]=(i*E-n*M-o*S)*A,e[10]=(f*w-m*b+v*y)*A,e[11]=(d*b-u*w-p*y)*A,e[12]=(s*C-a*T-l*S)*A,e[13]=(n*T-i*C+r*S)*A,e[14]=(m*x-f*_-g*y)*A,e[15]=(u*_-d*x+h*y)*A,e):null}function _l(e,t,n){var i=t[0],r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=t[9],p=t[10],f=t[11],m=t[12],g=t[13],v=t[14],y=t[15],x=n[0],b=n[1],_=n[2],w=n[3];return e[0]=x*i+b*s+_*d+w*m,e[1]=x*r+b*l+_*h+w*g,e[2]=x*o+b*c+_*p+w*v,e[3]=x*a+b*u+_*f+w*y,e[4]=(x=n[4])*i+(b=n[5])*s+(_=n[6])*d+(w=n[7])*m,e[5]=x*r+b*l+_*h+w*g,e[6]=x*o+b*c+_*p+w*v,e[7]=x*a+b*u+_*f+w*y,e[8]=(x=n[8])*i+(b=n[9])*s+(_=n[10])*d+(w=n[11])*m,e[9]=x*r+b*l+_*h+w*g,e[10]=x*o+b*c+_*p+w*v,e[11]=x*a+b*u+_*f+w*y,e[12]=(x=n[12])*i+(b=n[13])*s+(_=n[14])*d+(w=n[15])*m,e[13]=x*r+b*l+_*h+w*g,e[14]=x*o+b*c+_*p+w*v,e[15]=x*a+b*u+_*f+w*y,e}function wl(e,t,n){var i,r,o,a,s,l,c,u,d,h,p,f,m=n[0],g=n[1],v=n[2];return t===e?(e[12]=t[0]*m+t[4]*g+t[8]*v+t[12],e[13]=t[1]*m+t[5]*g+t[9]*v+t[13],e[14]=t[2]*m+t[6]*g+t[10]*v+t[14],e[15]=t[3]*m+t[7]*g+t[11]*v+t[15]):(r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=t[9],p=t[10],f=t[11],e[0]=i=t[0],e[1]=r,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=c,e[7]=u,e[8]=d,e[9]=h,e[10]=p,e[11]=f,e[12]=i*m+s*g+d*v+t[12],e[13]=r*m+l*g+h*v+t[13],e[14]=o*m+c*g+p*v+t[14],e[15]=a*m+u*g+f*v+t[15]),e}function kl(e,t,n){var i=n[0],r=n[1],o=n[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Sl(e,t,n){var i=Math.sin(n),r=Math.cos(n),o=t[4],a=t[5],s=t[6],l=t[7],c=t[8],u=t[9],d=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*r+c*i,e[5]=a*r+u*i,e[6]=s*r+d*i,e[7]=l*r+h*i,e[8]=c*r-o*i,e[9]=u*r-a*i,e[10]=d*r-s*i,e[11]=h*r-l*i,e}function Cl(e,t,n){var i=Math.sin(n),r=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],c=t[8],u=t[9],d=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*r-c*i,e[1]=a*r-u*i,e[2]=s*r-d*i,e[3]=l*r-h*i,e[8]=o*i+c*r,e[9]=a*i+u*r,e[10]=s*i+d*r,e[11]=l*i+h*r,e}function El(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Tl(e,t,n){var i,r,o,a=n[0],s=n[1],l=n[2],c=Math.hypot(a,s,l);return c<ml?null:(a*=c=1/c,s*=c,l*=c,i=Math.sin(t),r=Math.cos(t),e[0]=a*a*(o=1-r)+r,e[1]=s*a*o+l*i,e[2]=l*a*o-s*i,e[3]=0,e[4]=a*s*o-l*i,e[5]=s*s*o+r,e[6]=l*s*o+a*i,e[7]=0,e[8]=a*l*o+s*i,e[9]=s*l*o-a*i,e[10]=l*l*o+r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var Ml=_l;function Pl(){var e=new gl(3);return gl!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Al(e){var t=new gl(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Il(e){return Math.hypot(e[0],e[1],e[2])}function Ll(e,t,n){var i=new gl(3);return i[0]=e,i[1]=t,i[2]=n,i}function Dl(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function Ol(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function Rl(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function zl(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function Fl(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function Bl(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function Nl(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e}function jl(e,t){var n=t[0],i=t[1],r=t[2],o=n*n+i*i+r*r;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function Vl(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Wl(e,t,n){var i=t[0],r=t[1],o=t[2],a=n[0],s=n[1],l=n[2];return e[0]=r*l-o*s,e[1]=o*a-i*l,e[2]=i*s-r*a,e}function Ul(e,t,n){var i=t[0],r=t[1],o=t[2],a=n[3]*i+n[7]*r+n[11]*o+n[15];return e[0]=(n[0]*i+n[4]*r+n[8]*o+n[12])/(a=a||1),e[1]=(n[1]*i+n[5]*r+n[9]*o+n[13])/a,e[2]=(n[2]*i+n[6]*r+n[10]*o+n[14])/a,e}function Hl(e,t,n){var i=n[0],r=n[1],o=n[2],a=t[0],s=t[1],l=t[2],c=r*l-o*s,u=o*a-i*l,d=i*s-r*a,h=r*d-o*u,p=o*c-i*d,f=i*u-r*c,m=2*n[3];return u*=m,d*=m,p*=2,f*=2,e[0]=a+(c*=m)+(h*=2),e[1]=s+u+p,e[2]=l+d+f,e}var Xl,Gl=Ol,Yl=Rl,ql=Il;function Kl(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function $l(e,t){var n=t[0],i=t[1],r=t[2],o=t[3],a=n*n+i*i+r*r+o*o;return a>0&&(a=1/Math.sqrt(a)),e[0]=n*a,e[1]=i*a,e[2]=r*a,e[3]=o*a,e}function Zl(e,t,n){var i=t[0],r=t[1],o=t[2],a=t[3];return e[0]=n[0]*i+n[4]*r+n[8]*o+n[12]*a,e[1]=n[1]*i+n[5]*r+n[9]*o+n[13]*a,e[2]=n[2]*i+n[6]*r+n[10]*o+n[14]*a,e[3]=n[3]*i+n[7]*r+n[11]*o+n[15]*a,e}function Jl(){var e=new gl(4);return gl!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Ql(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function ec(e,t,n){n*=.5;var i=t[0],r=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=i*l+a*s,e[1]=r*l+o*s,e[2]=o*l-r*s,e[3]=a*l-i*s,e}function tc(e,t,n){n*=.5;var i=t[0],r=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=i*l-o*s,e[1]=r*l+a*s,e[2]=o*l+i*s,e[3]=a*l-r*s,e}Pl(),Xl=new gl(4),gl!=Float32Array&&(Xl[0]=0,Xl[1]=0,Xl[2]=0,Xl[3]=0);var nc=$l;Pl(),Ll(1,0,0),Ll(0,1,0),Jl(),Jl(),vl();class ic{constructor(e,t){this.pos=e,this.dir=t}intersectsPlane(e,t,n){const i=Vl(t,this.dir);if(Math.abs(i)<1e-6)return!1;const r=((e[0]-this.pos[0])*t[0]+(e[1]-this.pos[1])*t[1]+(e[2]-this.pos[2])*t[2])/i;return n[0]=this.pos[0]+this.dir[0]*r,n[1]=this.pos[1]+this.dir[1]*r,n[2]=this.pos[2]+this.dir[2]*r,!0}closestPointOnSphere(e,t,n){if(function(e,t){var n=e[0],i=e[1],r=e[2],o=t[0],a=t[1],s=t[2];return Math.abs(n-o)<=ml*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=ml*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(r-s)<=ml*Math.max(1,Math.abs(r),Math.abs(s))}(this.pos,e)||0===t)return n[0]=n[1]=n[2]=0,!1;const[i,r,o]=this.dir,a=this.pos[0]-e[0],s=this.pos[1]-e[1],l=this.pos[2]-e[2],c=i*i+r*r+o*o,u=2*(a*i+s*r+l*o),d=u*u-4*c*(a*a+s*s+l*l-t*t);if(d<0){const e=Math.max(-u/2,0),c=a+i*e,d=s+r*e,h=l+o*e,p=Math.hypot(c,d,h);return n[0]=c*t/p,n[1]=d*t/p,n[2]=h*t/p,!1}{const e=(-u-Math.sqrt(d))/(2*c);if(e<0){const e=Math.hypot(a,s,l);return n[0]=a*t/e,n[1]=s*t/e,n[2]=l*t/e,!1}return n[0]=a+i*e,n[1]=s+r*e,n[2]=l+o*e,!0}}}class rc{constructor(e,t,n,i,r){this.TL=e,this.TR=t,this.BR=n,this.BL=i,this.horizon=r}static fromInvProjectionMatrix(e,t,n){const i=[-1,1,1],r=[1,1,1],o=[1,-1,1],a=[-1,-1,1],s=Ul(i,i,e),l=Ul(r,r,e),c=Ul(o,o,e),u=Ul(a,a,e);return new rc(s,l,c,u,t/n)}}class oc{constructor(e,t){this.points=e,this.planes=t}static fromInvProjectionMatrix(e,t,n,i){const r=Math.pow(2,n),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((n=>{const o=Zl([],n,e),a=1/o[3]/t*r;return function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}(o,o,[a,a,i?1/o[3]:a,a])})),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((e=>{const t=jl([],Wl([],Gl([],o[e[0]],o[e[1]]),Gl([],o[e[2]],o[e[1]]))),n=-Vl(t,o[e[1]]);return t.concat(n)}));return new oc(o,a)}}class ac{static fromPoints(e){const t=[1/0,1/0,1/0],n=[-1/0,-1/0,-1/0];for(const i of e)zl(t,t,i),Fl(n,n,i);return new ac(t,n)}static applyTransform(e,t){const n=e.getCorners();for(let i=0;i<n.length;++i)Ul(n[i],n[i],t);return ac.fromPoints(n)}constructor(e,t){this.min=e,this.max=t,this.center=Bl([],Dl([],this.min,this.max),.5)}quadrant(e){const t=[e%2==0,e<2],n=Al(this.min),i=Al(this.max);for(let r=0;r<t.length;r++)n[r]=t[r]?this.min[r]:this.center[r],i[r]=t[r]?this.center[r]:this.max[r];return i[2]=this.max[2],new ac(n,i)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}distanceZ(e){return Math.max(Math.min(this.max[2],e[2]),this.min[2])-e[2]}getCorners(){const e=this.min,t=this.max;return[[e[0],e[1],e[2]],[t[0],e[1],e[2]],[t[0],t[1],e[2]],[e[0],t[1],e[2]],[e[0],e[1],t[2]],[t[0],e[1],t[2]],[t[0],t[1],t[2]],[e[0],t[1],t[2]]]}intersects(e){const t=this.getCorners();let n=!0;for(let i=0;i<e.planes.length;i++){const r=e.planes[i];let o=0;for(let e=0;e<t.length;e++)o+=Vl(r,t[e])+r[3]>=0;if(0===o)return 0;o!==t.length&&(n=!1)}if(n)return 2;for(let i=0;i<3;i++){let t=Number.MAX_VALUE,n=-Number.MAX_VALUE;for(let r=0;r<e.points.length;r++){const o=e.points[r][i]-this.min[i];t=Math.min(t,o),n=Math.max(n,o)}if(n<0||t>this.max[i]-this.min[i])return 0}return 1}}function sc(e,t,n,i,r,o,a,s,l){if(o&&e.queryGeometry.isAboveHorizon)return!1;o&&(l*=e.pixelToTileUnitsFactor);const c=e.tileID.canonical,u=n.projection.upVectorScale(c,n.center.lat,n.worldSize).metersToTile;for(const d of t)for(const t of d){const d=t.add(s),h=r&&n.elevation?n.elevation.exaggeration()*r.getElevationAt(d.x,d.y,!0):0,p=n.projection.projectTilePoint(d.x,d.y,c);if(h>0){const e=n.projection.upVector(c,d.x,d.y);p.x+=e[0]*u*h,p.y+=e[1]*u*h,p.z+=e[2]*u*h}const f=o?d:lc(p.x,p.y,p.z,i),m=o?e.tilespaceRays.map((e=>dc(e,h))):e.queryGeometry.screenGeometry,g=Zl([],[p.x,p.y,p.z,1],i);if(!a&&o?l*=g[3]/n.cameraToCenterDistance:a&&!o&&(l*=n.cameraToCenterDistance/g[3]),o){const e=Os((t.y/Ss+c.y)/(1<<c.z));l/=n.projection.pixelsPerMeter(e,1)/Ls(1,e)}if(Js(m,f,l))return!0}return!1}function lc(e,t,n,i){const r=Zl([],[e,t,n,1],i);return new f(r[0]/r[3],r[1]/r[3])}const cc=Ll(0,0,0),uc=Ll(0,0,1);function dc(e,t){const n=Pl();return cc[2]=t,e.intersectsPlane(cc,uc,n),new f(n[0],n[1])}class hc extends $s{}function pc(e,{width:t,height:n},i,r){if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==t*n*i)throw new RangeError("mismatched image size")}else r=new Uint8Array(t*n*i);return e.width=t,e.height=n,e.data=r,e}function fc(e,t,n){const{width:i,height:r}=t;i===e.width&&r===e.height||(mc(e,t,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,i),height:Math.min(e.height,r)},n),e.width=i,e.height=r,e.data=t.data)}function mc(e,t,n,i,r,o){if(0===r.width||0===r.height)return t;if(r.width>e.width||r.height>e.height||n.x>e.width-r.width||n.y>e.height-r.height)throw new RangeError("out of range source coordinates for image copy");if(r.width>t.width||r.height>t.height||i.x>t.width-r.width||i.y>t.height-r.height)throw new RangeError("out of range destination coordinates for image copy");const a=e.data,s=t.data;for(let l=0;l<r.height;l++){const c=((n.y+l)*e.width+n.x)*o,u=((i.y+l)*t.width+i.x)*o;for(let e=0;e<r.width*o;e++)s[u+e]=a[c+e]}return t}Wr(hc,"HeatmapBucket",{omit:["layers"]});class gc{constructor(e,t){pc(this,e,1,t)}resize(e){fc(this,new gc(e),1)}clone(){return new gc({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,n,i,r){mc(e,t,n,i,r,1)}}class vc{constructor(e,t){pc(this,e,4,t)}resize(e){fc(this,new vc(e),4)}replace(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}clone(){return new vc({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,n,i,r){mc(e,t,n,i,r,4)}}Wr(gc,"AlphaImage"),Wr(vc,"RGBAImage");var yc={paint:new Qo({"heatmap-radius":new Zo($e.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Zo($e.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new $o($e.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Jo($e.paint_heatmap["heatmap-color"]),"heatmap-opacity":new $o($e.paint_heatmap["heatmap-opacity"])})};function xc(e){const t={},n=e.resolution||256,i=e.clips?e.clips.length:1,r=e.image||new vc({width:n,height:i}),o=(n,i,o)=>{t[e.evaluationKey]=o;const a=e.expression.evaluate(t);r.data[n+i+0]=Math.floor(255*a.r/a.a),r.data[n+i+1]=Math.floor(255*a.g/a.a),r.data[n+i+2]=Math.floor(255*a.b/a.a),r.data[n+i+3]=Math.floor(255*a.a)};if(e.clips)for(let a=0,s=0;a<i;++a,s+=4*n)for(let t=0,i=0;t<n;t++,i+=4){const r=t/(n-1),{start:l,end:c}=e.clips[a];o(s,i,l*(1-r)+c*r)}else for(let a=0,s=0;a<n;a++,s+=4)o(0,s,a/(n-1));return r}var bc={paint:new Qo({"hillshade-illumination-direction":new $o($e.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new $o($e.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new $o($e.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new $o($e.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new $o($e.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new $o($e.paint_hillshade["hillshade-accent-color"])})};const _c=ra([{name:"a_pos",components:2,type:"Int16"}],4),{members:wc}=_c;var kc={exports:{}};function Sc(e,t,n){n=n||2;var i,r,o,a,s,l,c,u=t&&t.length,d=u?t[0]*n:e.length,h=Cc(e,0,d,n,!0),p=[];if(!h||h.next===h.prev)return p;if(u&&(h=function(e,t,n,i){var r,o,a,s=[];for(r=0,o=t.length;r<o;r++)(a=Cc(e,t[r]*i,r<o-1?t[r+1]*i:e.length,i,!1))===a.next&&(a.steiner=!0),s.push(zc(a));for(s.sort(Lc),r=0;r<s.length;r++)n=Dc(s[r],n);return n}(e,t,h,n)),e.length>80*n){i=o=e[0],r=a=e[1];for(var f=n;f<d;f+=n)(s=e[f])<i&&(i=s),(l=e[f+1])<r&&(r=l),s>o&&(o=s),l>a&&(a=l);c=0!==(c=Math.max(o-i,a-r))?32767/c:0}return Tc(h,p,n,i,r,c,0),p}function Cc(e,t,n,i,r){var o,a;if(r===Kc(e,t,n,i)>0)for(o=t;o<n;o+=i)a=Gc(o,e[o],e[o+1],a);else for(o=n-i;o>=t;o-=i)a=Gc(o,e[o],e[o+1],a);return a&&jc(a,a.next)&&(Yc(a),a=a.next),a}function Ec(e,t){if(!e)return e;t||(t=e);var n,i=e;do{if(n=!1,i.steiner||!jc(i,i.next)&&0!==Nc(i.prev,i,i.next))i=i.next;else{if(Yc(i),(i=t=i.prev)===i.next)break;n=!0}}while(n||i!==t);return t}function Tc(e,t,n,i,r,o,a){if(e){!a&&o&&function(e,t,n,i){var r=e;do{0===r.z&&(r.z=Rc(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){var t,n,i,r,o,a,s,l,c=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,i=n,s=0,t=0;t<c&&(s++,i=i.nextZ);t++);for(l=c;s>0||l>0&&i;)0!==s&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:e=r,r.prevZ=o,o=r;n=i}o.nextZ=null,c*=2}while(a>1)}(r)}(e,i,r,o);for(var s,l,c=e;e.prev!==e.next;)if(s=e.prev,l=e.next,o?Pc(e,i,r,o):Mc(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),Yc(e),e=l.next,c=l.next;else if((e=l)===c){a?1===a?Tc(e=Ac(Ec(e),t,n),t,n,i,r,o,2):2===a&&Ic(e,t,n,i,r,o):Tc(Ec(e),t,n,i,r,o,1);break}}}function Mc(e){var t=e.prev,n=e,i=e.next;if(Nc(t,n,i)>=0)return!1;for(var r=t.x,o=n.x,a=i.x,s=t.y,l=n.y,c=i.y,u=r<o?r<a?r:a:o<a?o:a,d=s<l?s<c?s:c:l<c?l:c,h=r>o?r>a?r:a:o>a?o:a,p=s>l?s>c?s:c:l>c?l:c,f=i.next;f!==t;){if(f.x>=u&&f.x<=h&&f.y>=d&&f.y<=p&&Fc(r,s,o,l,a,c,f.x,f.y)&&Nc(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function Pc(e,t,n,i){var r=e.prev,o=e,a=e.next;if(Nc(r,o,a)>=0)return!1;for(var s=r.x,l=o.x,c=a.x,u=r.y,d=o.y,h=a.y,p=s<l?s<c?s:c:l<c?l:c,f=u<d?u<h?u:h:d<h?d:h,m=s>l?s>c?s:c:l>c?l:c,g=u>d?u>h?u:h:d>h?d:h,v=Rc(p,f,t,n,i),y=Rc(m,g,t,n,i),x=e.prevZ,b=e.nextZ;x&&x.z>=v&&b&&b.z<=y;){if(x.x>=p&&x.x<=m&&x.y>=f&&x.y<=g&&x!==r&&x!==a&&Fc(s,u,l,d,c,h,x.x,x.y)&&Nc(x.prev,x,x.next)>=0)return!1;if(x=x.prevZ,b.x>=p&&b.x<=m&&b.y>=f&&b.y<=g&&b!==r&&b!==a&&Fc(s,u,l,d,c,h,b.x,b.y)&&Nc(b.prev,b,b.next)>=0)return!1;b=b.nextZ}for(;x&&x.z>=v;){if(x.x>=p&&x.x<=m&&x.y>=f&&x.y<=g&&x!==r&&x!==a&&Fc(s,u,l,d,c,h,x.x,x.y)&&Nc(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;b&&b.z<=y;){if(b.x>=p&&b.x<=m&&b.y>=f&&b.y<=g&&b!==r&&b!==a&&Fc(s,u,l,d,c,h,b.x,b.y)&&Nc(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function Ac(e,t,n){var i=e;do{var r=i.prev,o=i.next.next;!jc(r,o)&&Vc(r,i,i.next,o)&&Hc(r,o)&&Hc(o,r)&&(t.push(r.i/n|0),t.push(i.i/n|0),t.push(o.i/n|0),Yc(i),Yc(i.next),i=e=o),i=i.next}while(i!==e);return Ec(i)}function Ic(e,t,n,i,r,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Bc(a,s)){var l=Xc(a,s);return a=Ec(a,a.next),l=Ec(l,l.next),Tc(a,t,n,i,r,o,0),void Tc(l,t,n,i,r,o,0)}s=s.next}a=a.next}while(a!==e)}function Lc(e,t){return e.x-t.x}function Dc(e,t){var n=function(e,t){var n,i=t,r=e.x,o=e.y,a=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var s=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&s>a&&(a=s,n=i.x<i.next.x?i:i.next,s===r))return n}i=i.next}while(i!==t);if(!n)return null;var l,c=n,u=n.x,d=n.y,h=1/0;i=n;do{r>=i.x&&i.x>=u&&r!==i.x&&Fc(o<d?r:a,o,u,d,o<d?a:r,o,i.x,i.y)&&(l=Math.abs(o-i.y)/(r-i.x),Hc(i,e)&&(l<h||l===h&&(i.x>n.x||i.x===n.x&&Oc(n,i)))&&(n=i,h=l)),i=i.next}while(i!==c);return n}(e,t);if(!n)return t;var i=Xc(n,e);return Ec(i,i.next),Ec(n,n.next)}function Oc(e,t){return Nc(e.prev,e,t.prev)<0&&Nc(t.next,e,e.next)<0}function Rc(e,t,n,i,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*r|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function zc(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Fc(e,t,n,i,r,o,a,s){return(r-a)*(t-s)>=(e-a)*(o-s)&&(e-a)*(i-s)>=(n-a)*(t-s)&&(n-a)*(o-s)>=(r-a)*(i-s)}function Bc(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Vc(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Hc(e,t)&&Hc(t,e)&&function(e,t){var n=e,i=!1,r=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}(e,t)&&(Nc(e.prev,e,t.prev)||Nc(e,t.prev,t))||jc(e,t)&&Nc(e.prev,e,e.next)>0&&Nc(t.prev,t,t.next)>0)}function Nc(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function jc(e,t){return e.x===t.x&&e.y===t.y}function Vc(e,t,n,i){var r=Uc(Nc(e,t,n)),o=Uc(Nc(e,t,i)),a=Uc(Nc(n,i,e)),s=Uc(Nc(n,i,t));return r!==o&&a!==s||!(0!==r||!Wc(e,n,t))||!(0!==o||!Wc(e,i,t))||!(0!==a||!Wc(n,e,i))||!(0!==s||!Wc(n,t,i))}function Wc(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Uc(e){return e>0?1:e<0?-1:0}function Hc(e,t){return Nc(e.prev,e,e.next)<0?Nc(e,t,e.next)>=0&&Nc(e,e.prev,t)>=0:Nc(e,t,e.prev)<0||Nc(e,e.next,t)<0}function Xc(e,t){var n=new qc(e.i,e.x,e.y),i=new qc(t.i,t.x,t.y),r=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function Gc(e,t,n,i){var r=new qc(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Yc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function qc(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Kc(e,t,n,i){for(var r=0,o=t,a=n-i;o<n;o+=i)r+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return r}function $c(e,t,n,i,r){Zc(e,t,n||0,i||e.length-1,r||Qc)}function Zc(e,t,n,i,r){for(;i>n;){if(i-n>600){var o=i-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);Zc(e,t,Math.max(n,Math.floor(t-a*l/o+c)),Math.min(i,Math.floor(t+(o-a)*l/o+c)),r)}var u=e[t],d=n,h=i;for(Jc(e,n,t),r(e[i],u)>0&&Jc(e,n,i);d<h;){for(Jc(e,d,h),d++,h--;r(e[d],u)<0;)d++;for(;r(e[h],u)>0;)h--}0===r(e[n],u)?Jc(e,n,h):Jc(e,++h,i),h<=t&&(n=h+1),t<=h&&(i=h-1)}}function Jc(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function Qc(e,t){return e<t?-1:e>t?1:0}function eu(e,t){const n=e.length;if(n<=1)return[e];const i=[];let r,o;for(let a=0;a<n;a++){const t=U(e[a]);0!==t&&(e[a].area=Math.abs(t),void 0===o&&(o=t<0),o===t<0?(r&&i.push(r),r=[e[a]]):r.push(e[a]))}if(r&&i.push(r),t>1)for(let a=0;a<i.length;a++)i[a].length<=t||($c(i[a],t,1,i[a].length-1,tu),i[a]=i[a].slice(0,t));return i}function tu(e,t){return t.area-e.area}function nu(e,t,n){const i=n.patternDependencies;let r=!1;for(const o of t){const t=o.paint.get(`${e}-pattern`);t.isConstant()||(r=!0);const n=t.constantOr(null);n&&(r=!0,i[n]=!0)}return r}function iu(e,t,n,i,r){const o=r.patternDependencies;for(const a of t){const t=a.paint.get(`${e}-pattern`).value;if("constant"!==t.kind){let e=t.evaluate({zoom:i},n,{},r.availableImages);e=e&&e.name?e.name:e,o[e]=!0,n.patterns[a.id]=e}}return n}kc.exports=Sc,kc.exports.default=Sc,Sc.deviation=function(e,t,n,i){var r=t&&t.length,o=Math.abs(Kc(e,0,r?t[0]*n:e.length,n));if(r)for(var a=0,s=t.length;a<s;a++)o-=Math.abs(Kc(e,t[a]*n,a<s-1?t[a+1]*n:e.length,n));var l=0;for(a=0;a<i.length;a+=3){var c=i[a]*n,u=i[a+1]*n,d=i[a+2]*n;l+=Math.abs((e[c]-e[d])*(e[u+1]-e[c+1])-(e[c]-e[u])*(e[d+1]-e[c+1]))}return 0===o&&0===l?0:Math.abs((l-o)/o)},Sc.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},i=0,r=0;r<e.length;r++){for(var o=0;o<e[r].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[r][o][a]);r>0&&n.holes.push(i+=e[r-1].length)}return n};class ru{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new aa,this.indexArray=new wa,this.indexArray2=new Ma,this.programConfigurations=new ps(e.layers,e.zoom),this.segments=new ks,this.segments2=new ks,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id)),this.projection=e.projection}populate(e,t,n,i){this.hasPattern=nu("fill",this.layers,t);const r=this.layers[0].layout.get("fill-sort-key"),o=[];for(const{feature:a,id:s,index:l,sourceLayerIndex:c}of e){const e=this.layers[0]._featureFilter.needGeometry,u=Ys(a,e);if(!this.layers[0]._featureFilter.filter(new Vo(this.zoom),u,n))continue;const d=r?r.evaluate(u,{},n,t.availableImages):void 0,h={id:s,properties:a.properties,type:a.type,sourceLayerIndex:c,index:l,geometry:e?u.geometry:Gs(a,n,i),patterns:{},sortKey:d};o.push(h)}r&&o.sort(((e,t)=>e.sortKey-t.sortKey));for(const a of o){const{geometry:i,index:r,sourceLayerIndex:o}=a;if(this.hasPattern){const e=iu("fill",this.layers,a,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(a,i,r,n,{},t.availableImages);t.featureIndex.insert(e[r].feature,i,r,o,this.index)}}update(e,t,n,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n,i)}addFeatures(e,t,n,i,r){for(const o of this.patternFeatures)this.addFeature(o,o.geometry,o.index,t,n,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,wc),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(e,t,n,i,r,o=[]){for(const a of eu(t,500)){let e=0;for(const s of a)e+=s.length;const t=this.segments.prepareSegment(e,this.layoutVertexArray,this.indexArray),n=t.vertexLength,i=[],r=[];for(const s of a){if(0===s.length)continue;s!==a[0]&&r.push(i.length/2);const e=this.segments2.prepareSegment(s.length,this.layoutVertexArray,this.indexArray2),t=e.vertexLength;this.layoutVertexArray.emplaceBack(s[0].x,s[0].y),this.indexArray2.emplaceBack(t+s.length-1,t),i.push(s[0].x),i.push(s[0].y);for(let n=1;n<s.length;n++)this.layoutVertexArray.emplaceBack(s[n].x,s[n].y),this.indexArray2.emplaceBack(t+n-1,t+n),i.push(s[n].x),i.push(s[n].y);e.vertexLength+=s.length,e.primitiveLength+=s.length}const o=kc.exports(i,r);for(let a=0;a<o.length;a+=3)this.indexArray.emplaceBack(n+o[a],n+o[a+1],n+o[a+2]);t.vertexLength+=e,t.primitiveLength+=o.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,r,o,i)}}Wr(ru,"FillBucket",{omit:["layers","patternFeatures"]});const ou=new Qo({"fill-sort-key":new Zo($e.layout_fill["fill-sort-key"])});var au={paint:new Qo({"fill-antialias":new $o($e.paint_fill["fill-antialias"]),"fill-opacity":new Zo($e.paint_fill["fill-opacity"]),"fill-color":new Zo($e.paint_fill["fill-color"]),"fill-outline-color":new Zo($e.paint_fill["fill-outline-color"]),"fill-translate":new $o($e.paint_fill["fill-translate"]),"fill-translate-anchor":new $o($e.paint_fill["fill-translate-anchor"]),"fill-pattern":new Zo($e.paint_fill["fill-pattern"])}),layout:ou};const su=ra([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),lu=ra([{name:"a_centroid_pos",components:2,type:"Uint16"}]),cu=ra([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:uu}=su;var du={},hu=f,pu=fu;function fu(e,t,n,i,r){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=i,this._values=r,e.readFields(mu,this,t)}function mu(e,t,n){1==e?t.id=n.readVarint():2==e?function(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var i=t._keys[e.readVarint()],r=t._values[e.readVarint()];t.properties[i]=r}}(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function gu(e){for(var t,n,i=0,r=0,o=e.length,a=o-1;r<o;a=r++)i+=((n=e[a]).x-(t=e[r]).x)*(t.y+n.y);return i}fu.types=["Unknown","Point","LineString","Polygon"],fu.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,i=1,r=0,o=0,a=0,s=[];e.pos<n;){if(r<=0){var l=e.readVarint();i=7&l,r=l>>3}if(r--,1===i||2===i)o+=e.readSVarint(),a+=e.readSVarint(),1===i&&(t&&s.push(t),t=[]),t.push(new hu(o,a));else{if(7!==i)throw new Error("unknown command "+i);t&&t.push(t[0].clone())}}return t&&s.push(t),s},fu.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,i=0,r=0,o=0,a=1/0,s=-1/0,l=1/0,c=-1/0;e.pos<t;){if(i<=0){var u=e.readVarint();n=7&u,i=u>>3}if(i--,1===n||2===n)(r+=e.readSVarint())<a&&(a=r),r>s&&(s=r),(o+=e.readSVarint())<l&&(l=o),o>c&&(c=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,l,s,c]},fu.prototype.toGeoJSON=function(e,t,n){var i,r,o=this.extent*Math.pow(2,n),a=this.extent*e,s=this.extent*t,l=this.loadGeometry(),c=fu.types[this.type];function u(e){for(var t=0;t<e.length;t++){var n=e[t];e[t]=[360*(n.x+a)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var d=[];for(i=0;i<l.length;i++)d[i]=l[i][0];u(l=d);break;case 2:for(i=0;i<l.length;i++)u(l[i]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var n,i,r=[],o=0;o<t;o++){var a=gu(e[o]);0!==a&&(void 0===i&&(i=a<0),i===a<0?(n&&r.push(n),n=[e[o]]):n.push(e[o]))}return n&&r.push(n),r}(l),i=0;i<l.length;i++)for(r=0;r<l[i].length;r++)u(l[i][r])}1===l.length?l=l[0]:c="Multi"+c;var h={type:"Feature",geometry:{type:c,coordinates:l},properties:this.properties};return"id"in this&&(h.id=this.id),h};var vu=pu,yu=xu;function xu(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(bu,this,t),this.length=this._features.length}function bu(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var i=e.readVarint()>>3;t=1===i?e.readString():2===i?e.readFloat():3===i?e.readDouble():4===i?e.readVarint64():5===i?e.readVarint():6===i?e.readSVarint():7===i?e.readBoolean():null}return t}(n))}xu.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new vu(this._pbf,t,this.extent,this._keys,this._values)};var _u=yu;function wu(e,t,n){if(3===e){var i=new _u(n,n.readVarint()+n.pos);i.length&&(t[i.name]=i)}}var ku=du.VectorTile=function(e,t){this.layers=e.readFields(wu,{},t)},Su=du.VectorTileFeature=pu;function Cu(e,t,n,i){const r=[],o=0===i?(e,t,n,i,r,o)=>{e.push(new f(o,n+(o-t)/(i-t)*(r-n)))}:(e,t,n,i,r,o)=>{e.push(new f(t+(o-n)/(r-n)*(i-t),o))};for(const a of e){const e=[];for(const r of a){if(r.length<=2)continue;const a=[];for(let e=0;e<r.length-1;e++){const s=r[e].x,l=r[e].y,c=r[e+1].x,u=r[e+1].y,d=0===i?s:l,h=0===i?c:u;d<t?h>t&&o(a,s,l,c,u,t):d>n?h<n&&o(a,s,l,c,u,n):a.push(r[e]),h<t&&d>=t&&o(a,s,l,c,u,t),h>n&&d<=n&&o(a,s,l,c,u,n)}let s=r[r.length-1];const l=0===i?s.x:s.y;l>=t&&l<=n&&a.push(s),a.length&&(s=a[a.length-1],a[0].x===s.x&&a[0].y===s.y||a.push(a[0]),e.push(a))}e.length&&r.push(e)}return r}du.VectorTileLayer=yu;const Eu=Su.types,Tu=Math.pow(2,13);function Mu(e,t,n,i,r,o,a,s){e.emplaceBack((t<<1)+a,(n<<1)+o,(Math.floor(i*Tu)<<1)+r,Math.round(s))}function Pu(e,t,n){const i=16384;e.emplaceBack(t.x,t.y,t.z,n[0]*i,n[1]*i,n[2]*i)}class Au{constructor(){this.acc=new f(0,0),this.polyCount=[]}startRing(e){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new f(e.x,e.y),this.max=new f(e.x,e.y))}append(e,t){this.currentPolyCount.edges++,this.acc._add(e);const n=this.min,i=this.max;e.x<n.x?n.x=e.x:e.x>i.x&&(i.x=e.x),e.y<n.y?n.y=e.y:e.y>i.y&&(i.y=e.y),((0===e.x||e.x===Ss)&&e.x===t.x)!=((0===e.y||e.y===Ss)&&e.y===t.y)&&this.processBorderOverlap(e,t),t.x<0!=e.x<0&&this.addBorderIntersection(0,Mn(t.y,e.y,(0-t.x)/(e.x-t.x))),t.x>Ss!=e.x>Ss&&this.addBorderIntersection(1,Mn(t.y,e.y,(Ss-t.x)/(e.x-t.x))),t.y<0!=e.y<0&&this.addBorderIntersection(2,Mn(t.x,e.x,(0-t.y)/(e.y-t.y))),t.y>Ss!=e.y>Ss&&this.addBorderIntersection(3,Mn(t.x,e.x,(Ss-t.y)/(e.y-t.y)))}addBorderIntersection(e,t){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const n=this.borders[e];t<n[0]&&(n[0]=t),t>n[1]&&(n[1]=t)}processBorderOverlap(e,t){if(e.x===t.x){if(e.y===t.y)return;const n=0===e.x?0:1;this.addBorderIntersection(n,t.y),this.addBorderIntersection(n,e.y)}else{const n=0===e.y?2:3;this.addBorderIntersection(n,t.x),this.addBorderIntersection(n,e.x)}}centroid(){const e=this.polyCount.reduce(((e,t)=>e+t.edges),0);return 0!==e?this.acc.div(e)._round():new f(0,0)}span(){return new f(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce(((e,t)=>e+ +(t[0]!==Number.MAX_VALUE)),0)}}class Iu{constructor(e){this.zoom=e.zoom,this.canonical=e.canonical,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=e.projection,this.layoutVertexArray=new la,this.centroidVertexArray=new Va,this.indexArray=new wa,this.programConfigurations=new ps(e.layers,e.zoom),this.segments=new ks,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id)),this.enableTerrain=e.enableTerrain}populate(e,t,n,i){this.features=[],this.hasPattern=nu("fill-extrusion",this.layers,t),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(e){const t=Math.exp(Math.PI*(1-e.y/(1<<e.z)*2));return 80150034*t/(t*t+1)/Ss/(1<<e.z)}(n),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:r,id:o,index:a,sourceLayerIndex:s}of e){const e=this.layers[0]._featureFilter.needGeometry,l=Ys(r,e);if(!this.layers[0]._featureFilter.filter(new Vo(this.zoom),l,n))continue;const c={id:o,sourceLayerIndex:s,index:a,geometry:e?l.geometry:Gs(r,n,i),properties:r.properties,type:r.type,patterns:{}},u=this.layoutVertexArray.length;this.hasPattern?this.features.push(iu("fill-extrusion",this.layers,c,this.zoom,t)):this.addFeature(c,c.geometry,a,n,{},t.availableImages,i),t.featureIndex.insert(r,c.geometry,a,s,this.index,u)}this.sortBorders()}addFeatures(e,t,n,i,r){for(const o of this.features){const{geometry:e}=o;this.addFeature(o,e,o.index,t,n,i,r)}this.sortBorders()}update(e,t,n,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,uu),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=e.createVertexBuffer(this.layoutVertexExtArray,cu.members,!0))),this.programConfigurations.upload(e),this.uploaded=!0}uploadCentroid(e){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,lu.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,t,n,i,r,o,a){const s=[new f(0,0),new f(Ss,Ss)],l=a.projection,c="globe"===l.name,u=this.enableTerrain&&!c?new Au:null,d="Polygon"===Eu[e.type];c&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new pa);const h=eu(t,500);for(let f=h.length-1;f>=0;f--){const e=h[f];(0===e.length||(p=e[0]).every((e=>e.x<=0))||p.every((e=>e.x>=Ss))||p.every((e=>e.y<=0))||p.every((e=>e.y>=Ss)))&&h.splice(f,1)}var p;let m;if(c)m=Nu(h,s,i);else{m=[];for(const e of h)m.push({polygon:e,bounds:s})}const g=d?this.edgeRadius:0;for(const{polygon:f,bounds:v}of m){let e=0,t=0;for(const i of f)d&&!i[0].equals(i[i.length-1])&&i.push(i[0]),t+=d?i.length-1:i.length;const n=this.segments.prepareSegment((d?5:4)*t,this.layoutVertexArray,this.indexArray);if(d){const t=[],r=[];e=n.vertexLength;for(const e of f){let o,a;e.length&&e!==f[0]&&r.push(t.length/2),o=e[1].sub(e[0])._perp()._unit();for(let r=1;r<e.length;r++){const s=e[r],u=e[r===e.length-1?1:r+1];let{x:d,y:h}=s;if(g){a=u.sub(s)._perp()._unit();const e=o.add(a)._unit(),t=g*Math.min(4,1/(o.x*e.x+o.y*e.y));d+=t*e.x,h+=t*e.y,o=a}Mu(this.layoutVertexArray,d,h,0,0,1,1,0),n.vertexLength++,t.push(s.x,s.y),c&&Pu(this.layoutVertexExtArray,l.projectTilePoint(d,h,i),l.upVector(i,d,h))}}const o=kc.exports(t,r);for(let i=0;i<o.length;i+=3)this.indexArray.emplaceBack(e+o[i],e+o[i+2],e+o[i+1]),n.primitiveLength++}for(const r of f){u&&r.length&&u.startRing(r[0]);let t,o,a,s=r.length>4&&zu(r[r.length-2],r[0],r[1]),h=g?Du(r[r.length-2],r[0],r[1],g):0;o=r[1].sub(r[0])._perp()._unit();let p=!0;for(let f=1,m=0;f<r.length;f++){let y=r[f-1],x=r[f];const b=r[f===r.length-1?1:f+1];if(u&&d&&u.currentPolyCount.top++,Ru(x,y,v)){g&&(o=b.sub(x)._perp()._unit(),p=!p);continue}u&&u.append(x,y);const _=x.sub(y)._perp(),w=_.x/(Math.abs(_.x)+Math.abs(_.y)),k=_.y>0?1:0,S=y.dist(x);if(m+S>32768&&(m=0),g){a=b.sub(x)._perp()._unit();let e=Ou(y,x,b,Lu(o,a),g);isNaN(e)&&(e=0);const t=x.sub(y)._unit();y=y.add(t.mult(h))._round(),x=x.add(t.mult(-e))._round(),h=e,o=a}const C=n.vertexLength,E=r.length>4&&zu(y,x,b);let T=Fu(m,s,p);if(Mu(this.layoutVertexArray,y.x,y.y,w,k,0,0,T),Mu(this.layoutVertexArray,y.x,y.y,w,k,0,1,T),m+=S,T=Fu(m,E,!p),s=E,Mu(this.layoutVertexArray,x.x,x.y,w,k,0,0,T),Mu(this.layoutVertexArray,x.x,x.y,w,k,0,1,T),n.vertexLength+=4,this.indexArray.emplaceBack(C+0,C+1,C+2),this.indexArray.emplaceBack(C+1,C+3,C+2),n.primitiveLength+=2,g){const i=e+(1===f?r.length-2:f-2),o=1===f?e:i+1;if(this.indexArray.emplaceBack(C+1,i,C+3),this.indexArray.emplaceBack(i,o,C+3),n.primitiveLength+=2,void 0===t&&(t=C),!Ru(b,r[f],v)){const e=f===r.length-1?t:n.vertexLength;this.indexArray.emplaceBack(C+2,C+3,e),this.indexArray.emplaceBack(C+3,e+1,e),this.indexArray.emplaceBack(C+3,o,e+1),n.primitiveLength+=3}p=!p}if(c){const e=this.layoutVertexExtArray,t=l.projectTilePoint(y.x,y.y,i),n=l.projectTilePoint(x.x,x.y,i),r=l.upVector(i,y.x,y.y),o=l.upVector(i,x.x,x.y);Pu(e,t,r),Pu(e,t,r),Pu(e,n,o),Pu(e,n,o)}}d&&(e+=r.length-1)}}if(u&&u.polyCount.length>0){if(u.borders){u.vertexArrayOffset=this.centroidVertexArray.length;const e=u.borders,t=this.featuresOnBorder.push(u)-1;for(let n=0;n<4;n++)e[n][0]!==Number.MAX_VALUE&&this.borders[n].push(t)}this.encodeCentroid(u.borders?void 0:u.centroid(),u)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,r,o,i)}sortBorders(){for(let e=0;e<4;e++)this.borders[e].sort(((t,n)=>this.featuresOnBorder[t].borders[e][0]-this.featuresOnBorder[n].borders[e][0]))}encodeCentroid(e,t,n=!0){let i,r;if(e)if(0!==e.y){const n=t.span()._mult(this.tileToMeter);i=(Math.max(e.x,1)<<3)+Math.min(7,Math.round(n.x/10)),r=(Math.max(e.y,1)<<3)+Math.min(7,Math.round(n.y/10))}else i=Math.ceil(7*(e.x+450)),r=0;else i=0,r=+n;let o=n?this.centroidVertexArray.length:t.vertexArrayOffset;for(const a of t.polyCount){n&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*a.edges+a.top);for(let e=0;e<a.top;e++)this.centroidVertexArray.emplace(o++,i,r);for(let e=0;e<2*a.edges;e++)this.centroidVertexArray.emplace(o++,0,r),this.centroidVertexArray.emplace(o++,i,r)}}}function Lu(e,t){const n=e.add(t)._unit();return e.x*n.x+e.y*n.y}function Du(e,t,n,i){const r=t.sub(e)._perp()._unit(),o=n.sub(t)._perp()._unit();return Ou(e,t,n,Lu(r,o),i)}function Ou(e,t,n,i,r){const o=Math.sqrt(1-i*i);return Math.min(e.dist(t)/3,t.dist(n)/3,r*o/i)}function Ru(e,t,n){return e.x<n[0].x&&t.x<n[0].x||e.x>n[1].x&&t.x>n[1].x||e.y<n[0].y&&t.y<n[0].y||e.y>n[1].y&&t.y>n[1].y}function zu(e,t,n){if(e.x<0||e.x>=Ss||t.x<0||t.x>=Ss||n.x<0||n.x>=Ss)return!1;const i=n.sub(t),r=i.perp(),o=e.sub(t);return(i.x*o.x+i.y*o.y)/Math.sqrt((i.x*i.x+i.y*i.y)*(o.x*o.x+o.y*o.y))>-.866&&r.x*o.x+r.y*o.y<0}function Fu(e,t,n){const i=t?2|e:-3&e;return n?1|i:-2&i}function Bu(){const e=Math.PI/32,t=Math.tan(e),n=Es;return n*Math.sqrt(1+2*t*t)-n}function Nu(e,t,n){const i=1<<n.z,r=Ds(n.x/i),o=Ds((n.x+1)/i),a=Os(n.y/i),s=Os((n.y+1)/i);return function(e,t,n,i,r=0,o){const a=[];if(!e.length||!n||!i)return a;const s=(e,t)=>{for(const n of e)a.push({polygon:n,bounds:t})},l=Math.ceil(Math.log2(n)),c=Math.ceil(Math.log2(i)),u=l-c,d=[];for(let f=0;f<Math.abs(u);f++)d.push(u>0?0:1);for(let f=0;f<Math.min(l,c);f++)d.push(0),d.push(1);let h=e;if(h=Cu(h,t[0].y-r,t[1].y+r,1),h=Cu(h,t[0].x-r,t[1].x+r,0),!h.length)return a;const p=[];for(d.length?p.push({polygons:h,bounds:t,depth:0}):s(h,t);p.length;){const e=p.pop(),t=e.depth,n=d[t],i=e.bounds[0],a=e.bounds[1],l=0===n?i.x:i.y,c=0===n?a.x:a.y,u=o?o(n,l,c):.5*(l+c),h=Cu(e.polygons,l-r,u+r,n),m=Cu(e.polygons,u-r,c+r,n);if(h.length){const e=[i,new f(0===n?u:a.x,1===n?u:a.y)];d.length>t+1?p.push({polygons:h,bounds:e,depth:t+1}):s(h,e)}if(m.length){const e=[new f(0===n?u:i.x,1===n?u:i.y),a];d.length>t+1?p.push({polygons:m,bounds:e,depth:t+1}):s(m,e)}}return a}(e,t,Math.ceil((o-r)/11.25),Math.ceil((a-s)/11.25),1,((e,t,r)=>{if(0===e)return.5*(t+r);{const e=Os((n.y+t/Ss)/i);return(Is(.5*(Os((n.y+r/Ss)/i)+e))*i-n.y)*Ss}}))}Wr(Iu,"FillExtrusionBucket",{omit:["layers","features"]}),Wr(Au,"PartMetadata");const ju=new Qo({"fill-extrusion-edge-radius":new $o($e["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var Vu={paint:new Qo({"fill-extrusion-opacity":new $o($e["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Zo($e["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new $o($e["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new $o($e["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Zo($e["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Zo($e["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Zo($e["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new $o($e["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new $o($e["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new $o($e["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"])}),layout:ju};function Wu(e,t,n){var i=2*Math.PI*6378137/256/Math.pow(2,n);return[e*i-2*Math.PI*6378137/2,t*i-2*Math.PI*6378137/2]}class Uu{constructor(e,t,n){this.z=e,this.x=t,this.y=n,this.key=Gu(0,e,e,t,n)}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,t){const n=function(e,t,n){var i=Wu(256*e,256*(t=Math.pow(2,n)-t-1),n),r=Wu(256*(e+1),256*(t+1),n);return i[0]+","+i[1]+","+r[0]+","+r[1]}(this.x,this.y,this.z),i=function(e,t,n){let i,r="";for(let o=e;o>0;o--)i=1<<o-1,r+=(t&i?1:0)+(n&i?2:0);return r}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",i).replace("{bbox-epsg-3857}",n)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Hu{constructor(e,t){this.wrap=e,this.canonical=t,this.key=Gu(e,t.z,t.z,t.x,t.y)}}class Xu{constructor(e,t,n,i,r){this.overscaledZ=e,this.wrap=t,this.canonical=new Uu(n,+i,+r),this.key=0===t&&e===n?this.canonical.key:Gu(t,e,n,i,r)}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){const t=this.canonical.z-e;return e>this.canonical.z?new Xu(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Xu(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)}calculateScaledKey(e,t=!0){if(this.overscaledZ===e&&t)return this.key;if(e>this.canonical.z)return Gu(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y);{const n=this.canonical.z-e;return Gu(this.wrap*+t,e,e,this.canonical.x>>n,this.canonical.y>>n)}}isChildOf(e){if(e.wrap!==this.wrap)return!1;const t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t}children(e){if(this.overscaledZ>=e)return[new Xu(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const t=this.canonical.z+1,n=2*this.canonical.x,i=2*this.canonical.y;return[new Xu(t,this.wrap,t,n,i),new Xu(t,this.wrap,t,n+1,i),new Xu(t,this.wrap,t,n,i+1),new Xu(t,this.wrap,t,n+1,i+1)]}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new Xu(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new Xu(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Hu(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Gu(e,t,n,i,r){const o=1<<Math.min(n,22);let a=o*(r%o)+i%o;return e&&n<22&&(a+=o*o*((e<0?-2*e-1:2*e)%(1<<2*(22-n)))),16*(32*a+n)+(t-n)}Wr(Uu,"CanonicalTileID"),Wr(Xu,"OverscaledTileID",{omit:["projMatrix"]});class Yu extends f{constructor(e,t,n){super(e,t),this.z=n}}function qu(e,t){return e.x*t.x+e.y*t.y}function Ku(e,t){if(1===e.length){let n=0;const i=t[n++];let r;for(;!r||i.equals(r);)if(r=t[n++],!r)return 1/0;for(;n<t.length;n++){const o=t[n],a=e[0],s=r.sub(i),l=o.sub(i),c=a.sub(i),u=qu(s,s),d=qu(s,l),h=qu(l,l),p=qu(c,s),f=qu(c,l),m=u*h-d*d,g=(h*p-d*f)/m,v=(u*f-d*p)/m,y=i.z*(1-g-v)+r.z*g+o.z*v;if(isFinite(y))return y}return 1/0}{let e=1/0;for(const n of t)e=Math.min(e,n.z);return e}}function $u(e,t,n,i,r,o,a,s){const l=a*r.getElevationAt(e,t,!0,!0),c=0!==o[0],u=c?0===o[1]?a*(o[0]/7-450):a*function(e,t,n){const i=Math.floor(t[0]/8),r=Math.floor(t[1]/8),o=10*(t[0]-8*i),a=10*(t[1]-8*r),s=e.getElevationAt(i,r,!0,!0),l=e.getMeterToDEM(n),c=Math.floor(.5*(o*l-1)),u=Math.floor(.5*(a*l-1)),d=e.tileCoordToPixel(i,r),h=2*c+1,p=2*u+1,f=function(e,t,n,i,r){return[e.getElevationAtPixel(t,n,!0),e.getElevationAtPixel(t+r,n,!0),e.getElevationAtPixel(t,n+r,!0),e.getElevationAtPixel(t+i,n+r,!0)]}(e,d.x-c,d.y-u,h,p),m=Math.abs(f[0]-f[1]),g=Math.abs(f[2]-f[3]),v=Math.abs(f[0]-f[2])+Math.abs(f[1]-f[3]),y=Math.min(.25,.5*l*(m+g)/h),x=Math.min(.25,.5*l*v/p);return s+Math.max(y*o,x*a)}(r,o,s):l;return{base:l+(0===n)?-1:n,top:c?Math.max(u+i,l+n+2):l+i}}const Zu=ra([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:Ju}=Zu,Qu=ra([{name:"a_packed",components:4,type:"Float32"}]),{members:ed}=Qu,td=Su.types,nd=Math.cos(Math.PI/180*37.5);class id{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.projection=e.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((e=>{this.gradients[e.id]={}})),this.layoutVertexArray=new ca,this.layoutVertexArray2=new ua,this.indexArray=new wa,this.programConfigurations=new ps(e.layers,e.zoom),this.segments=new ks,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,n,i){this.hasPattern=nu("line",this.layers,t);const r=this.layers[0].layout.get("line-sort-key"),o=[];for(const{feature:c,id:u,index:d,sourceLayerIndex:h}of e){const e=this.layers[0]._featureFilter.needGeometry,t=Ys(c,e);if(!this.layers[0]._featureFilter.filter(new Vo(this.zoom),t,n))continue;const a=r?r.evaluate(t,{},n):void 0,s={id:u,properties:c.properties,type:c.type,sourceLayerIndex:h,index:d,geometry:e?t.geometry:Gs(c,n,i),patterns:{},sortKey:a};o.push(s)}r&&o.sort(((e,t)=>e.sortKey-t.sortKey));const{lineAtlas:a,featureIndex:s}=t,l=this.addConstantDashes(a);for(const c of o){const{geometry:i,index:r,sourceLayerIndex:o}=c;if(l&&this.addFeatureDashes(c,a),this.hasPattern){const e=iu("line",this.layers,c,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(c,i,r,n,a.positions,t.availableImages);s.insert(e[r].feature,i,r,o,this.index)}}addConstantDashes(e){let t=!1;for(const n of this.layers){const i=n.paint.get("line-dasharray").value,r=n.layout.get("line-cap").value;if("constant"!==i.kind||"constant"!==r.kind)t=!0;else{const t=r.value,n=i.value;if(!n)continue;e.addDash(n,t)}}return t}addFeatureDashes(e,t){const n=this.zoom;for(const i of this.layers){const r=i.paint.get("line-dasharray").value,o=i.layout.get("line-cap").value;if("constant"===r.kind&&"constant"===o.kind)continue;let a,s;if("constant"===r.kind){if(a=r.value,!a)continue}else a=r.evaluate({zoom:n},e);s="constant"===o.kind?o.value:o.evaluate({zoom:n},e),t.addDash(a,s),e.patterns[i.id]=t.getKey(a,s)}}update(e,t,n,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n,i)}addFeatures(e,t,n,i,r){for(const o of this.patternFeatures)this.addFeature(o,o.geometry,o.index,t,n,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,ed)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ju),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,t,n,i,r,o){const a=this.layers[0].layout,s=a.get("line-join").evaluate(e,{}),l=a.get("line-cap").evaluate(e,{}),c=a.get("line-miter-limit"),u=a.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(const d of t)this.addLine(d,e,s,l,c,u);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,r,o,i)}addLine(e,t,n,i,r,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let t=0;t<e.length-1;t++)this.totalDistance+=e[t].dist(e[t+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const a="Polygon"===td[t.type];let s=e.length;for(;s>=2&&e[s-1].equals(e[s-2]);)s--;let l=0;for(;l<s-1&&e[l].equals(e[l+1]);)l++;if(s<(a?3:2))return;"bevel"===n&&(r=1.05);const c=this.overscaling<=16?122880/(512*this.overscaling):0,u=this.segments.prepareSegment(10*s,this.layoutVertexArray,this.indexArray);let d,h,p,f,m;this.e1=this.e2=-1,a&&(d=e[s-2],m=e[l].sub(d)._unit()._perp());for(let g=l;g<s;g++){if(p=g===s-1?a?e[l+1]:void 0:e[g+1],p&&e[g].equals(p))continue;m&&(f=m),d&&(h=d),d=e[g],m=p?p.sub(d)._unit()._perp():f,f=f||m;let t=f.add(m);0===t.x&&0===t.y||t._unit();const v=f.x*m.x+f.y*m.y,y=t.x*m.x+t.y*m.y,x=0!==y?1/y:1/0,b=2*Math.sqrt(2-2*y),_=y<nd&&h&&p,w=f.x*m.y-f.y*m.x>0;if(_&&g>l){const e=d.dist(h);if(e>2*c){const t=d.sub(d.sub(h)._mult(c/e)._round());this.updateDistance(h,t),this.addCurrentVertex(t,f,0,0,u),h=t}}const k=h&&p;let S=k?n:a?"butt":i;if(k&&"round"===S&&(x<o?S="miter":x<=2&&(S="fakeround")),"miter"===S&&x>r&&(S="bevel"),"bevel"===S&&(x>2&&(S="flipbevel"),x<r&&(S="miter")),h&&this.updateDistance(h,d),"miter"===S)t._mult(x),this.addCurrentVertex(d,t,0,0,u);else if("flipbevel"===S){if(x>100)t=m.mult(-1);else{const e=x*f.add(m).mag()/f.sub(m).mag();t._perp()._mult(e*(w?-1:1))}this.addCurrentVertex(d,t,0,0,u),this.addCurrentVertex(d,t.mult(-1),0,0,u)}else if("bevel"===S||"fakeround"===S){const e=-Math.sqrt(x*x-1),t=w?e:0,n=w?0:e;if(h&&this.addCurrentVertex(d,f,t,n,u),"fakeround"===S){const e=Math.round(180*b/Math.PI/20);for(let t=1;t<e;t++){let n=t/e;if(.5!==n){const e=n-.5;n+=n*e*(n-1)*((1.0904+v*(v*(3.55645-1.43519*v)-3.2452))*e*e+(.848013+v*(.215638*v-1.06021)))}const i=m.sub(f)._mult(n)._add(f)._unit()._mult(w?-1:1);this.addHalfVertex(d,i.x,i.y,!1,w,0,u)}}p&&this.addCurrentVertex(d,m,-t,-n,u)}else if("butt"===S)this.addCurrentVertex(d,t,0,0,u);else if("square"===S){const e=h?1:-1;h||this.addCurrentVertex(d,t,e,e,u),this.addCurrentVertex(d,t,0,0,u),h&&this.addCurrentVertex(d,t,e,e,u)}else"round"===S&&(h&&(this.addCurrentVertex(d,f,0,0,u),this.addCurrentVertex(d,f,1,1,u,!0)),p&&(this.addCurrentVertex(d,m,-1,-1,u,!0),this.addCurrentVertex(d,m,0,0,u)));if(_&&g<s-1){const e=d.dist(p);if(e>2*c){const t=d.add(p.sub(d)._mult(c/e)._round());this.updateDistance(d,t),this.addCurrentVertex(t,m,0,0,u),d=t}}}}addCurrentVertex(e,t,n,i,r,o=!1){const a=t.y*i-t.x,s=-t.y-t.x*i;this.addHalfVertex(e,t.x+t.y*n,t.y-t.x*n,o,!1,n,r),this.addHalfVertex(e,a,s,o,!0,-i,r)}addHalfVertex({x:e,y:t},n,i,r,o,a,s){this.layoutVertexArray.emplaceBack((e<<1)+(r?1:0),(t<<1)+(o?1:0),Math.round(63*n)+128,Math.round(63*i)+128,1+(0===a?0:a<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const l=s.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,l),s.primitiveLength++),o?this.e2=l:this.e1=l}updateScaledDistance(){if(this.lineClips){const e=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=e*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(e,t){this.distance+=e.dist(t),this.updateScaledDistance()}}Wr(id,"LineBucket",{omit:["layers","patternFeatures"]});const rd=new Qo({"line-cap":new Zo($e.layout_line["line-cap"]),"line-join":new Zo($e.layout_line["line-join"]),"line-miter-limit":new $o($e.layout_line["line-miter-limit"]),"line-round-limit":new $o($e.layout_line["line-round-limit"]),"line-sort-key":new Zo($e.layout_line["line-sort-key"])});var od={paint:new Qo({"line-opacity":new Zo($e.paint_line["line-opacity"]),"line-color":new Zo($e.paint_line["line-color"]),"line-translate":new $o($e.paint_line["line-translate"]),"line-translate-anchor":new $o($e.paint_line["line-translate-anchor"]),"line-width":new Zo($e.paint_line["line-width"]),"line-gap-width":new Zo($e.paint_line["line-gap-width"]),"line-offset":new Zo($e.paint_line["line-offset"]),"line-blur":new Zo($e.paint_line["line-blur"]),"line-dasharray":new Zo($e.paint_line["line-dasharray"]),"line-pattern":new Zo($e.paint_line["line-pattern"]),"line-gradient":new Jo($e.paint_line["line-gradient"]),"line-trim-offset":new $o($e.paint_line["line-trim-offset"])}),layout:rd};const ad=new class extends Zo{possiblyEvaluate(e,t){return t=new Vo(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,transition:t.transition}),super.possiblyEvaluate(e,t)}evaluate(e,t,n,i){return t=P({},t,{zoom:Math.floor(t.zoom)}),super.evaluate(e,t,n,i)}}(od.paint.properties["line-width"].specification);function sd(e,t){return t>0?t+2*e:e}ad.useIntegerZoom=!0;const ld=ra([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),cd=ra([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),ud=ra([{name:"a_projected_pos",components:4,type:"Float32"}],4);ra([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const dd=ra([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),hd=ra([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);ra([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const pd=ra([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),fd=ra([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);ra([{name:"triangle",components:3,type:"Uint16"}]),ra([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),ra([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),ra([{type:"Float32",name:"offsetX"}]),ra([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var md=24;const gd=128;function vd(e,t){const{expression:n}=t;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new Vo(e+1))};if("source"===n.kind)return{kind:"source"};{const{zoomStops:t,interpolationType:i}=n;let r=0;for(;r<t.length&&t[r]<=e;)r++;r=Math.max(0,r-1);let o=r;for(;o<t.length&&t[o]<e+1;)o++;o=Math.min(t.length-1,o);const a=t[r],s=t[o];return"composite"===n.kind?{kind:"composite",minZoom:a,maxZoom:s,interpolationType:i}:{kind:"camera",minZoom:a,maxZoom:s,minSize:n.evaluate(new Vo(a)),maxSize:n.evaluate(new Vo(s)),interpolationType:i}}}function yd(e,{uSize:t,uSizeT:n},{lowerSize:i,upperSize:r}){return"source"===e.kind?i/gd:"composite"===e.kind?Mn(i/gd,r/gd,n):t}function xd(e,t){let n=0,i=0;if("constant"===e.kind)i=e.layoutSize;else if("source"!==e.kind){const{interpolationType:r,minZoom:o,maxZoom:a}=e,s=r?S(Kn.interpolationFactor(r,t,o,a),0,1):0;"camera"===e.kind?i=Mn(e.minSize,e.maxSize,s):n=s}return{uSizeT:n,uSize:i}}var bd=Object.freeze({__proto__:null,getSizeData:vd,evaluateSizeForFeature:yd,evaluateSizeForZoom:xd,SIZE_PACK_FACTOR:gd});function _d(e,t,n){return e.sections.forEach((e=>{e.text=function(e,t,n){const i=t.layout.get("text-transform").evaluate(n,{});return"uppercase"===i?e=e.toLocaleUpperCase():"lowercase"===i&&(e=e.toLocaleLowerCase()),jo.applyArabicShaping&&(e=jo.applyArabicShaping(e)),e}(e.text,t,n)})),e}const wd={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"};function kd(e){return"\ufe36"===e||"\ufe48"===e||"\ufe38"===e||"\ufe44"===e||"\ufe42"===e||"\ufe3e"===e||"\ufe3c"===e||"\ufe3a"===e||"\ufe18"===e||"\ufe40"===e||"\ufe10"===e||"\ufe13"===e||"\ufe14"===e||"\uff40"===e||"\uffe3"===e||"\ufe11"===e||"\ufe12"===e}function Sd(e){return"\ufe35"===e||"\ufe47"===e||"\ufe37"===e||"\ufe43"===e||"\ufe41"===e||"\ufe3d"===e||"\ufe3b"===e||"\ufe39"===e||"\ufe17"===e||"\ufe3f"===e}var Cd=Md,Ed=function(e,t,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?r-1:0,h=n?-1:1,p=e[t+d];for(d+=h,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=h,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;u>0;a=256*a+e[t+d],d+=h,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,i),o-=c}return(p?-1:1)*a*Math.pow(2,o-i)},Td=function(e,t,n,i,r,o){var a,s,l,c=8*o-r-1,u=(1<<c)-1,d=u>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,f=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,r),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;e[n+p]=255&s,p+=f,s/=256,r-=8);for(a=a<<r|s,c+=r;c>0;e[n+p]=255&a,p+=f,a/=256,c-=8);e[n+p-f]|=128*m};function Md(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}Md.Varint=0,Md.Fixed64=1,Md.Bytes=2,Md.Fixed32=5;var Pd=4294967296,Ad=1/Pd,Id="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Ld(e){return e.type===Md.Bytes?e.readVarint()+e.pos:e.pos+1}function Dd(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function Od(e,t,n){var i=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(i);for(var r=n.pos-1;r>=e;r--)n.buf[r+i]=n.buf[r]}function Rd(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function zd(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function Fd(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function Bd(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function Nd(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function jd(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function Vd(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function Wd(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function Ud(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function Hd(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function Xd(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function Gd(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function Yd(e,t,n){t.glyphs=[],1===e&&n.readMessage(qd,t)}function qd(e,t,n){if(3===e){const{id:e,bitmap:i,width:r,height:o,left:a,top:s,advance:l}=n.readMessage(Kd,{});t.glyphs.push({id:e,bitmap:new gc({width:r+6,height:o+6},i),metrics:{width:r,height:o,left:a,top:s,advance:l}})}else 4===e?t.ascender=n.readSVarint():5===e&&(t.descender=n.readSVarint())}function Kd(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}function $d(e){let t=0,n=0;for(const a of e)t+=a.w*a.h,n=Math.max(n,a.w);e.sort(((e,t)=>t.h-e.h));const i=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}];let r=0,o=0;for(const a of e)for(let e=i.length-1;e>=0;e--){const t=i[e];if(!(a.w>t.w||a.h>t.h)){if(a.x=t.x,a.y=t.y,o=Math.max(o,a.y+a.h),r=Math.max(r,a.x+a.w),a.w===t.w&&a.h===t.h){const t=i.pop();e<i.length&&(i[e]=t)}else a.h===t.h?(t.x+=a.w,t.w-=a.w):a.w===t.w?(t.y+=a.h,t.h-=a.h):(i.push({x:t.x+a.w,y:t.y,w:t.w-a.w,h:a.h}),t.y+=a.h,t.h-=a.h);break}}return{w:r,h:o,fill:t/(r*o)||0}}Md.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var i=this.readVarint(),r=i>>3,o=this.pos;this.type=7&i,e(r,t,this),this.pos===o&&this.skip(i)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=Hd(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=Gd(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=Hd(this.buf,this.pos)+Hd(this.buf,this.pos+4)*Pd;return this.pos+=8,e},readSFixed64:function(){var e=Hd(this.buf,this.pos)+Gd(this.buf,this.pos+4)*Pd;return this.pos+=8,e},readFloat:function(){var e=Ed(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=Ed(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,i=this.buf;return t=127&(n=i[this.pos++]),n<128?t:(t|=(127&(n=i[this.pos++]))<<7,n<128?t:(t|=(127&(n=i[this.pos++]))<<14,n<128?t:(t|=(127&(n=i[this.pos++]))<<21,n<128?t:function(e,t,n){var i,r,o=n.buf;if(i=(112&(r=o[n.pos++]))>>4,r<128)return Dd(e,i,t);if(i|=(127&(r=o[n.pos++]))<<3,r<128)return Dd(e,i,t);if(i|=(127&(r=o[n.pos++]))<<10,r<128)return Dd(e,i,t);if(i|=(127&(r=o[n.pos++]))<<17,r<128)return Dd(e,i,t);if(i|=(127&(r=o[n.pos++]))<<24,r<128)return Dd(e,i,t);if(i|=(1&(r=o[n.pos++]))<<31,r<128)return Dd(e,i,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=i[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&Id?function(e,t,n){return Id.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){for(var i="",r=t;r<n;){var o,a,s,l=e[r],c=null,u=l>239?4:l>223?3:l>191?2:1;if(r+u>n)break;1===u?l<128&&(c=l):2===u?128==(192&(o=e[r+1]))&&(c=(31&l)<<6|63&o)<=127&&(c=null):3===u?(a=e[r+2],128==(192&(o=e[r+1]))&&128==(192&a)&&((c=(15&l)<<12|(63&o)<<6|63&a)<=2047||c>=55296&&c<=57343)&&(c=null)):4===u&&(a=e[r+2],s=e[r+3],128==(192&(o=e[r+1]))&&128==(192&a)&&128==(192&s)&&((c=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,u=1):c>65535&&(c-=65536,i+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),i+=String.fromCharCode(c),r+=u}return i}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==Md.Bytes)return e.push(this.readVarint(t));var n=Ld(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==Md.Bytes)return e.push(this.readSVarint());var t=Ld(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==Md.Bytes)return e.push(this.readBoolean());var t=Ld(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==Md.Bytes)return e.push(this.readFloat());var t=Ld(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==Md.Bytes)return e.push(this.readDouble());var t=Ld(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==Md.Bytes)return e.push(this.readFixed32());var t=Ld(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==Md.Bytes)return e.push(this.readSFixed32());var t=Ld(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==Md.Bytes)return e.push(this.readFixed64());var t=Ld(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==Md.Bytes)return e.push(this.readSFixed64());var t=Ld(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===Md.Varint)for(;this.buf[this.pos++]>127;);else if(t===Md.Bytes)this.pos=this.readVarint()+this.pos;else if(t===Md.Fixed32)this.pos+=4;else{if(t!==Md.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),Xd(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),Xd(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),Xd(this.buf,-1&e,this.pos),Xd(this.buf,Math.floor(e*Ad),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),Xd(this.buf,-1&e,this.pos),Xd(this.buf,Math.floor(e*Ad),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,i;if(e>=0?(n=e%4294967296|0,i=e/4294967296|0):(i=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,i=i+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,n.buf[n.pos]=127&(e>>>=7)}(n,0,t),function(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(i,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var i,r,o=0;o<t.length;o++){if((i=t.charCodeAt(o))>55295&&i<57344){if(!r){i>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):r=i;continue}if(i<56320){e[n++]=239,e[n++]=191,e[n++]=189,r=i;continue}i=r-55296<<10|i-56320|65536,r=null}else r&&(e[n++]=239,e[n++]=191,e[n++]=189,r=null);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(i<65536?e[n++]=i>>12|224:(e[n++]=i>>18|240,e[n++]=i>>12&63|128),e[n++]=i>>6&63|128),e[n++]=63&i|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&Od(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),Td(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),Td(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var i=this.pos-n;i>=128&&Od(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(e,t,n){this.writeTag(e,Md.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,Rd,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,zd,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,Nd,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,Fd,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,Bd,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,jd,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,Vd,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,Wd,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,Ud,t)},writeBytesField:function(e,t){this.writeTag(e,Md.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,Md.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,Md.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,Md.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,Md.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,Md.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,Md.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,Md.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,Md.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,Md.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};class Zd{constructor(e,{pixelRatio:t,version:n,stretchX:i,stretchY:r,content:o}){this.paddedRect=e,this.pixelRatio=t,this.stretchX=i,this.stretchY=r,this.content=o,this.version=n}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Jd{constructor(e,t){const n={},i={};this.haveRenderCallbacks=[];const r=[];this.addImages(e,n,r),this.addImages(t,i,r);const{w:o,h:a}=$d(r),s=new vc({width:o||1,height:a||1});for(const l in e){const t=e[l],i=n[l].paddedRect;vc.copy(t.data,s,{x:0,y:0},{x:i.x+1,y:i.y+1},t.data)}for(const l in t){const e=t[l],n=i[l].paddedRect,r=n.x+1,o=n.y+1,a=e.data.width,c=e.data.height;vc.copy(e.data,s,{x:0,y:0},{x:r,y:o},e.data),vc.copy(e.data,s,{x:0,y:c-1},{x:r,y:o-1},{width:a,height:1}),vc.copy(e.data,s,{x:0,y:0},{x:r,y:o+c},{width:a,height:1}),vc.copy(e.data,s,{x:a-1,y:0},{x:r-1,y:o},{width:1,height:c}),vc.copy(e.data,s,{x:0,y:0},{x:r+a,y:o},{width:1,height:c})}this.image=s,this.iconPositions=n,this.patternPositions=i}addImages(e,t,n){for(const i in e){const r=e[i],o={x:0,y:0,w:r.data.width+2,h:r.data.height+2};n.push(o),t[i]=new Zd(o,r),r.hasRenderCallback&&this.haveRenderCallbacks.push(i)}}patchUpdatedImages(e,t){this.haveRenderCallbacks=this.haveRenderCallbacks.filter((t=>e.hasImage(t))),e.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const n in e.updatedImages)this.patchUpdatedImage(this.iconPositions[n],e.getImage(n),t),this.patchUpdatedImage(this.patternPositions[n],e.getImage(n),t)}patchUpdatedImage(e,t,n){if(!e||!t)return;if(e.version===t.version)return;e.version=t.version;const[i,r]=e.tl;n.update(t.data,void 0,{x:i,y:r})}}Wr(Zd,"ImagePosition"),Wr(Jd,"ImageAtlas");const Qd={horizontal:1,vertical:2,horizontalOnly:3};class eh{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(e,t){const n=new eh;return n.scale=e||1,n.fontStack=t,n}static forImage(e){const t=new eh;return t.imageName=e,t}}class th{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(e,t){const n=new th;for(let i=0;i<e.sections.length;i++){const r=e.sections[i];r.image?n.addImageSection(r):n.addTextSection(r,t)}return n}length(){return this.text.length}getSection(e){return this.sections[this.sectionIndex[e]]}getSections(){return this.sections}getSectionIndex(e){return this.sectionIndex[e]}getCharCode(e){return this.text.charCodeAt(e)}verticalizePunctuation(e){this.text=function(e,t){let n="";for(let i=0;i<e.length;i++){const r=e.charCodeAt(i+1)||null,o=e.charCodeAt(i-1)||null;n+=!t&&(r&&Co(r)&&!wd[e[i+1]]||o&&Co(o)&&!wd[e[i-1]])||!wd[e[i]]?e[i]:wd[e[i]]}return n}(this.text,e)}trim(){let e=0;for(let n=0;n<this.text.length&&ih[this.text.charCodeAt(n)];n++)e++;let t=this.text.length;for(let n=this.text.length-1;n>=0&&n>=e&&ih[this.text.charCodeAt(n)];n--)t--;this.text=this.text.substring(e,t),this.sectionIndex=this.sectionIndex.slice(e,t)}substring(e,t){const n=new th;return n.text=this.text.substring(e,t),n.sectionIndex=this.sectionIndex.slice(e,t),n.sections=this.sections,n}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((e,t)=>Math.max(e,this.sections[t].scale)),0)}addTextSection(e,t){this.text+=e.text,this.sections.push(eh.forText(e.scale,e.fontStack||t));const n=this.sections.length-1;for(let i=0;i<e.text.length;++i)this.sectionIndex.push(n)}addImageSection(e){const t=e.image?e.image.name:"";if(0===t.length)return void V("Can't add FormattedSection with an empty image.");const n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(eh.forImage(t)),this.sectionIndex.push(this.sections.length-1)):V("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function nh(e,t,n,i,r,o,a,s,l,c,u,d,h,p,f){const m=th.fromFeature(e,r);d===Qd.vertical&&m.verticalizePunctuation(h);let g=[];const v=function(e,t,n,i,r,o){if(!e)return[];const a=[],s=function(e,t,n,i,r,o){let a=0;for(let s=0;s<e.length();s++){const n=e.getSection(s);a+=oh(e.getCharCode(s),n,i,r,t,o)}return a/Math.max(1,Math.ceil(a/n))}(e,t,n,i,r,o),l=e.text.indexOf("\u200b")>=0;let c=0;for(let d=0;d<e.length();d++){const n=e.getSection(d),h=e.getCharCode(d);if(ih[h]||(c+=oh(h,n,i,r,t,o)),d<e.length()-1){const t=!((u=h)<11904||!(io(u)||no(u)||vo(u)||fo(u)||so(u)||$r(u)||ro(u)||Qr(u)||lo(u)||co(u)||ao(u)||bo(u)||eo(u)||Jr(u)||Zr(u)||oo(u)||to(u)||go(u)||ho(u)||uo(u)));(rh[h]||t||n.imageName)&&a.push(lh(d+1,c,s,a,sh(h,e.getCharCode(d+1),t&&l),!1))}}var u;return ch(lh(e.length(),c,s,a,0,!0))}(m,c,o,t,i,p),{processBidirectionalText:y,processStyledBidirectionalText:x}=jo;if(y&&1===m.sections.length){const e=y(m.toString(),v);for(const t of e){const e=new th;e.text=t,e.sections=m.sections;for(let n=0;n<t.length;n++)e.sectionIndex.push(0);g.push(e)}}else if(x){const e=x(m.text,m.sectionIndex,v);for(const t of e){const e=new th;e.text=t[0],e.sectionIndex=t[1],e.sections=m.sections,g.push(e)}}else g=function(e,t){const n=[],i=e.text;let r=0;for(const o of t)n.push(e.substring(r,o)),r=o;return r<i.length&&n.push(e.substring(r,i.length)),n}(m,v);const b=[],_={positionedLines:b,text:m.toString(),top:u[1],bottom:u[1],left:u[0],right:u[0],writingMode:d,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(e,t,n,i,r,o,a,s,l,c,u,d){let h=0,p=0,f=0;const m="right"===s?1:"left"===s?0:.5;let g=!1;for(const w of r){const e=w.getSections();for(const n of e){if(n.imageName)continue;const e=t[n.fontStack];if(e&&(g=void 0!==e.ascender&&void 0!==e.descender,!g))break}if(!g)break}let v=0;for(const w of r){w.trim();const r=w.getMaxScale(),a=(r-1)*md,s={positionedGlyphs:[],lineOffset:0};e.positionedLines[v]=s;const x=s.positionedGlyphs;let b=0;if(!w.length()){p+=o,++v;continue}let _=0,k=0;for(let o=0;o<w.length();o++){const a=w.getSection(o),s=w.getSectionIndex(o),f=w.getCharCode(o);let m=a.scale,v=null,S=null,C=null,E=md,T=0;const M=!(l===Qd.horizontal||!u&&!So(f)||u&&(ih[f]||(y=f,Yr(y)||qr(y)||Kr(y)||mo(y)||xo(y))));if(a.imageName){const t=i[a.imageName];if(!t)continue;C=a.imageName,e.iconsInText=e.iconsInText||!0,S=t.paddedRect;const n=t.displaySize;m=m*md/d,v={width:n[0],height:n[1],left:1,top:-3,advance:M?n[1]:n[0],localGlyph:!1},T=g?-v.height*m:r*md-17-n[1]*m,E=v.advance;const o=(M?n[0]:n[1])*m-md*r;o>0&&o>b&&(b=o)}else{const e=n[a.fontStack];if(!e)continue;e[f]&&(S=e[f]);const i=t[a.fontStack];if(!i)continue;const o=i.glyphs[f];if(!o)continue;if(v=o.metrics,E=8203!==f?md:0,g){const e=void 0!==i.ascender?Math.abs(i.ascender):0,t=void 0!==i.descender?Math.abs(i.descender):0,n=(e+t)*m;_<n&&(_=n,k=(e-t)/2*m),T=-e*m}else T=(r-m)*md-17}M?(e.verticalizable=!0,x.push({glyph:f,imageName:C,x:h,y:p+T,vertical:M,scale:m,localGlyph:v.localGlyph,fontStack:a.fontStack,sectionIndex:s,metrics:v,rect:S}),h+=E*m+c):(x.push({glyph:f,imageName:C,x:h,y:p+T,vertical:M,scale:m,localGlyph:v.localGlyph,fontStack:a.fontStack,sectionIndex:s,metrics:v,rect:S}),h+=v.advance*m+c)}0!==x.length&&(f=Math.max(h-c,f),g?dh(x,m,b,k,o*r/2):dh(x,m,b,0,o/2)),h=0;const S=o*r+b;s.lineOffset=Math.max(b,a),p+=S,++v}var y;const x=p,{horizontalAlign:b,verticalAlign:_}=uh(a);(function(e,t,n,i,r,o){const a=(t-n)*r,s=-o*i;for(const l of e)for(const e of l.positionedGlyphs)e.x+=a,e.y+=s})(e.positionedLines,m,b,_,f,x),e.top+=-_*x,e.bottom=e.top+x,e.left+=-b*f,e.right=e.left+f,e.hasBaseline=g}(_,t,n,i,g,a,s,l,d,c,h,f),!function(e){for(const t of e)if(0!==t.positionedGlyphs.length)return!1;return!0}(b)&&_}const ih={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},rh={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function oh(e,t,n,i,r,o){if(t.imageName){const e=i[t.imageName];return e?e.displaySize[0]*t.scale*md/o+r:0}{const i=n[t.fontStack],o=i&&i.glyphs[e];return o?o.metrics.advance*t.scale+r:0}}function ah(e,t,n,i){const r=Math.pow(e-t,2);return i?e<t?r/2:2*r:r+Math.abs(n)*n}function sh(e,t,n){let i=0;return 10===e&&(i-=1e4),n&&(i+=150),40!==e&&65288!==e||(i+=50),41!==t&&65289!==t||(i+=50),i}function lh(e,t,n,i,r,o){let a=null,s=ah(t,n,r,o);for(const l of i){const e=ah(t-l.x,n,r,o)+l.badness;e<=s&&(a=l,s=e)}return{index:e,x:t,priorBreak:a,badness:s}}function ch(e){return e?ch(e.priorBreak).concat(e.index):[]}function uh(e){let t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:t,verticalAlign:n}}function dh(e,t,n,i,r){if(!(t||n||i||r))return;const o=e.length-1,a=e[o],s=(a.x+a.metrics.advance*a.scale)*t;for(let l=0;l<=o;l++)e[l].x-=s,e[l].y+=n+i+r}function hh(e,t,n){const{horizontalAlign:i,verticalAlign:r}=uh(n),o=t[0]-e.displaySize[0]*i,a=t[1]-e.displaySize[1]*r;return{image:e,top:a,bottom:a+e.displaySize[1],left:o,right:o+e.displaySize[0]}}function ph(e,t,n,i,r,o){const a=e.image;let s;if(a.content){const e=a.content,t=a.pixelRatio||1;s=[e[0]/t,e[1]/t,a.displaySize[0]-e[2]/t,a.displaySize[1]-e[3]/t]}const l=t.left*o,c=t.right*o;let u,d,h,p;"width"===n||"both"===n?(p=r[0]+l-i[3],d=r[0]+c+i[1]):(p=r[0]+(l+c-a.displaySize[0])/2,d=p+a.displaySize[0]);const f=t.top*o,m=t.bottom*o;return"height"===n||"both"===n?(u=r[1]+f-i[0],h=r[1]+m+i[2]):(u=r[1]+(f+m-a.displaySize[1])/2,h=u+a.displaySize[1]),{image:a,top:u,right:d,bottom:h,left:p,collisionPadding:s}}class fh extends f{constructor(e,t,n,i,r){super(e,t),this.angle=i,this.z=n,void 0!==r&&(this.segment=r)}clone(){return new fh(this.x,this.y,this.z,this.angle,this.segment)}}function mh(e,t,n,i,r){if(void 0===t.segment)return!0;let o=t,a=t.segment+1,s=0;for(;s>-n/2;){if(a--,a<0)return!1;s-=e[a].dist(o),o=e[a]}s+=e[a].dist(e[a+1]),a++;const l=[];let c=0;for(;s<n/2;){const t=e[a],n=e[a+1];if(!n)return!1;let o=e[a-1].angleTo(t)-t.angleTo(n);for(o=Math.abs((o+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:o}),c+=o;s-l[0].distance>i;)c-=l.shift().angleDelta;if(c>r)return!1;a++,s+=t.dist(n)}return!0}function gh(e){let t=0;for(let n=0;n<e.length-1;n++)t+=e[n].dist(e[n+1]);return t}function vh(e,t,n){return e?.6*t*n:0}function yh(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function xh(e,t,n,i,r,o){const a=vh(n,r,o),s=yh(n,i)*o;let l=0;const c=gh(e)/2;for(let u=0;u<e.length-1;u++){const n=e[u],i=e[u+1],r=n.dist(i);if(l+r>c){const o=(c-l)/r,d=Mn(n.x,i.x,o),h=Mn(n.y,i.y,o),p=new fh(d,h,0,i.angleTo(n),u);return!a||mh(e,p,s,a,t)?p:void 0}l+=r}}function bh(e,t,n,i,r,o,a,s,l){const c=vh(i,o,a),u=yh(i,r),d=u*a,h=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;return t-d<t/4&&(t=d+t/4),_h(e,h?t/2*s%t:(u/2+2*o)*a*s%t,t,c,n,d,h,!1,l)}function _h(e,t,n,i,r,o,a,s,l){const c=o/2,u=gh(e);let d=0,h=t-n,p=[];for(let f=0;f<e.length-1;f++){const t=e[f],a=e[f+1],s=t.dist(a),m=a.angleTo(t);for(;h+n<d+s;){h+=n;const g=(h-d)/s,v=Mn(t.x,a.x,g),y=Mn(t.y,a.y,g);if(v>=0&&v<l&&y>=0&&y<l&&h-c>=0&&h+c<=u){const t=new fh(v,y,0,m,f);t._round(),i&&!mh(e,t,o,i,r)||p.push(t)}}d+=s}return s||p.length||a||(p=_h(e,d/2,n,i,r,o,a,!0,l)),p}function wh(e,t,n,i,r){const o=[];for(let a=0;a<e.length;a++){const s=e[a];let l;for(let e=0;e<s.length-1;e++){let a=s[e],c=s[e+1];a.x<t&&c.x<t||(a.x<t?a=new f(t,a.y+(t-a.x)/(c.x-a.x)*(c.y-a.y))._round():c.x<t&&(c=new f(t,a.y+(t-a.x)/(c.x-a.x)*(c.y-a.y))._round()),a.y<n&&c.y<n||(a.y<n?a=new f(a.x+(n-a.y)/(c.y-a.y)*(c.x-a.x),n)._round():c.y<n&&(c=new f(a.x+(n-a.y)/(c.y-a.y)*(c.x-a.x),n)._round()),a.x>=i&&c.x>=i||(a.x>=i?a=new f(i,a.y+(i-a.x)/(c.x-a.x)*(c.y-a.y))._round():c.x>=i&&(c=new f(i,a.y+(i-a.x)/(c.x-a.x)*(c.y-a.y))._round()),a.y>=r&&c.y>=r||(a.y>=r?a=new f(a.x+(r-a.y)/(c.y-a.y)*(c.x-a.x),r)._round():c.y>=r&&(c=new f(a.x+(r-a.y)/(c.y-a.y)*(c.x-a.x),r)._round()),l&&a.equals(l[l.length-1])||(l=[a],o.push(l)),l.push(c)))))}}return o}Wr(fh,"Anchor");const kh=1e20;function Sh(e,t,n,i,r,o,a,s,l){for(let c=t;c<t+i;c++)Ch(e,n*o+c,o,r,a,s,l);for(let c=n;c<n+r;c++)Ch(e,c*o+t,1,i,a,s,l)}function Ch(e,t,n,i,r,o,a){o[0]=0,a[0]=-kh,a[1]=kh,r[0]=e[t];for(let s=1,l=0,c=0;s<i;s++){r[s]=e[t+s*n];const i=s*s;do{const e=o[l];c=(r[s]-r[e]+i-e*e)/(s-e)/2}while(c<=a[l]&&--l>-1);l++,o[l]=s,a[l]=c,a[l+1]=kh}for(let s=0,l=0;s<i;s++){for(;a[l+1]<s;)l++;const i=o[l],c=s-i;e[t+s*n]=r[i]+c*c}}const Eh={none:0,ideographs:1,all:2};class Th{constructor(e,t,n){this.requestManager=e,this.localGlyphMode=t,this.localFontFamily=n,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(e){this.url=e}getGlyphs(e,t){const n=[];for(const i in e)for(const t of e[i])n.push({stack:i,id:t});T(n,(({stack:e,id:t},n)=>{let i=this.entries[e];i||(i=this.entries[e]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let r=i.glyphs[t];if(void 0!==r)return void n(null,{stack:e,id:t,glyph:r});if(r=this._tinySDF(i,e,t),r)return i.glyphs[t]=r,void n(null,{stack:e,id:t,glyph:r});const o=Math.floor(t/256);if(256*o>65535)return void n(new Error("glyphs > 65535 not supported"));if(i.ranges[o])return void n(null,{stack:e,id:t,glyph:r});let a=i.requests[o];a||(a=i.requests[o]=[],Th.loadGlyphRange(e,o,this.url,this.requestManager,((e,t)=>{if(t){i.ascender=t.ascender,i.descender=t.descender;for(const e in t.glyphs)this._doesCharSupportLocalGlyph(+e)||(i.glyphs[+e]=t.glyphs[+e]);i.ranges[o]=!0}for(const n of a)n(e,t);delete i.requests[o]}))),a.push(((i,r)=>{i?n(i):r&&n(null,{stack:e,id:t,glyph:r.glyphs[t]||null})}))}),((e,n)=>{if(e)t(e);else if(n){const e={};for(const{stack:t,id:i,glyph:r}of n)void 0===e[t]&&(e[t]={}),void 0===e[t].glyphs&&(e[t].glyphs={}),e[t].glyphs[i]=r&&{id:r.id,bitmap:r.bitmap.clone(),metrics:r.metrics},e[t].ascender=this.entries[t].ascender,e[t].descender=this.entries[t].descender;t(null,e)}}))}_doesCharSupportLocalGlyph(e){return this.localGlyphMode!==Eh.none&&(this.localGlyphMode===Eh.all?!!this.localFontFamily:!!this.localFontFamily&&(co(e)||po(e)||eo(e)||to(e)||Qr(e)))}_tinySDF(e,t,n){const i=this.localFontFamily;if(!i||!this._doesCharSupportLocalGlyph(n))return;let r=e.tinySDF;if(!r){let n="400";/bold/i.test(t)?n="900":/medium/i.test(t)?n="500":/light/i.test(t)&&(n="200"),r=e.tinySDF=new Th.TinySDF({fontFamily:i,fontWeight:n,fontSize:48,buffer:6,radius:16}),r.fontWeight=n}if(this.localGlyphs[r.fontWeight][n])return this.localGlyphs[r.fontWeight][n];const o=String.fromCharCode(n),{data:a,width:s,height:l,glyphWidth:c,glyphHeight:u,glyphLeft:d,glyphTop:h,glyphAdvance:p}=r.draw(o);return this.localGlyphs[r.fontWeight][n]={id:n,bitmap:new gc({width:s,height:l},a),metrics:{width:c/2,height:u/2,left:d/2,top:h/2-27,advance:p/2,localGlyph:!0}}}}function Mh(e,t,n,i){const r=[],o=e.image,a=o.pixelRatio,s=o.paddedRect.w-2,l=o.paddedRect.h-2,c=e.right-e.left,u=e.bottom-e.top,d=o.stretchX||[[0,s]],h=o.stretchY||[[0,l]],p=(e,t)=>e+t[1]-t[0],m=d.reduce(p,0),g=h.reduce(p,0),v=s-m,y=l-g;let x=0,b=m,_=0,w=g,k=0,S=v,C=0,E=y;if(o.content&&i){const e=o.content;x=Ph(d,0,e[0]),_=Ph(h,0,e[1]),b=Ph(d,e[0],e[2]),w=Ph(h,e[1],e[3]),k=e[0]-x,C=e[1]-_,S=e[2]-e[0]-b,E=e[3]-e[1]-w}const T=(i,r,s,l)=>{const d=Ih(i.stretch-x,b,c,e.left),h=Lh(i.fixed-k,S,i.stretch,m),p=Ih(r.stretch-_,w,u,e.top),v=Lh(r.fixed-C,E,r.stretch,g),y=Ih(s.stretch-x,b,c,e.left),T=Lh(s.fixed-k,S,s.stretch,m),M=Ih(l.stretch-_,w,u,e.top),P=Lh(l.fixed-C,E,l.stretch,g),A=new f(d,p),I=new f(y,p),L=new f(y,M),D=new f(d,M),O=new f(h/a,v/a),R=new f(T/a,P/a),z=t*Math.PI/180;if(z){const e=Math.sin(z),t=Math.cos(z),n=[t,-e,e,t];A._matMult(n),I._matMult(n),D._matMult(n),L._matMult(n)}const F=i.stretch+i.fixed,B=r.stretch+r.fixed;return{tl:A,tr:I,bl:D,br:L,tex:{x:o.paddedRect.x+1+F,y:o.paddedRect.y+1+B,w:s.stretch+s.fixed-F,h:l.stretch+l.fixed-B},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:O,pixelOffsetBR:R,minFontScaleX:S/a/c,minFontScaleY:E/a/u,isSDF:n}};if(i&&(o.stretchX||o.stretchY)){const e=Ah(d,v,m),t=Ah(h,y,g);for(let n=0;n<e.length-1;n++){const i=e[n],o=e[n+1];for(let e=0;e<t.length-1;e++)r.push(T(i,t[e],o,t[e+1]))}}else r.push(T({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:s+1},{fixed:0,stretch:l+1}));return r}function Ph(e,t,n){let i=0;for(const r of e)i+=Math.max(t,Math.min(n,r[1]))-Math.max(t,Math.min(n,r[0]));return i}function Ah(e,t,n){const i=[{fixed:-1,stretch:0}];for(const[r,o]of e){const e=i[i.length-1];i.push({fixed:r-e.stretch,stretch:e.stretch}),i.push({fixed:r-e.stretch,stretch:e.stretch+(o-r)})}return i.push({fixed:t+1,stretch:n}),i}function Ih(e,t,n,i){return e/t*n+i}function Lh(e,t,n,i){return e-t*n/i}function Dh(e,t,n,i){const r=t+e.positionedLines[i].lineOffset;return 0===i?n+r/2:n+(r+(t+e.positionedLines[i-1].lineOffset))/2}Th.loadGlyphRange=function(e,t,n,i,r){const o=256*t,a=o+255,s=i.transformRequest(i.normalizeGlyphsURL(n).replace("{fontstack}",e).replace("{range}",`${o}-${a}`),oe.Glyphs);ce(s,((e,t)=>{if(e)r(e);else if(t){const e={},n=function(e){return new Cd(e).readFields(Yd,{})}(t);for(const t of n.glyphs)e[t.id]=t;r(null,{glyphs:e,ascender:n.ascender,descender:n.descender})}}))},Th.TinySDF=class{constructor({fontSize:e=24,buffer:t=3,radius:n=8,cutoff:i=.25,fontFamily:r="sans-serif",fontWeight:o="normal",fontStyle:a="normal"}={}){this.buffer=t,this.cutoff=i,this.radius=n;const s=this.size=e+4*t,l=this._createCanvas(s),c=this.ctx=l.getContext("2d",{willReadFrequently:!0});c.font=`${a} ${o} ${e}px ${r}`,c.textBaseline="alphabetic",c.textAlign="left",c.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Uint16Array(s)}_createCanvas(e){const t=document.createElement("canvas");return t.width=t.height=e,t}draw(e){const{width:t,actualBoundingBoxAscent:n,actualBoundingBoxDescent:i,actualBoundingBoxLeft:r,actualBoundingBoxRight:o}=this.ctx.measureText(e),a=Math.ceil(n),s=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(o-r))),l=Math.min(this.size-this.buffer,a+Math.ceil(i)),c=s+2*this.buffer,u=l+2*this.buffer,d=Math.max(c*u,0),h=new Uint8ClampedArray(d),p={data:h,width:c,height:u,glyphWidth:s,glyphHeight:l,glyphTop:a,glyphLeft:0,glyphAdvance:t};if(0===s||0===l)return p;const{ctx:f,buffer:m,gridInner:g,gridOuter:v}=this;f.clearRect(m,m,s,l),f.fillText(e,m,m+a);const y=f.getImageData(m,m,s,l);v.fill(kh,0,d),g.fill(0,0,d);for(let x=0;x<l;x++)for(let e=0;e<s;e++){const t=y.data[4*(x*s+e)+3]/255;if(0===t)continue;const n=(x+m)*c+e+m;if(1===t)v[n]=0,g[n]=kh;else{const e=.5-t;v[n]=e>0?e*e:0,g[n]=e<0?e*e:0}}Sh(v,0,0,c,u,c,this.f,this.v,this.z),Sh(g,m,m,s,l,c,this.f,this.v,this.z);for(let x=0;x<d;x++){const e=Math.sqrt(v[x])-Math.sqrt(g[x]);h[x]=Math.round(255-255*(e/this.radius+this.cutoff))}return p}};class Oh{constructor(e=[],t=Rh){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let n=(this.length>>1)-1;n>=0;n--)this._down(n)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,i=t[e];for(;e>0;){const r=e-1>>1,o=t[r];if(n(i,o)>=0)break;t[e]=o,e=r}t[e]=i}_down(e){const{data:t,compare:n}=this,i=this.length>>1,r=t[e];for(;e<i;){let i=1+(e<<1),o=t[i];const a=i+1;if(a<this.length&&n(t[a],o)<0&&(i=a,o=t[a]),n(o,r)>=0)break;t[e]=o,e=i}t[e]=r}}function Rh(e,t){return e<t?-1:e>t?1:0}function zh(e,t=1,n=!1){let i=1/0,r=1/0,o=-1/0,a=-1/0;const s=e[0];for(let p=0;p<s.length;p++){const e=s[p];(!p||e.x<i)&&(i=e.x),(!p||e.y<r)&&(r=e.y),(!p||e.x>o)&&(o=e.x),(!p||e.y>a)&&(a=e.y)}const l=Math.min(o-i,a-r);let c=l/2;const u=new Oh([],Fh);if(0===l)return new f(i,r);for(let p=i;p<o;p+=l)for(let t=r;t<a;t+=l)u.push(new Bh(p+c,t+c,c,e));let d=function(e){let t=0,n=0,i=0;const r=e[0];for(let o=0,a=r.length,s=a-1;o<a;s=o++){const e=r[o],a=r[s],l=e.x*a.y-a.x*e.y;n+=(e.x+a.x)*l,i+=(e.y+a.y)*l,t+=3*l}return new Bh(n/t,i/t,0,e)}(e),h=u.length;for(;u.length;){const i=u.pop();(i.d>d.d||!d.d)&&(d=i,n&&console.log("found best %d after %d probes",Math.round(1e4*i.d)/1e4,h)),i.max-d.d<=t||(c=i.h/2,u.push(new Bh(i.p.x-c,i.p.y-c,c,e)),u.push(new Bh(i.p.x+c,i.p.y-c,c,e)),u.push(new Bh(i.p.x-c,i.p.y+c,c,e)),u.push(new Bh(i.p.x+c,i.p.y+c,c,e)),h+=4)}return n&&(console.log(`num probes: ${h}`),console.log(`best distance: ${d.d}`)),d.p}function Fh(e,t){return t.max-e.max}function Bh(e,t,n,i){this.p=new f(e,t),this.h=n,this.d=function(e,t){let n=!1,i=1/0;for(let r=0;r<t.length;r++){const o=t[r];for(let t=0,r=o.length,a=r-1;t<r;a=t++){const r=o[t],s=o[a];r.y>e.y!=s.y>e.y&&e.x<(s.x-r.x)*(e.y-r.y)/(s.y-r.y)+r.x&&(n=!n),i=Math.min(i,rl(e,r,s))}}return(n?1:-1)*Math.sqrt(i)}(this.p,i),this.max=this.d+this.h*Math.SQRT2}const Nh=Number.POSITIVE_INFINITY,jh=Math.sqrt(2);function Vh(e,[t,n]){let i=0,r=0;if(n===Nh){t<0&&(t=0);const n=t/jh;switch(e){case"top-right":case"top-left":r=n-7;break;case"bottom-right":case"bottom-left":r=7-n;break;case"bottom":r=7-t;break;case"top":r=t-7}switch(e){case"top-right":case"bottom-right":i=-n;break;case"top-left":case"bottom-left":i=n;break;case"left":i=t;break;case"right":i=-t}}else{switch(t=Math.abs(t),n=Math.abs(n),e){case"top-right":case"top-left":case"top":r=n-7;break;case"bottom-right":case"bottom-left":case"bottom":r=7-n}switch(e){case"top-right":case"bottom-right":case"right":i=-t;break;case"top-left":case"bottom-left":case"left":i=t}}return[i,r]}function Wh(e,t,n,i,r,o,a,s,l,c){e.createArrays(),e.tilePixelRatio=Ss/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;const u=e.layers[0].layout,d=e.layers[0]._unevaluatedLayout._values,h={};if("composite"===e.textSizeData.kind){const{minZoom:t,maxZoom:n}=e.textSizeData;h.compositeTextSizes=[d["text-size"].possiblyEvaluate(new Vo(t),s),d["text-size"].possiblyEvaluate(new Vo(n),s)]}if("composite"===e.iconSizeData.kind){const{minZoom:t,maxZoom:n}=e.iconSizeData;h.compositeIconSizes=[d["icon-size"].possiblyEvaluate(new Vo(t),s),d["icon-size"].possiblyEvaluate(new Vo(n),s)]}h.layoutTextSize=d["text-size"].possiblyEvaluate(new Vo(l+1),s),h.layoutIconSize=d["icon-size"].possiblyEvaluate(new Vo(l+1),s),h.textMaxSize=d["text-size"].possiblyEvaluate(new Vo(18),s);const p="map"===u.get("text-rotation-alignment")&&"point"!==u.get("symbol-placement"),f=u.get("text-size");for(const m of e.features){const o=u.get("text-font").evaluate(m,{},s).join(","),l=f.evaluate(m,{},s),d=h.layoutTextSize.evaluate(m,{},s),g=(h.layoutIconSize.evaluate(m,{},s),{horizontal:{},vertical:void 0}),v=m.text;let y,x=[0,0];if(v){const i=v.toString(),a=u.get("text-letter-spacing").evaluate(m,{},s)*md,c=u.get("text-line-height").evaluate(m,{},s)*md,h=wo(i)?a:0,f=u.get("text-anchor").evaluate(m,{},s),y=u.get("text-variable-anchor");if(!y){const e=u.get("text-radial-offset").evaluate(m,{},s);x=e?Vh(f,[e*md,Nh]):u.get("text-offset").evaluate(m,{},s).map((e=>e*md))}let b=p?"center":u.get("text-justify").evaluate(m,{},s);const _="point"===u.get("symbol-placement"),w=_?u.get("text-max-width").evaluate(m,{},s)*md:1/0,k=a=>{e.allowVerticalPlacement&&_o(i)&&(g.vertical=nh(v,t,n,r,o,w,c,f,a,h,x,Qd.vertical,!0,d,l))};if(!p&&y){const e="auto"===b?y.map((e=>Uh(e))):[b];let i=!1;for(let a=0;a<e.length;a++){const s=e[a];if(!g.horizontal[s])if(i)g.horizontal[s]=g.horizontal[0];else{const e=nh(v,t,n,r,o,w,c,"center",s,h,x,Qd.horizontal,!1,d,l);e&&(g.horizontal[s]=e,i=1===e.positionedLines.length)}}k("left")}else{if("auto"===b&&(b=Uh(f)),_||u.get("text-writing-mode").indexOf("horizontal")>=0||!_o(i)){const e=nh(v,t,n,r,o,w,c,f,b,h,x,Qd.horizontal,!1,d,l);e&&(g.horizontal[b]=e)}k(_?"left":b)}}let b=!1;if(m.icon&&m.icon.name){const t=i[m.icon.name];t&&(y=hh(r[m.icon.name],u.get("icon-offset").evaluate(m,{},s),u.get("icon-anchor").evaluate(m,{},s)),b=t.sdf,void 0===e.sdfIcons?e.sdfIcons=t.sdf:e.sdfIcons!==t.sdf&&V("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(t.pixelRatio!==e.pixelRatio||0!==u.get("icon-rotate").constantOr(1))&&(e.iconsNeedLinear=!0))}const _=Yh(g.horizontal)||g.vertical;e.iconsInText||(e.iconsInText=!!_&&_.iconsInText),(_||y)&&Hh(e,m,g,y,i,h,d,0,x,b,a,s,c)}o&&e.generateCollisionDebugBuffers(l,e.collisionBoxArray)}function Uh(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Hh(e,t,n,i,r,o,a,s,l,c,u,d,h){let p=o.textMaxSize.evaluate(t,{},d);void 0===p&&(p=a);const f=e.layers[0].layout,m=f.get("icon-offset").evaluate(t,{},d),g=Yh(n.horizontal)||n.vertical,v="globe"===h.name,x=a/24,b=e.tilePixelRatio*p/24,_=(P=e.overscaling,e.zoom>18&&P>2&&(P>>=1),Math.max(Ss/(512*P),1)*f.get("symbol-spacing")),w=f.get("text-padding")*e.tilePixelRatio,k=f.get("icon-padding")*e.tilePixelRatio,S=y(f.get("text-max-angle")),C="map"===f.get("text-rotation-alignment")&&"point"!==f.get("symbol-placement"),E="map"===f.get("icon-rotation-alignment")&&"point"!==f.get("symbol-placement"),T=f.get("symbol-placement"),M=_/2;var P;const A=f.get("icon-text-fit");let I;i&&"none"!==A&&(e.allowVerticalPlacement&&n.vertical&&(I=ph(i,n.vertical,A,f.get("icon-text-fit-padding"),m,x)),g&&(i=ph(i,g,A,f.get("icon-text-fit-padding"),m,x)));const L=(a,s,p)=>{if(s.x<0||s.x>=Ss||s.y<0||s.y>=Ss)return;let f=null;if(v){const{x:e,y:t,z:n}=h.projectTilePoint(s.x,s.y,p);f={anchor:new fh(e,t,n,0,void 0),up:h.upVector(p,s.x,s.y)}}!function(e,t,n,i,r,o,a,s,l,c,u,d,h,p,f,m,g,v,y,x,b,_,w,k,S){const C=e.addToLineVertexArray(t,i);let E,T,M,P,A,I,L,D=0,O=0,R=0,z=0,F=-1,B=-1;const N={};let j=Ha.exports("");const W=n?n.anchor:t;let U=0,H=0;if(void 0===l._unevaluatedLayout.getValue("text-radial-offset")?[U,H]=l.layout.get("text-offset").evaluate(b,{},S).map((e=>e*md)):(U=l.layout.get("text-radial-offset").evaluate(b,{},S)*md,H=Nh),e.allowVerticalPlacement&&r.vertical){const e=r.vertical;if(f)I=Kh(e),s&&(L=Kh(s));else{const n=l.layout.get("text-rotate").evaluate(b,{},S)+90;M=qh(c,W,t,u,d,h,e,p,n,m),s&&(P=qh(c,W,t,u,d,h,s,v,n))}}if(o){const i=l.layout.get("icon-rotate").evaluate(b,{},S),r="none"!==l.layout.get("icon-text-fit"),a=Mh(o,i,w,r),p=s?Mh(s,i,w,r):void 0;T=qh(c,W,t,u,d,h,o,v,i),D=4*a.length;const f=e.iconSizeData;let m=null;"source"===f.kind?(m=[gd*l.layout.get("icon-size").evaluate(b,{},S)],m[0]>Xh&&V(`${e.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):"composite"===f.kind&&(m=[gd*_.compositeIconSizes[0].evaluate(b,{},S),gd*_.compositeIconSizes[1].evaluate(b,{},S)],(m[0]>Xh||m[1]>Xh)&&V(`${e.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),e.addSymbols(e.icon,a,m,x,y,b,!1,n,t,C.lineStartIndex,C.lineLength,-1,k,S),F=e.icon.placedSymbolArray.length-1,p&&(O=4*p.length,e.addSymbols(e.icon,p,m,x,y,b,Qd.vertical,n,t,C.lineStartIndex,C.lineLength,-1,k,S),B=e.icon.placedSymbolArray.length-1)}for(const V in r.horizontal){const i=r.horizontal[V];E||(j=Ha.exports(i.text),f?A=Kh(i):E=qh(c,W,t,u,d,h,i,p,l.layout.get("text-rotate").evaluate(b,{},S),m));const o=1===i.positionedLines.length;if(R+=Gh(e,n,t,i,a,l,f,b,m,C,r.vertical?Qd.horizontal:Qd.horizontalOnly,o?Object.keys(r.horizontal):[V],N,F,_,k,S),o)break}r.vertical&&(z+=Gh(e,n,t,r.vertical,a,l,f,b,m,C,Qd.vertical,["vertical"],N,B,_,k,S));let X=-1;const G=(e,t)=>e?Math.max(e,t):t;X=G(A,X),X=G(I,X),X=G(L,X);const Y=X>-1?1:0;e.glyphOffsetArray.length>=uf.MAX_GLYPHS&&V("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==b.sortKey&&e.addToSortKeyRanges(e.symbolInstances.length,b.sortKey),e.symbolInstances.emplaceBack(W.x,W.y,W.z,t.x,t.y,N.right>=0?N.right:-1,N.center>=0?N.center:-1,N.left>=0?N.left:-1,N.vertical>=0?N.vertical:-1,F,B,j,void 0!==E?E:e.collisionBoxArray.length,void 0!==E?E+1:e.collisionBoxArray.length,void 0!==M?M:e.collisionBoxArray.length,void 0!==M?M+1:e.collisionBoxArray.length,void 0!==T?T:e.collisionBoxArray.length,void 0!==T?T+1:e.collisionBoxArray.length,P||e.collisionBoxArray.length,P?P+1:e.collisionBoxArray.length,u,R,z,D,O,Y,0,U,H,X)}(e,s,f,a,n,i,r,I,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,w,C,l,0,k,E,m,t,o,c,u,d)};if("line"===T)for(const y of wh(t.geometry,0,0,Ss,Ss)){const t=bh(y,_,S,n.vertical||g,i,24,b,e.overscaling,Ss);for(const n of t)g&&$h(e,g.text,M,n)||L(y,n,d)}else if("line-center"===T){for(const y of t.geometry)if(y.length>1){const e=xh(y,S,n.vertical||g,i,24,b);e&&L(y,e,d)}}else if("Polygon"===t.type)for(const y of eu(t.geometry,0)){const e=zh(y,16);L(y[0],new fh(e.x,e.y,0,0,void 0),d)}else if("LineString"===t.type)for(const y of t.geometry)L(y,new fh(y[0].x,y[0].y,0,0,void 0),d);else if("Point"===t.type)for(const y of t.geometry)for(const e of y)L([e],new fh(e.x,e.y,0,0,void 0),d)}const Xh=32640;function Gh(e,t,n,i,r,o,a,s,l,c,u,d,h,p,m,g,v){const y=function(e,t,n,i,r,o,a,s){const l=[];if(0===t.positionedLines.length)return l;const c=i.layout.get("text-rotate").evaluate(o,{})*Math.PI/180,u=function(e){const t=e[0],n=e[1],i=t*n;return i>0?[t,-n]:i<0?[-t,n]:0===t?[n,t]:[n,-t]}(n);let d=Math.abs(t.top-t.bottom);for(const f of t.positionedLines)d-=f.lineOffset;const h=t.positionedLines.length,p=d/h;let m=t.top-n[1];for(let g=0;g<h;++g){const e=t.positionedLines[g];m=Dh(t,p,m,g);for(const i of e.positionedGlyphs){if(!i.rect)continue;const e=i.rect||{};let o=4,d=!0,h=1,p=0;if(i.imageName){const e=a[i.imageName];if(!e)continue;if(e.sdf){V("SDF images are not supported in formatted text and will be ignored.");continue}d=!1,h=e.pixelRatio,o=1/h}const g=(r||s)&&i.vertical,v=i.metrics.advance*i.scale/2,y=i.metrics,x=i.rect;if(null===x)continue;s&&t.verticalizable&&(p=i.imageName?v-i.metrics.width*i.scale/2:0);const b=r?[i.x+v,i.y]:[0,0];let _=[0,0],w=[0,0],k=!1;r||(g?(w=[i.x+v+u[0],i.y+u[1]-p],k=!0):_=[i.x+v+n[0],i.y+n[1]-p]);const S=x.w*i.scale/(h*(i.localGlyph?2:1)),C=x.h*i.scale/(h*(i.localGlyph?2:1));let E,T,M,P;if(g){const e=i.y-m,t=new f(-v,v-e),n=-Math.PI/2,r=new f(...w);E=new f(-v+_[0],_[1]),E._rotateAround(n,t)._add(r),E.x+=-e+v,E.y-=(y.left-o)*i.scale;const a=i.imageName?y.advance*i.scale:md*i.scale,s=String.fromCharCode(i.glyph);kd(s)?E.x+=(1-o)*i.scale:Sd(s)?E.x+=a-y.height*i.scale+(-o-1)*i.scale:E.x+=i.imageName||y.width+2*o===x.w&&y.height+2*o===x.h?(a-C)/2:(a-(y.height+2*o)*i.scale)/2,T=new f(E.x,E.y-S),M=new f(E.x+C,E.y),P=new f(E.x+C,E.y-S)}else{const e=(y.left-o)*i.scale-v+_[0],t=(-y.top-o)*i.scale+_[1],n=e+S,r=t+C;E=new f(e,t),T=new f(n,t),M=new f(e,r),P=new f(n,r)}if(c){let e;e=r?new f(0,0):k?new f(u[0],u[1]):new f(n[0],n[1]),E._rotateAround(c,e),T._rotateAround(c,e),M._rotateAround(c,e),P._rotateAround(c,e)}const A=new f(0,0),I=new f(0,0);l.push({tl:E,tr:T,bl:M,br:P,tex:e,writingMode:t.writingMode,glyphOffset:b,sectionIndex:i.sectionIndex,isSDF:d,pixelOffsetTL:A,pixelOffsetBR:I,minFontScaleX:0,minFontScaleY:0})}}return l}(0,i,l,o,a,s,r,e.allowVerticalPlacement),x=e.textSizeData;let b=null;"source"===x.kind?(b=[gd*o.layout.get("text-size").evaluate(s,{},v)],b[0]>Xh&&V(`${e.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):"composite"===x.kind&&(b=[gd*m.compositeTextSizes[0].evaluate(s,{},v),gd*m.compositeTextSizes[1].evaluate(s,{},v)],(b[0]>Xh||b[1]>Xh)&&V(`${e.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),e.addSymbols(e.text,y,b,l,a,s,u,t,n,c.lineStartIndex,c.lineLength,p,g,v);for(const f of d)h[f]=e.text.placedSymbolArray.length-1;return 4*y.length}function Yh(e){for(const t in e)return e[t];return null}function qh(e,t,n,i,r,o,a,s,l,c){let u=a.top,d=a.bottom,h=a.left,p=a.right;const m=a.collisionPadding;if(m&&(h-=m[0],u-=m[1],p+=m[2],d+=m[3]),l){const e=new f(h,u),t=new f(p,u),n=new f(h,d),i=new f(p,d),r=y(l);let o=new f(0,0);c&&(o=new f(c[0],c[1])),e._rotateAround(r,o),t._rotateAround(r,o),n._rotateAround(r,o),i._rotateAround(r,o),h=Math.min(e.x,t.x,n.x,i.x),p=Math.max(e.x,t.x,n.x,i.x),u=Math.min(e.y,t.y,n.y,i.y),d=Math.max(e.y,t.y,n.y,i.y)}return e.emplaceBack(t.x,t.y,t.z,n.x,n.y,h,u,p,d,s,i,r,o),e.length-1}function Kh(e){e.collisionPadding&&(e.top-=e.collisionPadding[1],e.bottom+=e.collisionPadding[3]);const t=e.bottom-e.top;return t>0?Math.max(10,t):null}function $h(e,t,n,i){const r=e.compareText;if(t in r){const e=r[t];for(let t=e.length-1;t>=0;t--)if(i.dist(e[t])<n)return!0}else r[t]=[];return r[t].push(i),!1}const Zh=ra([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:Jh}=Zh,Qh=ra([{name:"a_pos_3",components:3,type:"Int16"}]);var ep=ra([{name:"a_pos",type:"Int16",components:2}]);const tp=Ss/Math.PI/2,np=2*Ls(1,0)*tp*Math.PI,ip=64,rp=[ip,32,16],op=-tp,ap=tp,sp=[new ac([op,op,op],[ap,ap,ap]),new ac([op,op,op],[0,0,ap]),new ac([0,op,op],[ap,0,ap]),new ac([op,0,op],[0,ap,ap]),new ac([0,0,op],[ap,ap,ap])];function lp(e,t,n,i=!0){const r=Bl([],e._camera.position,e.worldSize),o=[t,n,1,1];Zl(o,o,e.pixelMatrixInverse),Kl(o,o,1/o[3]);const a=jl([],Gl([],o,r)),s=e.globeMatrix,l=[s[12],s[13],s[14]],c=Gl([],l,r),u=Il(c),d=jl([],c),h=e.worldSize/(2*Math.PI),p=Vl(d,a),f=Math.asin(h/u);if(f<Math.acos(p)){if(!i)return null;const e=[],t=[];Bl(e,a,u/p),jl(t,Gl(t,e,c)),jl(a,Dl(a,c,Bl(a,t,Math.tan(f)*u)))}const m=[];new ic(r,a).closestPointOnSphere(l,h,m);const g=jl([],K(s,0)),v=jl([],K(s,1)),y=jl([],K(s,2)),b=Vl(g,m),_=Vl(v,m),w=Vl(y,m),k=x(Math.asin(-_/h));let C=x(Math.atan2(b,w));C=e.center.lng+function(e,t){const n=(t-e+180)%360-180;return n<-180?n+360:n}(e.center.lng,C);const E=As(C),T=S(Is(k),0,1);return new Bs(E,T)}class cp{constructor(e,t,n){this.a=Gl([],e,n),this.b=Gl([],t,n),this.center=n;const i=jl([],this.a),r=jl([],this.b);this.angle=Math.acos(Vl(i,r))}}function up(e,t){if(0===e.angle)return null;let n;return n=0===e.a[t]?1/e.angle*.5*Math.PI:1/e.angle*Math.atan(e.b[t]/e.a[t]/Math.sin(e.angle)-1/Math.tan(e.angle)),n<0||n>1?null:function(e,t,n,i){const r=Math.sin(n);return e*(Math.sin((1-i)*n)/r)+t*(Math.sin(i*n)/r)}(e.a[t],e.b[t],e.angle,S(n,0,1))+e.center[t]}function dp(e){if(e.z<=1)return sp[e.z+2*e.y+e.x];const t=vp(gp(e));return ac.fromPoints(t)}function hp(e,t,n){return Bl(e,e,1-n),Nl(e,e,t,n)}function pp(e,t){const n=Ep(t.zoom);if(0===n)return dp(e);const i=gp(e),r=vp(i),o=As(i.getWest())*t.worldSize,a=As(i.getEast())*t.worldSize,s=Is(i.getNorth())*t.worldSize,l=Is(i.getSouth())*t.worldSize,c=[o,s,0],u=[a,s,0],d=[o,l,0],h=[a,l,0],p=bl([],t.globeMatrix);return Ul(c,c,p),Ul(u,u,p),Ul(d,d,p),Ul(h,h,p),r[0]=hp(r[0],d,n),r[1]=hp(r[1],h,n),r[2]=hp(r[2],u,n),r[3]=hp(r[3],c,n),ac.fromPoints(r)}function fp(e,t,n){for(const i of e)Ul(i,i,t),Bl(i,i,n)}function mp(e,t,n){const i=t/e.worldSize,r=e.globeMatrix;if(n.z<=1){const e=dp(n).getCorners();return fp(e,r,i),ac.fromPoints(e)}const o=gp(n),a=vp(o);fp(a,r,i);const s=Number.MAX_VALUE,l=[-s,-s,-s],c=[s,s,s];if(o.contains(e.center)){for(const e of a)zl(c,c,e),Fl(l,l,e);l[2]=0;const t=e.point,n=[t.x*i,t.y*i,0];return zl(c,c,n),Fl(l,l,n),new ac(c,l)}const u=[r[12]*i,r[13]*i,r[14]*i],d=o.getCenter(),h=S(e.center.lat,-85.051129,zs),p=S(d.lat,-85.051129,zs),f=As(e.center.lng),m=Is(h);let g=f-As(d.lng);const v=m-Is(p);g>.5?g-=1:g<-.5&&(g+=1);let x=0;Math.abs(g)>Math.abs(v)?x=g>=0?1:3:(x=v>=0?0:2,Nl(u,u,[r[4]*i,r[5]*i,r[6]*i],-Math.sin(y(v>=0?o.getSouth():o.getNorth()))*tp));const b=a[x],_=a[(x+1)%4],w=new cp(b,_,u),k=[up(w,0)||b[0],up(w,1)||b[1],up(w,2)||b[2]],C=Ep(e.zoom);if(C>0){const i=function({x:e,y:t,z:n},i,r,o,a){const s=1/(1<<n);let l=e*s,c=l+s,u=t*s,d=u+s,h=0;const p=(l+c)/2-o;return p>.5?h=-1:p<-.5&&(h=1),l=((l+h)*i-(o*=i))*r+o,c=((c+h)*i-o)*r+o,u=(u*i-(a*=i))*r+a,d=(d*i-a)*r+a,[[l,d,0],[c,d,0],[c,u,0],[l,u,0]]}(n,t,e._pixelsPerMercatorPixel,f,m);for(let e=0;e<a.length;e++)hp(a[e],i[e],C);const r=Dl([],i[x],i[(x+1)%4]);Bl(r,r,.5),hp(k,r,C)}for(const y of a)zl(c,c,y),Fl(l,l,y);return c[2]=Math.min(b[2],_[2]),zl(c,c,k),Fl(l,l,k),new ac(c,l)}function gp({x:e,y:t,z:n}){const i=1/(1<<n),r=new Ts(Ds(e*i),Os((t+1)*i)),o=new Ts(Ds((e+1)*i),Os(t*i));return new Cs(r,o)}function vp(e){const t=y(e.getNorth()),n=y(e.getSouth()),i=Math.cos(t),r=Math.cos(n),o=Math.sin(t),a=Math.sin(n),s=e.getWest(),l=e.getEast();return[yp(r,a,s),yp(r,a,l),yp(i,o,l),yp(i,o,s)]}function yp(e,t,n,i=tp){return n=y(n),[e*Math.sin(n)*i,-t*i,e*Math.cos(n)*i]}function xp(e,t,n){return yp(Math.cos(y(e)),Math.sin(y(e)),t,n)}function bp(e,t,n,i){const r=1<<n.z,o=(e/Ss+n.x)/r;return xp(Os((t/Ss+n.y)/r),Ds(o),i)}function _p({min:e,max:t}){return 16383/Math.max(t[0]-e[0],t[1]-e[1],t[2]-e[2])}const wp=new Float64Array(16);function kp(e){const t=_p(e),n=El(wp,[t,t,t]);return wl(n,n,((i=[])[0]=-(r=e.min)[0],i[1]=-r[1],i[2]=-r[2],i));var i,r}function Sp(e){const t=(i=e.min,(n=wp)[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=i[0],n[13]=i[1],n[14]=i[2],n[15]=1,n);var n,i;const r=1/_p(e);return kl(t,t,[r,r,r])}function Cp(e,t,n,i,r){const o=function(e){const t=Ss/(2*Math.PI);return e/(2*Math.PI)/t}(n),a=[e,t,-n/(2*Math.PI)],s=xl(new Float64Array(16));return wl(s,s,a),kl(s,s,[o,o,o]),Sl(s,s,y(-r)),Cl(s,s,y(-i)),s}function Ep(e){return C(5,6,e)}function Tp(e,t){const n=xp(t.lat,t.lng),i=function(e){const t=xp(e._center.lat,e._center.lng);let n=Wl([],Ll(0,1,0),t);const i=Tl([],-e.angle,t);n=Ul(n,n,i),Tl(i,-e._pitch,n);const r=jl([],t);return Bl(r,r,e.cameraToCenterDistance/e.pixelsPerMeter*np),Ul(r,r,i),Dl([],t,r)}(e);return a=(r=Ol([],i,n))[0],s=r[1],l=r[2],c=(o=n)[0],u=o[1],d=o[2],p=(h=Math.sqrt(a*a+s*s+l*l)*Math.sqrt(c*c+u*u+d*d))&&Vl(r,o)/h,Math.acos(Math.min(Math.max(p,-1),1));var r,o,a,s,l,c,u,d,h,p}function Mp(e,t){return Tp(e,t)>Math.PI/2*1.01}const Pp=y(85),Ap=Math.cos(Pp),Ip=Math.sin(Pp);function Lp(e,t){const n=e.fovAboveCenter,i=e.elevation?e.elevation.getMinElevationBelowMSL()*t:0,r=(e._camera.position[2]*e.worldSize-i)/Math.cos(e._pitch),o=Math.sin(n)*r/Math.sin(Math.max(Math.PI/2-e._pitch-n,.01)),a=Math.sin(e._pitch)*o+r;return Math.min(1.01*a,r*(1/e._horizonShift))}function Dp(e,t){if(!t.isReprojectedInTileSpace)return{scale:1<<e.z,x:e.x,y:e.y,x2:e.x+1,y2:e.y+1,projection:t};const n=Math.pow(2,-e.z),i=e.x*n,r=(e.x+1)*n,o=e.y*n,a=(e.y+1)*n,s=Ds(i),l=Ds(r),c=Os(o),u=Os(a),d=t.project(s,c),h=t.project(l,c),p=t.project(l,u),f=t.project(s,u);let m=Math.min(d.x,h.x,p.x,f.x),g=Math.min(d.y,h.y,p.y,f.y),v=Math.max(d.x,h.x,p.x,f.x),y=Math.max(d.y,h.y,p.y,f.y);const x=n/16;function b(e,n,i,r,o,a){const s=(i+o)/2,l=(r+a)/2,c=t.project(Ds(s),Os(l)),u=Math.max(0,m-c.x,g-c.y,c.x-v,c.y-y);m=Math.min(m,c.x),v=Math.max(v,c.x),g=Math.min(g,c.y),y=Math.max(y,c.y),u>x&&(b(e,c,i,r,s,l),b(c,n,s,l,o,a))}b(d,h,i,o,r,o),b(h,p,r,o,r,a),b(p,f,r,a,i,a),b(f,d,i,a,i,o),m-=x,g-=x,v+=x,y+=x;const _=1/Math.max(v-m,y-g);return{scale:_,x:m*_,y:g*_,x2:v*_,y2:y*_,projection:t}}const Op=xl(new Float32Array(16));class Rp{constructor(e){this.spec=e,this.name=e.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(e,t){return{x:0,y:0,z:0}}unproject(e,t){return new Ts(0,0)}projectTilePoint(e,t,n){return{x:e,y:t,z:0}}locationPoint(e,t,n=!0){return e._coordinatePoint(e.locationCoordinate(t),n)}pixelsPerMeter(e,t){return Ls(1,e)*t}pixelSpaceConversion(e,t,n){return 1}farthestPixelDistance(e){return Lp(e,e.pixelsPerMeter)}pointCoordinate(e,t,n,i){const r=e.horizonLineFromTop(!1),o=new f(t,Math.max(r,n));return e.rayIntersectionCoordinate(e.pointRayIntersection(o,i))}pointCoordinate3D(e,t,n){const i=new f(t,n);if(e.elevation)return e.elevation.pointCoordinate(i);{const t=this.pointCoordinate(e,i.x,i.y,0);return[t.x,t.y,t.z]}}isPointAboveHorizon(e,t){if(e.elevation)return!this.pointCoordinate3D(e,t.x,t.y);const n=e.horizonLineFromTop();return t.y<n}createInversionMatrix(e,t){return Op}createTileMatrix(e,t,n){let i,r,o;const a=n.canonical,s=xl(new Float64Array(16));if(this.isReprojectedInTileSpace){const l=Dp(a,this);i=1,r=l.x+n.wrap*l.scale,o=l.y,kl(s,s,[i/l.scale,i/l.scale,e.pixelsPerMeter/t])}else i=t/e.zoomScale(a.z),r=(a.x+Math.pow(2,a.z)*n.wrap)*i,o=a.y*i;return wl(s,s,[r,o,0]),kl(s,s,[i/Ss,i/Ss,1]),s}upVector(e,t,n){return[0,0,1]}upVectorScale(e,t,n){return{metersToTile:1}}}class zp extends Rp{constructor(e){super(e),this.range=[4,7],this.center=e.center||[-96,37.5];const[t,n]=this.parallels=e.parallels||[29.5,45.5],i=Math.sin(y(t));this.n=(i+Math.sin(y(n)))/2,this.c=1+i*(2*this.n-i),this.r0=Math.sqrt(this.c)/this.n}project(e,t){const{n:n,c:i,r0:r}=this,o=y(e-this.center[0]),a=y(t),s=Math.sqrt(i-2*n*Math.sin(a))/n;return{x:s*Math.sin(o*n),y:s*Math.cos(o*n)-r,z:0}}unproject(e,t){const{n:n,c:i,r0:r}=this,o=r+t;let a=Math.atan2(e,Math.abs(o))*Math.sign(o);o*n<0&&(a-=Math.PI*Math.sign(e)*Math.sign(o));const s=y(this.center[0])*n;a=E(a,-Math.PI-s,Math.PI-s);const l=S(x(a/n)+this.center[0],-180,180),c=Math.asin(S((i-(e*e+o*o)*n*n)/(2*n),-1,1)),u=S(x(c),-85.051129,zs);return new Ts(l,u)}}const Fp=1.340264,Bp=-.081106,Np=893e-6,jp=.003796,Vp=Math.sqrt(3)/2;class Wp extends Rp{project(e,t){t=t/180*Math.PI,e=e/180*Math.PI;const n=Math.asin(Vp*Math.sin(t)),i=n*n,r=i*i*i;return{x:.5*(e*Math.cos(n)/(Vp*(Fp+3*Bp*i+r*(7*Np+9*jp*i)))/Math.PI+.5),y:1-.5*(n*(Fp+Bp*i+r*(Np+jp*i))/Math.PI+1),z:0}}unproject(e,t){e=(2*e-.5)*Math.PI;let n=t=(2*(1-t)-1)*Math.PI,i=n*n,r=i*i*i;for(let c,u,d,h=0;h<12&&(u=n*(Fp+Bp*i+r*(Np+jp*i))-t,d=Fp+3*Bp*i+r*(7*Np+9*jp*i),c=u/d,n=S(n-c,-Math.PI/3,Math.PI/3),i=n*n,r=i*i*i,!(Math.abs(c)<1e-12));++h);const o=Vp*e*(Fp+3*Bp*i+r*(7*Np+9*jp*i))/Math.cos(n),a=Math.asin(Math.sin(n)/Vp),s=S(180*o/Math.PI,-180,180),l=S(180*a/Math.PI,-85.051129,zs);return new Ts(s,l)}}class Up extends Rp{constructor(e){super(e),this.wrap=!0,this.supportsWorldCopies=!0}project(e,t){return{x:.5+e/360,y:.5-t/360,z:0}}unproject(e,t){const n=360*(e-.5),i=S(360*(.5-t),-85.051129,zs);return new Ts(n,i)}}const Hp=Math.PI/2;function Xp(e){return Math.tan((Hp+e)/2)}class Gp extends Rp{constructor(e){super(e),this.center=e.center||[0,30];const[t,n]=this.parallels=e.parallels||[30,30];let i=y(t),r=y(n);this.southernCenter=i+r<0,this.southernCenter&&(i=-i,r=-r);const o=Math.cos(i),a=Xp(i);this.n=i===r?Math.sin(i):Math.log(o/Math.cos(r))/Math.log(Xp(r)/a),this.f=o*Math.pow(Xp(i),this.n)/this.n}project(e,t){t=y(t),this.southernCenter&&(t=-t),e=y(e-this.center[0]);const n=1e-6,{n:i,f:r}=this;r>0?t<-Hp+n&&(t=-Hp+n):t>Hp-n&&(t=Hp-n);const o=r/Math.pow(Xp(t),i);let a=o*Math.sin(i*e),s=r-o*Math.cos(i*e);return a=.5*(a/Math.PI+.5),s=.5*(s/Math.PI+.5),{x:a,y:this.southernCenter?s:1-s,z:0}}unproject(e,t){e=(2*e-.5)*Math.PI,this.southernCenter&&(t=1-t),t=(2*(1-t)-.5)*Math.PI;const{n:n,f:i}=this,r=i-t,o=Math.sign(r),a=Math.sign(n)*Math.sqrt(e*e+r*r);let s=Math.atan2(e,Math.abs(r))*o;r*n<0&&(s-=Math.PI*Math.sign(e)*o);const l=S(x(s/n)+this.center[0],-180,180),c=S(x(2*Math.atan(Math.pow(i/a,1/n))-Hp),-85.051129,zs);return new Ts(l,this.southernCenter?-c:c)}}class Yp extends Rp{constructor(e){super(e),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(e,t){return{x:As(e),y:Is(t),z:0}}unproject(e,t){const n=Ds(e),i=Os(t);return new Ts(n,i)}}const qp=y(zs);class Kp extends Rp{project(e,t){const n=(t=y(t))*t,i=n*n;return{x:.5*((e=y(e))*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791))/Math.PI+.5),y:1-.5*(t*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))/Math.PI+1),z:0}}unproject(e,t){e=(2*e-.5)*Math.PI;let n=t=(2*(1-t)-1)*Math.PI,i=25,r=0,o=n*n;do{o=n*n;const e=o*o;r=(n*(1.007226+o*(.015085+e*(.028874*o-.044475-.005916*e)))-t)/(1.007226+o*(.045255+e*(.259866*o-.311325-.005916*11*e))),n=S(n-r,-qp,qp)}while(Math.abs(r)>1e-6&&--i>0);o=n*n;const a=S(x(e/(.8707+o*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979))),-180,180),s=x(n);return new Ts(a,s)}}const $p=y(zs);class Zp extends Rp{project(e,t){t=y(t),e=y(e);const n=Math.cos(t),i=2/Math.PI,r=Math.acos(n*Math.cos(e/2)),o=Math.sin(r)/r,a=.5*(e*i+2*n*Math.sin(e/2)/o)||0,s=.5*(t+Math.sin(t)/o)||0;return{x:.5*(a/Math.PI+.5),y:1-.5*(s/Math.PI+1),z:0}}unproject(e,t){let n=e=(2*e-.5)*Math.PI,i=t=(2*(1-t)-1)*Math.PI,r=25;const o=1e-6;let a=0,s=0;do{const r=Math.cos(i),o=Math.sin(i),l=2*o*r,c=o*o,u=r*r,d=Math.cos(n/2),h=Math.sin(n/2),p=2*d*h,f=h*h,m=1-u*d*d,g=m?1/m:0,v=m?Math.acos(r*d)*Math.sqrt(1/m):0,y=.5*(2*v*r*h+2*n/Math.PI)-e,x=.5*(v*o+i)-t,b=.5*g*(u*f+v*r*d*c)+1/Math.PI,_=g*(p*l/4-v*o*h),w=.125*g*(l*h-v*o*u*p),k=.5*g*(c*d+v*f*r)+.5,C=_*w-k*b;a=(x*_-y*k)/C,s=(y*w-x*b)/C,n=S(n-a,-Math.PI,Math.PI),i=S(i-s,-$p,$p)}while((Math.abs(a)>o||Math.abs(s)>o)&&--r>0);return new Ts(x(n),x(i))}}class Jp extends Rp{constructor(e){super(e),this.center=e.center||[0,0],this.parallels=e.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(y(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(e,t){const{scale:n,cosPhi:i}=this;return{x:y(e)*i*n+.5,y:-Math.sin(y(t))/i*n+.5,z:0}}unproject(e,t){const{scale:n,cosPhi:i}=this,r=-(t-.5)/n,o=S(x((e-.5)/n)/i,-180,180),a=Math.asin(S(r*i,-1,1)),s=S(x(a),-85.051129,zs);return new Ts(o,s)}}class Qp extends Yp{constructor(e){super(e),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug","custom"],this.range=[3,5]}projectTilePoint(e,t,n){const i=bp(e,t,n);return Ul(i,i,kp(dp(n))),{x:i[0],y:i[1],z:i[2]}}locationPoint(e,t){const n=xp(t.lat,t.lng),i=jl([],n),r=e.elevation?e.elevation.getAtPointOrZero(e.locationCoordinate(t),e._centerAltitude):e._centerAltitude;Nl(n,n,i,Ls(1,0)*Ss*r);const o=xl(new Float64Array(16));return _l(o,e.pixelMatrix,e.globeMatrix),Ul(n,n,o),new f(n[0],n[1])}pixelsPerMeter(e,t){return Ls(1,0)*t}pixelSpaceConversion(e,t,n){const i=Ls(1,e)*t,r=Mn(Ls(1,45)*t,i,n);return this.pixelsPerMeter(e,t)/r}createTileMatrix(e,t,n){const i=Sp(dp(n.canonical));return _l(new Float64Array(16),e.globeMatrix,i)}createInversionMatrix(e,t){const{center:n}=e,i=kp(dp(t));return Cl(i,i,y(n.lng)),Sl(i,i,y(n.lat)),kl(i,i,[e._pixelsPerMercatorPixel,e._pixelsPerMercatorPixel,1]),Float32Array.from(i)}pointCoordinate(e,t,n,i){return lp(e,t,n,!0)||new Bs(0,0)}pointCoordinate3D(e,t,n){const i=this.pointCoordinate(e,t,n,0);return[i.x,i.y,i.z]}isPointAboveHorizon(e,t){return!lp(e,t.x,t.y,!1)}farthestPixelDistance(e){const t=function(e,t){const n=e.cameraToCenterDistance,i=e._centerAltitude*t,r=e._camera,o=e._camera.forward(),a=Dl([],Bl([],o,-n),[0,0,i]),s=e.worldSize/(2*Math.PI),l=[0,0,-s],c=e.width/e.height,u=Math.tan(e.fovAboveCenter),d=Bl([],r.up(),u),h=Bl([],r.right(),u*c),p=jl([],Dl([],Dl([],o,d),h)),f=[];let m;if(new ic(a,p).closestPointOnSphere(l,s,f)){const t=Dl([],f,l),n=Gl([],t,a);m=Math.cos(e.fovAboveCenter)*Il(n)}else{const e=Gl([],a,l),t=Gl([],l,a);jl(t,t);const n=Il(e)-s;m=Math.sqrt(n*(n+2*s));const i=Math.acos(m/(s+n))-Math.acos(Vl(o,t));m*=Math.cos(i)}return 1.01*m}(e,this.pixelsPerMeter(e.center.lat,e.worldSize)),n=Ep(e.zoom);if(n>0){const i=Lp(e,Ls(1,e.center.lat)*e.worldSize),r=e.worldSize/(2*Math.PI),o=Math.max(e.width,e.height)/e.worldSize*Math.PI;return Mn(t,i+r*(1-Math.cos(o)),Math.pow(n,10))}return t}upVector(e,t,n){return bp(t,n,e,1)}upVectorScale(e){return{metersToTile:np*_p(dp(e))}}}function ef(e){const t=e.parallels,n=!!t&&Math.abs(t[0]+t[1])<.01;switch(e.name){case"mercator":return new Yp(e);case"equirectangular":return new Up(e);case"naturalEarth":return new Kp(e);case"equalEarth":return new Wp(e);case"winkelTripel":return new Zp(e);case"albers":return n?new Jp(e):new zp(e);case"lambertConformalConic":return n?new Jp(e):new Gp(e);case"globe":return new Qp(e)}throw new Error(`Invalid projection name: ${e.name}`)}const tf=Su.types,nf=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function rf(e,t,n,i,r,o,a,s,l,c,u,d,h){const p=s?Math.min(Xh,Math.round(s[0])):0,f=s?Math.min(Xh,Math.round(s[1])):0;e.emplaceBack(t,n,Math.round(32*i),Math.round(32*r),o,a,(p<<1)+(l?1:0),f,16*c,16*u,256*d,256*h)}function of(e,t,n,i,r,o,a){e.emplaceBack(t,n,i,r,o,a)}function af(e,t,n,i,r){e.emplaceBack(t,n,i,r),e.emplaceBack(t,n,i,r),e.emplaceBack(t,n,i,r),e.emplaceBack(t,n,i,r)}function sf(e){for(const t of e.sections)if(Mo(t.text))return!0;return!1}class lf{constructor(e){this.layoutVertexArray=new fa,this.indexArray=new wa,this.programConfigurations=e,this.segments=new ks,this.dynamicLayoutVertexArray=new ua,this.opacityVertexArray=new ga,this.placedSymbolArray=new Oa,this.globeExtVertexArray=new ma}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(e,t,n,i){this.isEmpty()||(n&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ld.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,ud.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,nf,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,cd.members,!0)),this.opacityVertexBuffer.itemSize=1),(n||i)&&this.programConfigurations.upload(e))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}Wr(lf,"SymbolBuffers");class cf{constructor(e,t,n){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new n,this.segments=new ks,this.collisionVertexArray=new ba,this.collisionVertexArrayExt=new _a}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,dd.members,!0),this.collisionVertexBufferExt=e.createVertexBuffer(this.collisionVertexArrayExt,hd.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Wr(cf,"CollisionBuffers");class uf{constructor(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=xl([]),this.placementViewportMatrix=xl([]);const t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=vd(this.zoom,t["text-size"]),this.iconSizeData=vd(this.zoom,t["icon-size"]);const n=this.layers[0].layout,i=n.get("symbol-sort-key"),r=n.get("symbol-z-order");this.canOverlap=n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==r&&void 0!==i.constantOr(1),this.sortFeaturesByY=("viewport-y"===r||"auto"===r&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=n.get("text-writing-mode").map((e=>Qd[e])),this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id)),this.sourceID=e.sourceID,this.projection=e.projection}createArrays(){this.text=new lf(new ps(this.layers,this.zoom,(e=>/^text/.test(e)))),this.icon=new lf(new ps(this.layers,this.zoom,(e=>/^icon/.test(e)))),this.glyphOffsetArray=new Fa,this.lineVertexArray=new Ba,this.symbolInstances=new za}calculateGlyphDependencies(e,t,n,i,r){for(let o=0;o<e.length;o++)if(t[e.charCodeAt(o)]=!0,i&&r){const n=wd[e.charAt(o)];n&&(t[n.charCodeAt(0)]=!0)}}populate(e,t,n,i){const r=this.layers[0],o=r.layout,a="globe"===this.projection.name,s=o.get("text-font"),l=o.get("text-field"),c=o.get("icon-image"),u=("constant"!==l.value.kind||l.value.value instanceof At&&!l.value.value.isEmpty()||l.value.value.toString().length>0)&&("constant"!==s.value.kind||s.value.value.length>0),d="constant"!==c.value.kind||!!c.value.value||Object.keys(c.parameters).length>0,h=o.get("symbol-sort-key");if(this.features=[],!u&&!d)return;const p=t.iconDependencies,f=t.glyphDependencies,m=t.availableImages,g=new Vo(this.zoom);for(const{feature:v,id:y,index:x,sourceLayerIndex:b}of e){const e=r._featureFilter.needGeometry,t=Ys(v,e);if(!r._featureFilter.filter(g,t,n))continue;if(e||(t.geometry=Gs(v,n,i)),a&&1!==v.type&&n.z<=5){const e=t.geometry,i=.98078528056,r=(e,t)=>Vl(bp(e.x,e.y,n,1),bp(t.x,t.y,n,1))<i;for(let t=0;t<e.length;t++)e[t]=Ws(e[t],r)}let l,c;if(u){const e=r.getValueAndResolveTokens("text-field",t,n,m),i=At.factory(e);sf(i)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===Bo()||this.hasRTLText&&jo.isParsed())&&(l=_d(i,r,t))}if(d){const e=r.getValueAndResolveTokens("icon-image",t,n,m);c=e instanceof It?e:It.fromString(e)}if(!l&&!c)continue;const _=this.sortFeaturesByKey?h.evaluate(t,{},n):void 0;if(this.features.push({id:y,text:l,icon:c,index:x,sourceLayerIndex:b,geometry:t.geometry,properties:v.properties,type:tf[v.type],sortKey:_}),c&&(p[c.name]=!0),l){const e=s.evaluate(t,{},n).join(","),i="map"===o.get("text-rotation-alignment")&&"point"!==o.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Qd.vertical)>=0;for(const t of l.sections)if(t.image)p[t.image.name]=!0;else{const n=_o(l.toString()),r=t.fontStack||e,o=f[r]=f[r]||{};this.calculateGlyphDependencies(t.text,o,i,this.allowVerticalPlacement,n)}}}"line"===o.get("symbol-placement")&&(this.features=function(e){const t={},n={},i=[];let r=0;function o(t){i.push(e[t]),r++}function a(e,t,r){const o=n[e];return delete n[e],n[t]=o,i[o].geometry[0].pop(),i[o].geometry[0]=i[o].geometry[0].concat(r[0]),o}function s(e,n,r){const o=t[n];return delete t[n],t[e]=o,i[o].geometry[0].shift(),i[o].geometry[0]=r[0].concat(i[o].geometry[0]),o}function l(e,t,n){const i=n?t[0][t[0].length-1]:t[0][0];return`${e}:${i.x}:${i.y}`}for(let c=0;c<e.length;c++){const u=e[c],d=u.geometry,h=u.text?u.text.toString():null;if(!h){o(c);continue}const p=l(h,d),f=l(h,d,!0);if(p in n&&f in t&&n[p]!==t[f]){const e=s(p,f,d),r=a(p,f,i[e].geometry);delete t[p],delete n[f],n[l(h,i[r].geometry,!0)]=r,i[e].geometry=null}else p in n?a(p,f,d):f in t?s(p,f,d):(o(c),t[p]=r-1,n[f]=r-1)}return i.filter((e=>e.geometry))}(this.features)),this.sortFeaturesByKey&&this.features.sort(((e,t)=>e.sortKey-t.sortKey))}update(e,t,n,i){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,n,i),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,n,i))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=ef(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(e,t){const n=this.lineVertexArray.length;if(void 0!==e.segment)for(const{x:i,y:r}of t)this.lineVertexArray.emplaceBack(i,r);return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}}addSymbols(e,t,n,i,r,o,a,s,l,c,u,d,h,p){const f=e.indexArray,m=e.layoutVertexArray,g=e.globeExtVertexArray,v=e.segments.prepareSegment(4*t.length,m,f,this.canOverlap?o.sortKey:void 0),y=this.glyphOffsetArray.length,x=v.vertexLength,b=this.allowVerticalPlacement&&a===Qd.vertical?Math.PI/2:0,_=o.text&&o.text.sections;for(let k=0;k<t.length;k++){const{tl:i,tr:r,bl:a,br:c,tex:u,pixelOffsetTL:d,pixelOffsetBR:y,minFontScaleX:x,minFontScaleY:w,glyphOffset:S,isSDF:C,sectionIndex:E}=t[k],T=v.vertexLength,M=S[1];if(rf(m,l.x,l.y,i.x,M+i.y,u.x,u.y,n,C,d.x,d.y,x,w),rf(m,l.x,l.y,r.x,M+r.y,u.x+u.w,u.y,n,C,y.x,d.y,x,w),rf(m,l.x,l.y,a.x,M+a.y,u.x,u.y+u.h,n,C,d.x,y.y,x,w),rf(m,l.x,l.y,c.x,M+c.y,u.x+u.w,u.y+u.h,n,C,y.x,y.y,x,w),s){const{x:t,y:n,z:i}=s.anchor,[r,o,a]=s.up;of(g,t,n,i,r,o,a),of(g,t,n,i,r,o,a),of(g,t,n,i,r,o,a),of(g,t,n,i,r,o,a),af(e.dynamicLayoutVertexArray,t,n,i,b)}else af(e.dynamicLayoutVertexArray,l.x,l.y,l.z,b);f.emplaceBack(T,T+1,T+2),f.emplaceBack(T+1,T+2,T+3),v.vertexLength+=4,v.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(S[0]),k!==t.length-1&&E===t[k+1].sectionIndex||e.programConfigurations.populatePaintArrays(m.length,o,o.index,{},h,p,_&&_[E])}const w=s?s.anchor:l;e.placedSymbolArray.emplaceBack(w.x,w.y,w.z,l.x,l.y,y,this.glyphOffsetArray.length-y,x,c,u,l.segment,n?n[0]:0,n?n[1]:0,i[0],i[1],a,0,!1,0,d,0)}_commitLayoutVertex(e,t,n,i,r,o,a){e.emplaceBack(t,n,i,r,o,Math.round(a.x),Math.round(a.y))}_addCollisionDebugVertices(e,t,n,i,r,o,a){const s=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray),l=s.vertexLength,c=a.tileAnchorX,u=a.tileAnchorY;for(let h=0;h<4;h++)n.collisionVertexArray.emplaceBack(0,0,0,0);n.collisionVertexArrayExt.emplaceBack(t,-e.padding,-e.padding),n.collisionVertexArrayExt.emplaceBack(t,e.padding,-e.padding),n.collisionVertexArrayExt.emplaceBack(t,e.padding,e.padding),n.collisionVertexArrayExt.emplaceBack(t,-e.padding,e.padding),this._commitLayoutVertex(n.layoutVertexArray,i,r,o,c,u,new f(e.x1,e.y1)),this._commitLayoutVertex(n.layoutVertexArray,i,r,o,c,u,new f(e.x2,e.y1)),this._commitLayoutVertex(n.layoutVertexArray,i,r,o,c,u,new f(e.x2,e.y2)),this._commitLayoutVertex(n.layoutVertexArray,i,r,o,c,u,new f(e.x1,e.y2)),s.vertexLength+=4;const d=n.indexArray;d.emplaceBack(l,l+1),d.emplaceBack(l+1,l+2),d.emplaceBack(l+2,l+3),d.emplaceBack(l+3,l),s.primitiveLength+=4}_addTextDebugCollisionBoxes(e,t,n,i,r,o){for(let a=i;a<r;a++){const i=n.get(a),r=this.getSymbolInstanceTextSize(e,o,t,a);this._addCollisionDebugVertices(i,r,this.textCollisionBox,i.projectedAnchorX,i.projectedAnchorY,i.projectedAnchorZ,o)}}_addIconDebugCollisionBoxes(e,t,n,i,r,o){for(let a=i;a<r;a++){const i=n.get(a),r=this.getSymbolInstanceIconSize(e,t,o.placedIconSymbolIndex);this._addCollisionDebugVertices(i,r,this.iconCollisionBox,i.projectedAnchorX,i.projectedAnchorY,i.projectedAnchorZ,o)}}generateCollisionDebugBuffers(e,t){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new cf(ya,pd.members,Ma),this.iconCollisionBox=new cf(ya,pd.members,Ma);const n=xd(this.iconSizeData,e),i=xd(this.textSizeData,e);for(let r=0;r<this.symbolInstances.length;r++){const o=this.symbolInstances.get(r);this._addTextDebugCollisionBoxes(i,e,t,o.textBoxStartIndex,o.textBoxEndIndex,o),this._addTextDebugCollisionBoxes(i,e,t,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o),this._addIconDebugCollisionBoxes(n,e,t,o.iconBoxStartIndex,o.iconBoxEndIndex,o),this._addIconDebugCollisionBoxes(n,e,t,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex,o)}}getSymbolInstanceTextSize(e,t,n,i){const r=this.text.placedSymbolArray.get(t.rightJustifiedTextSymbolIndex>=0?t.rightJustifiedTextSymbolIndex:t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.leftJustifiedTextSymbolIndex>=0?t.leftJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex>=0?t.verticalPlacedTextSymbolIndex:i),o=yd(this.textSizeData,e,r)/md;return this.tilePixelRatio*o}getSymbolInstanceIconSize(e,t,n){const i=this.icon.placedSymbolArray.get(n),r=yd(this.iconSizeData,e,i);return this.tilePixelRatio*r}_commitDebugCollisionVertexUpdate(e,t,n){e.emplaceBack(t,-n,-n),e.emplaceBack(t,n,-n),e.emplaceBack(t,n,n),e.emplaceBack(t,-n,n)}_updateTextDebugCollisionBoxes(e,t,n,i,r,o){for(let a=i;a<r;a++){const i=n.get(a),r=this.getSymbolInstanceTextSize(e,o,t,a);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,r,i.padding)}}_updateIconDebugCollisionBoxes(e,t,n,i,r,o){for(let a=i;a<r;a++){const i=n.get(a),r=this.getSymbolInstanceIconSize(e,t,o);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,r,i.padding)}}updateCollisionDebugBuffers(e,t){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const n=xd(this.iconSizeData,e),i=xd(this.textSizeData,e);for(let r=0;r<this.symbolInstances.length;r++){const o=this.symbolInstances.get(r);this._updateTextDebugCollisionBoxes(i,e,t,o.textBoxStartIndex,o.textBoxEndIndex,o),this._updateTextDebugCollisionBoxes(i,e,t,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o),this._updateIconDebugCollisionBoxes(n,e,t,o.iconBoxStartIndex,o.iconBoxEndIndex,o.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(n,e,t,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex,o.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(e,t,n,i,r,o,a,s,l){const c={};if(t<n){const{x1:n,y1:i,x2:r,y2:o,padding:a,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:d,tileAnchorY:h,featureIndex:p}=e.get(t);c.textBox={x1:n,y1:i,x2:r,y2:o,padding:a,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:d,tileAnchorY:h},c.textFeatureIndex=p}if(i<r){const{x1:t,y1:n,x2:r,y2:o,padding:a,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:d,tileAnchorY:h,featureIndex:p}=e.get(i);c.verticalTextBox={x1:t,y1:n,x2:r,y2:o,padding:a,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:d,tileAnchorY:h},c.verticalTextFeatureIndex=p}if(o<a){const{x1:t,y1:n,x2:i,y2:r,padding:a,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:d,tileAnchorY:h,featureIndex:p}=e.get(o);c.iconBox={x1:t,y1:n,x2:i,y2:r,padding:a,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:d,tileAnchorY:h},c.iconFeatureIndex=p}if(s<l){const{x1:t,y1:n,x2:i,y2:r,padding:o,projectedAnchorX:a,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:d,tileAnchorY:h,featureIndex:p}=e.get(s);c.verticalIconBox={x1:t,y1:n,x2:i,y2:r,padding:o,projectedAnchorX:a,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:d,tileAnchorY:h},c.verticalIconFeatureIndex=p}return c}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let t=0;t<this.symbolInstances.length;t++){const n=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(e,t){const n=e.placedSymbolArray.get(t),i=n.vertexStartIndex+4*n.numGlyphs;for(let r=n.vertexStartIndex;r<i;r+=4)e.indexArray.emplaceBack(r,r+1,r+2),e.indexArray.emplaceBack(r+1,r+2,r+3)}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const t=Math.sin(e),n=Math.cos(e),i=[],r=[],o=[];for(let a=0;a<this.symbolInstances.length;++a){o.push(a);const e=this.symbolInstances.get(a);i.push(0|Math.round(t*e.tileAnchorX+n*e.tileAnchorY)),r.push(e.featureIndex)}return o.sort(((e,t)=>i[e]-i[t]||r[t]-r[e])),o}addToSortKeyRanges(e,t){const n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===t?n.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const e of this.symbolInstanceIndexes){const t=this.symbolInstances.get(e);this.featureSortOrder.push(t.featureIndex);const{rightJustifiedTextSymbolIndex:n,centerJustifiedTextSymbolIndex:i,leftJustifiedTextSymbolIndex:r,verticalPlacedTextSymbolIndex:o,placedIconSymbolIndex:a,verticalPlacedIconSymbolIndex:s}=t;n>=0&&this.addIndicesForPlacedSymbol(this.text,n),i>=0&&i!==n&&this.addIndicesForPlacedSymbol(this.text,i),r>=0&&r!==i&&r!==n&&this.addIndicesForPlacedSymbol(this.text,r),o>=0&&this.addIndicesForPlacedSymbol(this.text,o),a>=0&&this.addIndicesForPlacedSymbol(this.icon,a),s>=0&&this.addIndicesForPlacedSymbol(this.icon,s)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Wr(uf,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),uf.MAX_GLYPHS=65535,uf.addDynamicAttributes=af;const df=new Qo({"symbol-placement":new $o($e.layout_symbol["symbol-placement"]),"symbol-spacing":new $o($e.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new $o($e.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Zo($e.layout_symbol["symbol-sort-key"]),"symbol-z-order":new $o($e.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new $o($e.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new $o($e.layout_symbol["icon-ignore-placement"]),"icon-optional":new $o($e.layout_symbol["icon-optional"]),"icon-rotation-alignment":new $o($e.layout_symbol["icon-rotation-alignment"]),"icon-size":new Zo($e.layout_symbol["icon-size"]),"icon-text-fit":new $o($e.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new $o($e.layout_symbol["icon-text-fit-padding"]),"icon-image":new Zo($e.layout_symbol["icon-image"]),"icon-rotate":new Zo($e.layout_symbol["icon-rotate"]),"icon-padding":new $o($e.layout_symbol["icon-padding"]),"icon-keep-upright":new $o($e.layout_symbol["icon-keep-upright"]),"icon-offset":new Zo($e.layout_symbol["icon-offset"]),"icon-anchor":new Zo($e.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new $o($e.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new $o($e.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new $o($e.layout_symbol["text-rotation-alignment"]),"text-field":new Zo($e.layout_symbol["text-field"]),"text-font":new Zo($e.layout_symbol["text-font"]),"text-size":new Zo($e.layout_symbol["text-size"]),"text-max-width":new Zo($e.layout_symbol["text-max-width"]),"text-line-height":new Zo($e.layout_symbol["text-line-height"]),"text-letter-spacing":new Zo($e.layout_symbol["text-letter-spacing"]),"text-justify":new Zo($e.layout_symbol["text-justify"]),"text-radial-offset":new Zo($e.layout_symbol["text-radial-offset"]),"text-variable-anchor":new $o($e.layout_symbol["text-variable-anchor"]),"text-anchor":new Zo($e.layout_symbol["text-anchor"]),"text-max-angle":new $o($e.layout_symbol["text-max-angle"]),"text-writing-mode":new $o($e.layout_symbol["text-writing-mode"]),"text-rotate":new Zo($e.layout_symbol["text-rotate"]),"text-padding":new $o($e.layout_symbol["text-padding"]),"text-keep-upright":new $o($e.layout_symbol["text-keep-upright"]),"text-transform":new Zo($e.layout_symbol["text-transform"]),"text-offset":new Zo($e.layout_symbol["text-offset"]),"text-allow-overlap":new $o($e.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new $o($e.layout_symbol["text-ignore-placement"]),"text-optional":new $o($e.layout_symbol["text-optional"])});var hf={paint:new Qo({"icon-opacity":new Zo($e.paint_symbol["icon-opacity"]),"icon-color":new Zo($e.paint_symbol["icon-color"]),"icon-halo-color":new Zo($e.paint_symbol["icon-halo-color"]),"icon-halo-width":new Zo($e.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Zo($e.paint_symbol["icon-halo-blur"]),"icon-translate":new $o($e.paint_symbol["icon-translate"]),"icon-translate-anchor":new $o($e.paint_symbol["icon-translate-anchor"]),"text-opacity":new Zo($e.paint_symbol["text-opacity"]),"text-color":new Zo($e.paint_symbol["text-color"],{runtimeType:lt,getOverride:e=>e.textColor,hasOverride:e=>!!e.textColor}),"text-halo-color":new Zo($e.paint_symbol["text-halo-color"]),"text-halo-width":new Zo($e.paint_symbol["text-halo-width"]),"text-halo-blur":new Zo($e.paint_symbol["text-halo-blur"]),"text-translate":new $o($e.paint_symbol["text-translate"]),"text-translate-anchor":new $o($e.paint_symbol["text-translate-anchor"])}),layout:df};class pf{constructor(e){this.type=e.property.overrides?e.property.overrides.runtimeType:rt,this.defaultValue=e}evaluate(e){if(e.formattedSection){const t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Wr(pf,"FormatSectionOverride",{omit:["defaultValue"]});class ff extends bs{constructor(e){super(e,hf)}recalculate(e,t){super.recalculate(e,t),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const n=this.layout.get("text-writing-mode");if(n){const e=[];for(const t of n)e.indexOf(t)<0&&e.push(t);this.layout._values["text-writing-mode"]=e}else this.layout._values["text-writing-mode"]="point"===this.layout.get("symbol-placement")?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(e,t,n,i){const r=this.layout.get(e).evaluate(t,{},n,i),o=this._unevaluatedLayout._values[e];return o.isDataDriven()||Hi(o.value)||!r?r:function(e,t){return t.replace(/{([^{}]+)}/g,((t,n)=>n in e?String(e[n]):""))}(t.properties,r)}createBucket(e){return new uf(e)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const e of hf.paint.overridableProperties){if(!ff.hasPaintOverride(this.layout,e))continue;const t=this.paint.get(e),n=new pf(t),i=new Ui(n,t.property.specification);let r=null;r="constant"===t.value.kind||"source"===t.value.kind?new Gi("source",i):new Yi("composite",i,t.value.zoomStops,t.value._interpolationType),this.paint._values[e]=new qo(t.property,r,t.parameters)}}_handleOverridablePaintPropertyUpdate(e,t,n){return!(!this.layout||t.isDataDriven()||n.isDataDriven())&&ff.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,t){const n=e.get("text-field"),i=hf.paint.properties[t];let r=!1;const o=e=>{for(const t of e)if(i.overrides&&i.overrides.hasOverride(t))return void(r=!0)};if("constant"===n.value.kind&&n.value.value instanceof At)o(n.value.value.sections);else if("source"===n.value.kind){const e=t=>{r||(t instanceof Ft&&Ot(t.value)===ht?o(t.value.sections):t instanceof Wt?o(t.sections):t.eachChild(e))},t=n.value;t._styleExpression&&e(t._styleExpression.expression)}return r}getProgramConfiguration(e){return new hs(this,e)}}var mf={paint:new Qo({"background-color":new $o($e.paint_background["background-color"]),"background-pattern":new $o($e.paint_background["background-pattern"]),"background-opacity":new $o($e.paint_background["background-opacity"])})},gf={paint:new Qo({"raster-opacity":new $o($e.paint_raster["raster-opacity"]),"raster-hue-rotate":new $o($e.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new $o($e.paint_raster["raster-brightness-min"]),"raster-brightness-max":new $o($e.paint_raster["raster-brightness-max"]),"raster-saturation":new $o($e.paint_raster["raster-saturation"]),"raster-contrast":new $o($e.paint_raster["raster-contrast"]),"raster-resampling":new $o($e.paint_raster["raster-resampling"]),"raster-fade-duration":new $o($e.paint_raster["raster-fade-duration"])})};class vf extends bs{constructor(e){super(e,{}),this.implementation=e}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)}onRemove(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)}}var yf={paint:new Qo({"sky-type":new $o($e.paint_sky["sky-type"]),"sky-atmosphere-sun":new $o($e.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new $o($e.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new $o($e.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new $o($e.paint_sky["sky-gradient-radius"]),"sky-gradient":new Jo($e.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new $o($e.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new $o($e.paint_sky["sky-atmosphere-color"]),"sky-opacity":new $o($e.paint_sky["sky-opacity"])})};function xf(e,t,n){const i=[0,0,1],r=Ql([]);return tc(r,r,n?-y(e)+Math.PI:y(e)),ec(r,r,-y(t)),Hl(i,i,r),jl(i,i)}const bf={circle:class extends bs{constructor(e){super(e,fl)}createBucket(e){return new $s(e)}queryRadius(e){const t=e;return cl("circle-radius",this,t)+cl("circle-stroke-width",this,t)+ul(this.paint.get("circle-translate"))}queryIntersectsFeature(e,t,n,i,r,o,a,s){const l=hl(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),c=this.paint.get("circle-radius").evaluate(t,n)+this.paint.get("circle-stroke-width").evaluate(t,n);return sc(e,i,o,a,s,"map"===this.paint.get("circle-pitch-alignment"),"map"===this.paint.get("circle-pitch-scale"),l,c)}getProgramIds(){return["circle"]}getProgramConfiguration(e){return new hs(this,e)}},heatmap:class extends bs{createBucket(e){return new hc(e)}constructor(e){super(e,yc),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(e){"heatmap-color"===e&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=xc({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(e){return cl("heatmap-radius",this,e)}queryIntersectsFeature(e,t,n,i,r,o,a,s){const l=this.paint.get("heatmap-radius").evaluate(t,n);return sc(e,i,o,a,s,!0,!0,new f(0,0),l)}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(e){return new hs(this,e)}},hillshade:class extends bs{constructor(e){super(e,bc)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends bs{constructor(e){super(e,au)}getProgramIds(){const e=this.paint.get("fill-pattern"),t=e&&e.constantOr(1),n=[t?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&n.push(t&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),n}getProgramConfiguration(e){return new hs(this,e)}recalculate(e,t){super.recalculate(e,t);const n=this.paint._values["fill-outline-color"];"constant"===n.value.kind&&void 0===n.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(e){return new ru(e)}queryRadius(){return ul(this.paint.get("fill-translate"))}queryIntersectsFeature(e,t,n,i,r,o){return!e.queryGeometry.isAboveHorizon&&Qs(dl(e.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),i)}isTileClipped(){return!0}},"fill-extrusion":class extends bs{constructor(e){super(e,Vu)}createBucket(e){return new Iu(e)}queryRadius(){return ul(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(e){return new hs(this,e)}queryIntersectsFeature(e,t,n,i,r,o,a,s,l){const c=hl(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),u=this.paint.get("fill-extrusion-height").evaluate(t,n),d=this.paint.get("fill-extrusion-base").evaluate(t,n),h=[0,0],p=s&&o.elevation,m=o.elevation?o.elevation.exaggeration():1,g=e.tile.getBucket(this);if(p&&g instanceof Iu){const e=g.centroidVertexArray,t=l+1;t<e.length&&(h[0]=e.geta_centroid_pos0(t),h[1]=e.geta_centroid_pos1(t))}if(0===h[0]&&1===h[1])return!1;"globe"===o.projection.name&&(i=Nu([i],[new f(0,0),new f(Ss,Ss)],e.tileID.canonical).map((e=>e.polygon)).flat());const v=p?s:null,[y,x]=function(e,t,n,i,r,o,a,s,l,c,u){return"globe"===e.projection.name?function(e,t,n,i,r,o,a,s,l,c,u){const d=[],h=[],p=e.projection.upVectorScale(u,e.center.lat,e.worldSize).metersToTile,f=[0,0,0,1],m=[0,0,0,1],g=(e,t,n,i)=>{e[0]=t,e[1]=n,e[2]=i,e[3]=1},v=Bu();n>0&&(n+=v),i+=v;for(const y of t){const t=[],v=[];for(const d of y){const h=d.x+r.x,y=d.y+r.y,x=e.projection.projectTilePoint(h,y,u),b=e.projection.upVector(u,d.x,d.y);let _=n,w=i;if(a){const e=$u(h,y,n,i,a,s,l,c);_+=e.base,w+=e.top}0!==n?g(f,x.x+b[0]*p*_,x.y+b[1]*p*_,x.z+b[2]*p*_):g(f,x.x,x.y,x.z),g(m,x.x+b[0]*p*w,x.y+b[1]*p*w,x.z+b[2]*p*w),Ul(f,f,o),Ul(m,m,o),t.push(new Yu(f[0],f[1],f[2])),v.push(new Yu(m[0],m[1],m[2]))}d.push(t),h.push(v)}return[d,h]}(e,t,n,i,r,o,a,s,l,c,u):a?function(e,t,n,i,r,o,a,s,l){const c=[],u=[],d=[0,0,0,1];for(const h of e){const e=[],p=[];for(const c of h){const u=c.x+i.x,h=c.y+i.y,f=$u(u,h,t,n,o,a,s,l);d[0]=u,d[1]=h,d[2]=f.base,d[3]=1,Zl(d,d,r),d[3]=Math.max(d[3],1e-5);const m=new Yu(d[0]/d[3],d[1]/d[3],d[2]/d[3]);d[0]=u,d[1]=h,d[2]=f.top,d[3]=1,Zl(d,d,r),d[3]=Math.max(d[3],1e-5);const g=new Yu(d[0]/d[3],d[1]/d[3],d[2]/d[3]);e.push(m),p.push(g)}c.push(e),u.push(p)}return[c,u]}(t,n,i,r,o,a,s,l,c):function(e,t,n,i,r){const o=[],a=[],s=r[8]*t,l=r[9]*t,c=r[10]*t,u=r[11]*t,d=r[8]*n,h=r[9]*n,p=r[10]*n,f=r[11]*n;for(const m of e){const e=[],t=[];for(const n of m){const o=n.x+i.x,a=n.y+i.y,m=r[0]*o+r[4]*a+r[12],g=r[1]*o+r[5]*a+r[13],v=r[2]*o+r[6]*a+r[14],y=r[3]*o+r[7]*a+r[15],x=m+s,b=g+l,_=v+c,w=Math.max(y+u,1e-5),k=m+d,S=g+h,C=v+p,E=Math.max(y+f,1e-5);e.push(new Yu(x/w,b/w,_/w)),t.push(new Yu(k/E,S/E,C/E))}o.push(e),a.push(t)}return[o,a]}(t,n,i,r,o)}(o,i,d,u,c,a,v,h,m,o.center.lat,e.tileID.canonical),b=e.queryGeometry;return function(e,t,n){let i=1/0;Qs(n,t)&&(i=Ku(n,t[0]));for(let r=0;r<t.length;r++){const o=t[r],a=e[r];for(let e=0;e<o.length-1;e++){const t=o[e],r=[t,o[e+1],a[e+1],a[e],t];Zs(n,r)&&(i=Math.min(i,Ku(n,r)))}}return i!==1/0&&i}(y,x,b.isPointQuery()?b.screenBounds:b.screenGeometry)}},line:class extends bs{constructor(e){super(e,od),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(e){if("line-gradient"===e){const e=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=e._styleExpression&&e._styleExpression.expression instanceof Tn,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(e,t){super.recalculate(e,t),this.paint._values["line-floorwidth"]=ad.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)}createBucket(e){return new id(e)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(e){return new hs(this,e)}queryRadius(e){const t=e,n=sd(cl("line-width",this,t),cl("line-gap-width",this,t)),i=cl("line-offset",this,t);return n/2+Math.abs(i)+ul(this.paint.get("line-translate"))}queryIntersectsFeature(e,t,n,i,r,o){if(e.queryGeometry.isAboveHorizon)return!1;const a=dl(e.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),s=e.pixelToTileUnitsFactor/2*sd(this.paint.get("line-width").evaluate(t,n),this.paint.get("line-gap-width").evaluate(t,n)),l=this.paint.get("line-offset").evaluate(t,n);return l&&(i=function(e,t){const n=[],i=new f(0,0);for(let r=0;r<e.length;r++){const o=e[r],a=[];for(let e=0;e<o.length;e++){const n=o[e-1],r=o[e],s=o[e+1],l=0===e?i:r.sub(n)._unit()._perp(),c=e===o.length-1?i:s.sub(r)._unit()._perp(),u=l._add(c)._unit();u._mult(1/(u.x*c.x+u.y*c.y)),a.push(u._mult(t)._add(r))}n.push(a)}return n}(i,l*e.pixelToTileUnitsFactor)),function(e,t,n){for(let i=0;i<t.length;i++){const r=t[i];if(e.length>=3)for(let t=0;t<r.length;t++)if(al(e,r[t]))return!0;if(el(e,r,n))return!0}return!1}(a,i,s)}isTileClipped(){return!0}},symbol:ff,background:class extends bs{constructor(e){super(e,mf)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends bs{constructor(e){super(e,gf)}getProgramIds(){return["raster"]}},sky:class extends bs{constructor(e){super(e,yf),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(e){"sky-gradient"===e?this._updateColorRamp():"sky-atmosphere-sun"!==e&&"sky-atmosphere-halo-color"!==e&&"sky-atmosphere-color"!==e&&"sky-atmosphere-sun-intensity"!==e||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=xc({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(e){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const t=e.style.light.properties.get("position");return this._lightPosition.azimuthal!==t.azimuthal||this._lightPosition.polar!==t.polar}return!1}getCenter(e,t){if("atmosphere"===this.paint.get("sky-type")){const n=this.paint.get("sky-atmosphere-sun"),i=!n,r=e.style.light,o=r.properties.get("position");return i&&"viewport"===r.properties.get("anchor")&&V("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),i?xf(o.azimuthal,90-o.polar,t):xf(n[0],90-n[1],t)}const n=this.paint.get("sky-gradient-center");return xf(n[0],90-n[1],t)}is3D(){return!1}isSky(){return!0}markSkyboxValid(e){this._skyboxInvalidated=!1,this._lightPosition=e.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const e=this.paint.get("sky-type");return"atmosphere"===e?["skyboxCapture","skybox"]:"gradient"===e?["skyboxGradient"]:null}}};class _f{constructor(e,t,n,i){this.context=e,this.format=n,this.texture=e.gl.createTexture(),this.update(t,i)}update(e,n,i){const{width:r,height:o}=e,{context:a}=this,{gl:s}=a,{HTMLImageElement:l,HTMLCanvasElement:c,HTMLVideoElement:u,ImageData:d,ImageBitmap:h}=t;if(s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!n||!1!==n.premultiply)),i||this.size&&this.size[0]===r&&this.size[1]===o){const{x:t,y:n}=i||{x:0,y:0};e instanceof l||e instanceof c||e instanceof u||e instanceof d||h&&e instanceof h?s.texSubImage2D(s.TEXTURE_2D,0,t,n,s.RGBA,s.UNSIGNED_BYTE,e):s.texSubImage2D(s.TEXTURE_2D,0,t,n,r,o,s.RGBA,s.UNSIGNED_BYTE,e.data)}else this.size=[r,o],e instanceof l||e instanceof c||e instanceof u||e instanceof d||h&&e instanceof h?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,e):s.texImage2D(s.TEXTURE_2D,0,this.format,r,o,0,this.format,s.UNSIGNED_BYTE,e.data);this.useMipmap=Boolean(n&&n.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&s.generateMipmap(s.TEXTURE_2D)}bind(e,t){const{context:n}=this,{gl:i}=n;i.bindTexture(i.TEXTURE_2D,this.texture),e!==this.filter&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,e),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,this.useMipmap?e===i.NEAREST?i.NEAREST_MIPMAP_NEAREST:i.LINEAR_MIPMAP_NEAREST:e),this.filter=e),t!==this.wrap&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,t),this.wrap=t)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null}}class wf{constructor(e){this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._callback()}),0))}remove(){this._channel=void 0,this._callback=()=>{}}}class kf{constructor(){this.tasks={},this.taskQueue=[],R(["process"],this),this.invoker=new wf(this.process),this.nextId=0}add(e,t){const n=this.nextId++,i=function({type:e,isSymbolTile:t,zoom:n}){return n=n||0,"message"===e?0:"maybePrepare"!==e||t?"parseTile"!==e||t?"parseTile"===e&&t?300-n:"maybePrepare"===e&&t?400-n:500:200-n:100-n}(t);if(0===i){H();try{e()}finally{}return{cancel:()=>{}}}return this.tasks[n]={fn:e,metadata:t,priority:i,id:n},this.taskQueue.push(n),this.invoker.trigger(),{cancel:()=>{delete this.tasks[n]}}}process(){H();try{if(this.taskQueue=this.taskQueue.filter((e=>!!this.tasks[e])),!this.taskQueue.length)return;const e=this.pick();if(null===e)return;const t=this.tasks[e];if(delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),!t)return;t.fn()}finally{}}pick(){let e=null,t=1/0;for(let i=0;i<this.taskQueue.length;i++){const n=this.tasks[this.taskQueue[i]];n.priority<t&&(t=n.priority,e=i)}if(null===e)return null;const n=this.taskQueue[e];return this.taskQueue.splice(e,1),n}remove(){this.invoker.remove()}}class Sf{constructor(e){this._stringToNumber={},this._numberToString=[];for(let t=0;t<e.length;t++){const n=e[t];this._stringToNumber[n]=t,this._numberToString[t]=n}}encode(e){return this._stringToNumber[e]}decode(e){return this._numberToString[e]}}const Cf=["tile","layer","source","sourceLayer","state"];class Ef{constructor(e,t,n,i,r){this.type="Feature",this._vectorTileFeature=e,this._z=t,this._x=n,this._y=i,this.properties=e.properties,this.id=r}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(e){this._geometry=e}toJSON(){const e={type:"Feature",geometry:this.geometry,properties:this.properties};void 0!==this.id&&(e.id=this.id);for(const t of Cf)void 0!==this[t]&&(e[t]=this[t]);return e}}const Tf=32,Mf=33,Pf=new Uint16Array(8184);for(let gm=0;gm<2046;gm++){let e=gm+2,t=0,n=0,i=0,r=0,o=0,a=0;for(1&e?i=r=o=Tf:t=n=a=Tf;(e>>=1)>1;){const s=t+i>>1,l=n+r>>1;1&e?(i=t,r=n,t=o,n=a):(t=i,n=r,i=o,r=a),o=s,a=l}const s=4*gm;Pf[s+0]=t,Pf[s+1]=n,Pf[s+2]=i,Pf[s+3]=r}const Af=new Uint16Array(2178),If=new Uint8Array(1089),Lf=new Uint16Array(1089);function Df(e){return 0===e?-.03125:32===e?.03125:0}var Of=ra([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const Rf={type:2,extent:Ss,loadGeometry:()=>[[new f(0,0),new f(8193,0),new f(8193,8193),new f(0,8193),new f(0,0)]]};class zf{constructor(e,t,n,i,r){this.tileID=e,this.uid=I(),this.uses=0,this.tileSize=t,this.tileZoom=n,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=r,this.expiredRequestCount=0,this.state="loading",i&&i.transform&&(this.projection=i.transform.projection)}registerFadeDuration(e){const t=e+this.timeAdded;t<He.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}get tileTransform(){return this._tileTransform||(this._tileTransform=Dp(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(e,t,n){if(this.unloadVectorData(),this.state="loaded",e){e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){const n={};if(!t)return n;for(const i of e){const e=i.layerIds.map((e=>t.getLayer(e))).filter(Boolean);if(0!==e.length){i.layers=e,i.stateDependentLayerIds&&(i.stateDependentLayers=i.stateDependentLayerIds.map((t=>e.filter((e=>e.id===t))[0])));for(const t of e)n[t.id]=i}}return n}(e.buckets,t.style),this.hasSymbolBuckets=!1;for(const e in this.buckets){const t=this.buckets[e];if(t instanceof uf){if(this.hasSymbolBuckets=!0,!n)break;t.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const e in this.buckets){const t=this.buckets[e];if(t instanceof uf&&t.hasRTLText){this.hasRTLText=!0,jo.isLoading()||jo.isLoaded()||"deferred"!==Bo()||No();break}}this.queryPadding=0;for(const e in this.buckets){const n=this.buckets[e];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(e).queryRadius(n))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage),e.lineAtlas&&(this.lineAtlas=e.lineAtlas)}else this.collisionBoxArray=new La}unloadVectorData(){if(this.hasData()){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(e){return this.buckets[e.id]}upload(e){for(const n in this.buckets){const t=this.buckets[n];t.uploadPending()&&t.upload(e)}const t=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new _f(e,this.imageAtlas.image,t.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new _f(e,this.glyphAtlasImage,t.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new _f(e,this.lineAtlas.image,t.ALPHA),this.lineAtlas.uploaded=!0)}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}queryRenderedFeatures(e,t,n,i,r,o,a,s){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:i,pixelPosMatrix:a,transform:o,params:r,tileTransform:this.tileTransform},e,t,n):{}}querySourceFeatures(e,t){const n=this.latestFeatureIndex;if(!n||!n.rawTileData)return;const i=n.loadVTLayers(),r=t?t.sourceLayer:"",o=i._geojsonTileLayer||i[r];if(!o)return;const a=ar(t&&t.filter),{z:s,x:l,y:c}=this.tileID.canonical,u={z:s,x:l,y:c};for(let d=0;d<o.length;d++){const t=o.feature(d);if(a.needGeometry){const e=Ys(t,!0);if(!a.filter(new Vo(this.tileID.overscaledZ),e,this.tileID.canonical))continue}else if(!a.filter(new Vo(this.tileID.overscaledZ),t))continue;const i=n.getId(t,r),h=new Ef(t,s,l,c,i);h.tile=u,e.push(h)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(e){const t=this.expirationTime;if(e.cacheControl){const t=X(e.cacheControl);t["max-age"]&&(this.expirationTime=Date.now()+1e3*t["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){const e=Date.now();let n=!1;if(this.expirationTime>e)n=!1;else if(t)if(this.expirationTime<t)n=!0;else{const i=this.expirationTime-t;i?this.expirationTime=e+Math.max(i,3e4):n=!0}else n=!0;n?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(e,t){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(e).length||!t)return;const n=this.latestFeatureIndex.loadVTLayers(),i=t.style.listImages();for(const r in this.buckets){if(!t.style.hasLayer(r))continue;const o=this.buckets[r],a=o.layers[0].sourceLayer||"_geojsonTileLayer",s=n[a],l=e[a];if(!s||!l||0===Object.keys(l).length)continue;if(o.update(l,s,i,this.imageAtlas&&this.imageAtlas.patternPositions||{}),o instanceof id||o instanceof ru){const e=t.style._getSourceCache(o.layers[0].source);t._terrain&&t._terrain.enabled&&e&&o.programConfigurations.needsUpload&&t._terrain._clearRenderCacheForTile(e.id,this.tileID)}const c=t&&t.style&&t.style.getLayer(r);c&&(this.queryPadding=Math.max(this.queryPadding,c.queryRadius(o)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<He.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(e){this.symbolFadeHoldUntil=He.now()+e}setTexture(e,t){const n=t.context,i=n.gl;this.texture=this.texture||t.getTileTexture(e.width),this.texture?this.texture.update(e,{useMipmap:!0}):(this.texture=new _f(n,e,i.RGBA,{useMipmap:!0}),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),n.extTextureFilterAnisotropic&&i.texParameterf(i.TEXTURE_2D,n.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,n.extTextureFilterAnisotropicMax))}setDependencies(e,t){const n={};for(const i of t)n[i]=!0;this.dependencies[e]=n}hasDependency(e,t){for(const n of e){const e=this.dependencies[n];if(e)for(const n of t)if(e[n])return!0}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(e,t){if(!t||"mercator"===t.name||this._tileDebugBuffer)return;const n=Gs(Rf,this.tileID.canonical,this.tileTransform)[0],i=new aa,r=new Pa;for(let o=0;o<n.length;o++){const{x:e,y:t}=n[o];i.emplaceBack(e,t),r.emplaceBack(o)}r.emplaceBack(0),this._tileDebugIndexBuffer=e.createIndexBuffer(r),this._tileDebugBuffer=e.createVertexBuffer(i,ep.members),this._tileDebugSegments=ks.simpleSegment(0,0,i.length,r.length)}_makeTileBoundsBuffers(e,t){if(this._tileBoundsBuffer||!t||"mercator"===t.name)return;const n=Gs(Rf,this.tileID.canonical,this.tileTransform)[0];let i,r;if(this.isRaster){const e=function(e,t){const n=Dp(e,t),i=Math.pow(2,e.z);for(let c=0;c<Mf;c++)for(let r=0;r<Mf;r++){const o=Ds((e.x+(r+Df(r))/Tf)/i),a=Os((e.y+(c+Df(c))/Tf)/i),s=t.project(o,a),l=c*Mf+r;Af[2*l+0]=Math.round((s.x*n.scale-n.x)*Ss),Af[2*l+1]=Math.round((s.y*n.scale-n.y)*Ss)}If.fill(0),Lf.fill(0);for(let c=2045;c>=0;c--){const e=4*c,t=Pf[e+0],n=Pf[e+1],i=Pf[e+2],r=Pf[e+3],o=t+i>>1,a=n+r>>1,s=o+a-n,l=a+t-o,u=n*Mf+t,d=r*Mf+i,h=a*Mf+o,p=Math.hypot((Af[2*u+0]+Af[2*d+0])/2-Af[2*h+0],(Af[2*u+1]+Af[2*d+1])/2-Af[2*h+1])>=16;if(If[h]=If[h]||(p?1:0),c<1022){const e=(n+l>>1)*Mf+(t+s>>1),o=(r+l>>1)*Mf+(i+s>>1);If[h]=If[h]||If[e]||If[o]}}const r=new la,o=new wa;let a=0;function s(e,t){const n=t*Mf+e;return 0===Lf[n]&&(r.emplaceBack(Af[2*n+0],Af[2*n+1],e*Ss/Tf,t*Ss/Tf),Lf[n]=++a),Lf[n]-1}function l(e,t,n,i,r,a){const c=e+n>>1,u=t+i>>1;if(Math.abs(e-r)+Math.abs(t-a)>1&&If[u*Mf+c])l(r,a,e,t,c,u),l(n,i,r,a,c,u);else{const l=s(e,t),c=s(n,i),u=s(r,a);o.emplaceBack(l,c,u)}}return l(0,0,Tf,Tf,Tf,0),l(Tf,Tf,0,0,0,Tf),{vertices:r,indices:o}}(this.tileID.canonical,t);i=e.vertices,r=e.indices}else{i=new la,r=new wa;for(const{x:t,y:r}of n)i.emplaceBack(t,r,0,0);const e=kc.exports(i.int16,void 0,4);for(let t=0;t<e.length;t+=3)r.emplaceBack(e[t],e[t+1],e[t+2])}this._tileBoundsBuffer=e.createVertexBuffer(i,Of.members),this._tileBoundsIndexBuffer=e.createIndexBuffer(r),this._tileBoundsSegments=ks.simpleSegment(0,0,i.length,r.length)}_makeGlobeTileDebugBuffers(e,t){const n=t.projection;if(!n||"globe"!==n.name||t.freezeTileCoverage)return;const i=this.tileID.canonical,r=kp(pp(i,t)),o=Ep(t.zoom);let a;o>0&&(a=bl(new Float64Array(16),t.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(e,i,t,r,a,o),this._makeGlobeTileDebugTextBuffer(e,i,t,r,a,o)}_globePoint(e,t,n,i,r,o,a){let s=bp(e,t,n);if(o){const r=1<<n.z,l=As(i.center.lng),c=Is(i.center.lat),u=(n.x+.5)/r-l;let d=0;u>.5?d=-1:u<-.5&&(d=1);let h=(e/Ss+n.x)/r+d,p=(t/Ss+n.y)/r;h=(h-l)*i._pixelsPerMercatorPixel+l,p=(p-c)*i._pixelsPerMercatorPixel+c;const f=[h*i.worldSize,p*i.worldSize,0];Ul(f,f,o),s=hp(s,f,a)}return Ul(s,s,r)}_makeGlobeTileDebugBorderBuffer(e,t,n,i,r,o){const a=new aa,s=new Pa,l=new sa,c=(e,c,u,d,h)=>{const p=(u-e)/(h-1),f=(d-c)/(h-1),m=a.length;for(let g=0;g<h;g++){const u=e+g*p,d=c+g*f;a.emplaceBack(u,d);const h=this._globePoint(u,d,t,n,i,r,o);l.emplaceBack(h[0],h[1],h[2]),s.emplaceBack(m+g)}},u=Ss;c(0,0,u,0,16),c(u,0,u,u,16),c(u,u,0,u,16),c(0,u,0,0,16),this._tileDebugIndexBuffer=e.createIndexBuffer(s),this._tileDebugBuffer=e.createVertexBuffer(a,ep.members),this._globeTileDebugBorderBuffer=e.createVertexBuffer(l,Qh.members),this._tileDebugSegments=ks.simpleSegment(0,0,a.length,s.length)}_makeGlobeTileDebugTextBuffer(e,t,n,i,r,o){const a=new aa,s=new wa,l=new sa,c=25;s.reserve(32),a.reserve(c),l.reserve(c);const u=(e,t)=>c*e+t;for(let d=0;d<c;d++){const e=2048*d;for(let s=0;s<c;s++){const c=2048*s;a.emplaceBack(c,e);const u=this._globePoint(c,e,t,n,i,r,o);l.emplaceBack(u[0],u[1],u[2])}}for(let d=0;d<4;d++)for(let e=0;e<4;e++){const t=u(d,e),n=u(d,e+1),i=u(d+1,e),r=u(d+1,e+1);s.emplaceBack(t,n,i),s.emplaceBack(i,n,r)}this._tileDebugTextIndexBuffer=e.createIndexBuffer(s),this._tileDebugTextBuffer=e.createVertexBuffer(a,ep.members),this._globeTileDebugTextBuffer=e.createVertexBuffer(l,Qh.members),this._tileDebugTextSegments=ks.simpleSegment(0,0,c,32)}}class Ff{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(e,t,n){const i=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][i]=this.stateChanges[e][i]||{},P(this.stateChanges[e][i],n),null===this.deletedStates[e]){this.deletedStates[e]={};for(const t in this.state[e])t!==i&&(this.deletedStates[e][t]=null)}else if(this.deletedStates[e]&&null===this.deletedStates[e][i]){this.deletedStates[e][i]={};for(const t in this.state[e][i])n[t]||(this.deletedStates[e][i][t]=null)}else for(const r in n)this.deletedStates[e]&&this.deletedStates[e][i]&&null===this.deletedStates[e][i][r]&&delete this.deletedStates[e][i][r]}removeFeatureState(e,t,n){if(null===this.deletedStates[e])return;const i=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},n&&void 0!==t)null!==this.deletedStates[e][i]&&(this.deletedStates[e][i]=this.deletedStates[e][i]||{},this.deletedStates[e][i][n]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][i])for(n in this.deletedStates[e][i]={},this.stateChanges[e][i])this.deletedStates[e][i][n]=null;else this.deletedStates[e][i]=null;else this.deletedStates[e]=null}getState(e,t){const n=String(t),i=P({},(this.state[e]||{})[n],(this.stateChanges[e]||{})[n]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){const n=this.deletedStates[e][t];if(null===n)return{};for(const e in n)delete i[e]}return i}initializeTileState(e,t){e.setFeatureState(this.state,t)}coalesceChanges(e,t){const n={};for(const i in this.stateChanges){this.state[i]=this.state[i]||{};const e={};for(const t in this.stateChanges[i])this.state[i][t]||(this.state[i][t]={}),P(this.state[i][t],this.stateChanges[i][t]),e[t]=this.state[i][t];n[i]=e}for(const i in this.deletedStates){this.state[i]=this.state[i]||{};const e={};if(null===this.deletedStates[i])for(const t in this.state[i])e[t]={},this.state[i][t]={};else for(const t in this.deletedStates[i]){if(null===this.deletedStates[i][t])this.state[i][t]={};else for(const e of Object.keys(this.deletedStates[i][t]))delete this.state[i][t][e];e[t]=this.state[i][t]}n[i]=n[i]||{},P(n[i],e)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(const i in e)e[i].setFeatureState(n,t)}}class Bf{constructor(e){this.size=e,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(e,t){const n=this.toIdx(e,t);return{min:this.minimums[n],max:this.maximums[n]}}isLeaf(e,t){return this.leaves[this.toIdx(e,t)]}toIdx(e,t){return t*this.size+e}}function Nf(e,t,n,i){let r=0,o=Number.MAX_VALUE;for(let a=0;a<3;a++)if(Math.abs(i[a])<1e-15){if(n[a]<e[a]||n[a]>t[a])return null}else{const s=1/i[a];let l=(e[a]-n[a])*s,c=(t[a]-n[a])*s;if(l>c){const e=l;l=c,c=e}if(l>r&&(r=l),c<o&&(o=c),r>o)return null}return r}function jf(e,t,n,i,r,o,a,s,l,c,u){const d=i-e,h=r-t,p=o-n,f=a-e,m=s-t,g=l-n,v=u[1]*g-u[2]*m,y=u[2]*f-u[0]*g,x=u[0]*m-u[1]*f,b=d*v+h*y+p*x;if(Math.abs(b)<1e-15)return null;const _=1/b,w=c[0]-e,k=c[1]-t,S=c[2]-n,C=(w*v+k*y+S*x)*_;if(C<0||C>1)return null;const E=k*p-S*h,T=S*d-w*p,M=w*h-k*d,P=(u[0]*E+u[1]*T+u[2]*M)*_;return P<0||C+P>1?null:(f*E+m*T+g*M)*_}function Vf(e,t,n){return(e-t)/(n-t)}function Wf(e,t,n,i,r,o,a,s,l){const c=1<<n,u=o-i,d=a-r,h=(e+1)/c*u+i,p=(t+0)/c*d+r,f=(t+1)/c*d+r;s[0]=(e+0)/c*u+i,s[1]=p,l[0]=h,l[1]=f}class Uf{constructor(e){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=e,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const t=function(e){const t=Math.ceil(Math.log2(e.dim/8)),n=[];let i=Math.ceil(Math.pow(2,t));const r=1/i,o=(e,t,n,i,r)=>{const o=i?1:0,a=(e+1)*n-o,s=t*n,l=(t+1)*n-o;r[0]=e*n,r[1]=s,r[2]=a,r[3]=l};let a=new Bf(i);const s=[];for(let l=0;l<i*i;l++){o(l%i,Math.floor(l/i),r,!1,s);const t=Xf(s[0],s[1],e),n=Xf(s[2],s[1],e),c=Xf(s[2],s[3],e),u=Xf(s[0],s[3],e);a.minimums.push(Math.min(t,n,c,u)),a.maximums.push(Math.max(t,n,c,u)),a.leaves.push(1)}for(n.push(a),i/=2;i>=1;i/=2){const e=n[n.length-1];a=new Bf(i);for(let t=0;t<i*i;t++){o(t%i,Math.floor(t/i),2,!0,s);const n=e.getElevation(s[0],s[1]),r=e.getElevation(s[2],s[1]),l=e.getElevation(s[2],s[3]),c=e.getElevation(s[0],s[3]),u=e.isLeaf(s[0],s[1]),d=e.isLeaf(s[2],s[1]),h=e.isLeaf(s[2],s[3]),p=e.isLeaf(s[0],s[3]),f=Math.min(n.min,r.min,l.min,c.min),m=Math.max(n.max,r.max,l.max,c.max),g=u&&d&&h&&p;a.maximums.push(m),a.minimums.push(f),a.leaves.push(m-f<=5&&g?1:0)}n.push(a)}return n}(this.dem),n=t.length-1,i=t[n];this._addNode(i.minimums[0],i.maximums[0],i.leaves[0]),this._construct(t,0,0,n,0)}raycastRoot(e,t,n,i,r,o,a=1){return Nf([e,t,-100],[n,i,this.maximums[0]*a],r,o)}raycast(e,t,n,i,r,o,a=1){if(!this.nodeCount)return null;const s=this.raycastRoot(e,t,n,i,r,o,a);if(null==s)return null;const l=[],c=[],u=[],d=[],h=[{idx:0,t:s,nodex:0,nodey:0,depth:0}];for(;h.length>0;){const{idx:s,t:p,nodex:f,nodey:m,depth:g}=h.pop();if(this.leaves[s]){Wf(f,m,g,e,t,n,i,u,d);const s=1<<g,l=(f+0)/s,c=(f+1)/s,h=(m+0)/s,v=(m+1)/s,y=Xf(l,h,this.dem)*a,x=Xf(c,h,this.dem)*a,b=Xf(c,v,this.dem)*a,_=Xf(l,v,this.dem)*a,w=jf(u[0],u[1],y,d[0],u[1],x,d[0],d[1],b,r,o),k=jf(d[0],d[1],b,u[0],d[1],_,u[0],u[1],y,r,o),S=Math.min(null!==w?w:Number.MAX_VALUE,null!==k?k:Number.MAX_VALUE);if(S!==Number.MAX_VALUE)return S;{const e=Nl([],r,o,p);if(Hf(y,x,_,b,Vf(e[0],u[0],d[0]),Vf(e[1],u[1],d[1]))>=e[2])return p}continue}let v=0;for(let h=0;h<this._siblingOffset.length;h++){Wf((f<<1)+this._siblingOffset[h][0],(m<<1)+this._siblingOffset[h][1],g+1,e,t,n,i,u,d),u[2]=-100,d[2]=this.maximums[this.childOffsets[s]+h]*a;const p=Nf(u,d,r,o);if(null!=p){const e=p;l[h]=e;let t=!1;for(let n=0;n<v&&!t;n++)e>=l[c[n]]&&(c.splice(n,0,h),t=!0);t||(c[v]=h),v++}}for(let e=0;e<v;e++){const t=c[e];h.push({idx:this.childOffsets[s]+t,t:l[t],nodex:(f<<1)+this._siblingOffset[t][0],nodey:(m<<1)+this._siblingOffset[t][1],depth:g+1})}}return null}_addNode(e,t,n){return this.minimums.push(e),this.maximums.push(t),this.leaves.push(n),this.childOffsets.push(0),this.nodeCount++}_construct(e,t,n,i,r){if(1===e[i].isLeaf(t,n))return;this.childOffsets[r]||(this.childOffsets[r]=this.nodeCount);const o=i-1,a=e[o];let s=0,l=0;for(let c=0;c<this._siblingOffset.length;c++){const e=2*t+this._siblingOffset[c][0],i=2*n+this._siblingOffset[c][1],r=a.getElevation(e,i),o=a.isLeaf(e,i),u=this._addNode(r.min,r.max,o);o&&(s|=1<<c),l||(l=u)}for(let c=0;c<this._siblingOffset.length;c++)s&1<<c||this._construct(e,2*t+this._siblingOffset[c][0],2*n+this._siblingOffset[c][1],o,l+c)}}function Hf(e,t,n,i,r,o){return Mn(Mn(e,n,o),Mn(t,i,o),r)}function Xf(e,t,n){const i=n.dim,r=S(e*i-.5,0,i-1),o=S(t*i-.5,0,i-1),a=Math.floor(r),s=Math.floor(o),l=Math.min(a+1,i-1),c=Math.min(s+1,i-1);return Hf(n.get(a,s),n.get(l,s),n.get(a,c),n.get(l,c),r-a,o-s)}const Gf={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class Yf{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(e,t,n,i=!1,r=!1){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return V(`"${n}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=t.height;const o=this.dim=t.height-2,a=new Uint32Array(t.data.buffer);if(this.pixels=new Uint8Array(t.data.buffer),this.encoding=n||"mapbox",this.borderReady=i,!i){for(let e=0;e<o;e++)a[this._idx(-1,e)]=a[this._idx(0,e)],a[this._idx(o,e)]=a[this._idx(o-1,e)],a[this._idx(e,-1)]=a[this._idx(e,0)],a[this._idx(e,o)]=a[this._idx(e,o-1)];a[this._idx(-1,-1)]=a[this._idx(0,0)],a[this._idx(o,-1)]=a[this._idx(o-1,0)],a[this._idx(-1,o)]=a[this._idx(0,o-1)],a[this._idx(o,o)]=a[this._idx(o-1,o-1)],r&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new Uf(this)}get(e,t,n=!1){n&&(e=S(e,-1,this.dim),t=S(t,-1,this.dim));const i=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(this.pixels[i],this.pixels[i+1],this.pixels[i+2])}static getUnpackVector(e){return Gf[e]}get unpackVector(){return Gf[this.encoding]}_idx(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)}_unpackMapbox(e,t,n){return(256*e*256+256*t+n)/10-1e4}_unpackTerrarium(e,t,n){return 256*e+t+n/256-32768}static pack(e,t){const n=[0,0,0,0],i=Yf.getUnpackVector(t);let r=Math.floor((e+i[3])/i[2]);return n[2]=r%256,r=Math.floor(r/256),n[1]=r%256,r=Math.floor(r/256),n[0]=r,n}getPixels(){return new vc({width:this.stride,height:this.stride},this.pixels)}backfillBorder(e,t,n){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");let i=t*this.dim,r=t*this.dim+this.dim,o=n*this.dim,a=n*this.dim+this.dim;switch(t){case-1:i=r-1;break;case 1:r=i+1}switch(n){case-1:o=a-1;break;case 1:a=o+1}const s=-t*this.dim,l=-n*this.dim;for(let c=o;c<a;c++)for(let t=i;t<r;t++){const n=4*this._idx(t,c),i=4*this._idx(t+s,c+l);this.pixels[n+0]=e.pixels[i+0],this.pixels[n+1]=e.pixels[i+1],this.pixels[n+2]=e.pixels[i+2],this.pixels[n+3]=e.pixels[i+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}Wr(Yf,"DEMData"),Wr(Uf,"DemMinMaxQuadTree",{omit:["dem"]});class qf{constructor(e,t){this.max=e,this.onRemove=t,this.reset()}reset(){for(const e in this.data)for(const t of this.data[e])t.timeout&&clearTimeout(t.timeout),this.onRemove(t.value);return this.data={},this.order=[],this}add(e,t,n){const i=e.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);const r={value:t,timeout:void 0};if(void 0!==n&&(r.timeout=setTimeout((()=>{this.remove(e,r)}),n)),this.data[i].push(r),this.order.push(i),this.order.length>this.max){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value}getByKey(e){const t=this.data[e];return t?t[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,t){if(!this.has(e))return this;const n=e.wrapped().key,i=void 0===t?0:this.data[n].indexOf(t),r=this.data[n][i];return this.data[n].splice(i,1),r.timeout&&clearTimeout(r.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(r.value),this.order.splice(this.order.indexOf(n),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}filter(e){const t=[];for(const n in this.data)for(const i of this.data[n])e(i.value)||t.push(i);for(const n of t)this.remove(n.value.tileID,n)}}class Kf{constructor(e,t,n){this.func=e,this.mask=t,this.range=n}}Kf.ReadOnly=!1,Kf.ReadWrite=!0,Kf.disabled=new Kf(519,Kf.ReadOnly,[0,1]);const $f=7680;class Zf{constructor(e,t,n,i,r,o){this.test=e,this.ref=t,this.mask=n,this.fail=i,this.depthFail=r,this.pass=o}}Zf.disabled=new Zf({func:519,mask:0},0,0,$f,$f,$f);class Jf{constructor(e,t,n){this.blendFunction=e,this.blendColor=t,this.mask=n}}Jf.Replace=[1,0],Jf.disabled=new Jf(Jf.Replace,Tt.transparent,[!1,!1,!1,!1]),Jf.unblended=new Jf(Jf.Replace,Tt.transparent,[!0,!0,!0,!0]),Jf.alphaBlended=new Jf([1,771],Tt.transparent,[!0,!0,!0,!0]);const Qf=1029,em=2305;class tm{constructor(e,t,n){this.enable=e,this.mode=t,this.frontFace=n}}tm.disabled=new tm(!1,Qf,em),tm.backCCW=new tm(!0,Qf,em),tm.backCW=new tm(!0,Qf,2304),tm.frontCW=new tm(!0,1028,2304),tm.frontCCW=new tm(!0,1028,em);class nm extends Ke{constructor(e,t,n){super(),this.id=e,this._onlySymbols=n,t.on("data",(e=>{"source"===e.dataType&&"metadata"===e.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))})),t.on("error",(()=>{this._sourceErrored=!0})),this._source=t,this._tiles={},this._cache=new qf(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=t.minTileCacheSize,this._maxTileCacheSize=t.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new Ff,this._isRaster="raster"===this._source.type||"raster-dem"===this._source.type||"custom"===this._source.type&&"raster"===this._source._dataType}onAdd(e){this.map=e,this._minTileCacheSize=void 0===this._minTileCacheSize&&e?e._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=void 0===this._maxTileCacheSize&&e?e._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(const e in this._tiles){const t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(e,t){return e.isSymbolTile=this._onlySymbols,this._source.loadTile(e,t)}_unloadTile(e){if(this._source.unloadTile)return this._source.unloadTile(e,(()=>{}))}_abortTile(e){if(this._source.abortTile)return this._source.abortTile(e,(()=>{}))}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const t in this._tiles){const n=this._tiles[t];n.upload(e),n.prepare(this.map.style.imageManager)}}getIds(){return M(this._tiles).map((e=>e.tileID)).sort(im).map((e=>e.key))}getRenderableIds(e){const t=[];for(const n in this._tiles)this._isIdRenderable(+n,e)&&t.push(this._tiles[n]);return e?t.sort(((e,t)=>{const n=e.tileID,i=t.tileID,r=new f(n.canonical.x,n.canonical.y)._rotate(this.transform.angle),o=new f(i.canonical.x,i.canonical.y)._rotate(this.transform.angle);return n.overscaledZ-i.overscaledZ||o.y-r.y||o.x-r.x})).map((e=>e.tileID.key)):t.map((e=>e.tileID)).sort(im).map((e=>e.key))}hasRenderableParent(e){const t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)}_isIdRenderable(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const e in this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(+e,"reloading")}}_reloadTile(e,t){const n=this._tiles[e];n&&("loading"!==n.state&&(n.state=t),this._loadTile(n,this._tileLoaded.bind(this,n,e,t)))}_tileLoaded(e,t,n,i){if(i)if(e.state="errored",404!==i.status)this._source.fire(new qe(i,{tile:e}));else if("raster-dem"===this._source.type&&this.usedForTerrain&&this.map.painter.terrain){const e=this.map.painter.terrain;this.update(this.transform,e.getScaledDemTileSize(),!0),e.resetTileLookupCache(this.id)}else this.update(this.transform);else e.timeAdded=He.now(),"expired"===n&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(t,e),"raster-dem"===this._source.type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new Ye("data",{dataType:"source",tile:e,coord:e.tileID,sourceCacheId:this.id}))}_backfillDEM(e){const t=this.getRenderableIds();for(let i=0;i<t.length;i++){const r=t[i];if(e.neighboringTiles&&e.neighboringTiles[r]){const t=this.getTileByID(r);n(e,t),n(t,e)}}function n(e,t){if(!e.dem||e.dem.borderReady)return;e.needsHillshadePrepare=!0,e.needsDEMTextureUpload=!0;let n=t.tileID.canonical.x-e.tileID.canonical.x;const i=t.tileID.canonical.y-e.tileID.canonical.y,r=Math.pow(2,e.tileID.canonical.z),o=t.tileID.key;0===n&&0===i||Math.abs(i)>1||(Math.abs(n)>1&&(1===Math.abs(n+r)?n+=r:1===Math.abs(n-r)&&(n-=r)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,n,i),e.neighboringTiles&&e.neighboringTiles[o]&&(e.neighboringTiles[o].backfilled=!0)))}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,t,n,i){for(const r in this._tiles){let o=this._tiles[r];if(i[r]||!o.hasData()||o.tileID.overscaledZ<=t||o.tileID.overscaledZ>n)continue;let a=o.tileID;for(;o&&o.tileID.overscaledZ>t+1;){const e=o.tileID.scaledTo(o.tileID.overscaledZ-1);o=this._tiles[e.key],o&&o.hasData()&&(a=e)}let s=a;for(;s.overscaledZ>t;)if(s=s.scaledTo(s.overscaledZ-1),e[s.key]){i[a.key]=a;break}}}findLoadedParent(e,t){if(e.key in this._loadedParentTiles){const n=this._loadedParentTiles[e.key];return n&&n.tileID.overscaledZ>=t?n:null}for(let n=e.overscaledZ-1;n>=t;n--){const t=e.scaledTo(n),i=this._getLoadedTile(t);if(i)return i}}_getLoadedTile(e){const t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(this._source.reparseOverscaled?e.wrapped().key:e.canonical.key)}updateCacheSize(e,t){t=t||this._source.tileSize;const n=Math.ceil(e.width/t)+1,i=Math.ceil(e.height/t)+1,r=Math.floor(n*i*5),o="number"==typeof this._minTileCacheSize?Math.max(this._minTileCacheSize,r):r,a="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,o):o;this._cache.setMaxSize(a)}handleWrapJump(e){const t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){const e={};for(const n in this._tiles){const i=this._tiles[n];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),e[i.tileID.key]=i}this._tiles=e;for(const t in this._timers)clearTimeout(this._timers[t]),delete this._timers[t];for(const t in this._tiles)this._setTileReloadTimer(+t,this._tiles[t])}}update(e,t,n){if(this.transform=e,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage)return;if(this.usedForTerrain&&!n)return;let i;this.updateCacheSize(e,t),"globe"!==this.transform.projection.name&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?i=e.getVisibleUnwrappedCoordinates(this._source.tileID).map((e=>new Xu(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y))):(i=e.coveringTiles({tileSize:t||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!n,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(i=i.filter((e=>this._source.hasTile(e))))):i=[];const r=this._updateRetainedTiles(i);if(rm(this._source.type)&&0!==i.length){const e={},t={},n=Object.keys(r);for(const i of n){const n=r[i],o=this._tiles[i];if(!o||o.fadeEndTime&&o.fadeEndTime<=He.now())continue;const a=this.findLoadedParent(n,Math.max(n.overscaledZ-nm.maxOverzooming,this._source.minzoom));a&&(this._addTile(a.tileID),e[a.tileID.key]=a.tileID),t[i]=n}const o=i[i.length-1].overscaledZ;for(const i in this._tiles){const e=this._tiles[i];if(r[i]||!e.hasData())continue;let n=e.tileID;for(;n.overscaledZ>o;){n=n.scaledTo(n.overscaledZ-1);const o=this._tiles[n.key];if(o&&o.hasData()&&t[n.key]){r[i]=e.tileID;break}}}for(const i in e)r[i]||(this._coveredTiles[i]=!0,r[i]=e[i])}for(const a in r)this._tiles[a].clearFadeHold();const o=function(e,t){const n=[];for(const i in e)i in t||n.push(i);return n}(this._tiles,r);for(const a of o){const e=this._tiles[a];e.hasSymbolBuckets&&!e.holdingForFade()?e.setHoldDuration(this.map._fadeDuration):e.hasSymbolBuckets&&!e.symbolFadeFinished()||this._removeTile(+a)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(+e)}_updateRetainedTiles(e){const t={};if(0===e.length)return t;const n={},i=e.reduce(((e,t)=>Math.min(e,t.overscaledZ)),1/0),r=e[0].overscaledZ,o=Math.max(r-nm.maxOverzooming,this._source.minzoom),a=Math.max(r+nm.maxUnderzooming,this._source.minzoom),s={};for(const l of e){const e=this._addTile(l);t[l.key]=l,e.hasData()||i<this._source.maxzoom&&(s[l.key]=l)}this._retainLoadedChildren(s,i,a,t);for(const l of e){let e=this._tiles[l.key];if(e.hasData())continue;if(l.canonical.z>=this._source.maxzoom){const e=l.children(this._source.maxzoom)[0],n=this.getTile(e);if(n&&n.hasData()){t[e.key]=e;continue}}else{const e=l.children(this._source.maxzoom);if(t[e[0].key]&&t[e[1].key]&&t[e[2].key]&&t[e[3].key])continue}let i=e.wasRequested();for(let r=l.overscaledZ-1;r>=o;--r){const o=l.scaledTo(r);if(n[o.key])break;if(n[o.key]=!0,e=this.getTile(o),!e&&i&&(e=this._addTile(o)),e&&(t[o.key]=o,i=e.wasRequested(),e.hasData()))break}}return t}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e in this._tiles){const t=[];let n,i=this._tiles[e].tileID;for(;i.overscaledZ>0;){if(i.key in this._loadedParentTiles){n=this._loadedParentTiles[i.key];break}t.push(i.key);const e=i.scaledTo(i.overscaledZ-1);if(n=this._getLoadedTile(e),n)break;i=e}for(const e of t)this._loadedParentTiles[e]=n}}_addTile(e){let t=this._tiles[e.key];if(t)return t;t=this._cache.getAndRemove(e),t&&(this._setTileReloadTimer(e.key,t),t.tileID=e,this._state.initializeTileState(t,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,t)));const n=Boolean(t);if(!n){const n=this.map?this.map.painter:null;t=new zf(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom,n,this._isRaster),this._loadTile(t,this._tileLoaded.bind(this,t,e.key,t.state))}return t?(t.uses++,this._tiles[e.key]=t,n||this._source.fire(new Ye("dataloading",{tile:t,coord:t.tileID,dataType:"source"})),t):null}_setTileReloadTimer(e,t){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);const n=t.getExpiryTimeout();n&&(this._timers[e]=setTimeout((()=>{this._reloadTile(e,"expired"),delete this._timers[e]}),n))}_removeTile(e){const t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(+e);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(e,t,n){const i=[],r=this.transform;if(!r)return i;const o="globe"===r.projection.name,a=As(r.center.lng);for(const s in this._tiles){const l=this._tiles[s];if(n&&l.clearQueryDebugViz(),l.holdingForFade())continue;let c;if(o){const e=l.tileID.canonical;if(0===e.z){const t=[Math.abs(S(a,...om(e,-1))-a),Math.abs(S(a,...om(e,1))-a)];c=[0,2*t.indexOf(Math.min(...t))-1]}else{const t=[Math.abs(S(a,...om(e,-1))-a),Math.abs(S(a,...om(e,0))-a),Math.abs(S(a,...om(e,1))-a)];c=[t.indexOf(Math.min(...t))-1]}}else c=[0];for(const n of c){const o=e.containsTile(l,r,t,n);o&&i.push(o)}}return i}getVisibleCoordinates(e){const t=this.getRenderableIds(e).map((e=>this._tiles[e].tileID));for(const n of t)n.projMatrix=this.transform.calculateProjMatrix(n.toUnwrapped());return t}hasTransition(){if(this._source.hasTransition())return!0;if(rm(this._source.type))for(const e in this._tiles){const t=this._tiles[e];if(void 0!==t.fadeEndTime&&t.fadeEndTime>=He.now())return!0}return!1}setFeatureState(e,t,n){this._state.updateState(e=e||"_geojsonTileLayer",t,n)}removeFeatureState(e,t,n){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,n)}getFeatureState(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)}setDependencies(e,t,n){const i=this._tiles[e];i&&i.setDependencies(t,n)}reloadTilesForDependencies(e,t){for(const n in this._tiles)this._tiles[n].hasDependency(e,t)&&this._reloadTile(+n,"reloading");this._cache.filter((n=>!n.hasDependency(e,t)))}_preloadTiles(e,t){const n=new Map,i=Array.isArray(e)?e:[e],r=this.map.painter.terrain,o=this.usedForTerrain&&r?r.getScaledDemTileSize():this._source.tileSize;for(const a of i){const e=a.coveringTiles({tileSize:o,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const t of e)n.set(t.key,t);this.usedForTerrain&&a.updateElevation(!1)}T(Array.from(n.values()),((e,t)=>{const n=new zf(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(n,(e=>{"raster-dem"===this._source.type&&n.dem&&this._backfillDEM(n),t(e,n)}))}),t)}}function im(e,t){const n=Math.abs(2*e.wrap)-+(e.wrap<0),i=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||i-n||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function rm(e){return"raster"===e||"image"===e||"video"===e||"custom"===e}function om(e,t){const n=1<<e.z;return[e.x/n+t,(e.x+1)/n+t]}nm.maxOverzooming=10,nm.maxUnderzooming=3;class am{constructor(e,t,n){this._demTile=e,this._dem=this._demTile.dem,this._scale=t,this._offset=n}static create(e,t,n){const i=n||e.findDEMTileFor(t);if(!i||!i.dem)return;const r=i.dem,o=i.tileID,a=1<<t.canonical.z-o.canonical.z;return new am(i,i.tileSize/Ss/a,[(t.canonical.x/a-o.canonical.x)*r.dim,(t.canonical.y/a-o.canonical.y)*r.dim])}tileCoordToPixel(e,t){const n=t*this._scale+this._offset[1],i=Math.floor(e*this._scale+this._offset[0]),r=Math.floor(n);return new f(i,r)}getElevationAt(e,t,n,i){const r=e*this._scale+this._offset[0],o=t*this._scale+this._offset[1],a=Math.floor(r),s=Math.floor(o),l=this._dem;return i=!!i,n?Mn(Mn(l.get(a,s,i),l.get(a,s+1,i),o-s),Mn(l.get(a+1,s,i),l.get(a+1,s+1,i),o-s),r-a):l.get(a,s,i)}getElevationAtPixel(e,t,n){return this._dem.get(e,t,!!n)}getMeterToDEM(e){return(1<<this._demTile.tileID.canonical.z)*Ls(1,e)*this._dem.stride}}class sm{constructor(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new Nr(Ss,16,0),this.featureIndexArray=new ja,this.promoteId=t}insert(e,t,n,i,r,o=0){const a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,i,r,o);const s=this.grid;for(let l=0;l<t.length;l++){const e=t[l],n=[1/0,1/0,-1/0,-1/0];for(let t=0;t<e.length;t++){const i=e[t];n[0]=Math.min(n[0],i.x),n[1]=Math.min(n[1],i.y),n[2]=Math.max(n[2],i.x),n[3]=Math.max(n[3],i.y)}n[0]<Ss&&n[1]<Ss&&n[2]>=0&&n[3]>=0&&s.insert(a,n[0],n[1],n[2],n[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new ku(new Cd(this.rawTileData)).layers,this.sourceLayerCoder=new Sf(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const e in this.vtLayers)this.vtFeatures[e]=[]}return this.vtLayers}query(e,t,n,i){this.loadVTLayers();const r=e.params||{},o=ar(r.filter),a=e.tileResult,s=e.transform,l=a.bufferedTilespaceBounds,c=this.grid.query(l.min.x,l.min.y,l.max.x,l.max.y,((e,t,n,i)=>sl(a.bufferedTilespaceGeometry,e,t,n,i)));c.sort(cm);let u=null;s.elevation&&c.length>0&&(u=am.create(s.elevation,this.tileID));const d={};let h;for(let p=0;p<c.length;p++){const s=c[p];if(s===h)continue;h=s;const l=this.featureIndexArray.get(s);let f=null;this.loadMatchingFeature(d,l,o,r.layers,r.availableImages,t,n,i,((t,n,i,r=0)=>(f||(f=Gs(t,this.tileID.canonical,e.tileTransform)),n.queryIntersectsFeature(a,t,i,f,this.z,e.transform,e.pixelPosMatrix,u,r))))}return d}loadMatchingFeature(e,t,n,i,r,o,a,s,l){const{featureIndex:c,bucketIndex:u,sourceLayerIndex:d,layoutVertexArrayOffset:h}=t,p=this.bucketLayerIDs[u];if(i&&!function(e,t){for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1}(i,p))return;const f=this.sourceLayerCoder.decode(d),m=this.vtLayers[f].feature(c);if(n.needGeometry){const e=Ys(m,!0);if(!n.filter(new Vo(this.tileID.overscaledZ),e,this.tileID.canonical))return}else if(!n.filter(new Vo(this.tileID.overscaledZ),m))return;const g=this.getId(m,f);for(let v=0;v<p.length;v++){const t=p[v];if(i&&i.indexOf(t)<0)continue;const n=o[t];if(!n)continue;let u={};void 0!==g&&s&&(u=s.getState(n.sourceLayer||"_geojsonTileLayer",g));const d=P({},a[t]);d.paint=lm(d.paint,n.paint,m,u,r),d.layout=lm(d.layout,n.layout,m,u,r);const f=!l||l(m,n,u,h);if(!f)continue;const y=new Ef(m,this.z,this.x,this.y,g);y.layer=d;let x=e[t];void 0===x&&(x=e[t]=[]),x.push({featureIndex:c,feature:y,intersectionZ:f})}}lookupSymbolFeatures(e,t,n,i,r,o,a,s){const l={};this.loadVTLayers();const c=ar(r);for(const u of e)this.loadMatchingFeature(l,{bucketIndex:n,sourceLayerIndex:i,featureIndex:u,layoutVertexArrayOffset:0},c,o,a,s,t);return l}loadFeature(e){const{featureIndex:t,sourceLayerIndex:n}=e;this.loadVTLayers();const i=this.sourceLayerCoder.decode(n),r=this.vtFeatures[i];if(r[t])return r[t];const o=this.vtLayers[i].feature(t);return r[t]=o,o}hasLayer(e){for(const t of this.bucketLayerIDs)for(const n of t)if(e===n)return!0;return!1}getId(e,t){let n=e.id;if(this.promoteId){const i="string"==typeof this.promoteId?this.promoteId:this.promoteId[t];null!=i&&(n=e.properties[i]),"boolean"==typeof n&&(n=Number(n))}return n}}function lm(e,t,n,i,r){return F(e,((e,o)=>{const a=t instanceof Ko?t.get(o):null;return a&&a.evaluate?a.evaluate(n,i,r):a}))}function cm(e,t){return t-e}Wr(sm,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class um{constructor(e,t){this.width=e,this.height=t,this.nextRow=0,this.image=new gc({width:e,height:t}),this.positions={},this.uploaded=!1}getDash(e,t){const n=this.getKey(e,t);return this.positions[n]}trim(){const e=this.width,t=this.height=D(this.nextRow);this.image.resize({width:e,height:t})}getKey(e,t){return e.join(",")+t}getDashRanges(e,t,n){const i=[];let r=e.length%2==1?-e[e.length-1]*n:0,o=e[0]*n,a=!0;i.push({left:r,right:o,isDash:a,zeroLength:0===e[0]});let s=e[0];for(let l=1;l<e.length;l++){a=!a;const t=e[l];r=s*n,s+=t,o=s*n,i.push({left:r,right:o,isDash:a,zeroLength:0===t})}return i}addRoundDash(e,t,n){const i=t/2;for(let r=-n;r<=n;r++){const t=this.width*(this.nextRow+n+r);let o=0,a=e[o];for(let s=0;s<this.width;s++){s/a.right>1&&(a=e[++o]);const l=Math.abs(s-a.left),c=Math.abs(s-a.right),u=Math.min(l,c);let d;const h=r/n*(i+1);if(a.isDash){const e=i-Math.abs(h);d=Math.sqrt(u*u+e*e)}else d=i-Math.sqrt(u*u+h*h);this.image.data[t+s]=Math.max(0,Math.min(255,d+128))}}}addRegularDash(e,t){for(let s=e.length-1;s>=0;--s){const t=e[s],n=e[s+1];t.zeroLength?e.splice(s,1):n&&n.isDash===t.isDash&&(n.left=t.left,e.splice(s,1))}const n=e[0],i=e[e.length-1];n.isDash===i.isDash&&(n.left=i.left-this.width,i.right=n.right+this.width);const r=this.width*this.nextRow;let o=0,a=e[o];for(let s=0;s<this.width;s++){s/a.right>1&&(a=e[++o]);const n=Math.abs(s-a.left),i=Math.abs(s-a.right),l=Math.min(n,i);this.image.data[r+s]=Math.max(0,Math.min(255,(a.isDash?l:-l)+t+128))}}addDash(e,t){const n=this.getKey(e,t);if(this.positions[n])return this.positions[n];const i="round"===t,r=i?7:0,o=2*r+1;if(this.nextRow+o>this.height)return V("LineAtlas out of space"),null;0===e.length&&e.push(1);let a=0;for(let c=0;c<e.length;c++)e[c]<0&&(V("Negative value is found in line dasharray, replacing values with 0"),e[c]=0),a+=e[c];if(0!==a){const n=this.width/a,o=this.getDashRanges(e,this.width,n);i?this.addRoundDash(o,n,r):this.addRegularDash(o,"square"===t?.5*n:0)}const s=this.nextRow+r;this.nextRow+=o;const l={tl:[s,r],br:[a,0]};return this.positions[n]=l,l}}Wr(um,"LineAtlas");class dm{constructor(e){const t={},n=[];for(const a in e){const i=e[a],r=t[a]={};for(const e in i.glyphs){const t=i.glyphs[+e];if(!t||0===t.bitmap.width||0===t.bitmap.height)continue;const o=t.metrics.localGlyph?2:1,a={x:0,y:0,w:t.bitmap.width+2*o,h:t.bitmap.height+2*o};n.push(a),r[e]=a}}const{w:i,h:r}=$d(n),o=new gc({width:i||1,height:r||1});for(const a in e){const n=e[a];for(const e in n.glyphs){const i=n.glyphs[+e];if(!i||0===i.bitmap.width||0===i.bitmap.height)continue;const r=t[a][e],s=i.metrics.localGlyph?2:1;gc.copy(i.bitmap,o,{x:0,y:0},{x:r.x+s,y:r.y+s},i.bitmap)}}this.image=o,this.positions=t}}Wr(dm,"GlyphAtlas");class hm{constructor(e){this.tileID=new Xu(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.tileZoom=e.tileZoom,this.uid=e.uid,this.zoom=e.zoom,this.canonical=e.tileID.canonical,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies,this.promoteId=e.promoteId,this.enableTerrain=!!e.enableTerrain,this.isSymbolTile=e.isSymbolTile,this.tileTransform=Dp(e.tileID.canonical,e.projection),this.projection=e.projection}parse(e,t,n,i,r){this.status="parsing",this.data=e,this.collisionBoxArray=new La;const o=new Sf(Object.keys(e.layers).sort()),a=new sm(this.tileID,this.promoteId);a.bucketLayerIDs=[];const s={},l=new um(256,256),c={featureIndex:a,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:l,availableImages:n},u=t.familiesBySource[this.source];for(const b in u){const t=e.layers[b];if(!t)continue;let i=!1,r=!1;for(const e of u[b])"symbol"===e[0].type?i=!0:r=!0;if(!0===this.isSymbolTile&&!i)continue;if(!1===this.isSymbolTile&&!r)continue;1===t.version&&V(`Vector tile source "${this.source}" layer "${b}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const l=o.encode(b),d=[];for(let e=0;e<t.length;e++){const n=t.feature(e),i=a.getId(n,b);d.push({feature:n,id:i,index:e,sourceLayerIndex:l})}for(const e of u[b]){const t=e[0];void 0!==this.isSymbolTile&&"symbol"===t.type!==this.isSymbolTile||t.minzoom&&this.zoom<Math.floor(t.minzoom)||t.maxzoom&&this.zoom>=t.maxzoom||"none"!==t.visibility&&(pm(e,this.zoom,n),(s[t.id]=t.createBucket({index:a.bucketLayerIDs.length,layers:e,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:l,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:n})).populate(d,c,this.tileID.canonical,this.tileTransform),a.bucketLayerIDs.push(e.map((e=>e.id))))}}let d,h,p,f;l.trim();const m={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},g=F(c.glyphDependencies,(e=>Object.keys(e).map(Number)));Object.keys(g).length?i.send("getGlyphs",{uid:this.uid,stacks:g},((e,t)=>{d||(d=e,h=t,x.call(this))}),void 0,!1,m):h={};const v=Object.keys(c.iconDependencies);v.length?i.send("getImages",{icons:v,source:this.source,tileID:this.tileID,type:"icons"},((e,t)=>{d||(d=e,p=t,x.call(this))}),void 0,!1,m):p={};const y=Object.keys(c.patternDependencies);function x(){if(d)return r(d);if(h&&p&&f){const e=new dm(h),t=new Jd(p,f);for(const i in s){const r=s[i];r instanceof uf?(pm(r.layers,this.zoom,n),Wh(r,h,e.positions,p,t.iconPositions,this.showCollisionBoxes,n,this.tileID.canonical,this.tileZoom,this.projection)):r.hasPattern&&(r instanceof id||r instanceof ru||r instanceof Iu)&&(pm(r.layers,this.zoom,n),r.addFeatures(c,this.tileID.canonical,t.patternPositions,n,this.tileTransform))}this.status="done",r(null,{buckets:M(s).filter((e=>!e.isEmpty())),featureIndex:a,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,lineAtlas:l,imageAtlas:t,glyphMap:this.returnDependencies?h:null,iconMap:this.returnDependencies?p:null,glyphPositions:this.returnDependencies?e.positions:null})}}y.length?i.send("getImages",{icons:y,source:this.source,tileID:this.tileID,type:"patterns"},((e,t)=>{d||(d=e,f=t,x.call(this))}),void 0,!1,m):f={},x.call(this)}}function pm(e,t,n){const i=new Vo(t);for(const r of e)r.recalculate(i,n)}class fm{constructor(e){this.entries={},this.scheduler=e}request(e,t,n,i){const r=this.entries[e]=this.entries[e]||{callbacks:[]};if(r.result){const[e,n]=r.result;return this.scheduler?this.scheduler.add((()=>{i(e,n)}),t):i(e,n),()=>{}}return r.callbacks.push(i),r.cancel||(r.cancel=n(((n,i)=>{r.result=[n,i];for(const e of r.callbacks)this.scheduler?this.scheduler.add((()=>{e(n,i)}),t):e(n,i);setTimeout((()=>delete this.entries[e]),3e3)}))),()=>{r.result||(r.callbacks=r.callbacks.filter((e=>e!==i)),r.callbacks.length||(r.cancel(),delete this.entries[e]))}}}function mm(e,t,n){const i=JSON.stringify(e.request);return e.data&&(this.deduped.entries[i]={result:[null,e.data]}),this.deduped.request(i,{type:"parseTile",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom},(t=>{const i=ce(e.request,((e,i,r,o)=>{e?t(e):i&&t(null,{vectorTile:n?void 0:new ku(new Cd(i)),rawData:i,cacheControl:r,expires:o})}));return()=>{i.cancel(),t()}}),t)}e.ARRAY_TYPE=gl,e.AUTH_ERR_MSG=me,e.Aabb=ac,e.Actor=class{constructor(e,n,i){this.target=e,this.parent=n,this.mapId=i,this.callbacks={},this.cancelCallbacks={},R(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=H()?e:t,this.scheduler=new kf}send(e,t,n,i,r=!1,o){const a=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(n.metadata=o,this.callbacks[a]=n);const s=Y(this.globalScope)?void 0:[];return this.target.postMessage({id:a,type:e,hasCallback:!!n,targetMapId:i,mustQueue:r,sourceMapId:this.mapId,data:Xr(t,s)},s),{cancel:()=>{n&&delete this.callbacks[a],this.target.postMessage({id:a,type:"<cancel>",targetMapId:i,sourceMapId:this.mapId})}}}receive(e){const t=e.data,n=t.id;if(n&&(!t.targetMapId||this.mapId===t.targetMapId))if("<cancel>"===t.type){const e=this.cancelCallbacks[n];delete this.cancelCallbacks[n],e&&e.cancel()}else if(t.mustQueue||H()){const e=this.callbacks[n];this.cancelCallbacks[n]=this.scheduler.add((()=>this.processTask(n,t)),e&&e.metadata||{type:"message"})}else this.processTask(n,t)}processTask(e,t){if("<response>"===t.type){const n=this.callbacks[e];delete this.callbacks[e],n&&(t.error?n(Gr(t.error)):n(null,Gr(t.data)))}else{const n=Y(this.globalScope)?void 0:[],i=t.hasCallback?(t,i)=>{delete this.cancelCallbacks[e],this.target.postMessage({id:e,type:"<response>",sourceMapId:this.mapId,error:t?Xr(t):null,data:Xr(i,n)},n)}:e=>{},r=Gr(t.data);if(this.parent[t.type])this.parent[t.type](t.sourceMapId,r,i);else if(this.parent.getWorkerSource){const e=t.type.split(".");this.parent.getWorkerSource(t.sourceMapId,e[0],r.source)[e[1]](r,i)}else i(new Error(`Could not find function ${t.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},e.CanonicalTileID=Uu,e.Color=Tt,e.ColorMode=Jf,e.CullFaceMode=tm,e.DEMData=Yf,e.DataConstantProperty=$o,e.DedupedRequest=fm,e.DepthMode=Kf,e.EXTENT=Ss,e.Elevation=class{isDataAvailableAtPoint(e){const t=this._source();if(this.isUsingMockSource()||!t||e.y<0||e.y>1)return!1;const n=t.getSource().maxzoom,i=1<<n,r=Math.floor(e.x),o=Math.floor((e.x-r)*i),a=Math.floor(e.y*i),s=this.findDEMTileFor(new Xu(n,r,n,o,a));return!(!s||!s.dem)}getAtPointOrZero(e,t=0){return this.getAtPoint(e,t)||0}getAtPoint(e,t,n=!0){if(this.isUsingMockSource())return null;null==t&&(t=null);const i=this._source();if(!i)return t;if(e.y<0||e.y>1)return t;const r=i.getSource().maxzoom,o=1<<r,a=Math.floor(e.x),s=e.x-a,l=new Xu(r,a,r,Math.floor(s*o),Math.floor(e.y*o)),c=this.findDEMTileFor(l);if(!c||!c.dem)return t;const u=c.dem,d=1<<c.tileID.canonical.z,h=(s*d-c.tileID.canonical.x)*u.dim,p=(e.y*d-c.tileID.canonical.y)*u.dim,f=Math.floor(h),m=Math.floor(p);return(n?this.exaggeration():1)*Mn(Mn(u.get(f,m),u.get(f,m+1),p-m),Mn(u.get(f+1,m),u.get(f+1,m+1),p-m),h-f)}getAtTileOffset(e,t,n){const i=1<<e.canonical.z;return this.getAtPointOrZero(new Bs(e.wrap+(e.canonical.x+t/Ss)/i,(e.canonical.y+n/Ss)/i))}getAtTileOffsetFunc(e,t,n,i){return r=>{const o=this.getAtTileOffset(e,r.x,r.y),a=i.upVector(e.canonical,r.x,r.y);return Bl(a,a,o*i.upVectorScale(e.canonical,t,n).metersToTile),a}}getForTilePoints(e,t,n,i){if(this.isUsingMockSource())return!1;const r=am.create(this,e,i);return!!r&&(t.forEach((e=>{e[2]=this.exaggeration()*r.getElevationAt(e[0],e[1],n)})),!0)}getMinMaxForTile(e){if(this.isUsingMockSource())return null;const t=this.findDEMTileFor(e);if(!t||!t.dem)return null;const n=t.dem.tree,i=t.tileID,r=1<<e.canonical.z-i.canonical.z;let o=e.canonical.x/r-i.canonical.x,a=e.canonical.y/r-i.canonical.y,s=0;for(let l=0;l<e.canonical.z-i.canonical.z&&!n.leaves[s];l++){o*=2,a*=2;const e=2*Math.floor(a)+Math.floor(o);s=n.childOffsets[s]+e,o%=1,a%=1}return{min:this.exaggeration()*n.minimums[s],max:this.exaggeration()*n.maximums[s]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(e,t,n){throw new Error("Pure virtual method called.")}pointCoordinate(e){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(e){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},e.ErrorEvent=qe,e.EvaluationParameters=Vo,e.Event=Ye,e.Evented=Ke,e.FillExtrusionBucket=Iu,e.Frustum=oc,e.FrustumCorners=rc,e.GLOBE_METERS_TO_ECEF=np,e.GLOBE_RADIUS=tp,e.GLOBE_SCALE_MATCH_LATITUDE=45,e.GLOBE_ZOOM_THRESHOLD_MAX=6,e.GLOBE_ZOOM_THRESHOLD_MIN=5,e.GlobeSharedBuffers=class{constructor(e){this._createGrid(e),this._createPoles(e)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const e of this._poleSegments)e.destroy();for(const e of this._gridSegments)e.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const e of this._wireframeSegments)e.destroy()}}_createGrid(e){const t=new aa,n=new wa,i=65;for(let r=0;r<i;r++)for(let e=0;e<i;e++)t.emplaceBack(e,r);this._gridSegments=[];for(let r=0,o=0;r<rp.length;r++){const e=rp[r];for(let r=0;r<e;r++)for(let e=0;e<64;e++){const t=r*i+e;n.emplaceBack(t+1,t,t+i),n.emplaceBack(t+i,t+i+1,t+1)}const t=64*e*2;this._gridSegments.push(ks.simpleSegment(0,o,(e+1)*i,t)),o+=t}this._gridBuffer=e.createVertexBuffer(t,ep.members),this._gridIndexBuffer=e.createIndexBuffer(n,!0)}_createPoles(e){const t=new wa;for(let r=0;r<=ip;r++)t.emplaceBack(0,r+1,r+2);this._poleIndexBuffer=e.createIndexBuffer(t,!0);const n=new Ea,i=new Ea;this._poleSegments=[];for(let r=0,o=0;r<5;r++){const e=360/(1<<r);n.emplaceBack(0,-tp,0,.5,0),i.emplaceBack(0,-tp,0,.5,1);for(let t=0;t<=ip;t++){const r=t/ip,o=Mn(0,e,r),[a,s,l]=yp(Ap,Ip,o,tp);n.emplaceBack(a,s,l,r,0),i.emplaceBack(a,s,l,r,1)}this._poleSegments.push(ks.simpleSegment(o,0,66,64)),o+=66}this._poleNorthVertexBuffer=e.createVertexBuffer(n,Jh,!1),this._poleSouthVertexBuffer=e.createVertexBuffer(i,Jh,!1)}getGridBuffers(e){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments[e]]}getPoleBuffers(e){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[e]]}getWirefameBuffers(e,t){if(!this._wireframeSegments){const t=new Ma,n=ip,i=n+1;this._wireframeSegments=[];for(let e=0,r=0;e<rp.length;e++){const o=rp[e];for(let e=0;e<o;e++)for(let r=0;r<n;r++){const n=e*i+r;t.emplaceBack(n,n+1),t.emplaceBack(n,n+i),t.emplaceBack(n,n+i+1)}const a=o*n*3;this._wireframeSegments.push(ks.simpleSegment(0,r,(o+1)*i,a)),r+=a}this._wireframeIndexBuffer=e.createIndexBuffer(t)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[t]]}},e.GlyphManager=Th,e.ImagePosition=Zd,e.LivePerformanceUtils=ze,e.LngLat=Ts,e.LngLatBounds=Cs,e.LocalGlyphMode=Eh,e.MAX_MERCATOR_LATITUDE=zs,e.MercatorCoordinate=Bs,e.ONE_EM=md,e.OverscaledTileID=Xu,e.PerformanceMarkers=Re,e.Properties=Qo,e.RGBAImage=vc,e.Ray=ic,e.RequestManager=class{constructor(e,t,n){this._transformRequestFn=e,this._customAccessToken=t,this._silenceAuthErrors=!!n,this._createSkuToken()}_createSkuToken(){const e=function(){let e="";for(let t=0;t<10;t++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",d,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}}normalizeStyleURL(e,t){if(!ge(e))return e;const n=we(e);return n.path=`/styles/v1${n.path}`,this._makeAPIURL(n,this._customAccessToken||t)}normalizeGlyphsURL(e,t){if(!ge(e))return e;const n=we(e);return n.path=`/fonts/v1${n.path}`,this._makeAPIURL(n,this._customAccessToken||t)}normalizeSourceURL(e,t,n,i){if(!ge(e))return e;const r=we(e);return r.path=`/v4/${r.authority}.json`,r.params.push("secure"),n&&r.params.push(`language=${n}`),i&&r.params.push(`worldview=${i}`),this._makeAPIURL(r,this._customAccessToken||t)}normalizeSpriteURL(e,t,n,i){const r=we(e);return ge(e)?(r.path=`/styles/v1${r.path}/sprite${t}${n}`,this._makeAPIURL(r,this._customAccessToken||i)):(r.path+=`${t}${n}`,ke(r))}normalizeTileURL(e,t,n){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!ge(e))return e;const i=we(e);i.path=i.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${t||n&&"raster"!==i.authority&&512===n?"@2x":""}${o.supported?".webp":"$1"}`),"raster"===i.authority?i.path=`/${r.RASTER_URL_PREFIX}${i.path}`:(i.path=i.path.replace(/^.+\/v4\//,"/"),i.path=`/${r.TILE_URL_VERSION}${i.path}`);const a=this._customAccessToken||function(e){for(const t of e){const e=t.match(/^access_token=(.*)$/);if(e)return e[1]}return null}(i.params)||r.ACCESS_TOKEN;return r.REQUIRE_ACCESS_TOKEN&&a&&this._skuToken&&i.params.push(`sku=${this._skuToken}`),this._makeAPIURL(i,a)}canonicalizeTileURL(e,t){const n=we(e);if(!n.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!n.path.match(/\.[\w]+$/))return e;let i="mapbox://";n.path.match(/^\/raster\/v1\//)?i+=`raster/${n.path.replace(`/${r.RASTER_URL_PREFIX}/`,"")}`:i+=`tiles/${n.path.replace(`/${r.TILE_URL_VERSION}/`,"")}`;let o=n.params;return t&&(o=o.filter((e=>!e.match(/^access_token=/)))),o.length&&(i+=`?${o.join("&")}`),i}canonicalizeTileset(e,t){const n=!!t&&ge(t),i=[];for(const r of e.tiles||[])ve(r)?i.push(this.canonicalizeTileURL(r,n)):i.push(r);return i}_makeAPIURL(e,t){const n="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",i=we(r.API_URL);if(e.protocol=i.protocol,e.authority=i.authority,"http"===e.protocol){const t=e.params.indexOf("secure");t>=0&&e.params.splice(t,1)}if("/"!==i.path&&(e.path=`${i.path}${e.path}`),!r.REQUIRE_ACCESS_TOKEN)return ke(e);if(t=t||r.ACCESS_TOKEN,!this._silenceAuthErrors){if(!t)throw new Error(`An API access token is required to use Mapbox GL. ${n}`);if("s"===t[0])throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${n}`)}return e.params=e.params.filter((e=>-1===e.indexOf("access_token"))),e.params.push(`access_token=${t||""}`),ke(e)}},e.ResourceType=oe,e.SegmentVector=ks,e.SourceCache=nm,e.StencilMode=Zf,e.StructArrayLayout1ui2=Pa,e.StructArrayLayout2f1f2i16=xa,e.StructArrayLayout2i4=aa,e.StructArrayLayout2ui4=Ma,e.StructArrayLayout3f12=_a,e.StructArrayLayout3ui6=wa,e.StructArrayLayout4i8=la,e.StructArrayLayout5f20=Ea,e.Texture=_f,e.Tile=zf,e.Transitionable=Ho,e.Uniform1f=es,e.Uniform1i=class extends Qa{constructor(e){super(e),this.current=0}set(e,t,n){this.fetchUniformLocation(e,t)&&this.current!==n&&(this.current=n,this.gl.uniform1i(this.location,n))}},e.Uniform2f=class extends Qa{constructor(e){super(e),this.current=[0,0]}set(e,t,n){this.fetchUniformLocation(e,t)&&(n[0]===this.current[0]&&n[1]===this.current[1]||(this.current=n,this.gl.uniform2f(this.location,n[0],n[1])))}},e.Uniform3f=class extends Qa{constructor(e){super(e),this.current=[0,0,0]}set(e,t,n){this.fetchUniformLocation(e,t)&&(n[0]===this.current[0]&&n[1]===this.current[1]&&n[2]===this.current[2]||(this.current=n,this.gl.uniform3f(this.location,n[0],n[1],n[2])))}},e.Uniform4f=ts,e.UniformColor=ns,e.UniformMatrix2f=class extends Qa{constructor(e){super(e),this.current=os}set(e,t,n){if(this.fetchUniformLocation(e,t))for(let i=0;i<4;i++)if(n[i]!==this.current[i]){this.current=n,this.gl.uniformMatrix2fv(this.location,!1,n);break}}},e.UniformMatrix3f=class extends Qa{constructor(e){super(e),this.current=rs}set(e,t,n){if(this.fetchUniformLocation(e,t))for(let i=0;i<9;i++)if(n[i]!==this.current[i]){this.current=n,this.gl.uniformMatrix3fv(this.location,!1,n);break}}},e.UniformMatrix4f=class extends Qa{constructor(e){super(e),this.current=is}set(e,t,n){if(this.fetchUniformLocation(e,t)){if(n[12]!==this.current[12]||n[0]!==this.current[0])return this.current=n,void this.gl.uniformMatrix4fv(this.location,!1,n);for(let e=1;e<16;e++)if(n[e]!==this.current[e]){this.current=n,this.gl.uniformMatrix4fv(this.location,!1,n);break}}}},e.UnwrappedTileID=Hu,e.ValidationError=Zi,e.VectorTileFeature=Su,e.VectorTileWorkerSource=class extends Ke{constructor(e,t,n,i,r){super(),this.actor=e,this.layerIndex=t,this.availableImages=n,this.loadVectorData=r||mm,this.loading={},this.loaded={},this.deduped=new fm(e.scheduler),this.isSpriteLoaded=i,this.scheduler=e.scheduler}loadTile(e,t){const n=e.uid,i=e&&e.request,r=i&&i.collectResourceTiming,o=this.loading[n]=new hm(e);o.abort=this.loadVectorData(e,((a,s)=>{const l=!this.loading[n];if(delete this.loading[n],l||a||!s)return o.status="done",l||(this.loaded[n]=o),t(a);const c=s.rawData,u={};s.expires&&(u.expires=s.expires),s.cacheControl&&(u.cacheControl=s.cacheControl),o.vectorTile=s.vectorTile||new ku(new Cd(c));const d=()=>{o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,((e,n)=>{if(e||!n)return t(e);const o={};if(r){const e=Ne(i);e.length>0&&(o.resourceTiming=JSON.parse(JSON.stringify(e)))}t(null,P({rawTileData:c.slice(0)},n,u,o))}))};this.isSpriteLoaded?d():this.once("isSpriteLoaded",(()=>{this.scheduler?this.scheduler.add(d,{type:"parseTile",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom}):d()})),this.loaded=this.loaded||{},this.loaded[n]=o}))}reloadTile(e,t){const n=this.loaded,i=e.uid,r=this;if(n&&n[i]){const o=n[i];o.showCollisionBoxes=e.showCollisionBoxes,o.enableTerrain=!!e.enableTerrain,o.projection=e.projection,o.tileTransform=Dp(e.tileID.canonical,e.projection);const a=(e,n)=>{const i=o.reloadCallback;i&&(delete o.reloadCallback,o.parse(o.vectorTile,r.layerIndex,this.availableImages,r.actor,i)),t(e,n)};"parsing"===o.status?o.reloadCallback=a:"done"===o.status&&(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,a):a())}}abortTile(e,t){const n=e.uid,i=this.loading[n];i&&(i.abort&&i.abort(),delete this.loading[n]),t()}removeTile(e,t){const n=this.loaded,i=e.uid;n&&n[i]&&delete n[i],t()}},e.WritingMode=Qd,e.add=Dl,e.addDynamicAttributes=af,e.adjoint=function(e,t){var n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8];return e[0]=a*u-s*c,e[1]=r*c-i*u,e[2]=i*s-r*a,e[3]=s*l-o*u,e[4]=n*u-r*l,e[5]=r*o-n*s,e[6]=o*c-a*l,e[7]=i*l-n*c,e[8]=n*a-i*o,e},e.asyncAll=T,e.bezier=w,e.bindAll=R,e.boundsAttributes=Of,e.bufferConvexPolygon=function(e,t){const n=[];for(let i=0;i<e.length;i++){const r=E(i-1,-1,e.length-1),o=E(i+1,-1,e.length-1),a=e[i],s=e[o],l=e[r].sub(a).unit(),c=s.sub(a).unit(),u=c.angleWithSep(l.x,l.y),d=l.add(c).unit().mult(-1*t/Math.sin(u/2));n.push(a.add(d))}return n},e.cacheEntryPossiblyAdded=function(e){re++,re>ee&&(e.getActor().send("enforceCacheSizeLimit",Q),re=0)},e.calculateGlobeLabelMatrix=function(e,t){const{x:n,y:i}=e.point,r=Cp(n,i,e.worldSize/e._pixelsPerMercatorPixel,0,0);return _l(r,r,Sp(dp(t)))},e.calculateGlobeMatrix=function(e){const{x:t,y:n}=e.point,{lng:i,lat:r}=e._center;return Cp(t,n,e.worldSize,i,r)},e.calculateGlobeMercatorMatrix=function(e){const t=e.pixelsPerMeter,n=t/Ls(1,e.center.lat),i=xl(new Float64Array(16));return wl(i,i,[e.point.x,e.point.y,0]),kl(i,i,[n,n,t]),Float32Array.from(i)},e.circumferenceAtLatitude=Ps,e.clamp=S,e.clearTileCache=function(e){if(!te())return;const n=t.caches.delete($);e&&n.catch(e).then((()=>e()))},e.clipLine=wh,e.clone=function(e){var t=new gl(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=N,e.collisionCircleLayout=fd,e.config=r,e.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},e.create=function(){var e=new gl(16);return gl!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=vl,e.createExpression=Xi,e.createLayout=ra,e.createStyleLayer=function(e){return"custom"===e.type?new vf(e):new bf[e.type](e)},e.cross=Wl,e.degToRad=y,e.distance=function(e,t){return Math.hypot(t[0]-e[0],t[1]-e[1],t[2]-e[2])},e.div=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e},e.dot=Vl,e.earthRadius=Es,e.ease=k,e.easeCubicInOut=_,e.ecefToLatLng=function([e,t,n]){const i=Math.hypot(e,t,n),r=Math.atan2(e,n),o=.5*Math.PI-Math.acos(-t/i);return new Ts(x(r),x(o))},e.emitValidationErrors=Br,e.endsWith=z,e.enforceCacheSizeLimit=function(e){ne(),Z&&Z.then((t=>{t.keys().then((n=>{for(let i=0;i<n.length-e;i++)t.delete(n[i])}))}))},e.evaluateSizeForFeature=yd,e.evaluateSizeForZoom=xd,e.evaluateVariableOffset=Vh,e.evented=Fo,e.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},e.exactEquals$1=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},e.exported=He,e.exported$1=o,e.extend=P,e.extend$1=Ze,e.fillExtrusionHeightLift=Bu,e.filterObject=B,e.fromMat4=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},e.fromQuat=function(e,t){var n=t[0],i=t[1],r=t[2],o=t[3],a=n+n,s=i+i,l=r+r,c=n*a,u=i*a,d=i*s,h=r*a,p=r*s,f=r*l,m=o*a,g=o*s,v=o*l;return e[0]=1-d-f,e[1]=u+v,e[2]=h-g,e[3]=0,e[4]=u-v,e[5]=1-c-f,e[6]=p+m,e[7]=0,e[8]=h+g,e[9]=p-m,e[10]=1-c-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.fromRotation=function(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=n,e[2]=0,e[3]=-n,e[4]=i,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.fromScaling=El,e.furthestTileCorner=function(e){const t=Math.round((e+45+360)%360/90)%4;return b[t]},e.getAABBPointSquareDist=function(e,t,n){let i=0;for(let r=0;r<2;++r){const o=n?n[r]:0;e[r]>o&&(i+=(e[r]-o)*(e[r]-o)),t[r]<o&&(i+=(o-t[r])*(o-t[r]))}return i},e.getAnchorAlignment=uh,e.getAnchorJustification=Uh,e.getBounds=function(e){let t=1/0,n=1/0,i=-1/0,r=-1/0;for(const o of e)t=Math.min(t,o.x),n=Math.min(n,o.y),i=Math.max(i,o.x),r=Math.max(r,o.y);return{min:new f(t,n),max:new f(i,r)}},e.getColumn=K,e.getGridMatrix=function(e,t,n,i){const r=t.getNorth(),o=t.getSouth(),a=t.getWest(),s=t.getEast(),l=1<<e.z,c=s-a,u=r-o,d=c/ip,h=-u/rp[n],p=[0,d,0,h,0,0,r,a,0];if(e.z>0){const e=180/i;yl(p,p,[e/c+1,0,0,0,e/u+1,0,-.5*e/d,.5*e/h,1])}return p[2]=l,p[5]=e.x,p[8]=e.y,p},e.getImage=fe,e.getJSON=function(e,t){return le(P(e,{type:"json"}),t)},e.getLatitudinalLod=function(e){const t=80.051129;e=S(e,-80.051129,t)/t*90;const n=Math.pow(Math.abs(Math.sin(y(e))),3);return Math.round(n*(rp.length-1))},e.getMapSessionAPI=De,e.getPerformanceMeasurement=Ne,e.getProjection=ef,e.getRTLTextPluginStatus=Bo,e.getReferrer=se,e.getTilePoint=function(e,{x:t,y:n},i=0){return new f(((t-i)*e.scale-e.x)*Ss,(n*e.scale-e.y)*Ss)},e.getTileVec3=function(e,t,n=0){return Ll(((t.x-n)*e.scale-e.x)*Ss,(t.y*e.scale-e.y)*Ss,Rs(t.z,t.y))},e.getVideo=function(e,n){const i=t.document.createElement("video");i.muted=!0,i.onloadstart=function(){n(null,i)};for(let r=0;r<e.length;r++){const n=t.document.createElement("source");ue(e[r])||(i.crossOrigin="Anonymous"),n.src=e[r],i.appendChild(n)}return{cancel:()=>{}}},e.globeCenterToScreenPoint=function(e){const t=[0,0,0],n=xl(new Float64Array(16));return _l(n,e.pixelMatrix,e.globeMatrix),Ul(t,t,n),new f(t[0],t[1])},e.globeDenormalizeECEF=Sp,e.globeECEFOrigin=function(e,t){const n=[0,0,0];return Ul(n,n,kp(dp(t.canonical))),Ul(n,n,e),n},e.globeNormalizeECEF=kp,e.globePixelsToTileUnits=function(e,t){return Ss/(512*Math.pow(2,e))*_p(dp(t))},e.globePoleMatrixForTile=function(e,t,n){const i=xl(new Float64Array(16)),r=(t/(1<<e)-.5)*Math.PI*2;return Cl(i,n.globeMatrix,r),Float32Array.from(i)},e.globeTileBounds=dp,e.globeTiltAtLngLat=Tp,e.globeToMercatorTransition=Ep,e.globeUseCustomAntiAliasing=function(e,t,n){const i=Ep(n.zoom),r=e.style.map._antialias,o=!!t.extStandardDerivatives,a=t.extStandardDerivativesForceOff||e.terrain&&e.terrain.exaggeration()>0;return 0===i&&!r&&!a&&o},e.identity=xl,e.identity$1=Ql,e.invert=bl,e.isFullscreen=function(){return!!t.document.fullscreenElement||!!t.document.webkitFullscreenElement},e.isLngLatBehindGlobe=Mp,e.isMapAuthenticated=function(e){return Oe.has(e)},e.isMapboxURL=ge,e.isSafariWithAntialiasingBug=function(e){const t=e.navigator?e.navigator.userAgent:null;return!!Y(e)&&t&&(t.match("Version/15.4")||t.match("Version/15.5")||t.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},e.latFromMercatorY=Os,e.latLngToECEF=xp,e.len=ql,e.length=Il,e.length$1=function(e){return Math.hypot(e[0],e[1],e[2],e[3])},e.lngFromMercatorX=Ds,e.loadVectorTile=mm,e.makeRequest=le,e.mapValue=function(e,t,n,i,r){return S((e-t)/(n-t)*(r-i)+i,i,r)},e.mercatorScale=Fs,e.mercatorXfromLng=As,e.mercatorYfromLat=Is,e.mercatorZfromAltitude=Ls,e.mul=Ml,e.mul$1=Yl,e.multiply=_l,e.multiply$1=yl,e.multiply$2=Rl,e.nextPowerOfTwo=D,e.normalize=jl,e.normalize$1=nc,e.normalize$2=$l,e.number=Mn,e.ortho=function(e,t,n,i,r,o,a){var s=1/(t-n),l=1/(i-r),c=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(r+i)*l,e[14]=(a+o)*c,e[15]=1,e},e.pbf=Cd,e.perspective=function(e,t,n,i,r){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=r&&r!==1/0?(e[10]=(r+i)*(o=1/(i-r)),e[14]=2*r*i*o):(e[10]=-1,e[14]=-2*i),e},e.pick=function(e,t){const n={};for(let i=0;i<t.length;i++){const r=t[i];r in e&&(n[r]=e[r])}return n},e.plugin=jo,e.pointGeometry=f,e.polesInViewport=function(e){const t=xl(new Float64Array(16));_l(t,e.pixelMatrix,e.globeMatrix);const n=[0,op,0],i=[0,ap,0];return Ul(n,n,t),Ul(i,i,t),[n[0]>0&&n[0]<=e.width&&n[1]>0&&n[1]<=e.height&&!Mp(e,new Ts(e.center.lat,90)),i[0]>0&&i[0]<=e.width&&i[1]>0&&i[1]<=e.height&&!Mp(e,new Ts(e.center.lat,-90))]},e.polygonContainsPoint=al,e.polygonIntersectsBox=sl,e.polygonIntersectsPolygon=Zs,e.polygonizeBounds=function(e,t,n=0,i=!0){const r=new f(n,n),o=e.sub(r),a=t.add(r),s=[o,new f(a.x,o.y),a,new f(o.x,a.y)];return i&&s.push(o.clone()),s},e.posAttributes=ep,e.postMapLoadEvent=Pe,e.postPerformanceEvent=Ie,e.postTurnstileEvent=Te,e.potpack=$d,e.prevPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},e.radToDeg=x,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.registerForPluginStateChange=function(e){return e({pluginStatus:Do,pluginURL:Oo}),Fo.on("pluginStateChange",e),e},e.removeAuthState=function(e){Oe.delete(e)},e.renderColorRamp=xc,e.resample=js,e.rotateX=Sl,e.rotateX$1=ec,e.rotateY=Cl,e.rotateY$1=tc,e.rotateZ=function(e,t,n){var i=Math.sin(n),r=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],c=t[4],u=t[5],d=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*r+c*i,e[1]=a*r+u*i,e[2]=s*r+d*i,e[3]=l*r+h*i,e[4]=c*r-o*i,e[5]=u*r-a*i,e[6]=d*r-s*i,e[7]=h*r-l*i,e},e.rotateZ$1=function(e,t,n){n*=.5;var i=t[0],r=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=i*l+r*s,e[1]=r*l-i*s,e[2]=o*l+a*s,e[3]=a*l-o*s,e},e.scale=kl,e.scale$1=Kl,e.scale$2=Bl,e.scaleAndAdd=Nl,e.set=function(e,t,n,i){return e[0]=t,e[1]=n,e[2]=i,e},e.setCacheLimits=function(e,t){Q=e,ee=t},e.setColumn=function(e,t,n){e[4*t+0]=n[0],e[4*t+1]=n[1],e[4*t+2]=n[2],e[4*t+3]=n[3]},e.setRTLTextPlugin=function(e,t,n=!1){if(Do===Po||Do===Ao||Do===Io)throw new Error("setRTLTextPlugin cannot be called multiple times.");Oo=He.resolveURL(e),Do=Po,Lo=t,zo(),n||No()},e.smoothstep=C,e.spec=$e,e.squaredLength=function(e){var t=e[0],n=e[1],i=e[2];return t*t+n*n+i*i},e.storeAuthState=function(e,t){t?Oe.add(e):Oe.delete(e)},e.sub=Gl,e.subtract=Ol,e.symbolSize=bd,e.tileAABB=function(e,t,n,i,r,o,a,s,l){if("globe"===l.name)return mp(e,t,new Uu(n,i,r));const c=Dp({z:n,x:i,y:r},l);return new ac([(o+c.x/c.scale)*t,t*(c.y/c.scale),a],[(o+c.x2/c.scale)*t,t*(c.y2/c.scale),s])},e.tileCornersToBounds=gp,e.tileTransform=Dp,e.transformMat3=function(e,t,n){var i=t[0],r=t[1],o=t[2];return e[0]=i*n[0]+r*n[3]+o*n[6],e[1]=i*n[1]+r*n[4]+o*n[7],e[2]=i*n[2]+r*n[5]+o*n[8],e},e.transformMat4=Ul,e.transformMat4$1=Zl,e.transformQuat=Hl,e.transitionTileAABBinECEF=pp,e.translate=wl,e.transpose=function(e,t){if(e===t){var n=t[1],i=t[2],r=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=i,e[7]=r}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},e.triggerPluginCompletionEvent=Ro,e.uniqueId=I,e.updateGlobeVertexNormal=function(e,t,n,i,r){const o=5*t+2;e.float32[o+0]=n,e.float32[o+1]=i,e.float32[o+2]=r},e.validateCustomStyleLayer=function(e){const t=[],n=e.id;return void 0===n&&t.push({message:`layers.${n}: missing required property "id"`}),void 0===e.render&&t.push({message:`layers.${n}: missing required method "render"`}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:`layers.${n}: property "renderingMode" must be either "2d" or "3d"`}),t},e.validateFilter=e=>Fr(yr(e)),e.validateFog=e=>Fr(Ar(e)),e.validateLayer=e=>Fr(kr(e)),e.validateLight=e=>Fr(Mr(e)),e.validateSource=e=>Fr(Er(e)),e.validateStyle=Or,e.validateTerrain=e=>Fr(Pr(e)),e.values=M,e.vectorTile=du,e.version=n,e.warnOnce=V,e.window=t,e.wrap=E})),i(["./shared"],(function(e){function t(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e||null==e)return JSON.stringify(e);if(Array.isArray(e)){let n="[";for(const i of e)n+=`${t(i)},`;return`${n}]`}let n="{";for(const i of Object.keys(e).sort())n+=`${i}:${t(e[i])},`;return`${n}}`}function n(n){let i="";for(const r of e.refProperties)i+=`/${t(n[r])}`;return i}class i{constructor(e){this.keyCache={},e&&this.replace(e)}replace(e){this._layerConfigs={},this._layers={},this.update(e,[])}update(t,i){for(const n of t)this._layerConfigs[n.id]=n,(this._layers[n.id]=e.createStyleLayer(n)).compileFilter(),this.keyCache[n.id]&&delete this.keyCache[n.id];for(const e of i)delete this.keyCache[e],delete this._layerConfigs[e],delete this._layers[e];this.familiesBySource={};const r=function(e,t){const i={};for(let o=0;o<e.length;o++){const r=t&&t[e[o].id]||n(e[o]);t&&(t[e[o].id]=r);let a=i[r];a||(a=i[r]=[]),a.push(e[o])}const r=[];for(const n in i)r.push(i[n]);return r}(e.values(this._layerConfigs),this.keyCache);for(const e of r){const t=e.map((e=>this._layers[e.id])),n=t[0];if("none"===n.visibility)continue;const i=n.source||"";let r=this.familiesBySource[i];r||(r=this.familiesBySource[i]={});const o=n.sourceLayer||"_geojsonTileLayer";let a=r[o];a||(a=r[o]=[]),a.push(t)}}}class r{loadTile(t,n){const{uid:i,encoding:r,rawImageData:o,padding:a,buildQuadTree:s}=t,l=e.window.ImageBitmap&&o instanceof e.window.ImageBitmap?this.getImageData(o,a):o;n(null,new e.DEMData(i,l,r,a<1,s))}getImageData(e,t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);const n=this.offscreenCanvasContext.getImageData(-t,-t,e.width+2*t,e.height+2*t);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),n}}var o=function e(t,n){var i,r=t&&t.type;if("FeatureCollection"===r)for(i=0;i<t.features.length;i++)e(t.features[i],n);else if("GeometryCollection"===r)for(i=0;i<t.geometries.length;i++)e(t.geometries[i],n);else if("Feature"===r)e(t.geometry,n);else if("Polygon"===r)a(t.coordinates,n);else if("MultiPolygon"===r)for(i=0;i<t.coordinates.length;i++)a(t.coordinates[i],n);return t};function a(e,t){if(0!==e.length){s(e[0],t);for(var n=1;n<e.length;n++)s(e[n],!t)}}function s(e,t){for(var n=0,i=0,r=0,o=e.length,a=o-1;r<o;a=r++){var s=(e[r][0]-e[a][0])*(e[a][1]+e[r][1]),l=n+s;i+=Math.abs(n)>=Math.abs(s)?n-l+s:s-l+n,n=l}n+i>=0!=!!t&&e.reverse()}const l=e.VectorTileFeature.prototype.toGeoJSON;class c{constructor(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))}loadGeometry(){if(1===this._feature.type){const t=[];for(const n of this._feature.geometry)t.push([new e.pointGeometry(n[0],n[1])]);return t}{const t=[];for(const n of this._feature.geometry){const i=[];for(const t of n)i.push(new e.pointGeometry(t[0],t[1]));t.push(i)}return t}}toGeoJSON(e,t,n){return l.call(this,e,t,n)}}class u{constructor(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t}feature(e){return new c(this._features[e])}}var d={exports:{}},h=e.pointGeometry,p=e.vectorTile.VectorTileFeature,f=m;function m(e,t){this.options=t||{},this.features=e,this.length=e.length}function g(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}m.prototype.feature=function(e){return new g(this.features[e],this.options.extent)},g.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var n=e[t],i=[],r=0;r<n.length;r++)i.push(new h(n[r][0],n[r][1]));this.geometry.push(i)}return this.geometry},g.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-1/0,i=1/0,r=-1/0,o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++){var l=a[s];t=Math.min(t,l.x),n=Math.max(n,l.x),i=Math.min(i,l.y),r=Math.max(r,l.y)}return[t,i,n,r]},g.prototype.toGeoJSON=p.prototype.toGeoJSON;var v=e.pbf,y=f;function x(e){var t=new v;return function(e,t){for(var n in e.layers)t.writeMessage(3,b,e.layers[n])}(e,t),t.finish()}function b(e,t){var n;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var i={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<e.length;n++)i.feature=e.feature(n),t.writeMessage(2,_,i);var r=i.keys;for(n=0;n<r.length;n++)t.writeStringField(3,r[n]);var o=i.values;for(n=0;n<o.length;n++)t.writeMessage(4,E,o[n])}function _(e,t){var n=e.feature;void 0!==n.id&&t.writeVarintField(1,n.id),t.writeMessage(2,w,e),t.writeVarintField(3,n.type),t.writeMessage(4,C,n)}function w(e,t){var n=e.feature,i=e.keys,r=e.values,o=e.keycache,a=e.valuecache;for(var s in n.properties){var l=n.properties[s],c=o[s];if(null!==l){void 0===c&&(i.push(s),o[s]=c=i.length-1),t.writeVarint(c);var u=typeof l;"string"!==u&&"boolean"!==u&&"number"!==u&&(l=JSON.stringify(l));var d=u+":"+l,h=a[d];void 0===h&&(r.push(l),a[d]=h=r.length-1),t.writeVarint(h)}}}function k(e,t){return(t<<3)+(7&e)}function S(e){return e<<1^e>>31}function C(e,t){for(var n=e.loadGeometry(),i=e.type,r=0,o=0,a=n.length,s=0;s<a;s++){var l=n[s],c=1;1===i&&(c=l.length),t.writeVarint(k(1,c));for(var u=3===i?l.length-1:l.length,d=0;d<u;d++){1===d&&1!==i&&t.writeVarint(k(2,u-1));var h=l[d].x-r,p=l[d].y-o;t.writeVarint(S(h)),t.writeVarint(S(p)),r+=h,o+=p}3===i&&t.writeVarint(k(7,1))}}function E(e,t){var n=typeof e;"string"===n?t.writeStringField(1,e):"boolean"===n?t.writeBooleanField(7,e):"number"===n&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function T(e,t,n,i,r,o){if(r-i<=n)return;const a=i+r>>1;M(e,t,a,i,r,o%2),T(e,t,n,i,a-1,o+1),T(e,t,n,a+1,r,o+1)}function M(e,t,n,i,r,o){for(;r>i;){if(r-i>600){const a=r-i+1,s=n-i+1,l=Math.log(a),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(a-c)/a)*(s-a/2<0?-1:1);M(e,t,n,Math.max(i,Math.floor(n-s*c/a+u)),Math.min(r,Math.floor(n+(a-s)*c/a+u)),o)}const a=t[2*n+o];let s=i,l=r;for(P(e,t,i,n),t[2*r+o]>a&&P(e,t,i,r);s<l;){for(P(e,t,s,l),s++,l--;t[2*s+o]<a;)s++;for(;t[2*l+o]>a;)l--}t[2*i+o]===a?P(e,t,i,l):(l++,P(e,t,l,r)),l<=n&&(i=l+1),n<=l&&(r=l-1)}}function P(e,t,n,i){A(e,n,i),A(t,2*n,2*i),A(t,2*n+1,2*i+1)}function A(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function I(e,t,n,i){const r=e-n,o=t-i;return r*r+o*o}d.exports=x,d.exports.fromVectorTileJs=x,d.exports.fromGeojsonVt=function(e,t){t=t||{};var n={};for(var i in e)n[i]=new y(e[i].features,t),n[i].name=i,n[i].version=t.version,n[i].extent=t.extent;return x({layers:n})},d.exports.GeoJSONWrapper=y;const L=e=>e[0],D=e=>e[1];class O{constructor(e,t=L,n=D,i=64,r=Float64Array){this.nodeSize=i,this.points=e;const o=e.length<65536?Uint16Array:Uint32Array,a=this.ids=new o(e.length),s=this.coords=new r(2*e.length);for(let l=0;l<e.length;l++)a[l]=l,s[2*l]=t(e[l]),s[2*l+1]=n(e[l]);T(a,s,i,0,a.length-1,0)}range(e,t,n,i){return function(e,t,n,i,r,o,a){const s=[0,e.length-1,0],l=[];let c,u;for(;s.length;){const d=s.pop(),h=s.pop(),p=s.pop();if(h-p<=a){for(let a=p;a<=h;a++)c=t[2*a],u=t[2*a+1],c>=n&&c<=r&&u>=i&&u<=o&&l.push(e[a]);continue}const f=Math.floor((p+h)/2);c=t[2*f],u=t[2*f+1],c>=n&&c<=r&&u>=i&&u<=o&&l.push(e[f]);const m=(d+1)%2;(0===d?n<=c:i<=u)&&(s.push(p),s.push(f-1),s.push(m)),(0===d?r>=c:o>=u)&&(s.push(f+1),s.push(h),s.push(m))}return l}(this.ids,this.coords,e,t,n,i,this.nodeSize)}within(e,t,n){return function(e,t,n,i,r,o){const a=[0,e.length-1,0],s=[],l=r*r;for(;a.length;){const c=a.pop(),u=a.pop(),d=a.pop();if(u-d<=o){for(let r=d;r<=u;r++)I(t[2*r],t[2*r+1],n,i)<=l&&s.push(e[r]);continue}const h=Math.floor((d+u)/2),p=t[2*h],f=t[2*h+1];I(p,f,n,i)<=l&&s.push(e[h]);const m=(c+1)%2;(0===c?n-r<=p:i-r<=f)&&(a.push(d),a.push(h-1),a.push(m)),(0===c?n+r>=p:i+r>=f)&&(a.push(h+1),a.push(u),a.push(m))}return s}(this.ids,this.coords,e,t,n,this.nodeSize)}}const R={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},z=Math.fround||(F=new Float32Array(1),e=>(F[0]=+e,F[0]));var F;class B{constructor(e){this.options=G(Object.create(R),e),this.trees=new Array(this.options.maxZoom+1)}load(e){const{log:t,minZoom:n,maxZoom:i,nodeSize:r}=this.options;t&&console.time("total time");const o=`prepare ${e.length} points`;t&&console.time(o),this.points=e;let a=[];for(let s=0;s<e.length;s++)e[s].geometry&&a.push(j(e[s],s));this.trees[i+1]=new O(a,Y,q,r,Float32Array),t&&console.timeEnd(o);for(let s=i;s>=n;s--){const e=+Date.now();a=this._cluster(a,s),this.trees[s]=new O(a,Y,q,r,Float32Array),t&&console.log("z%d: %d clusters in %dms",s,a.length,+Date.now()-e)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let n=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let r=180===e[2]?180:((e[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,r=180;else if(n>r){const e=this.getClusters([n,i,180,o],t),a=this.getClusters([-180,i,r,o],t);return e.concat(a)}const a=this.trees[this._limitZoom(t)],s=a.range(U(n),H(o),U(r),H(i)),l=[];for(const c of s){const e=a.points[c];l.push(e.numPoints?V(e):this.points[e.index])}return l}getChildren(e){const t=this._getOriginId(e),n=this._getOriginZoom(e),i="No cluster with the specified id.",r=this.trees[n];if(!r)throw new Error(i);const o=r.points[t];if(!o)throw new Error(i);const a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=r.within(o.x,o.y,a),l=[];for(const c of s){const t=r.points[c];t.parentId===e&&l.push(t.numPoints?V(t):this.points[t.index])}if(0===l.length)throw new Error(i);return l}getLeaves(e,t,n){const i=[];return this._appendLeaves(i,e,t=t||10,n=n||0,0),i}getTile(e,t,n){const i=this.trees[this._limitZoom(e)],r=Math.pow(2,e),{extent:o,radius:a}=this.options,s=a/o,l=(n-s)/r,c=(n+1+s)/r,u={features:[]};return this._addTileFeatures(i.range((t-s)/r,l,(t+1+s)/r,c),i.points,t,n,r,u),0===t&&this._addTileFeatures(i.range(1-s/r,l,1,c),i.points,r,n,r,u),t===r-1&&this._addTileFeatures(i.range(0,l,s/r,c),i.points,-1,n,r,u),u.features.length?u:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,i,r){const o=this.getChildren(t);for(const a of o){const t=a.properties;if(t&&t.cluster?r+t.point_count<=i?r+=t.point_count:r=this._appendLeaves(e,t.cluster_id,n,i,r):r<i?r++:e.push(a),e.length===n)break}return r}_addTileFeatures(e,t,n,i,r,o){for(const a of e){const e=t[a],s=e.numPoints;let l,c,u;if(s)l=W(e),c=e.x,u=e.y;else{const t=this.points[e.index];l=t.properties,c=U(t.geometry.coordinates[0]),u=H(t.geometry.coordinates[1])}const d={type:1,geometry:[[Math.round(this.options.extent*(c*r-n)),Math.round(this.options.extent*(u*r-i))]],tags:l};let h;s?h=e.id:this.options.generateId?h=e.index:this.points[e.index].id&&(h=this.points[e.index].id),void 0!==h&&(d.id=h),o.features.push(d)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const n=[],{radius:i,extent:r,reduce:o,minPoints:a}=this.options,s=i/(r*Math.pow(2,t));for(let l=0;l<e.length;l++){const i=e[l];if(i.zoom<=t)continue;i.zoom=t;const r=this.trees[t+1],c=r.within(i.x,i.y,s),u=i.numPoints||1;let d=u;for(const e of c){const n=r.points[e];n.zoom>t&&(d+=n.numPoints||1)}if(d>u&&d>=a){let e=i.x*u,a=i.y*u,s=o&&u>1?this._map(i,!0):null;const h=(l<<5)+(t+1)+this.points.length;for(const n of c){const l=r.points[n];if(l.zoom<=t)continue;l.zoom=t;const c=l.numPoints||1;e+=l.x*c,a+=l.y*c,l.parentId=h,o&&(s||(s=this._map(i,!0)),o(s,this._map(l)))}i.parentId=h,n.push(N(e/d,a/d,h,d,s))}else if(n.push(i),d>1)for(const e of c){const i=r.points[e];i.zoom<=t||(i.zoom=t,n.push(i))}}return n}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t){if(e.numPoints)return t?G({},e.properties):e.properties;const n=this.points[e.index].properties,i=this.options.map(n);return t&&i===n?G({},i):i}}function N(e,t,n,i,r){return{x:z(e),y:z(t),zoom:1/0,id:n,parentId:-1,numPoints:i,properties:r}}function j(e,t){const[n,i]=e.geometry.coordinates;return{x:z(U(n)),y:z(H(i)),zoom:1/0,index:t,parentId:-1}}function V(e){return{type:"Feature",id:e.id,properties:W(e),geometry:{type:"Point",coordinates:[(t=e.x,360*(t-.5)),X(e.y)]}};var t}function W(e){const t=e.numPoints,n=t>=1e4?`${Math.round(t/1e3)}k`:t>=1e3?Math.round(t/100)/10+"k":t;return G(G({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function U(e){return e/360+.5}function H(e){const t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function X(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function G(e,t){for(const n in t)e[n]=t[n];return e}function Y(e){return e.x}function q(e){return e.y}function K(e,t,n,i){for(var r,o=i,a=n-t>>1,s=n-t,l=e[t],c=e[t+1],u=e[n],d=e[n+1],h=t+3;h<n;h+=3){var p=$(e[h],e[h+1],l,c,u,d);if(p>o)r=h,o=p;else if(p===o){var f=Math.abs(h-a);f<s&&(r=h,s=f)}}o>i&&(r-t>3&&K(e,t,r,i),e[r+2]=o,n-r>3&&K(e,r,n,i))}function $(e,t,n,i,r,o){var a=r-n,s=o-i;if(0!==a||0!==s){var l=((e-n)*a+(t-i)*s)/(a*a+s*s);l>1?(n=r,i=o):l>0&&(n+=a*l,i+=s*l)}return(a=e-n)*a+(s=t-i)*s}function Z(e,t,n,i){var r={id:void 0===e?null:e,type:t,geometry:n,tags:i,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,n=e.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)J(e,t);else if("Polygon"===n||"MultiLineString"===n)for(var i=0;i<t.length;i++)J(e,t[i]);else if("MultiPolygon"===n)for(i=0;i<t.length;i++)for(var r=0;r<t[i].length;r++)J(e,t[i][r])}(r),r}function J(e,t){for(var n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}function Q(e,t,n,i){if(t.geometry){var r=t.geometry.coordinates,o=t.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],l=t.id;if(n.promoteId?l=t.properties[n.promoteId]:n.generateId&&(l=i||0),"Point"===o)ee(r,s);else if("MultiPoint"===o)for(var c=0;c<r.length;c++)ee(r[c],s);else if("LineString"===o)te(r,s,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(c=0;c<r.length;c++)te(r[c],s=[],a,!1),e.push(Z(l,"LineString",s,t.properties));return}ne(r,s,a,!1)}else if("Polygon"===o)ne(r,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(c=0;c<t.geometry.geometries.length;c++)Q(e,{id:l,geometry:t.geometry.geometries[c],properties:t.properties},n,i);return}throw new Error("Input data is not a valid GeoJSON object.")}for(c=0;c<r.length;c++){var u=[];ne(r[c],u,a,!0),s.push(u)}}e.push(Z(l,o,s,t.properties))}}function ee(e,t){t.push(ie(e[0])),t.push(re(e[1])),t.push(0)}function te(e,t,n,i){for(var r,o,a=0,s=0;s<e.length;s++){var l=ie(e[s][0]),c=re(e[s][1]);t.push(l),t.push(c),t.push(0),s>0&&(a+=i?(r*c-l*o)/2:Math.sqrt(Math.pow(l-r,2)+Math.pow(c-o,2))),r=l,o=c}var u=t.length-3;t[2]=1,K(t,0,u,n),t[u+2]=1,t.size=Math.abs(a),t.start=0,t.end=t.size}function ne(e,t,n,i){for(var r=0;r<e.length;r++){var o=[];te(e[r],o,n,i),t.push(o)}}function ie(e){return e/360+.5}function re(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function oe(e,t,n,i,r,o,a,s){if(i/=t,o>=(n/=t)&&a<i)return e;if(a<n||o>=i)return null;for(var l=[],c=0;c<e.length;c++){var u=e[c],d=u.geometry,h=u.type,p=0===r?u.minX:u.minY,f=0===r?u.maxX:u.maxY;if(p>=n&&f<i)l.push(u);else if(!(f<n||p>=i)){var m=[];if("Point"===h||"MultiPoint"===h)ae(d,m,n,i,r);else if("LineString"===h)se(d,m,n,i,r,!1,s.lineMetrics);else if("MultiLineString"===h)ce(d,m,n,i,r,!1);else if("Polygon"===h)ce(d,m,n,i,r,!0);else if("MultiPolygon"===h)for(var g=0;g<d.length;g++){var v=[];ce(d[g],v,n,i,r,!0),v.length&&m.push(v)}if(m.length){if(s.lineMetrics&&"LineString"===h){for(g=0;g<m.length;g++)l.push(Z(u.id,h,m[g],u.tags));continue}"LineString"!==h&&"MultiLineString"!==h||(1===m.length?(h="LineString",m=m[0]):h="MultiLineString"),"Point"!==h&&"MultiPoint"!==h||(h=3===m.length?"Point":"MultiPoint"),l.push(Z(u.id,h,m,u.tags))}}}return l.length?l:null}function ae(e,t,n,i,r){for(var o=0;o<e.length;o+=3){var a=e[o+r];a>=n&&a<=i&&(t.push(e[o]),t.push(e[o+1]),t.push(e[o+2]))}}function se(e,t,n,i,r,o,a){for(var s,l,c=le(e),u=0===r?de:he,d=e.start,h=0;h<e.length-3;h+=3){var p=e[h],f=e[h+1],m=e[h+2],g=e[h+3],v=e[h+4],y=0===r?p:f,x=0===r?g:v,b=!1;a&&(s=Math.sqrt(Math.pow(p-g,2)+Math.pow(f-v,2))),y<n?x>n&&(l=u(c,p,f,g,v,n),a&&(c.start=d+s*l)):y>i?x<i&&(l=u(c,p,f,g,v,i),a&&(c.start=d+s*l)):ue(c,p,f,m),x<n&&y>=n&&(l=u(c,p,f,g,v,n),b=!0),x>i&&y<=i&&(l=u(c,p,f,g,v,i),b=!0),!o&&b&&(a&&(c.end=d+s*l),t.push(c),c=le(e)),a&&(d+=s)}var _=e.length-3;p=e[_],f=e[_+1],m=e[_+2],(y=0===r?p:f)>=n&&y<=i&&ue(c,p,f,m),_=c.length-3,o&&_>=3&&(c[_]!==c[0]||c[_+1]!==c[1])&&ue(c,c[0],c[1],c[2]),c.length&&t.push(c)}function le(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function ce(e,t,n,i,r,o){for(var a=0;a<e.length;a++)se(e[a],t,n,i,r,o,!1)}function ue(e,t,n,i){e.push(t),e.push(n),e.push(i)}function de(e,t,n,i,r,o){var a=(o-t)/(i-t);return e.push(o),e.push(n+(r-n)*a),e.push(1),a}function he(e,t,n,i,r,o){var a=(o-n)/(r-n);return e.push(t+(i-t)*a),e.push(o),e.push(1),a}function pe(e,t){for(var n=[],i=0;i<e.length;i++){var r,o=e[i],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)r=fe(o.geometry,t);else if("MultiLineString"===a||"Polygon"===a){r=[];for(var s=0;s<o.geometry.length;s++)r.push(fe(o.geometry[s],t))}else if("MultiPolygon"===a)for(r=[],s=0;s<o.geometry.length;s++){for(var l=[],c=0;c<o.geometry[s].length;c++)l.push(fe(o.geometry[s][c],t));r.push(l)}n.push(Z(o.id,a,r,o.tags))}return n}function fe(e,t){var n=[];n.size=e.size,void 0!==e.start&&(n.start=e.start,n.end=e.end);for(var i=0;i<e.length;i+=3)n.push(e[i]+t,e[i+1],e[i+2]);return n}function me(e,t){if(e.transformed)return e;var n,i,r,o=1<<e.z,a=e.x,s=e.y;for(n=0;n<e.features.length;n++){var l=e.features[n],c=l.geometry,u=l.type;if(l.geometry=[],1===u)for(i=0;i<c.length;i+=2)l.geometry.push(ge(c[i],c[i+1],t,o,a,s));else for(i=0;i<c.length;i++){var d=[];for(r=0;r<c[i].length;r+=2)d.push(ge(c[i][r],c[i][r+1],t,o,a,s));l.geometry.push(d)}}return e.transformed=!0,e}function ge(e,t,n,i,r,o){return[Math.round(n*(e*i-r)),Math.round(n*(t*i-o))]}function ve(e,t,n,i,r){for(var o=t===r.maxZoom?0:r.tolerance/((1<<t)*r.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:i,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){a.numFeatures++,ye(a,e[s],o,r);var l=e[s].minX,c=e[s].minY,u=e[s].maxX,d=e[s].maxY;l<a.minX&&(a.minX=l),c<a.minY&&(a.minY=c),u>a.maxX&&(a.maxX=u),d>a.maxY&&(a.maxY=d)}return a}function ye(e,t,n,i){var r=t.geometry,o=t.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<r.length;s+=3)a.push(r[s]),a.push(r[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===o)xe(a,r,e,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<r.length;s++)xe(a,r[s],e,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var l=0;l<r.length;l++){var c=r[l];for(s=0;s<c.length;s++)xe(a,c[s],e,n,!0,0===s)}if(a.length){var u=t.tags||null;if("LineString"===o&&i.lineMetrics){for(var d in u={},t.tags)u[d]=t.tags[d];u.mapbox_clip_start=r.start/r.size,u.mapbox_clip_end=r.end/r.size}var h={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:u};null!==t.id&&(h.id=t.id),e.features.push(h)}}function xe(e,t,n,i,r,o){var a=i*i;if(i>0&&t.size<(r?a:i))n.numPoints+=t.length/3;else{for(var s=[],l=0;l<t.length;l+=3)(0===i||t[l+2]>a)&&(n.numSimplified++,s.push(t[l]),s.push(t[l+1])),n.numPoints++;r&&function(e,t){for(var n=0,i=0,r=e.length,o=r-2;i<r;o=i,i+=2)n+=(e[i]-e[o])*(e[i+1]+e[o+1]);if(n>0===t)for(i=0,r=e.length;i<r/2;i+=2){var a=e[i],s=e[i+1];e[i]=e[r-2-i],e[i+1]=e[r-1-i],e[r-2-i]=a,e[r-1-i]=s}}(s,o),e.push(s)}}function be(e,t){var n=(t=this.options=function(e,t){for(var n in t)e[n]=t[n];return e}(Object.create(this.options),t)).debug;if(n&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var i=function(e,t){var n=[];if("FeatureCollection"===e.type)for(var i=0;i<e.features.length;i++)Q(n,e.features[i],t,i);else Q(n,"Feature"===e.type?e:{geometry:e},t);return n}(e,t);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),i=function(e,t){var n=t.buffer/t.extent,i=e,r=oe(e,1,-1-n,n,0,-1,2,t),o=oe(e,1,1-n,2+n,0,-1,2,t);return(r||o)&&(i=oe(e,1,-n,1+n,0,-1,2,t)||[],r&&(i=pe(r,1).concat(i)),o&&(i=i.concat(pe(o,-1)))),i}(i,t),i.length&&this.splitTile(i,0,0,0),n&&(i.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function _e(e,t,n){return 32*((1<<e)*n+t)+e}function we(e,t){const n=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);const i=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!i)return t(null,null);const r=new u(i.features);let o=d.exports(r);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),t(null,{vectorTile:r,rawData:o.buffer})}be.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},be.prototype.splitTile=function(e,t,n,i,r,o,a){for(var s=[e,t,n,i],l=this.options,c=l.debug;s.length;){i=s.pop(),n=s.pop(),t=s.pop(),e=s.pop();var u=1<<t,d=_e(t,n,i),h=this.tiles[d];if(!h&&(c>1&&console.time("creation"),h=this.tiles[d]=ve(e,t,n,i,l),this.tileCoords.push({z:t,x:n,y:i}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,i,h.numFeatures,h.numPoints,h.numSimplified),console.timeEnd("creation"));var p="z"+t;this.stats[p]=(this.stats[p]||0)+1,this.total++}if(h.source=e,r){if(t===l.maxZoom||t===r)continue;var f=1<<r-t;if(n!==Math.floor(o/f)||i!==Math.floor(a/f))continue}else if(t===l.indexMaxZoom||h.numPoints<=l.indexMaxPoints)continue;if(h.source=null,0!==e.length){c>1&&console.time("clipping");var m,g,v,y,x,b,_=.5*l.buffer/l.extent,w=.5-_,k=.5+_,S=1+_;m=g=v=y=null,x=oe(e,u,n-_,n+k,0,h.minX,h.maxX,l),b=oe(e,u,n+w,n+S,0,h.minX,h.maxX,l),e=null,x&&(m=oe(x,u,i-_,i+k,1,h.minY,h.maxY,l),g=oe(x,u,i+w,i+S,1,h.minY,h.maxY,l),x=null),b&&(v=oe(b,u,i-_,i+k,1,h.minY,h.maxY,l),y=oe(b,u,i+w,i+S,1,h.minY,h.maxY,l),b=null),c>1&&console.timeEnd("clipping"),s.push(m||[],t+1,2*n,2*i),s.push(g||[],t+1,2*n,2*i+1),s.push(v||[],t+1,2*n+1,2*i),s.push(y||[],t+1,2*n+1,2*i+1)}}},be.prototype.getTile=function(e,t,n){var i=this.options,r=i.extent,o=i.debug;if(e<0||e>24)return null;var a=1<<e,s=_e(e,t=(t%a+a)%a,n);if(this.tiles[s])return me(this.tiles[s],r);o>1&&console.log("drilling down to z%d-%d-%d",e,t,n);for(var l,c=e,u=t,d=n;!l&&c>0;)c--,u=Math.floor(u/2),d=Math.floor(d/2),l=this.tiles[_e(c,u,d)];return l&&l.source?(o>1&&console.log("found parent tile z%d-%d-%d",c,u,d),o>1&&console.time("drilling down"),this.splitTile(l.source,c,u,d,e,t,n),o>1&&console.timeEnd("drilling down"),this.tiles[s]?me(this.tiles[s],r):null):null};class ke extends e.VectorTileWorkerSource{constructor(e,t,n,i,r){super(e,t,n,i,we),r&&(this.loadGeoJSON=r)}loadData(t,n){const i=t&&t.request,r=i&&i.collectResourceTiming;this.loadGeoJSON(t,((a,s)=>{if(a||!s)return n(a);if("object"!=typeof s)return n(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));{o(s,!0);try{if(t.filter){const n=e.createExpression(t.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===n.result)throw new Error(n.value.map((e=>`${e.key}: ${e.message}`)).join(", "));const i=s.features.filter((e=>n.value.evaluate({zoom:0},e)));s={type:"FeatureCollection",features:i}}this._geoJSONIndex=t.cluster?new B(function({superclusterOptions:t,clusterProperties:n}){if(!n||!t)return t;const i={},r={},o={accumulated:null,zoom:0},a={properties:null},s=Object.keys(n);for(const l of s){const[t,o]=n[l],a=e.createExpression(o),s=e.createExpression("string"==typeof t?[t,["accumulated"],["get",l]]:t);i[l]=a.value,r[l]=s.value}return t.map=e=>{a.properties=e;const t={};for(const n of s)t[n]=i[n].evaluate(o,a);return t},t.reduce=(e,t)=>{a.properties=t;for(const n of s)o.accumulated=e[n],e[n]=r[n].evaluate(o,a)},t}(t)).load(s.features):function(e,t){return new be(e,t)}(s,t.geojsonVtOptions)}catch(a){return n(a)}this.loaded={};const l={};if(r){const n=e.getPerformanceMeasurement(i);n&&(l.resourceTiming={},l.resourceTiming[t.source]=JSON.parse(JSON.stringify(n)))}n(null,l)}}))}reloadTile(e,t){const n=this.loaded;return n&&n[e.uid]?super.reloadTile(e,t):this.loadTile(e,t)}loadGeoJSON(t,n){if(t.request)e.getJSON(t.request,n);else{if("string"!=typeof t.data)return n(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));try{return n(null,JSON.parse(t.data))}catch(e){return n(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}}getClusterChildren(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}}getClusterLeaves(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}}}class Se{constructor(t){this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=e.getProjection({name:"mercator"}),this.workerSourceTypes={vector:e.VectorTileWorkerSource,geojson:ke},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(e,t)=>{if(this.workerSourceTypes[e])throw new Error(`Worker source with name "${e}" already registered.`);this.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=t=>{if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}}clearCaches(e,t,n){delete this.layerIndexes[e],delete this.availableImages[e],delete this.workerSources[e],delete this.demWorkerSources[e],n()}checkIfReady(e,t,n){n()}setReferrer(e,t){this.referrer=t}spriteLoaded(t,n){this.isSpriteLoaded[t]=n;for(const i in this.workerSources[t]){const r=this.workerSources[t][i];for(const t in r)r[t]instanceof e.VectorTileWorkerSource&&(r[t].isSpriteLoaded=n,r[t].fire(new e.Event("isSpriteLoaded")))}}setImages(e,t,n){this.availableImages[e]=t;for(const i in this.workerSources[e]){const n=this.workerSources[e][i];for(const e in n)n[e].availableImages=t}n()}enableTerrain(e,t,n){this.terrain=t,n()}setProjection(t,n){this.projections[t]=e.getProjection(n)}setLayers(e,t,n){this.getLayerIndex(e).replace(t),n()}updateLayers(e,t,n){this.getLayerIndex(e).update(t.layers,t.removedIds),n()}loadTile(t,n,i){const r=this.enableTerrain?e.extend({enableTerrain:this.terrain},n):n;r.projection=this.projections[t]||this.defaultProjection,this.getWorkerSource(t,n.type,n.source).loadTile(r,i)}loadDEMTile(t,n,i){const r=this.enableTerrain?e.extend({buildQuadTree:this.terrain},n):n;this.getDEMWorkerSource(t,n.source).loadTile(r,i)}reloadTile(t,n,i){const r=this.enableTerrain?e.extend({enableTerrain:this.terrain},n):n;r.projection=this.projections[t]||this.defaultProjection,this.getWorkerSource(t,n.type,n.source).reloadTile(r,i)}abortTile(e,t,n){this.getWorkerSource(e,t.type,t.source).abortTile(t,n)}removeTile(e,t,n){this.getWorkerSource(e,t.type,t.source).removeTile(t,n)}removeSource(e,t,n){if(!this.workerSources[e]||!this.workerSources[e][t.type]||!this.workerSources[e][t.type][t.source])return;const i=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==i.removeSource?i.removeSource(t,n):n()}loadWorkerSource(e,t,n){try{this.self.importScripts(t.url),n()}catch(e){n(e.toString())}}syncRTLPluginState(t,n,i){try{e.plugin.setState(n);const t=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=t){this.self.importScripts(t);const n=e.plugin.isParsed();i(n?void 0:new Error(`RTL Text Plugin failed to import scripts from ${t}`),n)}}catch(e){i(e.toString())}}getAvailableImages(e){let t=this.availableImages[e];return t||(t=[]),t}getLayerIndex(e){let t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new i),t}getWorkerSource(e,t,n){if(this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),!this.workerSources[e][t][n]){const i={send:(t,n,i,r,o,a)=>{this.actor.send(t,n,i,e,o,a)},scheduler:this.actor.scheduler};this.workerSources[e][t][n]=new this.workerSourceTypes[t](i,this.getLayerIndex(e),this.getAvailableImages(e),this.isSpriteLoaded[e])}return this.workerSources[e][t][n]}getDEMWorkerSource(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new r),this.demWorkerSources[e][t]}enforceCacheSizeLimit(t,n){e.enforceCacheSizeLimit(n)}getWorkerPerformanceMetrics(e,t,n){n(void 0,void 0)}}return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new Se(self)),Se})),i(["./shared"],(function(e){function t(e,n){if(Array.isArray(e)){if(!Array.isArray(n)||e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(!t(e[i],n[i]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==n){if("object"!=typeof n)return!1;if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(!t(e[i],n[i]))return!1;return!0}return e===n}var n=i;function i(e){return!function(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,n=new Blob([""],{type:"text/javascript"}),i=URL.createObjectURL(n);try{t=new Worker(i),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(i),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var n=t.getImageData(0,0,1,1);return n&&n.width===e.width}()?(void 0===r[t=e&&e.failIfMajorPerformanceCaveat]&&(r[t]=function(e){var t,n=function(e){var t=document.createElement("canvas"),n=Object.create(i.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=e,t.getContext("webgl",n)||t.getContext("experimental-webgl",n)}(e);if(!n)return!1;try{t=n.createShader(n.VERTEX_SHADER)}catch(e){return!1}return!(!t||n.isContextLost())&&(n.shaderSource(t,"void main() {}"),n.compileShader(t),!0===n.getShaderParameter(t,n.COMPILE_STATUS))}(t)),r[t]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var t}(e)}var r={};function o(t,n,i){const r=e.window.document.createElement(t);return void 0!==n&&(r.className=n),i&&i.appendChild(r),r}function a(t,n,i){const r=e.window.document.createElementNS("http://www.w3.org/2000/svg",t);for(const e of Object.keys(n))r.setAttributeNS(null,e,n[e]);return i&&i.appendChild(r),r}i.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const s=e.window.document&&e.window.document.documentElement.style,l=s&&void 0!==s.userSelect?"userSelect":"WebkitUserSelect";let c;function u(){s&&l&&(c=s[l],s[l]="none")}function d(){s&&l&&(s[l]=c)}function h(t){t.preventDefault(),t.stopPropagation(),e.window.removeEventListener("click",h,!0)}function p(){e.window.addEventListener("click",h,!0),e.window.setTimeout((()=>{e.window.removeEventListener("click",h,!0)}),0)}function f(e,t){const n=e.getBoundingClientRect();return v(e,n,t)}function m(e,t){const n=e.getBoundingClientRect(),i=[];for(let r=0;r<t.length;r++)i.push(v(e,n,t[r]));return i}function g(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button}function v(t,n,i){const r=t.offsetWidth===n.width?1:t.offsetWidth/n.width;return new e.pointGeometry((i.clientX-n.left)*r,(i.clientY-n.top)*r)}function y(e,t){var n=t[0],i=t[1],r=t[2],o=t[3],a=n*o-r*i;return a?(e[0]=o*(a=1/a),e[1]=-i*a,e[2]=-r*a,e[3]=n*a,e):null}function x(e){const{userImage:t}=e;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}class b extends e.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(e){if(this.loaded!==e&&(this.loaded=e,e)){for(const{ids:e,callback:t}of this.requestors)this._notify(e,t);this.requestors=[]}}hasImage(e){return!!this.getImage(e)}getImage(e){return this.images[e]}addImage(e,t){this._validate(e,t)&&(this.images[e]=t)}_validate(t,n){let i=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "stretchX" value`))),i=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "stretchY" value`))),i=!1),this._validateContent(n.content,n)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "content" value`))),i=!1),i}_validateStretch(e,t){if(!e)return!0;let n=0;for(const i of e){if(i[0]<n||i[1]<i[0]||t<i[1])return!1;n=i[1]}return!0}_validateContent(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))}updateImage(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0}removeImage(e){const t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(e,t){let n=!0;if(!this.isLoaded())for(const i of e)this.images[i]||(n=!1);this.isLoaded()||n?this._notify(e,t):this.requestors.push({ids:e,callback:t})}_notify(t,n){const i={};for(const r of t){this.images[r]||this.fire(new e.Event("styleimagemissing",{id:r}));const t=this.images[r];t?i[r]={data:t.data.clone(),pixelRatio:t.pixelRatio,sdf:t.sdf,version:t.version,stretchX:t.stretchX,stretchY:t.stretchY,content:t.content,hasRenderCallback:Boolean(t.userImage&&t.userImage.render)}:e.warnOnce(`Image "${r}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}n(null,i)}getPixelSize(){const{width:e,height:t}=this.atlasImage;return{width:e,height:t}}getPattern(t){const n=this.patterns[t],i=this.getImage(t);if(!i)return null;if(n&&n.position.version===i.version)return n.position;if(n)n.position.version=i.version;else{const n={w:i.data.width+2,h:i.data.height+2,x:0,y:0},r=new e.ImagePosition(n,i);this.patterns[t]={bin:n,position:r}}return this._updatePatternAtlas(),this.patterns[t].position}bind(t){const n=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)}_updatePatternAtlas(){const t=[];for(const e in this.patterns)t.push(this.patterns[e].bin);const{w:n,h:i}=e.potpack(t),r=this.atlasImage;r.resize({width:n||1,height:i||1});for(const o in this.patterns){const{bin:t}=this.patterns[o],n=t.x+1,i=t.y+1,a=this.images[o].data,s=a.width,l=a.height;e.RGBAImage.copy(a,r,{x:0,y:0},{x:n,y:i},{width:s,height:l}),e.RGBAImage.copy(a,r,{x:0,y:l-1},{x:n,y:i-1},{width:s,height:1}),e.RGBAImage.copy(a,r,{x:0,y:0},{x:n,y:i+l},{width:s,height:1}),e.RGBAImage.copy(a,r,{x:s-1,y:0},{x:n-1,y:i},{width:1,height:l}),e.RGBAImage.copy(a,r,{x:0,y:0},{x:n+s,y:i},{width:1,height:l})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(e){for(const t of e){if(this.callbackDispatchedThisFrame[t])continue;this.callbackDispatchedThisFrame[t]=!0;const e=this.images[t];x(e)&&this.updateImage(t,e)}}}const _=new e.Properties({anchor:new e.DataConstantProperty(e.spec.light.anchor),position:new class{constructor(){this.specification=e.spec.light.position}possiblyEvaluate(t,n){return function([t,n,i]){const r=e.degToRad(n+90),o=e.degToRad(i);return{x:t*Math.cos(r)*Math.sin(o),y:t*Math.sin(r)*Math.sin(o),z:t*Math.cos(o),azimuthal:n,polar:i}}(t.expression.evaluate(n))}interpolate(t,n,i){return{x:e.number(t.x,n.x,i),y:e.number(t.y,n.y,i),z:e.number(t.z,n.z,i),azimuthal:e.number(t.azimuthal,n.azimuthal,i),polar:e.number(t.polar,n.polar,i)}}},color:new e.DataConstantProperty(e.spec.light.color),intensity:new e.DataConstantProperty(e.spec.light.intensity)}),w="-transition";class k extends e.Evented{constructor(t){super(),this._transitionable=new e.Transitionable(_),this.setLight(t),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(t,n={}){if(!this._validate(e.validateLight,t,n))for(const i in t){const n=t[i];e.endsWith(i,w)?this._transitionable.setTransition(i.slice(0,-w.length),n):this._transitionable.setValue(i,n)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(t,n,i){return(!i||!1!==i.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}const S=new e.Properties({source:new e.DataConstantProperty(e.spec.terrain.source),exaggeration:new e.DataConstantProperty(e.spec.terrain.exaggeration)}),C="-transition";class E extends e.Evented{constructor(t,n){super(),this._transitionable=new e.Transitionable(S),this.set(t),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=n}get(){return this._transitionable.serialize()}set(t){for(const n in t){const i=t[n];e.endsWith(n,C)?this._transitionable.setTransition(n.slice(0,-C.length),i):this._transitionable.setValue(n,i)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}}function T(t,n,i,r){const o=e.smoothstep(45,65,i),[a,s]=M(t,r),l=e.length(n);let c=1-Math.min(1,Math.exp((l-a)/(s-a)*-6));return c*=c*c,c=Math.min(1,1.00747*c),c*o*t.alpha}function M(e,t){const n=.5/Math.tan(.5*t);return[e.range[0]+n,e.range[1]+n]}const P=new e.Properties({range:new e.DataConstantProperty(e.spec.fog.range),color:new e.DataConstantProperty(e.spec.fog.color),"high-color":new e.DataConstantProperty(e.spec.fog["high-color"]),"space-color":new e.DataConstantProperty(e.spec.fog["space-color"]),"horizon-blend":new e.DataConstantProperty(e.spec.fog["horizon-blend"]),"star-intensity":new e.DataConstantProperty(e.spec.fog["star-intensity"])}),A="-transition";class I extends e.Evented{constructor(t,n){super(),this._transitionable=new e.Transitionable(P),this.set(t),this._transitioning=this._transitionable.untransitioned(),this._transform=n}get state(){const t=this._transform,n="globe"===t.projection.name,i=e.globeToMercatorTransition(t.zoom),r=this.properties.get("range"),o=[.5,3];return{range:n?[e.number(o[0],r[0],i),e.number(o[1],r[1],i)]:r,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(t,n={}){if(!this._validate(e.validateFog,t,n)){for(const n of Object.keys(e.spec.fog))t&&void 0===t[n]&&(t[n]=e.spec.fog[n].default);for(const n in t){const i=t[n];e.endsWith(n,A)?this._transitionable.setTransition(n.slice(0,-A.length),i):this._transitionable.setValue(n,i)}}}getOpacity(t){if(!this._transform.projection.supportsFog)return 0;const n=this.properties&&this.properties.get("color")||1;return("globe"===this._transform.projection.name?1:e.smoothstep(45,65,t))*n.a}getOpacityAtLatLng(t,n){return this._transform.projection.supportsFog?function(t,n,i){const r=e.MercatorCoordinate.fromLngLat(n),o=i.elevation?i.elevation.getAtPointOrZero(r):0,a=[r.x,r.y,o];return e.transformMat4(a,a,i.mercatorFogMatrix),T(t,a,i.pitch,i._fov)}(this.state,t,n):0}getFovAdjustedRange(e){return this._transform.projection.supportsFog?M(this.state,e):[0,1]}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(t,n,i){return(!i||!1!==i.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}class L{constructor(t,n){this.workerPool=t,this.actors=[],this.currentActor=0,this.id=e.uniqueId();const i=this.workerPool.acquire(this.id);for(let e=0;e<i.length;e++){const t=new L.Actor(i[e],n,this.id);t.name=`Worker ${e}`,this.actors.push(t)}this.ready=!1,this.broadcast("checkIfReady",null,(()=>{this.ready=!0}))}broadcast(t,n,i){e.asyncAll(this.actors,((e,i)=>{e.send(t,n,i)}),i=i||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach((e=>{e.remove()})),this.actors=[],this.workerPool.release(this.id)}}function D(t,n,i){return n*(e.EXTENT/(t.tileSize*Math.pow(2,i-t.tileID.overscaledZ)))}L.Actor=e.Actor;class O{constructor(e,t,n,i){this.screenBounds=e,this.cameraPoint=t,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=n,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,i)}static createFromScreenPoints(t,n){let i,r;if(t instanceof e.pointGeometry||"number"==typeof t[0]){const o=e.pointGeometry.convert(t);i=[o],r=n.isPointAboveHorizon(o)}else{const o=e.pointGeometry.convert(t[0]),a=e.pointGeometry.convert(t[1]);i=[o,a],r=e.polygonizeBounds(o,a).every((e=>n.isPointAboveHorizon(e)))}return new O(i,n.getCameraPoint(),r,n)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(t){return e.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],t)}bufferedCameraGeometry(t){const n=this.screenBounds[0],i=1===this.screenBounds.length?this.screenBounds[0].add(new e.pointGeometry(1,1)):this.screenBounds[1],r=e.polygonizeBounds(n,i,0,!1);return this.cameraPoint.y>i.y&&(this.cameraPoint.x>n.x&&this.cameraPoint.x<i.x?r.splice(3,0,this.cameraPoint):this.cameraPoint.x>=i.x?r[2]=this.cameraPoint:this.cameraPoint.x<=n.x&&(r[3]=this.cameraPoint)),e.bufferConvexPolygon(r,t)}bufferedCameraGeometryGlobe(t){const n=this.screenBounds[0],i=1===this.screenBounds.length?this.screenBounds[0].add(new e.pointGeometry(1,1)):this.screenBounds[1],r=e.polygonizeBounds(n,i,t),o=this.cameraPoint.clone();switch(3*((o.y>n.y)+(o.y>i.y))+((o.x>n.x)+(o.x>i.x))){case 0:r[0]=o,r[4]=o.clone();break;case 1:r.splice(1,0,o);break;case 2:r[1]=o;break;case 3:r.splice(4,0,o);break;case 5:r.splice(2,0,o);break;case 6:r[3]=o;break;case 7:r.splice(3,0,o);break;case 8:r[2]=o}return r}containsTile(t,n,i,r=0){const o=t.queryPadding/n._pixelsPerMercatorPixel+1,a=i?this._bufferedCameraMercator(o,n):this._bufferedScreenMercator(o,n);let s=t.tileID.wrap+(a.unwrapped?r:0);const l=a.polygon.map((n=>e.getTilePoint(t.tileTransform,n,s)));if(!e.polygonIntersectsBox(l,0,0,e.EXTENT,e.EXTENT))return;s=t.tileID.wrap+(this.screenGeometryMercator.unwrapped?r:0);const c=this.screenGeometryMercator.polygon.map((n=>e.getTileVec3(t.tileTransform,n,s))),u=c.map((t=>new e.pointGeometry(t[0],t[1]))),d=n.getFreeCameraOptions().position||new e.MercatorCoordinate(0,0,0),h=e.getTileVec3(t.tileTransform,d,s),p=c.map((t=>{const n=e.sub(t,t,h);return e.normalize(n,n),new e.Ray(h,n)})),f=D(t,1,n.zoom)*n._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:u,tilespaceRays:p,bufferedTilespaceGeometry:l,bufferedTilespaceBounds:(m=e.getBounds(l),m.min.x=e.clamp(m.min.x,0,e.EXTENT),m.min.y=e.clamp(m.min.y,0,e.EXTENT),m.max.x=e.clamp(m.max.x,0,e.EXTENT),m.max.y=e.clamp(m.max.y,0,e.EXTENT),m),tile:t,tileID:t.tileID,pixelToTileUnitsFactor:f};var m}_bufferedScreenMercator(e,t){const n=F(e);if(this._screenRaycastCache[n])return this._screenRaycastCache[n];{let i;return i="globe"===t.projection.name?this._projectAndResample(this.bufferedScreenGeometry(e),t):{polygon:this.bufferedScreenGeometry(e).map((e=>t.pointCoordinate3D(e))),unwrapped:!0},this._screenRaycastCache[n]=i,i}}_bufferedCameraMercator(e,t){const n=F(e);if(this._cameraRaycastCache[n])return this._cameraRaycastCache[n];{let i;return i="globe"===t.projection.name?this._projectAndResample(this.bufferedCameraGeometryGlobe(e),t):{polygon:this.bufferedCameraGeometry(e).map((e=>t.pointCoordinate3D(e))),unwrapped:!0},this._cameraRaycastCache[n]=i,i}}_projectAndResample(t,n){const i=function(t,n){const i=e.multiply([],n.pixelMatrix,n.globeMatrix),r=[0,-e.GLOBE_RADIUS,0,1],o=[0,e.GLOBE_RADIUS,0,1],a=[0,0,0,1];e.transformMat4$1(r,r,i),e.transformMat4$1(o,o,i),e.transformMat4$1(a,a,i);const s=new e.pointGeometry(r[0]/r[3],r[1]/r[3]),l=new e.pointGeometry(o[0]/o[3],o[1]/o[3]),c=e.polygonContainsPoint(t,s)&&r[3]<a[3],u=e.polygonContainsPoint(t,l)&&o[3]<a[3];if(!c&&!u)return null;const d=function(e,t,n){for(let i=1;i<e.length;i++){const r=z(t.pointCoordinate3D(e[i-1]).x),o=z(t.pointCoordinate3D(e[i]).x);if(n<0){if(r<o)return{idx:i,t:-r/(o-1-r)}}else if(o<r)return{idx:i,t:(1-r)/(o+1-r)}}return null}(t,n,c?-1:1);if(!d)return null;const{idx:h,t:p}=d;let f=h>1?R(t.slice(0,h),n):[],m=h<t.length?R(t.slice(h),n):[];f=f.map((t=>new e.pointGeometry(z(t.x),t.y))),m=m.map((t=>new e.pointGeometry(z(t.x),t.y)));const g=[...f];0===g.length&&g.push(m[m.length-1]);const v=e.number(g[g.length-1].y,(0===m.length?f[0]:m[0]).y,p);let y;return y=c?[new e.pointGeometry(0,v),new e.pointGeometry(0,0),new e.pointGeometry(1,0),new e.pointGeometry(1,v)]:[new e.pointGeometry(1,v),new e.pointGeometry(1,1),new e.pointGeometry(0,1),new e.pointGeometry(0,v)],g.push(...y),0===m.length?g.push(f[0]):g.push(...m),{polygon:g.map((t=>new e.MercatorCoordinate(t.x,t.y))),unwrapped:!1}}(t,n);if(i)return i;const r=function(t,n){let i=!1,r=-1/0,o=0;for(let e=0;e<t.length-1;e++)t[e].x>r&&(r=t[e].x,o=e);for(let e=0;e<t.length-1;e++){const n=(o+e)%(t.length-1),r=t[n],a=t[n+1];Math.abs(r.x-a.x)>.5&&(r.x<a.x?(r.x+=1,0===n&&(t[t.length-1].x+=1)):(a.x+=1,n+1===t.length-1&&(t[0].x+=1)),i=!0)}const a=e.mercatorXfromLng(n.center.lng);return i&&a<Math.abs(a-1)&&t.forEach((e=>{e.x-=1})),{polygon:t,unwrapped:i}}(R(t,n).map((t=>new e.pointGeometry(z(t.x),t.y))),n);return{polygon:r.polygon.map((t=>new e.MercatorCoordinate(t.x,t.y))),unwrapped:r.unwrapped}}}function R(t,n){return e.resample(t,(e=>{const t=n.pointCoordinate3D(e);e.x=t.x,e.y=t.y}),1/256)}function z(e){return e<0?1+e%1:e%1}function F(e){return 100*e|0}function B(t,n,i,r,o){const a=function(i,r){if(i)return o(i);if(r){t.url&&r.tiles&&t.tiles&&delete t.tiles;const i=e.pick(e.extend(r,t),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);r.vector_layers&&(i.vectorLayers=r.vector_layers,i.vectorLayerIds=i.vectorLayers.map((e=>e.id))),i.tiles=n.canonicalizeTileset(i,t.url),o(null,i)}};return t.url?e.getJSON(n.transformRequest(n.normalizeSourceURL(t.url,null,i,r),e.ResourceType.Source),a):e.exported.frame((()=>a(null,t)))}class N{constructor(t,n,i){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=n||0,this.maxzoom=i||24}validateBounds(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(t){const n=Math.pow(2,t.z),i=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*n),r=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*n),o=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*n),a=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*n);return t.x>=i&&t.x<o&&t.y>=r&&t.y<a}}class j{constructor(e,t,n){this.context=e;const i=e.gl;this.buffer=i.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),i.bufferData(i.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||t.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const V={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class W{constructor(e,t,n,i){this.length=t.length,this.attributes=n,this.itemSize=t.bytesPerElement,this.dynamicDraw=i,this.context=e;const r=e.gl;this.buffer=r.createBuffer(),e.bindVertexBuffer.set(this.buffer),r.bufferData(r.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||t.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)}enableAttributes(e,t){for(let n=0;n<this.attributes.length;n++){const i=t.attributes[this.attributes[n].name];void 0!==i&&e.enableVertexAttribArray(i)}}setVertexAttribPointers(e,t,n){for(let i=0;i<this.attributes.length;i++){const r=this.attributes[i],o=t.attributes[r.name];void 0!==o&&e.vertexAttribPointer(o,r.components,e[V[r.type]],!1,this.itemSize,r.offset+this.itemSize*(n||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class U{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class H extends U{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class X extends U{getDefault(){return 1}set(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}class G extends U{getDefault(){return 0}set(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}class Y extends U{getDefault(){return[!0,!0,!0,!0]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class q extends U{getDefault(){return!0}set(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}class K extends U{getDefault(){return 255}set(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}class $ extends U{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(e){const t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}class Z extends U{getDefault(){const e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}class J extends U{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}}class Q extends U{getDefault(){return[0,1]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}class ee extends U{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}}class te extends U{getDefault(){return this.gl.LESS}set(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}class ne extends U{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}}class ie extends U{getDefault(){const e=this.gl;return[e.ONE,e.ZERO]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}class re extends U{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class oe extends U{getDefault(){return this.gl.FUNC_ADD}set(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}class ae extends U{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}}class se extends U{getDefault(){return this.gl.BACK}set(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}class le extends U{getDefault(){return this.gl.CCW}set(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}class ce extends U{getDefault(){return null}set(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}class ue extends U{getDefault(){return this.gl.TEXTURE0}set(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}class de extends U{getDefault(){const e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class he extends U{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}class pe extends U{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class fe extends U{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}}class me extends U{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class ge extends U{getDefault(){return null}set(e){const t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class ve extends U{constructor(e){super(e),this.vao=e.extVertexArrayObject}getDefault(){return null}set(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)}}class ye extends U{getDefault(){return 4}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}class xe extends U{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}class be extends U{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}class _e extends U{constructor(e,t){super(e),this.context=e,this.parent=t}getDefault(){return null}}class we extends _e{setDirty(){this.dirty=!0}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}class ke extends _e{attachment(){return this.gl.DEPTH_ATTACHMENT}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,this.attachment(),t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class Se extends ke{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class Ce{constructor(e,t,n,i){this.context=e,this.width=t,this.height=n;const r=this.framebuffer=e.gl.createFramebuffer();this.colorAttachment=new we(e,r),i&&(this.depthAttachment=new ke(e,r))}destroy(){const e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){const t=this.depthAttachment.get();t&&e.deleteRenderbuffer(t)}e.deleteFramebuffer(this.framebuffer)}}class Ee{constructor(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new H(this),this.clearDepth=new X(this),this.clearStencil=new G(this),this.colorMask=new Y(this),this.depthMask=new q(this),this.stencilMask=new K(this),this.stencilFunc=new $(this),this.stencilOp=new Z(this),this.stencilTest=new J(this),this.depthRange=new Q(this),this.depthTest=new ee(this),this.depthFunc=new te(this),this.blend=new ne(this),this.blendFunc=new ie(this),this.blendColor=new re(this),this.blendEquation=new oe(this),this.cullFace=new ae(this),this.cullFaceSide=new se(this),this.frontFace=new le(this),this.program=new ce(this),this.activeTexture=new ue(this),this.viewport=new de(this),this.bindFramebuffer=new he(this),this.bindRenderbuffer=new pe(this),this.bindTexture=new fe(this),this.bindVertexBuffer=new me(this),this.bindElementBuffer=new ge(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ve(this),this.pixelStoreUnpack=new ye(this),this.pixelStoreUnpackPremultiplyAlpha=new xe(this),this.pixelStoreUnpackFlipY=new be(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=e.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=e.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=e.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(e.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=e.getExtension("OES_standard_derivatives"),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(e,t){return new j(this,e,t)}createVertexBuffer(e,t,n){return new W(this,e,t,n)}createRenderbuffer(e,t,n){const i=this.gl,r=i.createRenderbuffer();return this.bindRenderbuffer.set(r),i.renderbufferStorage(i.RENDERBUFFER,e,t,n),this.bindRenderbuffer.set(null),r}createFramebuffer(e,t,n){return new Ce(this,e,t,n)}clear({color:e,depth:t,stencil:n}){const i=this.gl;let r=0;e&&(r|=i.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==t&&(r|=i.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(t),this.depthMask.set(!0)),void 0!==n&&(r|=i.STENCIL_BUFFER_BIT,this.clearStencil.set(n),this.stencilMask.set(255)),i.clear(r)}setCullFace(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}setColorMode(n){t(n.blendFunction,e.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(n.blendFunction),this.blendColor.set(n.blendColor)),this.colorMask.set(n.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class Te extends e.Evented{constructor(t,n,i,r){super(),this.id=t,this.dispatcher=i,this.setEventedParent(r),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({type:"raster"},n),e.extend(this,e.pick(n,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=B(this._options,this.map._requestManager,null,null,((t,n)=>{this._tileJSONRequest=null,this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):n&&(e.extend(this,n),n.bounds&&(this.tileBounds=new N(n.bounds,this.minzoom,this.maxzoom)),e.postTurnstileEvent(n.tiles),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))}loaded(){return this._loaded}onAdd(e){this.map=e,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return e.extend({},this._options)}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(t,n){const i=e.exported.devicePixelRatio>=2,r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),i,this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(r,e.ResourceType.Tile),((i,r,o,a)=>(delete t.request,t.aborted?(t.state="unloaded",n(null)):i?(t.state="errored",n(i)):r?(this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:o,expires:a}),t.setTexture(r,this.map.painter),t.state="loaded",e.cacheEntryPossiblyAdded(this.dispatcher),void n(null)):n(null))))}static loadTileData(e,t,n){e.setTexture(t,n)}static unloadTileData(e,t){e.texture&&t.saveTileTexture(e.texture)}abortTile(e,t){e.request&&(e.request.cancel(),delete e.request),t()}unloadTile(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()}hasTransition(){return!1}}let Me;function Pe(t,n,i,r,o,a,s,l){const c=[t,i,o,n,r,a,1,1,1],u=[s,l,1],d=e.adjoint([],c),[h,p,f]=e.transformMat3(u,u,e.transpose(d,d));return e.multiply$1(c,[h,0,0,0,p,0,0,0,f],c)}class Ae extends e.Evented{constructor(e,t,n,i){super(),this.id=e,this.dispatcher=n,this.coordinates=t.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(i),this.options=t,this._dirty=!1}load(t,n){this._loaded=n||!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),((n,i)=>{if(this._imageRequest=null,this._loaded=!0,n)this.fire(new e.ErrorEvent(n));else if(i){const{HTMLImageElement:n}=e.window;this.image=i instanceof n?e.exported.getImageData(i):i,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,t&&(this.coordinates=t),this._finishLoading()}}))}loaded(){return this._loaded}updateImage(e){return this.image&&e.url?(this._imageRequest&&e.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=e.url,this.load(e.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(e){this.map=e,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(t){this.coordinates=t,this._boundsArray=void 0;const n=t.map(e.MercatorCoordinate.fromLngLat);return this.tileID=function(t){let n=1/0,i=1/0,r=-1/0,o=-1/0;for(const e of t)n=Math.min(n,e.x),i=Math.min(i,e.y),r=Math.max(r,e.x),o=Math.max(o,e.y);const a=Math.max(r-n,o-i),s=Math.max(0,Math.floor(-Math.log(a)/Math.LN2)),l=Math.pow(2,s);return new e.CanonicalTileID(s,Math.floor((n+r)/2*l),Math.floor((i+o)/2*l))}(n),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(t){for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture)}if(this._boundsArray)return;const n=e.tileTransform(this.tileID,this.map.transform.projection),[i,r,o,a]=this.coordinates.map((t=>{const i=n.projection.project(t[0],t[1]);return e.getTilePoint(n,i)._round()}));this.perspectiveTransform=function(t,n,i,r,o,a,s,l,c,u){const d=Pe(0,0,t,0,0,n,t,n),h=Pe(i,r,o,a,s,l,c,u);return e.multiply$1(h,e.adjoint(d,d),h),[h[6]/h[8]*t/e.EXTENT,h[7]/h[8]*n/e.EXTENT]}(this.width,this.height,i.x,i.y,r.x,r.y,a.x,a.y,o.x,o.y);const s=this._boundsArray=new e.StructArrayLayout4i8;s.emplaceBack(i.x,i.y,0,0),s.emplaceBack(r.x,r.y,e.EXTENT,0),s.emplaceBack(a.x,a.y,0,e.EXTENT),s.emplaceBack(o.x,o.y,e.EXTENT,e.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=t.createVertexBuffer(s,e.boundsAttributes.members),this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const t=this.map.painter.context,n=t.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new e.Texture(t,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(t)}loadTile(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Ie={vector:class extends e.Evented{constructor(t,n,i,r){if(super(),this.id=t,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(n,["url","scheme","tileSize","promoteId"])),this._options=e.extend({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(r),this._tileWorkers={},this._deduped=new e.DedupedRequest}load(t){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"}));const n=Array.isArray(this.map._language)?this.map._language.join():this.map._language,i=this.map._worldview;this._tileJSONRequest=B(this._options,this.map._requestManager,n,i,((r,o)=>{this._tileJSONRequest=null,this._loaded=!0,r?(n&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${n}`),i&&2!==i.length&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${i}`),this.fire(new e.ErrorEvent(r))):o&&(e.extend(this,o),o.bounds&&(this.tileBounds=new N(o.bounds,this.minzoom,this.maxzoom)),e.postTurnstileEvent(o.tiles,this.map._requestManager._customAccessToken),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))),t&&t(r)}))}loaded(){return this._loaded}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load()}reload(){this.cancelTileJSONRequest(),this.load((()=>{const e=this.map.style._getSourceCaches(this.id);for(const t of e)t.clearTiles()}))}setSourceProperty(e){e(),this.reload()}setTiles(e){return this._options.tiles=e,this.reload(),this}setUrl(e){return this.url=e,this._options.url=e,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return e.extend({},this._options)}loadTile(t,n){const i=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),r={request:this.map._requestManager.transformRequest(i,e.ResourceType.Tile),data:void 0,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:t.isSymbolTile};if(r.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state)"loading"===t.state?t.reloadCallback=n:t.request=t.actor.send("reloadTile",r,o.bind(this));else if(t.actor=this._tileWorkers[i]=this._tileWorkers[i]||this.dispatcher.getActor(),this.dispatcher.ready)t.request=t.actor.send("loadTile",r,o.bind(this),void 0,!0);else{const n=e.loadVectorTile.call({deduped:this._deduped},r,((e,n)=>{e||!n?o.call(this,e):(r.data={cacheControl:n.cacheControl,expires:n.expires,rawData:n.rawData.slice(0)},t.actor&&t.actor.send("loadTile",r,o.bind(this),void 0,!0))}),!0);t.request={cancel:n}}function o(i,r){return delete t.request,t.aborted?n(null):i&&404!==i.status?n(i):(r&&r.resourceTiming&&(t.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&r&&t.setExpiryData(r),t.loadVectorData(r,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id})}unloadTile(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},raster:Te,"raster-dem":class extends Te{constructor(t,n,i,r){super(t,n,i,r),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({type:"raster-dem"},n),this.encoding=n.encoding||"mapbox"}loadTile(t,n){const i=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function r(e,i){e&&(t.state="errored",n(e)),i&&(t.dem=i,t.dem.onDeserialize(),t.needsHillshadePrepare=!0,t.needsDEMTextureUpload=!0,t.state="loaded",n(null))}t.request=e.getImage(this.map._requestManager.transformRequest(i,e.ResourceType.Tile),function(i,o,a,s){if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(i)t.state="errored",n(i);else if(o){this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:a,expires:s});const n=e.window.ImageBitmap&&o instanceof e.window.ImageBitmap&&(null==Me&&(Me=e.window.OffscreenCanvas&&new e.window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof e.window.createImageBitmap),Me),i=1-(o.width-e.prevPowerOfTwo(o.width))/2;i<1||t.neighboringTiles||(t.neighboringTiles=this._getNeighboringTiles(t.tileID));const l=n?o:e.exported.getImageData(o,i),c={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:l,encoding:this.encoding,padding:i};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",c,r.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(t){const n=t.canonical,i=Math.pow(2,n.z),r=(n.x-1+i)%i,o=0===n.x?t.wrap-1:t.wrap,a=(n.x+1+i)%i,s=n.x+1===i?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,o,n.z,r,n.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(l[new e.OverscaledTileID(t.overscaledZ,o,n.z,r,n.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<i&&(l[new e.OverscaledTileID(t.overscaledZ,o,n.z,r,n.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y+1).key]={backfilled:!1}),l}unloadTile(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded"}},geojson:class extends e.Evented{constructor(t,n,i,r){super(),this.id=t,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=i.getActor(),this.setEventedParent(r),this._data=n.data,this._options=e.extend({},n),this._collectResourceTiming=n.collectResourceTiming,void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type),n.attribution&&(this.attribution=n.attribution),this.promoteId=n.promoteId;const o=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*o,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*o,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:n.lineMetrics||!1,generateId:n.generateId||!1},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?n.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,n.clusterMinPoints||2),extent:e.EXTENT,radius:(void 0!==n.clusterRadius?n.clusterRadius:50)*o,log:!1,generateId:n.generateId||!1},clusterProperties:n.clusterProperties,filter:n.filter},n.workerOptions)}onAdd(e){this.map=e,this.setData(this._data)}setData(e){return this._data=e,this._updateWorkerData(),this}getClusterExpansionZoom(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this}getClusterChildren(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this}getClusterLeaves(e,t,n,i){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:n},i),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new e.Event("dataloading",{dataType:"source"})),this._loaded=!1;const t=e.extend({},this.workerOptions),n=this._data;"string"==typeof n?(t.request=this.map._requestManager.transformRequest(e.exported.resolveURL(n),e.ResourceType.Source),t.request.collectResourceTiming=this._collectResourceTiming):t.data=JSON.stringify(n),this._pendingLoad=this.actor.send(`${this.type}.loadData`,t,((t,n)=>{if(this._loaded=!0,this._pendingLoad=null,t)this.fire(new e.ErrorEvent(t));else{const t={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&n&&n.resourceTiming&&n.resourceTiming[this.id]&&(t.resourceTiming=n.resourceTiming[this.id]),this.fire(new e.Event("data",t)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)}))}loaded(){return this._loaded}loadTile(t,n){const i=t.actor?"reloadTile":"loadTile";t.actor=this.actor,t.request=this.actor.send(i,{type:this.type,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},((e,r)=>(delete t.request,t.unloadVectorData(),t.aborted?n(null):e?n(e):(t.loadVectorData(r,this.map.painter,"reloadTile"===i),n(null)))),void 0,"loadTile"===i)}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0}unloadTile(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return e.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends Ae{constructor(e,t,n,i){super(e,t,n,i),this.roundZoom=!0,this.type="video",this.options=t}load(){this._loaded=!1;const t=this.options;this.urls=[];for(const n of t.urls)this.urls.push(this.map._requestManager.transformRequest(n,e.ResourceType.Source).url);e.getVideo(this.urls,((t,n)=>{this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):n&&(this.video=n,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",(()=>{this.map.triggerRepaint()})),this.map&&this.video.play(),this._finishLoading())}))}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(t){if(this.video){const n=this.video.seekable;t<n.start(0)||t>n.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${n.start(0)} and ${n.end(0)}-second mark.`))):this.video.currentTime=t}}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const t=this.map.painter.context,n=t.gl;this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(t)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:Ae,canvas:class extends Ae{constructor(t,n,i,r){super(t,n,i,r),n.coordinates?Array.isArray(n.coordinates)&&4===n.coordinates.length&&!n.coordinates.some((e=>!Array.isArray(e)||2!==e.length||e.some((e=>"number"!=typeof e))))||this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'missing required property "coordinates"'))),n.animate&&"boolean"!=typeof n.animate&&this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'optional "animate" property must be a boolean value'))),n.canvas?"string"==typeof n.canvas||n.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'missing required property "canvas"'))),this.options=n,this.animate=void 0===n.animate||n.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const n=this.map.painter.context;this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(n,this.canvas,n.gl.RGBA,{premultiply:!0}),this._prepareData(n)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e of[this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return!0;return!1}},custom:class extends e.Evented{constructor(t,n,i,r){super(),this.id=t,this.type="custom",this._dataType="raster",this._dispatcher=i,this._implementation=n,this.setEventedParent(r),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new e.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new e.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new N(this._implementation.bounds,this.minzoom,this.maxzoom)),n.update=this._update.bind(this),n.clearTiles=this._clearTiles.bind(this),n.coveringTiles=this._coveringTiles.bind(this),e.extend(this,e.pick(n,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return e.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(t){this._map=t,this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(t),this.load()}onRemove(e){this._implementation.onRemove&&this._implementation.onRemove(e)}hasTile(e){if(this._implementation.hasTile){const{x:t,y:n,z:i}=e.canonical;return this._implementation.hasTile({x:t,y:n,z:i})}return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(t,n){const{x:i,y:r,z:o}=t.tileID.canonical,a=new e.window.AbortController;t.request=Promise.resolve(this._implementation.loadTile({x:i,y:r,z:o},{signal:a.signal})).then(function(i){return delete t.request,t.aborted?(t.state="unloaded",n(null)):void 0===i?(t.state="errored",n(null)):null===i?(this.loadTileData(t,{width:this.tileSize,height:this.tileSize,data:null}),t.state="loaded",n(null)):function(t){return t instanceof e.window.ImageData||t instanceof e.window.HTMLCanvasElement||t instanceof e.window.ImageBitmap||t instanceof e.window.HTMLImageElement}(i)?(this.loadTileData(t,i),t.state="loaded",void n(null)):(t.state="errored",n(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch((e=>{20!==e.code&&(t.state="errored",n(e))})),t.request.cancel=()=>a.abort()}loadTileData(e,t){Te.loadTileData(e,t,this._map.painter)}unloadTileData(e){Te.unloadTileData(e,this._map.painter)}unloadTile(e,t){if(this.unloadTileData(e),this._implementation.unloadTile){const{x:t,y:n,z:i}=e.tileID.canonical;this._implementation.unloadTile({x:t,y:n,z:i})}t()}abortTile(e,t){e.request&&e.request.cancel&&(e.request.cancel(),delete e.request),t()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map((e=>({x:e.canonical.x,y:e.canonical.y,z:e.canonical.z})))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))}}},Le=function(t,n,i,r){const o=new Ie[n.type](t,n,i,r);if(o.id!==t)throw new Error(`Expected Source id to be ${t} instead of ${o.id}`);return e.bindAll(["load","abort","unload","serialize","prepare"],o),o};function De(t,n){const i=e.identity([]);return e.scale(i,i,[.5*t.width,.5*-t.height,1]),e.translate(i,i,[1,-1,0]),e.multiply(i,i,t.calculateProjMatrix(n.toUnwrapped())),Float32Array.from(i)}function Oe(e,t,n,i,r,o,a,s=!1){const l=e.tilesIn(i,a,s);l.sort(ze);const c=[];for(const d of l)c.push({wrappedTileID:d.tile.tileID.wrapped().key,queryResults:d.tile.queryRenderedFeatures(t,n,e._state,d,r,o,De(e.transform,d.tile.tileID),s)});const u=function(e){const t={},n={};for(const i of e){const e=i.queryResults,r=i.wrappedTileID,o=n[r]=n[r]||{};for(const n in e){const i=e[n],r=o[n]=o[n]||{},a=t[n]=t[n]||[];for(const e of i)r[e.featureIndex]||(r[e.featureIndex]=!0,a.push(e))}}return t}(c);for(const d in u)u[d].forEach((t=>{const n=t.feature,i=n.layer;i&&"background"!==i.type&&"sky"!==i.type&&(n.source=i.source,i["source-layer"]&&(n.sourceLayer=i["source-layer"]),n.state=void 0!==n.id?e.getFeatureState(i["source-layer"],n.id):{})}));return u}function Re(e,t){const n=e.getRenderableIds().map((t=>e.getTileByID(t))),i=[],r={};for(let o=0;o<n.length;o++){const e=n[o],a=e.tileID.canonical.key;r[a]||(r[a]=!0,e.querySourceFeatures(i,t))}return i}function ze(e,t){const n=e.tileID,i=t.tileID;return n.overscaledZ-i.overscaledZ||n.canonical.y-i.canonical.y||n.wrap-i.wrap||n.canonical.x-i.canonical.x}function Fe(){return null!=fo.workerClass?new fo.workerClass:new e.window.Worker(fo.workerUrl)}const Be="mapboxgl_preloaded_worker_pool";class Ne{constructor(){this.active={}}acquire(e){if(!this.workers)for(this.workers=[];this.workers.length<Ne.workerCount;)this.workers.push(new Fe);return this.active[e]=!0,this.workers.slice()}release(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((e=>{e.terminate()})),this.workers=null)}isPreloaded(){return!!this.active[Be]}numActive(){return Object.keys(this.active).length}}let je;function Ve(){return je||(je=new Ne),je}function We(t,n){const i={};for(const e in t)"ref"!==e&&(i[e]=t[e]);return e.refProperties.forEach((e=>{e in n&&(i[e]=n[e])})),i}function Ue(e){e=e.slice();const t=Object.create(null);for(let n=0;n<e.length;n++)t[e[n].id]=e[n];for(let n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=We(e[n],t[e[n].ref]));return e}Ne.workerCount=2;const He={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function Xe(e,t,n){n.push({command:He.addSource,args:[e,t[e]]})}function Ge(e,t,n){t.push({command:He.removeSource,args:[e]}),n[e]=!0}function Ye(e,t,n,i){Ge(e,n,i),Xe(e,t,n)}function qe(e,n,i){let r;for(r in e[i])if(e[i].hasOwnProperty(r)&&"data"!==r&&!t(e[i][r],n[i][r]))return!1;for(r in n[i])if(n[i].hasOwnProperty(r)&&"data"!==r&&!t(e[i][r],n[i][r]))return!1;return!0}function Ke(e,n,i,r,o,a){let s;for(s in n=n||{},e=e||{})e.hasOwnProperty(s)&&(t(e[s],n[s])||i.push({command:a,args:[r,s,n[s],o]}));for(s in n)n.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t(e[s],n[s])||i.push({command:a,args:[r,s,n[s],o]}))}function $e(e){return e.id}function Ze(e,t){return e[t.id]=t,e}class Je{constructor(e,t){this.reset(e,t)}reset(e,t){this.points=e||[],this._distances=[0];for(let n=1;n<this.points.length;n++)this._distances[n]=this._distances[n-1]+this.points[n].dist(this.points[n-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);let n=1,i=this._distances[n];const r=t*this.paddedLength+this.padding;for(;i<r&&n<this._distances.length;)i=this._distances[++n];const o=n-1,a=this._distances[o],s=i-a,l=s>0?(r-a)/s:0;return this.points[o].mult(1-l).add(this.points[n].mult(l))}}class Qe{constructor(e,t,n){const i=this.boxCells=[],r=this.circleCells=[];this.xCellCount=Math.ceil(e/n),this.yCellCount=Math.ceil(t/n);for(let o=0;o<this.xCellCount*this.yCellCount;o++)i.push([]),r.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,t,n,i,r){this._forEachCell(t,n,i,r,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(i),this.bboxes.push(r)}insertCircle(e,t,n,i){this._forEachCell(t-i,n-i,t+i,n+i,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(n),this.circles.push(i)}_insertBoxCell(e,t,n,i,r,o){this.boxCells[r].push(o)}_insertCircleCell(e,t,n,i,r,o){this.circleCells[r].push(o)}_query(e,t,n,i,r,o){if(n<0||e>this.width||i<0||t>this.height)return!r&&[];const a=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=i){if(r)return!0;for(let e=0;e<this.boxKeys.length;e++)a.push({key:this.boxKeys[e],x1:this.bboxes[4*e],y1:this.bboxes[4*e+1],x2:this.bboxes[4*e+2],y2:this.bboxes[4*e+3]});for(let e=0;e<this.circleKeys.length;e++){const t=this.circles[3*e],n=this.circles[3*e+1],i=this.circles[3*e+2];a.push({key:this.circleKeys[e],x1:t-i,y1:n-i,x2:t+i,y2:n+i})}return o?a.filter(o):a}return this._forEachCell(e,t,n,i,this._queryCell,a,{hitTest:r,seenUids:{box:{},circle:{}}},o),r?a.length>0:a}_queryCircle(e,t,n,i,r){const o=e-n,a=e+n,s=t-n,l=t+n;if(a<0||o>this.width||l<0||s>this.height)return!i&&[];const c=[];return this._forEachCell(o,s,a,l,this._queryCellCircle,c,{hitTest:i,circle:{x:e,y:t,radius:n},seenUids:{box:{},circle:{}}},r),i?c.length>0:c}query(e,t,n,i,r){return this._query(e,t,n,i,!1,r)}hitTest(e,t,n,i,r){return this._query(e,t,n,i,!0,r)}hitTestCircle(e,t,n,i){return this._queryCircle(e,t,n,!0,i)}_queryCell(e,t,n,i,r,o,a,s){const l=a.seenUids,c=this.boxCells[r];if(null!==c){const r=this.bboxes;for(const u of c)if(!l.box[u]){l.box[u]=!0;const c=4*u;if(e<=r[c+2]&&t<=r[c+3]&&n>=r[c+0]&&i>=r[c+1]&&(!s||s(this.boxKeys[u]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[u],x1:r[c],y1:r[c+1],x2:r[c+2],y2:r[c+3]})}}}const u=this.circleCells[r];if(null!==u){const r=this.circles;for(const c of u)if(!l.circle[c]){l.circle[c]=!0;const u=3*c;if(this._circleAndRectCollide(r[u],r[u+1],r[u+2],e,t,n,i)&&(!s||s(this.circleKeys[c]))){if(a.hitTest)return o.push(!0),!0;{const e=r[u],t=r[u+1],n=r[u+2];o.push({key:this.circleKeys[c],x1:e-n,y1:t-n,x2:e+n,y2:t+n})}}}}}_queryCellCircle(e,t,n,i,r,o,a,s){const l=a.circle,c=a.seenUids,u=this.boxCells[r];if(null!==u){const e=this.bboxes;for(const t of u)if(!c.box[t]){c.box[t]=!0;const n=4*t;if(this._circleAndRectCollide(l.x,l.y,l.radius,e[n+0],e[n+1],e[n+2],e[n+3])&&(!s||s(this.boxKeys[t])))return o.push(!0),!0}}const d=this.circleCells[r];if(null!==d){const e=this.circles;for(const t of d)if(!c.circle[t]){c.circle[t]=!0;const n=3*t;if(this._circlesCollide(e[n],e[n+1],e[n+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[t])))return o.push(!0),!0}}}_forEachCell(e,t,n,i,r,o,a,s){const l=this._convertToXCellCoord(e),c=this._convertToYCellCoord(t),u=this._convertToXCellCoord(n),d=this._convertToYCellCoord(i);for(let h=l;h<=u;h++)for(let l=c;l<=d;l++)if(r.call(this,e,t,n,i,this.xCellCount*l+h,o,a,s))return}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,t,n,i,r,o){const a=i-e,s=r-t,l=n+o;return l*l>a*a+s*s}_circleAndRectCollide(e,t,n,i,r,o,a){const s=(o-i)/2,l=Math.abs(e-(i+s));if(l>s+n)return!1;const c=(a-r)/2,u=Math.abs(t-(r+c));if(u>c+n)return!1;if(l<=s||u<=c)return!0;const d=l-s,h=u-c;return d*d+h*h<=n*n}}const et=Math.tan(85*Math.PI/180);function tt(t,n,i,r,o,a,s){const l=e.create();if(i)if("globe"===a.name){const t=e.calculateGlobeLabelMatrix(o,n);e.multiply(l,l,t)}else{const t=y([],s);l[0]=t[0],l[1]=t[1],l[4]=t[2],l[5]=t[3],r||e.rotateZ(l,l,o.angle)}else e.multiply(l,o.labelPlaneMatrix,t);return l}function nt(e,t,n,i,r,o,a){const s=tt(e,t,n,i,r,o,a);return"globe"===o.name&&n||(s[2]=s[6]=s[10]=s[14]=0),s}function it(t,n,i,r,o,a,s){if(i){if("globe"===a.name){const l=tt(t,n,i,r,o,a,s);return e.invert(l,l),e.multiply(l,t,l),l}{const n=e.clone(t),i=e.identity([]);return i[0]=s[0],i[1]=s[1],i[4]=s[2],i[5]=s[3],e.multiply(n,n,i),r||e.rotateZ(n,n,-o.angle),n}}return o.glCoordMatrix}function rt(t,n,i,r){const o=[t,n,i,1];i?e.transformMat4$1(o,o,r):mt(o,o,r);const a=o[3];return o[0]/=a,o[1]/=a,o[2]/=a,o}function ot(e,t){return Math.min(.5+e/t*.5,1.5)}function at(e,t){const n=e[0]/e[3],i=e[1]/e[3];return n>=-t[0]&&n<=t[0]&&i>=-t[1]&&i<=t[1]}function st(t,n,i,r,o,a,s,l,c,u){const d=i.transform,h=r?t.textSizeData:t.iconSizeData,p=e.evaluateSizeForZoom(h,i.transform.zoom),f="globe"===d.projection.name,m=[256/i.width*2+1,256/i.height*2+1],g=r?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;g.clear();let v=null;f&&(v=r?t.text.globeExtVertexArray:t.icon.globeExtVertexArray);const y=t.lineVertexArray,x=r?t.text.placedSymbolArray:t.icon.placedSymbolArray,b=i.transform.width/i.transform.height;let _,w=!1;for(let k=0;k<x.length;k++){const r=x.get(k),{numGlyphs:f,writingMode:S}=r;if(S!==e.WritingMode.vertical||w||_===e.WritingMode.horizontal||(w=!0),_=S,(r.hidden||S===e.WritingMode.vertical)&&!w){ft(f,g);continue}w=!1;const C=new e.pointGeometry(r.tileAnchorX,r.tileAnchorY);let{x:E,y:T,z:M}=d.projection.projectTilePoint(C.x,C.y,u.canonical);if(c){const[e,t,n]=c(C);E+=e,T+=t,M+=n}const P=[E,T,M,1];if(e.transformMat4$1(P,P,n),!at(P,m)){ft(f,g);continue}const A=ot(i.transform.cameraToCenterDistance,P[3]),I=e.evaluateSizeForFeature(h,p,r),L=s?I/A:I*A,D=rt(E,T,M,o);if(D[3]<=0){ft(f,g);continue}let O={};const R=s?null:c,z=ut(r,L,!1,l,n,o,a,t.glyphOffsetArray,y,g,v,D,C,O,b,R,d.projection,u,s);w=z.useVertical,R&&z.needsFlipping&&(O={}),(z.notEnoughRoom||w||z.needsFlipping&&ut(r,L,!0,l,n,o,a,t.glyphOffsetArray,y,g,v,D,C,O,b,R,d.projection,u,s).notEnoughRoom)&&ft(f,g)}r?(t.text.dynamicLayoutVertexBuffer.updateData(g),v&&t.text.globeExtVertexBuffer.updateData(v)):(t.icon.dynamicLayoutVertexBuffer.updateData(g),v&&t.icon.globeExtVertexBuffer.updateData(v))}function lt(e,t,n,i,r,o,a,s,l,c,u,d,h,p,f,m){const{lineStartIndex:g,glyphStartIndex:v,segment:y}=s,x=v+s.numGlyphs,b=g+s.lineLength,_=t.getoffsetX(v),w=t.getoffsetX(x-1),k=pt(e*_,n,i,r,o,a,y,g,b,l,c,u,d,h,!0,p,f,m);if(!k)return null;const S=pt(e*w,n,i,r,o,a,y,g,b,l,c,u,d,h,!0,p,f,m);return S?{first:k,last:S}:null}function ct(t,n,i,r){return t===e.WritingMode.horizontal&&Math.abs(r)>Math.abs(i)?{useVertical:!0}:t===e.WritingMode.vertical?r>0?{needsFlipping:!0}:null:0!==n&&function(e,t){return 0===e||Math.abs(t/e)>et}(i,r)?1===n?{needsFlipping:!0}:null:i<0?{needsFlipping:!0}:null}function ut(t,n,i,r,o,a,s,l,c,u,d,h,p,f,m,g,v,y,x){const b=n/24,_=t.lineOffsetX*b,w=t.lineOffsetY*b,{lineStartIndex:k,glyphStartIndex:S,numGlyphs:C,segment:E,writingMode:T,flipState:M}=t,P=k+t.lineLength,A=t=>{if(d){const[n,i,r]=t.up,o=u.length;e.updateGlobeVertexNormal(d,o+0,n,i,r),e.updateGlobeVertexNormal(d,o+1,n,i,r),e.updateGlobeVertexNormal(d,o+2,n,i,r),e.updateGlobeVertexNormal(d,o+3,n,i,r)}const[n,i,r]=t.point;e.addDynamicAttributes(u,n,i,r,t.angle)};if(C>1){const e=lt(b,l,_,w,i,h,p,t,c,a,f,g,!1,v,y,x);if(!e)return{notEnoughRoom:!0};if(r&&!i){let[n,i,r]=e.first.point,[o,a,l]=e.last.point;[n,i]=rt(n,i,r,s),[o,a]=rt(o,a,l,s);const c=ct(T,M,(o-n)*m,a-i);if(t.flipState=c&&c.needsFlipping?1:2,c)return c}A(e.first);for(let t=S+1;t<S+C-1;t++){const e=pt(b*l.getoffsetX(t),_,w,i,h,p,E,k,P,c,a,f,g,!1,!1,v,y,x);if(!e)return u.length-=4*(t-S),{notEnoughRoom:!0};A(e)}A(e.last)}else{if(r&&!i){const n=rt(p.x,p.y,0,o),i=k+E+1,r=new e.pointGeometry(c.getx(i),c.gety(i)),a=rt(r.x,r.y,0,o),s=a[3]>0?a:ht(p,r,n,1,o,void 0,v,y.canonical),l=ct(T,M,(s[0]-n[0])*m,s[1]-n[1]);if(t.flipState=l&&l.needsFlipping?1:2,l)return l}const n=pt(b*l.getoffsetX(S),_,w,i,h,p,E,k,P,c,a,f,g,!1,!1,v,y,x);if(!n)return{notEnoughRoom:!0};A(n)}return{}}function dt(e,t,n,i,r){const{x:o,y:a,z:s}=i.projectTilePoint(e.x,e.y,t);if(!r)return rt(o,a,s,n);const[l,c,u]=r(e);return rt(o+l,a+c,s+u,n)}function ht(t,n,i,r,o,a,s,l){const c=dt(t.sub(n)._unit()._add(t),l,o,s,a);return e.sub(c,i,c),e.normalize(c,c),e.scaleAndAdd(c,i,c,r)}function pt(t,n,i,r,o,a,s,l,c,u,d,h,p,f,m,g,v,y){const x=r?t-n:t+n;let b=x>0?1:-1,_=0;r&&(b*=-1,_=Math.PI),b<0&&(_+=Math.PI);let w=l+s+(b>0?0:1)|0,k=o,S=o,C=0,E=0;const T=Math.abs(x),M=[],P=[];let A=a,I=A;const L=()=>ht(I,A,S,T-C+1,d,p,g,v.canonical);for(;C+E<=T;){if(w+=b,w<l||w>=c)return null;if(S=k,I=A,M.push(S),f&&P.push(I),A=new e.pointGeometry(u.getx(w),u.gety(w)),k=h[w],!k){const e=dt(A,v.canonical,d,g,p);k=e[3]>0?h[w]=e:L()}C+=E,E=e.distance(S,k)}m&&p&&(h[w]&&(k=L(),E=e.distance(S,k)),h[w]=k);const D=(T-C)/E,O=A.sub(I)._mult(D)._add(I),R=e.sub([],k,S),z=e.scaleAndAdd([],S,R,D);let F=[0,0,1],B=R[0],N=R[1];if(y&&(F=g.upVector(v.canonical,O.x,O.y),0!==F[0]||0!==F[1]||1!==F[2])){const t=[F[2],0,-F[0]],n=e.cross([],F,t);e.normalize(t,t),e.normalize(n,n),B=e.dot(R,t),N=e.dot(R,n)}if(i){const t=e.cross([],F,R);e.normalize(t,t),e.scaleAndAdd(z,z,t,i*b)}const j=_+Math.atan2(N,B);return M.push(z),f&&P.push(O),{point:z,angle:j,path:M,tilePath:P,up:F}}function ft(e,t){const n=t.length,i=n+4*e;t.resize(i),t.float32.fill(-1/0,4*n,4*i)}function mt(e,t,n){const i=t[0],r=t[1];return e[0]=n[0]*i+n[4]*r+n[12],e[1]=n[1]*i+n[5]*r+n[13],e[3]=n[3]*i+n[7]*r+n[15],e}const gt=100;class vt{constructor(e,t,n=new Qe(e.width+200,e.height+200,25),i=new Qe(e.width+200,e.height+200,25)){this.transform=e,this.grid=n,this.ignoredGrid=i,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+gt,this.screenBottomBoundary=e.height+gt,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.fogState=t}placeCollisionBox(e,t,n,i,r,o,a,s){let l=n.projectedAnchorX,c=n.projectedAnchorY,u=n.projectedAnchorZ;const d=n.elevation,h=n.tileID,p=e.getProjection();if(d&&h){const[e,t,i]=p.upVector(h.canonical,n.tileAnchorX,n.tileAnchorY),r=p.upVectorScale(h.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;l+=e*d*r,c+=t*d*r,u+=i*d*r}const f=this.projectAndGetPerspectiveRatio(a,l,c,u,n.tileID,"globe"===p.name||!!d||this.transform.pitch>0,p),m=o*f.perspectiveRatio,g=(n.x1*t+i.x-n.padding)*m+f.point.x,v=(n.y1*t+i.y-n.padding)*m+f.point.y,y=(n.x2*t+i.x+n.padding)*m+f.point.x,x=(n.y2*t+i.y+n.padding)*m+f.point.y,b=f.perspectiveRatio<=.55||f.occluded;return!this.isInsideGrid(g,v,y,x)||!r&&this.grid.hitTest(g,v,y,x,s)||b?{box:[],offscreen:!1,occluded:f.occluded}:{box:[g,v,y,x],offscreen:this.isOffscreen(g,v,y,x),occluded:!1}}placeCollisionCircles(t,n,i,r,o,a,s,l,c,u,d,h,p,f,m){const g=[],v=this.transform.elevation,y=t.getProjection(),x=v?v.getAtTileOffsetFunc(m,this.transform.center.lat,this.transform.worldSize,y):null,b=new e.pointGeometry(i.tileAnchorX,i.tileAnchorY);let{x:_,y:w,z:k}=y.projectTilePoint(b.x,b.y,m.canonical);if(x){const[e,t,n]=x(b);_+=e,w+=t,k+=n}const S="globe"===y.name,C=this.projectAndGetPerspectiveRatio(s,_,w,k,m,S||!!v||this.transform.pitch>0,y),{perspectiveRatio:E}=C,T=(d?a/E:a*E)/e.ONE_EM,M=rt(_,w,k,l),P=C.signedDistanceFromCamera>0?lt(T,o,i.lineOffsetX*T,i.lineOffsetY*T,!1,M,b,i,r,l,{},v&&!d?x:null,d&&!!v,y,m,d):null;let A=!1,I=!1,L=!0;if(P&&!C.occluded){const t=.5*p*E+f,i=new e.pointGeometry(-100,-100),r=new e.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),o=new Je,{first:a,last:s}=P,l=a.path.length;let d=[];for(let e=l-1;e>=1;e--)d.push(a.path[e]);for(let e=1;e<s.path.length;e++)d.push(s.path[e]);const m=2.5*t;c&&(d=d.map((([e,t,n],i)=>(x&&!S&&(n=x(i<l-1?a.tilePath[l-1-i]:s.tilePath[i-l+2])[2]),rt(e,t,n,c)))),d.some((e=>e[3]<=0))&&(d=[]));let v=[];if(d.length>0){let t=1/0,n=-1/0,o=1/0,a=-1/0;for(const e of d)t=Math.min(t,e[0]),o=Math.min(o,e[1]),n=Math.max(n,e[0]),a=Math.max(a,e[1]);n>=i.x&&t<=r.x&&a>=i.y&&o<=r.y&&(v=[d.map((t=>new e.pointGeometry(t[0],t[1])))],(t<i.x||n>r.x||o<i.y||a>r.y)&&(v=e.clipLine(v,i.x,i.y,r.x,r.y)))}for(const e of v){o.reset(e,.25*t);let i=0;i=o.length<=.5*t?1:Math.ceil(o.paddedLength/m)+1;for(let e=0;e<i;e++){const r=e/Math.max(i-1,1),a=o.lerp(r),s=a.x+gt,l=a.y+gt;g.push(s,l,t,0);const c=s-t,d=l-t,p=s+t,f=l+t;if(L=L&&this.isOffscreen(c,d,p,f),I=I||this.isInsideGrid(c,d,p,f),!n&&this.grid.hitTestCircle(s,l,t,h)&&(A=!0,!u))return{circles:[],offscreen:!1,collisionDetected:A,occluded:!1}}}}return{circles:!u&&A||!I?[]:g,offscreen:L,collisionDetected:A,occluded:C.occluded}}queryRenderedSymbols(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const n=[];let i=1/0,r=1/0,o=-1/0,a=-1/0;for(const u of t){const t=new e.pointGeometry(u.x+gt,u.y+gt);i=Math.min(i,t.x),r=Math.min(r,t.y),o=Math.max(o,t.x),a=Math.max(a,t.y),n.push(t)}const s=this.grid.query(i,r,o,a).concat(this.ignoredGrid.query(i,r,o,a)),l={},c={};for(const u of s){const t=u.key;if(void 0===l[t.bucketInstanceId]&&(l[t.bucketInstanceId]={}),l[t.bucketInstanceId][t.featureIndex])continue;const i=[new e.pointGeometry(u.x1,u.y1),new e.pointGeometry(u.x2,u.y1),new e.pointGeometry(u.x2,u.y2),new e.pointGeometry(u.x1,u.y2)];e.polygonIntersectsPolygon(n,i)&&(l[t.bucketInstanceId][t.featureIndex]=!0,void 0===c[t.bucketInstanceId]&&(c[t.bucketInstanceId]=[]),c[t.bucketInstanceId].push(t.featureIndex))}return c}insertCollisionBox(e,t,n,i,r){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:i,collisionGroupID:r},e[0],e[1],e[2],e[3])}insertCollisionCircles(e,t,n,i,r){const o=t?this.ignoredGrid:this.grid,a={bucketInstanceId:n,featureIndex:i,collisionGroupID:r};for(let s=0;s<e.length;s+=4)o.insertCircle(a,e[s],e[s+1],e[s+2])}projectAndGetPerspectiveRatio(t,n,i,r,o,a,s){const l=[n,i,r,1];let c=!1;if(r||this.transform.pitch>0){e.transformMat4$1(l,l,t);const a="globe"===s.name;if(this.fogState&&o&&!a){const t=function(t,n,i,r,o,a){const s=a.calculateFogTileMatrix(o),l=[n,i,r];return e.transformMat4(l,l,s),T(t,l,a.pitch,a._fov)}(this.fogState,n,i,r,o.toUnwrapped(),this.transform);c=t>.9}}else mt(l,l,t);const u=l[3];return{point:new e.pointGeometry((l[0]/u+1)/2*this.transform.width+gt,(-l[1]/u+1)/2*this.transform.height+gt),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(s)/u*.5,1.5),signedDistanceFromCamera:u,occluded:a&&l[2]>u||c}}isOffscreen(e,t,n,i){return n<gt||e>=this.screenRightBoundary||i<gt||t>this.screenBottomBoundary}isInsideGrid(e,t,n,i){return n>=0&&e<this.gridRightBoundary&&i>=0&&t<this.gridBottomBoundary}getViewportMatrix(){const t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t}}function yt(t,n,i){const r=n.createTileMatrix(t,t.worldSize,i.toUnwrapped());return e.multiply(new Float32Array(16),t.projMatrix,r)}function xt(e,t,n){if(t.projection.name===n.projection.name)return e.projMatrix;const i=n.clone();return i.setProjection(t.projection),yt(i,t.getProjection(),e)}function bt(e,t,n){return t.name===n.projection.name?e.projMatrix:yt(n,t,e)}class _t{constructor(e,t,n,i){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):i&&n?1:0,this.placed=n}isHidden(){return 0===this.opacity&&!this.placed}}class wt{constructor(e,t,n,i,r,o=!1){this.text=new _t(e?e.text:null,t,n,r),this.icon=new _t(e?e.icon:null,t,i,r),this.clipped=o}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class kt{constructor(e,t,n,i=!1){this.text=e,this.icon=t,this.skipFade=n,this.clipped=i}}class St{constructor(){this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]}}class Ct{constructor(e,t,n,i,r){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=n,this.bucketIndex=i,this.tileID=r}}class Et{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}}get(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){const t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:e=>e.collisionGroupID===t}}return this.collisionGroups[e]}}function Tt(t,n,i,r,o){const{horizontalAlign:a,verticalAlign:s}=e.getAnchorAlignment(t),l=-(a-.5)*n,c=-(s-.5)*i,u=e.evaluateVariableOffset(t,r);return new e.pointGeometry(l+u[0]*o,c+u[1]*o)}function Mt(t,n,i,r,o){const a=new e.pointGeometry(t,n);return i&&a._rotate(r?o:-o),a}class Pt{constructor(e,t,n,i,r){this.transform=e.clone(),this.projection=e.projection.name,this.collisionIndex=new vt(this.transform,r),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new Et(n),this.collisionCircleArrays={},this.prevPlacement=i,i&&(i.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(t,n,i,r){const o=i.getBucket(n),a=i.latestFeatureIndex;if(!o||!a||n.id!==o.layerIds[0])return;const s=o.layers[0].layout,l=i.collisionBoxArray,c=Math.pow(2,this.transform.zoom-i.tileID.overscaledZ),u=i.tileSize/e.EXTENT,d=i.tileID.toUnwrapped();this.transform.setProjection(o.projection);const h=(p=i.tileID,f=o.getProjection(),m=this.transform,f.name===this.projection?m.calculateProjMatrix(p.toUnwrapped()):yt(m,f,p));var p,f,m;const g="map"===s.get("text-pitch-alignment"),v="map"===s.get("text-rotation-alignment");n.compileFilter();const y=n.dynamicFilter(),x=n.dynamicFilterNeedsFeature(),b=this.transform.calculatePixelsToTileUnitsMatrix(i),_=nt(h,i.tileID.canonical,g,v,this.transform,o.getProjection(),b);let w=null;if(g){const t=it(h,i.tileID.canonical,g,v,this.transform,o.getProjection(),b);w=e.multiply([],this.transform.labelPlaneMatrix,t)}let k=null;y&&i.latestFeatureIndex&&(k={unwrappedTileID:d,dynamicFilter:y,dynamicFilterNeedsFeature:x,featureIndex:i.latestFeatureIndex}),this.retainedQueryData[o.bucketInstanceId]=new Ct(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,i.tileID);const S={bucket:o,layout:s,posMatrix:h,textLabelPlaneMatrix:_,labelToScreenMatrix:w,clippingData:k,scale:c,textPixelRatio:u,holdingForFade:i.holdingForFade(),collisionBoxArray:l,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(o.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:e.evaluateSizeForZoom(o.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(r)for(const e of o.sortKeyRanges){const{sortKey:n,symbolInstanceStart:i,symbolInstanceEnd:r}=e;t.push({sortKey:n,symbolInstanceStart:i,symbolInstanceEnd:r,parameters:S})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:S})}attemptAnchorPlacement(e,t,n,i,r,o,a,s,l,c,u,d,h,p,f,m,g,v){const{textOffset0:y,textOffset1:x,crossTileID:b}=d,_=[y,x],w=Tt(e,n,i,_,r),k=this.collisionIndex.placeCollisionBox(p,r,t,Mt(w.x,w.y,o,a,this.transform.angle),u,s,l,c.predicate);if(m){const e=p.getSymbolInstanceIconSize(v,this.transform.zoom,d.placedIconSymbolIndex);if(0===this.collisionIndex.placeCollisionBox(p,e,m,Mt(w.x,w.y,o,a,this.transform.angle),u,s,l,c.predicate).box.length)return}if(k.box.length>0){let t;return this.prevPlacement&&this.prevPlacement.variableOffsets[b]&&this.prevPlacement.placements[b]&&this.prevPlacement.placements[b].text&&(t=this.prevPlacement.variableOffsets[b].anchor),this.variableOffsets[b]={textOffset:_,width:n,height:i,anchor:e,textScale:r,prevAnchor:t},this.markUsedJustification(p,e,d,f),p.allowVerticalPlacement&&(this.markUsedOrientation(p,f,d),this.placedOrientations[b]=f),{shift:w,placedGlyphBoxes:k}}}placeLayerBucketPart(t,n,i,r){const{bucket:o,layout:a,posMatrix:s,textLabelPlaneMatrix:l,labelToScreenMatrix:c,clippingData:u,textPixelRatio:d,holdingForFade:h,collisionBoxArray:p,partiallyEvaluatedTextSize:f,partiallyEvaluatedIconSize:m,collisionGroup:g}=t.parameters,v=a.get("text-optional"),y=a.get("icon-optional"),x=a.get("text-allow-overlap"),b=a.get("icon-allow-overlap"),_="map"===a.get("text-rotation-alignment"),w="map"===a.get("text-pitch-alignment"),k="none"!==a.get("icon-text-fit"),S="viewport-y"===a.get("symbol-z-order");this.transform.setProjection(o.projection);let C=x&&(b||!o.hasIconData()||y),E=b&&(x||!o.hasTextData()||v);!o.collisionArrays&&p&&o.deserializeCollisionBoxes(p),i&&r&&o.updateCollisionDebugBuffers(this.transform.zoom,p);const T=(t,r,p)=>{const{crossTileID:S,numVerticalGlyphVertices:T}=t;if(u){const i={zoom:this.transform.zoom,pitch:this.transform.pitch};let r=null;if(u.dynamicFilterNeedsFeature){const e=this.retainedQueryData[o.bucketInstanceId];r=u.featureIndex.loadFeature({featureIndex:t.featureIndex,bucketIndex:e.bucketIndex,sourceLayerIndex:e.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,u.dynamicFilter)(i,r,this.retainedQueryData[o.bucketInstanceId].tileID.canonical,new e.pointGeometry(t.tileAnchorX,t.tileAnchorY),this.transform.calculateDistanceTileData(u.unwrappedTileID)))return this.placements[S]=new kt(!1,!1,!1,!0),void(n[S]=!0)}if(n[S])return;if(h)return void(this.placements[S]=new kt(!1,!1,!1));let M=!1,P=!1,A=!0,I=!1,L=!1,D=null,O={box:null,offscreen:null,occluded:null},R={box:null,offscreen:null,occluded:null},z=null,F=null,B=null,N=0,j=0,V=0;p.textFeatureIndex?N=p.textFeatureIndex:t.useRuntimeCollisionCircles&&(N=t.featureIndex),p.verticalTextFeatureIndex&&(j=p.verticalTextFeatureIndex);const W=e=>{e.tileID=this.retainedQueryData[o.bucketInstanceId].tileID;const t=this.transform.elevation;(t||e.elevation)&&(e.elevation=t?t.getAtTileOffset(e.tileID,e.tileAnchorX,e.tileAnchorY):0)},U=p.textBox;if(U){W(U);const n=n=>{let i=e.WritingMode.horizontal;if(o.allowVerticalPlacement&&!n&&this.prevPlacement){const e=this.prevPlacement.placedOrientations[S];e&&(this.placedOrientations[S]=e,i=e,this.markUsedOrientation(o,i,t))}return i},i=(t,n)=>{if(o.allowVerticalPlacement&&T>0&&p.verticalTextBox){for(const i of o.writingModes)if(i===e.WritingMode.vertical?(O=n(),R=O):O=t(),O&&O.box&&O.box.length)break}else O=t()};if(a.get("text-variable-anchor")){let l=a.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[S]){const e=this.prevPlacement.variableOffsets[S];l.indexOf(e.anchor)>0&&(l=l.filter((t=>t!==e.anchor)),l.unshift(e.anchor))}const c=(e,n,i)=>{const a=o.getSymbolInstanceTextSize(f,t,this.transform.zoom,r),c=(e.x2-e.x1)*a+2*e.padding,u=(e.y2-e.y1)*a+2*e.padding,h=k&&!b?n:null;h&&W(h);let p={box:[],offscreen:!1,occluded:!1};const v=x?2*l.length:l.length;for(let y=0;y<v;++y){const n=this.attemptAnchorPlacement(l[y%l.length],e,c,u,a,_,w,d,s,g,y>=l.length,t,r,o,i,h,f,m);if(n&&(p=n.placedGlyphBoxes,p&&p.box&&p.box.length)){M=!0,D=n.shift;break}}return p};i((()=>c(U,p.iconBox,e.WritingMode.horizontal)),(()=>{const t=p.verticalTextBox;return t&&W(t),o.allowVerticalPlacement&&!(O&&O.box&&O.box.length)&&T>0&&t?c(t,p.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null,occluded:null}})),O&&(M=O.box,A=O.offscreen,I=O.occluded);const u=n(O&&O.box);if(!M&&this.prevPlacement){const e=this.prevPlacement.variableOffsets[S];e&&(this.variableOffsets[S]=e,this.markUsedJustification(o,e.anchor,t,u))}}else{const a=(n,i)=>{const a=o.getSymbolInstanceTextSize(f,t,this.transform.zoom,r),l=this.collisionIndex.placeCollisionBox(o,a,n,new e.pointGeometry(0,0),x,d,s,g.predicate);return l&&l.box&&l.box.length&&(this.markUsedOrientation(o,i,t),this.placedOrientations[S]=i),l};i((()=>a(U,e.WritingMode.horizontal)),(()=>{const t=p.verticalTextBox;return o.allowVerticalPlacement&&T>0&&t?(W(t),a(t,e.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}})),n(O&&O.box&&O.box.length)}}if(z=O,M=z&&z.box&&z.box.length>0,A=z&&z.offscreen,I=z&&z.occluded,t.useRuntimeCollisionCircles){const n=o.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex),r=e.evaluateSizeForFeature(o.textSizeData,f,n),u=a.get("text-padding");F=this.collisionIndex.placeCollisionCircles(o,x,n,o.lineVertexArray,o.glyphOffsetArray,r,s,l,c,i,w,g.predicate,t.collisionCircleDiameter*r/e.ONE_EM,u,this.retainedQueryData[o.bucketInstanceId].tileID),M=x||F.circles.length>0&&!F.collisionDetected,A=A&&F.offscreen,I=F.occluded}if(p.iconFeatureIndex&&(V=p.iconFeatureIndex),p.iconBox){const n=n=>{W(n);const i=k&&D?Mt(D.x,D.y,_,w,this.transform.angle):new e.pointGeometry(0,0),r=o.getSymbolInstanceIconSize(m,this.transform.zoom,t.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(o,r,n,i,b,d,s,g.predicate)};R&&R.box&&R.box.length&&p.verticalIconBox?(B=n(p.verticalIconBox),P=B.box.length>0):(B=n(p.iconBox),P=B.box.length>0),A=A&&B.offscreen,L=B.occluded}const H=v||0===t.numHorizontalGlyphVertices&&0===T,X=y||0===t.numIconVertices;if(H||X?X?H||(P=P&&M):M=P&&M:P=M=P&&M,M&&z&&z.box&&this.collisionIndex.insertCollisionBox(z.box,a.get("text-ignore-placement"),o.bucketInstanceId,R&&R.box&&j?j:N,g.ID),P&&B&&this.collisionIndex.insertCollisionBox(B.box,a.get("icon-ignore-placement"),o.bucketInstanceId,V,g.ID),F&&(M&&this.collisionIndex.insertCollisionCircles(F.circles,a.get("text-ignore-placement"),o.bucketInstanceId,N,g.ID),i)){const e=o.bucketInstanceId;let t=this.collisionCircleArrays[e];void 0===t&&(t=this.collisionCircleArrays[e]=new St);for(let n=0;n<F.circles.length;n+=4)t.circles.push(F.circles[n+0]),t.circles.push(F.circles[n+1]),t.circles.push(F.circles[n+2]),t.circles.push(F.collisionDetected?1:0)}const G="globe"!==o.projection.name;C=C&&(G||!I),E=E&&(G||!L),this.placements[S]=new kt(M||C,P||E,A||o.justReloaded),n[S]=!0};if(S){const e=o.getSortedSymbolIndexes(this.transform.angle);for(let t=e.length-1;t>=0;--t){const n=e[t];T(o.symbolInstances.get(n),n,o.collisionArrays[n])}}else for(let e=t.symbolInstanceStart;e<t.symbolInstanceEnd;e++)T(o.symbolInstances.get(e),e,o.collisionArrays[e]);if(i&&o.bucketInstanceId in this.collisionCircleArrays){const t=this.collisionCircleArrays[o.bucketInstanceId];e.invert(t.invProjMatrix,s),t.viewportMatrix=this.collisionIndex.getViewportMatrix()}o.justReloaded=!1}markUsedJustification(t,n,i,r){const{leftJustifiedTextSymbolIndex:o,centerJustifiedTextSymbolIndex:a,rightJustifiedTextSymbolIndex:s,verticalPlacedTextSymbolIndex:l,crossTileID:c}=i,u=e.getAnchorJustification(n),d=r===e.WritingMode.vertical?l:"left"===u?o:"center"===u?a:"right"===u?s:-1;o>=0&&(t.text.placedSymbolArray.get(o).crossTileID=d>=0&&o!==d?0:c),a>=0&&(t.text.placedSymbolArray.get(a).crossTileID=d>=0&&a!==d?0:c),s>=0&&(t.text.placedSymbolArray.get(s).crossTileID=d>=0&&s!==d?0:c),l>=0&&(t.text.placedSymbolArray.get(l).crossTileID=d>=0&&l!==d?0:c)}markUsedOrientation(t,n,i){const r=n===e.WritingMode.horizontal||n===e.WritingMode.horizontalOnly?n:0,o=n===e.WritingMode.vertical?n:0,{leftJustifiedTextSymbolIndex:a,centerJustifiedTextSymbolIndex:s,rightJustifiedTextSymbolIndex:l,verticalPlacedTextSymbolIndex:c}=i,u=t.text.placedSymbolArray;a>=0&&(u.get(a).placedOrientation=r),s>=0&&(u.get(s).placedOrientation=r),l>=0&&(u.get(l).placedOrientation=r),c>=0&&(u.get(c).placedOrientation=o)}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;const t=this.prevPlacement;let n=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;const i=t?t.symbolFadeChange(e):1,r=t?t.opacities:{},o=t?t.variableOffsets:{},a=t?t.placedOrientations:{};for(const s in this.placements){const e=this.placements[s],t=r[s];t?(this.opacities[s]=new wt(t,i,e.text,e.icon,null,e.clipped),n=n||e.text!==t.text.placed||e.icon!==t.icon.placed):(this.opacities[s]=new wt(null,i,e.text,e.icon,e.skipFade,e.clipped),n=n||e.text||e.icon)}for(const s in r){const e=r[s];if(!this.opacities[s]){const t=new wt(e,i,!1,!1);t.isHidden()||(this.opacities[s]=t,n=n||e.text.placed||e.icon.placed)}}for(const s in o)this.variableOffsets[s]||!this.opacities[s]||this.opacities[s].isHidden()||(this.variableOffsets[s]=o[s]);for(const s in a)this.placedOrientations[s]||!this.opacities[s]||this.opacities[s].isHidden()||(this.placedOrientations[s]=a[s]);n?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)}updateLayerOpacities(e,t){const n={};for(const i of t){const t=i.getBucket(e);t&&i.latestFeatureIndex&&e.id===t.layerIds[0]&&this.updateBucketOpacities(t,n,i.collisionBoxArray)}}updateBucketOpacities(t,n,i){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();const r=t.layers[0].layout,o=!!t.layers[0].dynamicFilter(),a=new wt(null,0,!1,!1,!0),s=r.get("text-allow-overlap"),l=r.get("icon-allow-overlap"),c=r.get("text-variable-anchor"),u="map"===r.get("text-rotation-alignment"),d="map"===r.get("text-pitch-alignment"),h="none"!==r.get("icon-text-fit"),p=new wt(null,0,s&&(l||!t.hasIconData()||r.get("icon-optional")),l&&(s||!t.hasTextData()||r.get("text-optional")),!0);!t.collisionArrays&&i&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(i);const f=(e,t,n)=>{for(let i=0;i<t/4;i++)e.opacityVertexArray.emplaceBack(n)};let m=0;for(let g=0;g<t.symbolInstances.length;g++){const i=t.symbolInstances.get(g),{numHorizontalGlyphVertices:r,numVerticalGlyphVertices:s,crossTileID:l,numIconVertices:v}=i;let y=this.opacities[l];n[l]?y=a:y||(y=p,this.opacities[l]=y),n[l]=!0;const x=r>0||s>0,b=v>0,_=this.placedOrientations[l],w=_===e.WritingMode.vertical,k=_===e.WritingMode.horizontal||_===e.WritingMode.horizontalOnly;if(!x&&!b||y.isHidden()||m++,x){const e=Bt(y.text);f(t.text,r,w?Nt:e),f(t.text,s,k?Nt:e);const n=y.text.isHidden(),{leftJustifiedTextSymbolIndex:o,centerJustifiedTextSymbolIndex:a,rightJustifiedTextSymbolIndex:c,verticalPlacedTextSymbolIndex:u}=i,d=t.text.placedSymbolArray,h=n||w?1:0;o>=0&&(d.get(o).hidden=h),a>=0&&(d.get(a).hidden=h),c>=0&&(d.get(c).hidden=h),u>=0&&(d.get(u).hidden=n||k?1:0);const p=this.variableOffsets[l];p&&this.markUsedJustification(t,p.anchor,i,_);const m=this.placedOrientations[l];m&&(this.markUsedJustification(t,"left",i,m),this.markUsedOrientation(t,m,i))}if(b){const e=Bt(y.icon),{placedIconSymbolIndex:n,verticalPlacedIconSymbolIndex:r}=i,o=t.icon.placedSymbolArray,a=y.icon.isHidden()?1:0;n>=0&&(f(t.icon,v,w?Nt:e),o.get(n).hidden=a),r>=0&&(f(t.icon,i.numVerticalIconVertices,k?Nt:e),o.get(r).hidden=a)}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){const n=t.collisionArrays[g];if(n){let i=new e.pointGeometry(0,0),r=!0;if(n.textBox||n.verticalTextBox){if(c){const e=this.variableOffsets[l];e?(i=Tt(e.anchor,e.width,e.height,e.textOffset,e.textScale),u&&i._rotate(d?this.transform.angle:-this.transform.angle)):r=!1}o&&(r=!y.clipped),n.textBox&&At(t.textCollisionBox.collisionVertexArray,y.text.placed,!r||w,i.x,i.y),n.verticalTextBox&&At(t.textCollisionBox.collisionVertexArray,y.text.placed,!r||k,i.x,i.y)}const a=r&&Boolean(!k&&n.verticalIconBox);n.iconBox&&At(t.iconCollisionBox.collisionVertexArray,y.icon.placed,a,h?i.x:0,h?i.y:0),n.verticalIconBox&&At(t.iconCollisionBox.collisionVertexArray,y.icon.placed,!a,h?i.x:0,h?i.y:0)}}}if(t.fullyClipped=0===m,t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){const e=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=e.invProjMatrix,t.placementViewportMatrix=e.viewportMatrix,t.collisionCircleArray=e.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}}symbolFadeChange(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,t){const n=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*n>e}setStale(){this.stale=!0}}function At(e,t,n,i,r){e.emplaceBack(t?1:0,n?1:0,i||0,r||0),e.emplaceBack(t?1:0,n?1:0,i||0,r||0),e.emplaceBack(t?1:0,n?1:0,i||0,r||0),e.emplaceBack(t?1:0,n?1:0,i||0,r||0)}const It=Math.pow(2,25),Lt=Math.pow(2,24),Dt=Math.pow(2,17),Ot=Math.pow(2,16),Rt=Math.pow(2,9),zt=Math.pow(2,8),Ft=Math.pow(2,1);function Bt(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;const t=e.placed?1:0,n=Math.floor(127*e.opacity);return n*It+t*Lt+n*Dt+t*Ot+n*Rt+t*zt+n*Ft+t}const Nt=0;class jt{constructor(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&void 0!==e.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(e,t,n,i,r){const o=this._bucketParts;for(;this._currentTileIndex<e.length;)if(t.getBucketParts(o,i,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,r())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort(((e,t)=>e.sortKey-t.sortKey)));this._currentPartIndex<o.length;){const e=o[this._currentPartIndex];if(t.placeLayerBucketPart(e,this._seenCrossTileIDs,n,0===e.symbolInstanceStart),this._currentPartIndex++,r())return!0}return!1}}class Vt{constructor(e,t,n,i,r,o,a,s){this.placement=new Pt(e,r,o,a,s),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=i,this._done=!1}isDone(){return this._done}continuePlacement(t,n,i){const r=e.exported.now(),o=()=>{const t=e.exported.now()-r;return!this._forceFullPlacement&&t>2};for(;this._currentPlacementIndex>=0;){const e=n[t[this._currentPlacementIndex]],r=this.placement.collisionIndex.transform.zoom;if("symbol"===e.type&&(!e.minzoom||e.minzoom<=r)&&(!e.maxzoom||e.maxzoom>r)){if(this._inProgressLayer||(this._inProgressLayer=new jt(e)),this._inProgressLayer.continuePlacement(i[e.source],this.placement,this._showCollisionBoxes,e,o))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(e){return this.placement.commit(e),this.placement}}const Wt=512/e.EXTENT/2;class Ut{constructor(e,t,n){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(let i=0;i<t.length;i++){const n=t.get(i),r=n.key;this.indexedSymbolInstances[r]||(this.indexedSymbolInstances[r]=[]),this.indexedSymbolInstances[r].push({crossTileID:n.crossTileID,coord:this.getScaledCoordinates(n,e)})}}getScaledCoordinates(t,n){const i=Wt/Math.pow(2,n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*e.EXTENT+t.tileAnchorX)*i),y:Math.floor((n.canonical.y*e.EXTENT+t.tileAnchorY)*i)}}findMatches(e,t,n){const i=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z);for(let r=0;r<e.length;r++){const o=e.get(r);if(o.crossTileID)continue;const a=this.indexedSymbolInstances[o.key];if(!a)continue;const s=this.getScaledCoordinates(o,t);for(const e of a)if(Math.abs(e.coord.x-s.x)<=i&&Math.abs(e.coord.y-s.y)<=i&&!n[e.crossTileID]){n[e.crossTileID]=!0,o.crossTileID=e.crossTileID;break}}}}class Ht{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Xt{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(e){const t=Math.round((e-this.lng)/360);if(0!==t)for(const n in this.indexes){const e=this.indexes[n],i={};for(const n in e){const r=e[n];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+t),i[r.tileID.key]=r}this.indexes[n]=i}this.lng=e}addBucket(e,t,n){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(let r=0;r<t.symbolInstances.length;r++)t.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});const i=this.usedCrossTileIDs[e.overscaledZ];for(const r in this.indexes){const n=this.indexes[r];if(Number(r)>e.overscaledZ)for(const r in n){const o=n[r];o.tileID.isChildOf(e)&&o.findMatches(t.symbolInstances,e,i)}else{const o=n[e.scaledTo(Number(r)).key];o&&o.findMatches(t.symbolInstances,e,i)}}for(let r=0;r<t.symbolInstances.length;r++){const e=t.symbolInstances.get(r);e.crossTileID||(e.crossTileID=n.generate(),i[e.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Ut(e,t.symbolInstances,t.bucketInstanceId),!0}removeBucketCrossTileIDs(e,t){for(const n in t.indexedSymbolInstances)for(const i of t.indexedSymbolInstances[n])delete this.usedCrossTileIDs[e][i.crossTileID]}removeStaleBuckets(e){let t=!1;for(const n in this.indexes){const i=this.indexes[n];for(const r in i)e[i[r].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,i[r]),delete i[r],t=!0)}return t}}class Gt{constructor(){this.layerIndexes={},this.crossTileIDs=new Ht,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(e,t,n,i){let r=this.layerIndexes[e.id];void 0===r&&(r=this.layerIndexes[e.id]=new Xt);let o=!1;const a={};"globe"!==i.name&&r.handleWrapJump(n);for(const s of t){const t=s.getBucket(e);t&&e.id===t.layerIds[0]&&(t.bucketInstanceId||(t.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(s.tileID,t,this.crossTileIDs)&&(o=!0),a[t.bucketInstanceId]=!0)}return r.removeStaleBuckets(a)&&(o=!0),o}pruneUnusedLayers(e){const t={};e.forEach((e=>{t[e]=!0}));for(const n in this.layerIndexes)t[n]||delete this.layerIndexes[n]}}const Yt=(t,n)=>e.emitValidationErrors(t,n&&n.filter((e=>"source.canvas"!==e.identifier))),qt=e.pick(He,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),Kt=e.pick(He,["setCenter","setZoom","setBearing","setPitch"]),$t={version:8,layers:[],sources:{}},Zt={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class Jt extends e.Evented{constructor(t,n={}){super(),this.map=t,this.dispatcher=new L(Ve(),this),this.imageManager=new b,this.imageManager.setEventedParent(this),this.glyphManager=new e.GlyphManager(t._requestManager,n.localFontFamily?e.LocalGlyphMode.all:n.localIdeographFontFamily?e.LocalGlyphMode.ideographs:e.LocalGlyphMode.none,n.localFontFamily||n.localIdeographFontFamily),this.crossTileSymbolIndex=new Gt,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());const i=this;this._rtlTextPluginCallback=Jt.registerForPluginStateChange((t=>{i.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},((t,n)=>{if(e.triggerPluginCompletionEvent(t),n&&n.every((e=>e)))for(const e in i._sourceCaches){const t=i._sourceCaches[e],n=t.getSource().type;"vector"!==n&&"geojson"!==n||t.reload()}}))})),this.on("data",(e=>{if("source"!==e.dataType||"metadata"!==e.sourceDataType)return;const t=this.getSource(e.sourceId);if(t&&t.vectorLayerIds)for(const n in this._layers){const e=this._layers[n];e.source===t.id&&this._validateLayer(e)}}))}loadURL(t,n={}){this.fire(new e.Event("dataloading",{dataType:"style"}));const i="boolean"==typeof n.validate?n.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,n.accessToken);const r=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(r,((t,n)=>{this._request=null,t?this.fire(new e.ErrorEvent(t)):n&&this._load(n,i)}))}loadJSON(t,n={}){this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.exported.frame((()=>{this._request=null,this._load(t,!1!==n.validate)}))}loadEmpty(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load($t,!1)}_updateLayerCount(e,t){const n=t?1:-1;e.is3D()&&(this._num3DLayers+=n),"circle"===e.type&&(this._numCircleLayers+=n),"symbol"===e.type&&(this._numSymbolLayers+=n)}_load(t,n){if(n&&Yt(this,e.validateStyle(t)))return;this._loaded=!0,this.stylesheet=e.clone$1(t),this._updateMapProjection();for(const e in t.sources)this.addSource(e,t.sources[e],{validate:!1});this._changed=!1,t.sprite?this._loadSprite(t.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(t.glyphs);const i=Ue(this.stylesheet.layers);this._order=i.map((e=>e.id)),this._layers={},this._serializedLayers={};for(let r of i)r=e.createStyleLayer(r),r.setEventedParent(this,{layer:{id:r.id}}),this._layers[r.id]=r,this._serializedLayers[r.id]=r.serialize(),this._updateLayerCount(r,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new k(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&0===this.terrain.drapeRenderMode}setProjection(e){e?this.stylesheet.projection=e:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(t){this._spriteRequest=function(t,n,i){let r,o,a;const s=e.exported.devicePixelRatio>1?"@2x":"";let l=e.getJSON(n.transformRequest(n.normalizeSpriteURL(t,s,".json"),e.ResourceType.SpriteJSON),((e,t)=>{l=null,a||(a=e,r=t,u())})),c=e.getImage(n.transformRequest(n.normalizeSpriteURL(t,s,".png"),e.ResourceType.SpriteImage),((e,t)=>{c=null,a||(a=e,o=t,u())}));function u(){if(a)i(a);else if(r&&o){const t=e.exported.getImageData(o),n={};for(const i in r){const{width:o,height:a,x:s,y:l,sdf:c,pixelRatio:u,stretchX:d,stretchY:h,content:p}=r[i],f=new e.RGBAImage({width:o,height:a});e.RGBAImage.copy(t,f,{x:s,y:l},{x:0,y:0},{width:o,height:a}),n[i]={data:f,pixelRatio:u,sdf:c,stretchX:d,stretchY:h,content:p}}i(null,n)}}return{cancel(){l&&(l.cancel(),l=null),c&&(c.cancel(),c=null)}}}(t,this.map._requestManager,((t,n)=>{if(this._spriteRequest=null,t)this.fire(new e.ErrorEvent(t));else if(n)for(const e in n)this.imageManager.addImage(e,n[e]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new e.Event("data",{dataType:"style"}))}))}_validateLayer(t){const n=this.getSource(t.source);if(!n)return;const i=t.sourceLayer;i&&("geojson"===n.type||n.vectorLayerIds&&-1===n.vectorLayerIds.indexOf(i))&&this.fire(new e.ErrorEvent(new Error(`Source layer "${i}" does not exist on source "${n.id}" as specified by style layer "${t.id}"`)))}loaded(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(const e in this._sourceCaches)if(!this._sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(e){const t=[];for(const n of e){const e=this._layers[n];"custom"!==e.type&&t.push(e.serialize())}return t}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;if(this.fog&&this.fog.hasTransition())return!0;for(const e in this._sourceCaches)if(this._sourceCaches[e].hasTransition())return!0;for(const e in this._layers)if(this._layers[e].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(e){return!!this.terrain&&Zt[e.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(t){if(!this._loaded)return;const n=this._changed;if(this._changed){const e=Object.keys(this._updatedLayers),n=Object.keys(this._removedLayers);(e.length||n.length)&&this._updateWorkerLayers(e,n);for(const t in this._updatedSources){const e=this._updatedSources[t];"reload"===e?this._reloadSource(t):"clear"===e&&this._clearSource(t)}this._updateTilesForChangedImages();for(const i in this._updatedPaintProps)this._layers[i].updateTransitions(t);this.light.updateTransitions(t),this.fog&&this.fog.updateTransitions(t),this._resetUpdates()}const i={};for(const e in this._sourceCaches){const t=this._sourceCaches[e];i[e]=t.used,t.used=!1}for(const e of this._order){const n=this._layers[e];if(n.recalculate(t,this._availableImages),!n.isHidden(t.zoom)){const e=this._getLayerSourceCache(n);e&&(e.used=!0)}const i=this.map.painter;if(i){const e=n.getProgramIds();if(!e)continue;const r=n.getProgramConfiguration(t.zoom);for(const t of e)i.useProgram(t,r)}}for(const r in i){const t=this._sourceCaches[r];i[r]!==t.used&&t.getSource().fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:t.getSource().id}))}this.light.recalculate(t),this.terrain&&this.terrain.recalculate(t),this.fog&&this.fog.recalculate(t),this.z=t.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),n&&this.fire(new e.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const e=Object.keys(this._changedImages);if(e.length){for(const t in this._sourceCaches)this._sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}_updateWorkerLayers(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(n){if(this._checkLoaded(),Yt(this,e.validateStyle(n)))return!1;(n=e.clone$1(n)).layers=Ue(n.layers);const i=function(e,n){if(!e)return[{command:He.setStyle,args:[n]}];let i=[];try{if(!t(e.version,n.version))return[{command:He.setStyle,args:[n]}];t(e.center,n.center)||i.push({command:He.setCenter,args:[n.center]}),t(e.zoom,n.zoom)||i.push({command:He.setZoom,args:[n.zoom]}),t(e.bearing,n.bearing)||i.push({command:He.setBearing,args:[n.bearing]}),t(e.pitch,n.pitch)||i.push({command:He.setPitch,args:[n.pitch]}),t(e.sprite,n.sprite)||i.push({command:He.setSprite,args:[n.sprite]}),t(e.glyphs,n.glyphs)||i.push({command:He.setGlyphs,args:[n.glyphs]}),t(e.transition,n.transition)||i.push({command:He.setTransition,args:[n.transition]}),t(e.light,n.light)||i.push({command:He.setLight,args:[n.light]}),t(e.fog,n.fog)||i.push({command:He.setFog,args:[n.fog]}),t(e.projection,n.projection)||i.push({command:He.setProjection,args:[n.projection]});const r={},o=[];!function(e,n,i,r){let o;for(o in n=n||{},e=e||{})e.hasOwnProperty(o)&&(n.hasOwnProperty(o)||Ge(o,i,r));for(o in n)n.hasOwnProperty(o)&&(e.hasOwnProperty(o)?t(e[o],n[o])||("geojson"===e[o].type&&"geojson"===n[o].type&&qe(e,n,o)?i.push({command:He.setGeoJSONSourceData,args:[o,n[o].data]}):Ye(o,n,i,r)):Xe(o,n,i))}(e.sources,n.sources,o,r);const a=[];e.layers&&e.layers.forEach((e=>{e.source&&r[e.source]?i.push({command:He.removeLayer,args:[e.id]}):a.push(e)}));let s=e.terrain;s&&r[s.source]&&(i.push({command:He.setTerrain,args:[void 0]}),s=void 0),i=i.concat(o),t(s,n.terrain)||i.push({command:He.setTerrain,args:[n.terrain]}),function(e,n,i){n=n||[];const r=(e=e||[]).map($e),o=n.map($e),a=e.reduce(Ze,{}),s=n.reduce(Ze,{}),l=r.slice(),c=Object.create(null);let u,d,h,p,f,m,g;for(u=0,d=0;u<r.length;u++)h=r[u],s.hasOwnProperty(h)?d++:(i.push({command:He.removeLayer,args:[h]}),l.splice(l.indexOf(h,d),1));for(u=0,d=0;u<o.length;u++)h=o[o.length-1-u],l[l.length-1-u]!==h&&(a.hasOwnProperty(h)?(i.push({command:He.removeLayer,args:[h]}),l.splice(l.lastIndexOf(h,l.length-d),1)):d++,m=l[l.length-u],i.push({command:He.addLayer,args:[s[h],m]}),l.splice(l.length-u,0,h),c[h]=!0);for(u=0;u<o.length;u++)if(h=o[u],p=a[h],f=s[h],!c[h]&&!t(p,f))if(t(p.source,f.source)&&t(p["source-layer"],f["source-layer"])&&t(p.type,f.type)){for(g in Ke(p.layout,f.layout,i,h,null,He.setLayoutProperty),Ke(p.paint,f.paint,i,h,null,He.setPaintProperty),t(p.filter,f.filter)||i.push({command:He.setFilter,args:[h,f.filter]}),t(p.minzoom,f.minzoom)&&t(p.maxzoom,f.maxzoom)||i.push({command:He.setLayerZoomRange,args:[h,f.minzoom,f.maxzoom]}),p)p.hasOwnProperty(g)&&"layout"!==g&&"paint"!==g&&"filter"!==g&&"metadata"!==g&&"minzoom"!==g&&"maxzoom"!==g&&(0===g.indexOf("paint.")?Ke(p[g],f[g],i,h,g.slice(6),He.setPaintProperty):t(p[g],f[g])||i.push({command:He.setLayerProperty,args:[h,g,f[g]]}));for(g in f)f.hasOwnProperty(g)&&!p.hasOwnProperty(g)&&"layout"!==g&&"paint"!==g&&"filter"!==g&&"metadata"!==g&&"minzoom"!==g&&"maxzoom"!==g&&(0===g.indexOf("paint.")?Ke(p[g],f[g],i,h,g.slice(6),He.setPaintProperty):t(p[g],f[g])||i.push({command:He.setLayerProperty,args:[h,g,f[g]]}))}else i.push({command:He.removeLayer,args:[h]}),m=l[l.lastIndexOf(h)+1],i.push({command:He.addLayer,args:[f,m]})}(a,n.layers,i)}catch(e){console.warn("Unable to compute style diff:",e),i=[{command:He.setStyle,args:[n]}]}return i}(this.serialize(),n).filter((e=>!(e.command in Kt)));if(0===i.length)return!1;const r=i.filter((e=>!(e.command in qt)));if(r.length>0)throw new Error(`Unimplemented: ${r.map((e=>e.command)).join(", ")}.`);return i.forEach((e=>{"setTransition"!==e.command&&"setProjection"!==e.command&&this[e.command].apply(this,e.args)})),this.stylesheet=n,this._updateMapProjection(),!0}addImage(t,n){return this.getImage(t)?this.fire(new e.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(t,n),this._afterImageUpdated(t),this)}updateImage(e,t){this.imageManager.updateImage(e,t)}getImage(e){return this.imageManager.getImage(e)}removeImage(t){return this.getImage(t)?(this.imageManager.removeImage(t),this._afterImageUpdated(t),this):this.fire(new e.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(t,n,i={}){if(this._checkLoaded(),void 0!==this.getSource(t))throw new Error("There is already a source with this ID");if(!n.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(n).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(e.validateSource,`sources.${t}`,n,null,i))return;this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);const r=Le(t,n,this.dispatcher,this);r.setEventedParent(this,(()=>({isSourceLoaded:this._isSourceCacheLoaded(t),source:r.serialize(),sourceId:t})));const o=n=>{const i=(n?"symbol:":"other:")+t,o=this._sourceCaches[i]=new e.SourceCache(i,r,n);(n?this._symbolSourceCaches:this._otherSourceCaches)[t]=o,o.style=this,o.onAdd(this.map)};o(!1),"vector"!==n.type&&"geojson"!==n.type||o(!0),r.onAdd&&r.onAdd(this.map),this._changed=!0}removeSource(t){this._checkLoaded();const n=this.getSource(t);if(!n)throw new Error("There is no source with this ID");for(const r in this._layers)if(this._layers[r].source===t)return this.fire(new e.ErrorEvent(new Error(`Source "${t}" cannot be removed while layer "${r}" is using it.`)));if(this.terrain&&this.terrain.get().source===t)return this.fire(new e.ErrorEvent(new Error(`Source "${t}" cannot be removed while terrain is using it.`)));const i=this._getSourceCaches(t);for(const r of i)delete this._sourceCaches[r.id],delete this._updatedSources[r.id],r.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:r.getSource().id})),r.setEventedParent(null),r.clearTiles();return delete this._otherSourceCaches[t],delete this._symbolSourceCaches[t],n.setEventedParent(null),n.onRemove&&n.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(e,t){this._checkLoaded(),this.getSource(e).setData(t),this._changed=!0}getSource(e){const t=this._getSourceCache(e);return t&&t.getSource()}_getSources(){const e=[];for(const t in this._otherSourceCaches){const n=this._getSourceCache(t);n&&e.push(n.getSource())}return e}addLayer(t,n,i={}){this._checkLoaded();const r=t.id;if(this.getLayer(r))return void this.fire(new e.ErrorEvent(new Error(`Layer with id "${r}" already exists on this map`)));let o;if("custom"===t.type){if(Yt(this,e.validateCustomStyleLayer(t)))return;o=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(r,t.source),t=e.clone$1(t),t=e.extend(t,{source:r})),this._validate(e.validateLayer,`layers.${r}`,t,{arrayIndex:-1},i))return;o=e.createStyleLayer(t),this._validateLayer(o),o.setEventedParent(this,{layer:{id:r}}),this._serializedLayers[o.id]=o.serialize(),this._updateLayerCount(o,!0)}const a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)return void this.fire(new e.ErrorEvent(new Error(`Layer with id "${n}" does not exist on this map.`)));this._order.splice(a,0,r),this._layerOrderChanged=!0,this._layers[r]=o;const s=this._getLayerSourceCache(o);if(this._removedLayers[r]&&o.source&&s&&"custom"!==o.type){const e=this._removedLayers[r];delete this._removedLayers[r],e.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",s.pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(t,n){if(this._checkLoaded(),this._changed=!0,!this._layers[t])return void this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be moved.`)));if(t===n)return;const i=this._order.indexOf(t);this._order.splice(i,1);const r=n?this._order.indexOf(n):this._order.length;n&&-1===r?this.fire(new e.ErrorEvent(new Error(`Layer with id "${n}" does not exist on this map.`))):(this._order.splice(r,0,t),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(t){this._checkLoaded();const n=this._layers[t];if(!n)return void this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be removed.`)));n.setEventedParent(null),this._updateLayerCount(n,!1);const i=this._order.indexOf(t);this._order.splice(i,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=n,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],n.onRemove&&n.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(e){return this._layers[e]}hasLayer(e){return e in this._layers}hasLayerType(e){for(const t in this._layers)if(this._layers[t].type===e)return!0;return!1}setLayerZoomRange(t,n,i){this._checkLoaded();const r=this.getLayer(t);r?r.minzoom===n&&r.maxzoom===i||(null!=n&&(r.minzoom=n),null!=i&&(r.maxzoom=i),this._updateLayer(r)):this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(n,i,r={}){this._checkLoaded();const o=this.getLayer(n);if(o){if(!t(o.filter,i))return null==i?(o.filter=void 0,void this._updateLayer(o)):void(this._validate(e.validateFilter,`layers.${o.id}.filter`,i,{layerType:o.type},r)||(o.filter=e.clone$1(i),this._updateLayer(o)))}else this.fire(new e.ErrorEvent(new Error(`The layer '${n}' does not exist in the map's style and cannot be filtered.`)))}getFilter(t){const n=this.getLayer(t);return n&&e.clone$1(n.filter)}setLayoutProperty(n,i,r,o={}){this._checkLoaded();const a=this.getLayer(n);a?t(a.getLayoutProperty(i),r)||(a.setLayoutProperty(i,r,o),this._updateLayer(a)):this.fire(new e.ErrorEvent(new Error(`The layer '${n}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(t,n){const i=this.getLayer(t);if(i)return i.getLayoutProperty(n);this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style.`)))}setPaintProperty(n,i,r,o={}){this._checkLoaded();const a=this.getLayer(n);a?t(a.getPaintProperty(i),r)||(a.setPaintProperty(i,r,o)&&this._updateLayer(a),this._changed=!0,this._updatedPaintProps[n]=!0):this.fire(new e.ErrorEvent(new Error(`The layer '${n}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(e,t){const n=this.getLayer(e);return n&&n.getPaintProperty(t)}setFeatureState(t,n){this._checkLoaded();const i=t.source,r=t.sourceLayer,o=this.getSource(i);if(!o)return void this.fire(new e.ErrorEvent(new Error(`The source '${i}' does not exist in the map's style.`)));const a=o.type;if("geojson"===a&&r)return void this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if("vector"===a&&!r)return void this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided.")));const s=this._getSourceCaches(i);for(const e of s)e.setFeatureState(r,t.id,n)}removeFeatureState(t,n){this._checkLoaded();const i=t.source,r=this.getSource(i);if(!r)return void this.fire(new e.ErrorEvent(new Error(`The source '${i}' does not exist in the map's style.`)));const o=r.type,a="vector"===o?t.sourceLayer:void 0;if("vector"===o&&!a)return void this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(n&&"string"!=typeof t.id&&"number"!=typeof t.id)return void this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const s=this._getSourceCaches(i);for(const e of s)e.removeFeatureState(a,t.id,n)}getFeatureState(t){this._checkLoaded();const n=t.source,i=t.sourceLayer,r=this.getSource(n);if(r){if("vector"!==r.type||i)return void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(n)[0].getFeatureState(i,t.id);this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error(`The source '${n}' does not exist in the map's style.`)))}getTransition(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const t={};for(const e in this._sourceCaches){const n=this._sourceCaches[e].getSource();t[n.id]||(t[n.id]=n.serialize())}return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:t,layers:this._serializeLayers(this._order)},(e=>void 0!==e))}_updateLayer(e){this._updatedLayers[e.id]=!0;const t=this._getLayerSourceCache(e);e.source&&!this._updatedSources[e.source]&&t&&"raster"!==t.getSource().type&&(this._updatedSources[e.source]="reload",t.pause()),this._changed=!0,e.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(e){const t=e=>"fill-extrusion"===this._layers[e].type,n={},i=[];for(let o=this._order.length-1;o>=0;o--){const r=this._order[o];if(t(r)){n[r]=o;for(const t of e){const e=t[r];if(e)for(const t of e)i.push(t)}}}i.sort(((e,t)=>t.intersectionZ-e.intersectionZ));const r=[];for(let o=this._order.length-1;o>=0;o--){const a=this._order[o];if(t(a))for(let e=i.length-1;e>=0;e--){const t=i[e].feature;if(n[t.layer.id]<o)break;r.push(t),i.pop()}else for(const t of e){const e=t[a];if(e)for(const t of e)r.push(t.feature)}}return r}queryRenderedFeatures(t,n,i){n&&n.filter&&this._validate(e.validateFilter,"queryRenderedFeatures.filter",n.filter,null,n);const r={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const t of n.layers){const n=this._layers[t];if(!n)return this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be queried for features.`))),[];r[n.source]=!0}}const o=[];n.availableImages=this._availableImages;const a=n&&n.layers?n.layers.some((e=>{const t=this.getLayer(e);return t&&t.is3D()})):this.has3DLayers(),s=O.createFromScreenPoints(t,i);for(const e in this._sourceCaches){const t=this._sourceCaches[e].getSource().id;n.layers&&!r[t]||o.push(Oe(this._sourceCaches[e],this._layers,this._serializedLayers,s,n,i,a,!!this.map._showQueryGeometry))}return this.placement&&o.push(function(e,t,n,i,r,o,a){const s={},l=o.queryRenderedSymbols(i),c=[];for(const u of Object.keys(l).map(Number))c.push(a[u]);c.sort(ze);for(const u of c){const n=u.featureIndex.lookupSymbolFeatures(l[u.bucketInstanceId],t,u.bucketIndex,u.sourceLayerIndex,r.filter,r.layers,r.availableImages,e);for(const e in n){const t=s[e]=s[e]||[],i=n[e];i.sort(((e,t)=>{const n=u.featureSortOrder;if(n){const i=n.indexOf(e.featureIndex);return n.indexOf(t.featureIndex)-i}return t.featureIndex-e.featureIndex}));for(const e of i)t.push(e)}}for(const u in s)s[u].forEach((t=>{const i=t.feature,r=n(e[u]).getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=r}));return s}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),s.screenGeometry,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(o)}querySourceFeatures(t,n){n&&n.filter&&this._validate(e.validateFilter,"querySourceFeatures.filter",n.filter,null,n);const i=this._getSourceCaches(t);let r=[];for(const e of i)r=r.concat(Re(e,n));return r}addSourceType(e,t,n){return Jt.getSourceType(e)?n(new Error(`A source type called "${e}" already exists.`)):(Jt.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},n):n(null,null))}getLight(){return this.light.getLight()}setLight(e,n={}){this._checkLoaded();const i=this.light.getLight();let r=!1;for(const a in e)if(!t(e[a],i[a])){r=!0;break}if(!r)return;const o=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(e,n),this.light.updateTransitions(o)}getTerrain(){return this.terrain&&1===this.terrain.drapeRenderMode?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(n,i=1){if(this._checkLoaded(),!n)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(1===i){if("object"==typeof n.source){const t="terrain-dem-src";this.addSource(t,n.source),n=e.clone$1(n),n=e.extend(n,{source:t})}if(this._validate(e.validateTerrain,"terrain",n))return}if(!this.terrain||this.terrain&&i!==this.terrain.drapeRenderMode)this._createTerrain(n,i);else{const i=this.terrain,r=i.get();for(const t of Object.keys(e.spec.terrain))!n.hasOwnProperty(t)&&e.spec.terrain[t].default&&(n[t]=e.spec.terrain[t].default);for(const e in n)if(!t(n[e],r[e])){i.set(n),this.stylesheet.terrain=n;const e=this._setTransitionParameters({duration:0});i.updateTransitions(e);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(e){const t=this.fog=new I(e,this.map.transform);this.stylesheet.fog=e;const n=this._setTransitionParameters({duration:0});t.updateTransitions(n)}_updateMarkersOpacity(){0!==this.map._markers.length&&this.map._requestDomTask((()=>{for(const e of this.map._markers)e._evaluateOpacity()}))}getFog(){return this.fog?this.fog.get():null}setFog(e){if(this._checkLoaded(),!e)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const n=this.fog,i=n.get();0===Object.keys(e).length&&n.set(e);for(const r in e)if(!t(e[r],i[r])){n.set(e),this.stylesheet.fog=e;const t=this._setTransitionParameters({duration:0});n.updateTransitions(t);break}}else this._createFog(e);this._markersNeedUpdate=!0}_setTransitionParameters(t){return{now:e.exported.now(),transition:e.extend(t,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const e=this._order.filter((e=>this.isLayerDraped(this._layers[e]))),t=this._order.filter((e=>!this.isLayerDraped(this._layers[e])));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...e),this._drapedFirstOrder.push(...t)}_createTerrain(e,t){const n=this.terrain=new E(e,t);this.stylesheet.terrain=e,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const i=this._setTransitionParameters({duration:0});n.updateTransitions(i)}_force3DLayerUpdate(){for(const e in this._layers){const t=this._layers[e];"fill-extrusion"===t.type&&this._updateLayer(t)}}_forceSymbolLayerUpdate(){for(const e in this._layers){const t=this._layers[e];"symbol"===t.type&&this._updateLayer(t)}}_validate(t,n,i,r,o={}){return(!o||!1!==o.validate)&&Yt(this,t.call(e.validateStyle,e.extend({key:n,style:this.serialize(),value:i,styleSpec:e.spec},r)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const e in this._layers)this._layers[e].setEventedParent(null);for(const e in this._sourceCaches)this._sourceCaches[e].clearTiles(),this._sourceCaches[e].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(e){const t=this._getSourceCaches(e);for(const n of t)n.clearTiles()}_reloadSource(e){const t=this._getSourceCaches(e);for(const n of t)n.resume(),n.reload()}_reloadSources(){for(const e of this._getSources())e.reload&&e.reload()}_updateSources(e){for(const t in this._sourceCaches)this._sourceCaches[t].update(e)}_generateCollisionBoxes(){for(const e in this._sourceCaches){const t=this._sourceCaches[e];t.resume(),t.reload()}}_updatePlacement(t,n,i,r,o=!1){let a=!1,s=!1;const l={};for(const e of this._order){const n=this._layers[e];if("symbol"!==n.type)continue;if(!l[n.source]){const e=this._getLayerSourceCache(n);if(!e)continue;l[n.source]=e.getRenderableIds(!0).map((t=>e.getTileByID(t))).sort(((e,t)=>t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)))}const i=this.crossTileSymbolIndex.addLayer(n,l[n.source],t.center.lng,t.projection);a=a||i}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),o=o||this._layerOrderChanged||0===i,this._layerOrderChanged&&this.fire(new e.Event("neworder")),(o||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.exported.now(),t.zoom))&&(this.pauseablePlacement=new Vt(t,this._order,o,n,i,r,this.placement,this.fog&&t.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.exported.now()),s=!0),a&&this.pauseablePlacement.placement.setStale()),s||a)for(const e of this._order){const t=this._layers[e];"symbol"===t.type&&this.placement.updateLayerOpacities(t,l[t.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.exported.now())}_releaseSymbolFadeTiles(){for(const e in this._sourceCaches)this._sourceCaches[e].releaseSymbolFadeTiles()}getImages(e,t,n){this.imageManager.getImages(t.icons,n),this._updateTilesForChangedImages();const i=e=>{e&&e.setDependencies(t.tileID.key,t.type,t.icons)};i(this._otherSourceCaches[t.source]),i(this._symbolSourceCaches[t.source])}getGlyphs(e,t,n){this.glyphManager.getGlyphs(t.stacks,n)}getResource(t,n,i){return e.makeRequest(n,i)}_getSourceCache(e){return this._otherSourceCaches[e]}_getLayerSourceCache(e){return"symbol"===e.type?this._symbolSourceCaches[e.source]:this._otherSourceCaches[e.source]}_getSourceCaches(e){const t=[];return this._otherSourceCaches[e]&&t.push(this._otherSourceCaches[e]),this._symbolSourceCaches[e]&&t.push(this._symbolSourceCaches[e]),t}_isSourceCacheLoaded(t){const n=this._getSourceCaches(t);return 0===n.length?(this.fire(new e.ErrorEvent(new Error(`There is no source with ID '${t}'`))),!1):n.every((e=>e.loaded()))}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}Jt.getSourceType=function(e){return Ie[e]},Jt.setSourceType=function(e,t){Ie[e]=t},Jt.registerForPluginStateChange=e.registerForPluginStateChange;var Qt="\n#define EPSILON 0.0000001\n#define PI 3.141592653589793\n#define EXTENT 8192.0\n#define HALF_PI PI/2.0\n#define QUARTER_PI PI/4.0\n#define RAD_TO_DEG 180.0/PI\n#define DEG_TO_RAD PI/180.0\n#define GLOBE_RADIUS EXTENT/PI/2.0",en="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",tn="\n#define ELEVATION_SCALE 7.0\n#define ELEVATION_OFFSET 450.0\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(\nmix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}\n#else\nvec3 elevationVector(vec2 pos) { return vec3(0,0,1); }\n#endif\n#ifdef TERRAIN\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\n#else\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\n#endif\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\n#ifdef TERRAIN_DEM_NEAREST_FILTER\nreturn u_exaggeration*tl;\n#endif\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}float prevElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {\n#ifdef ZERO_EXAGGERATION\nreturn 0.0;\n#endif\nfloat nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {\n#ifdef ZERO_EXAGGERATION\nreturn 0.0;\n#endif\nreturn currentElevation(apos);}\n#endif\nhighp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\n#else\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\n#endif\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",nn="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\n#endif",rn="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\n#endif";let on={},an={};const sn=[];hn(Qt,sn),hn(tn,sn),hn(nn,sn),hn(rn,sn),on=pn("",tn),an=pn(rn,nn);const ln=pn("\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}","\nfloat wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {\n#ifndef PROJECTED_POS_ON_VIEWPORT\nfloat tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;\n#else\nreturn vec3(0.0);\n#endif\n}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),cn=Qt,un="\n#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif";var dn={background:pn("uniform vec4 u_color;uniform float u_opacity;\n#ifdef LIGHTING_3D_MODE\nvarying vec4 v_color;\n#endif\nvoid main() {vec4 out_color;\n#ifdef LIGHTING_3D_MODE\nout_color=v_color;\n#else\nout_color=u_color;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#ifdef LIGHTING_3D_MODE\nuniform vec4 u_color;varying vec4 v_color;\n#endif\nvoid main() {gl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef LIGHTING_3D_MODE\nv_color=apply_lighting(u_color);\n#endif\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),backgroundPattern:pn("uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),circle:pn("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\n#endif\ngl_FragColor=out_color*(v_visibility*opacity_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\n#ifdef PROJECTION_GLOBE_VIEW\nreturn u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );\n#else\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#endif\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);\n#else \nsurface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);\n#endif\nvec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nocclusion_world_center=world_center;occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\n#ifdef FOG\nv_fog_pos=fog_position(world_center.xyz);\n#endif\n}"),clippingMask:pn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:pn("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef FOG\nif (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#else\npos=vec3(tilePos+extrude,elevation(tilePos));\n#endif\ngl_Position=u_matrix*vec4(pos,1);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),heatmapTexture:pn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:pn("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:pn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:pn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;\n#endif\nvarying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;\n#ifdef PROJECTION_GLOBE_VIEW\ngl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);\n#else\ngl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);\n#endif\n}"),fill:pn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nvec4 out_color=color;\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutline:pn("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutlinePattern:pn("uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillPattern:pn("uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillExtrusion:pn("varying vec4 v_color;\n#ifdef RENDER_SHADOWS\nvarying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\nvoid main() {\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvec3 normal=v_normal;\n#endif\nfloat z;vec4 color;\n#ifdef ZERO_ROOF_RADIUS\nz=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);\n#else\ncolor=v_color;\n#endif\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;\n#ifdef ZERO_ROOF_RADIUS\nconcave*=(1.0-z);\n#endif\nfloat x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;\n#endif\n#ifdef RENDER_SHADOWS\n#ifdef ZERO_ROOF_RADIUS\nnormal=mix(normal,vec3(0.0,0.0,1.0),z);\n#endif\ncolor.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec4 v_color;\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nv_normal=normal;\n#endif\nbase=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=0.0;float c_ele;vec3 pos;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);\n#else\nh=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);\n#ifdef RENDER_SHADOWS\nv_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;\n#endif\nfloat NdotL=0.0;float colorvalue=0.0;\n#ifdef LIGHTING_3D_MODE\nNdotL=calculate_NdotL(normal);\n#else\ncolorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);\n#endif\nif (normal.y !=0.0) {float r=0.84;\n#ifndef LIGHTING_3D_MODE\nr=mix(0.7,0.98,1.0-u_lightintensity);\n#endif\nNdotL*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\n#ifdef LIGHTING_3D_MODE\nv_color=apply_lighting(color,NdotL);\n#else\nv_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));\n#endif\nv_color*=u_opacity;\n#ifdef ZERO_ROOF_RADIUS\nv_roof_color=vec4(0.0,0.0,0.0,1.0);\n#ifdef LIGHTING_3D_MODE\nv_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));\n#else\nfloat roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));\n#endif\nv_roof_color*=u_opacity;\n#endif\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),fillExtrusionPattern:pn("uniform vec2 u_texsize;uniform sampler2D u_image;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef LIGHTING_3D_MODE\nvarying float v_NdotL;\n#endif\nvarying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color,v_NdotL)*u_opacity;\n#else\nout_color=out_color*v_lighting;\n#endif\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec2 v_pos;varying vec4 v_lighting;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef LIGHTING_3D_MODE\nvarying float v_NdotL;\n#endif\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=z;vec3 p;float c_ele;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);\n#else\np=vec3(pos_nx.xy,z);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;\n#ifdef LIGHTING_3D_MODE\nNdotL=calculate_NdotL(normal);\n#else\nNdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);\n#endif\nif (normal.y !=0.0) {float r=0.84;\n#ifndef LIGHTING_3D_MODE\nr=mix(0.7,0.98,1.0-u_lightintensity);\n#endif\nNdotL*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\n#ifdef LIGHTING_3D_MODE\nv_NdotL=NdotL;\n#else\nv_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\n#endif \n#ifdef FOG\nv_fog_pos=fog_position(p);\n#endif\n}"),hillshadePrepare:pn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nreturn texture2D(u_image,coord).a/4.0;\n#else\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\n#endif\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:pn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef LIGHTING_3D_MODE\ngl_FragColor=apply_lighting(gl_FragColor);\n#endif\n#ifdef FOG\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),line:pn("uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform sampler2D u_dash_image;varying vec2 v_tex;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform sampler2D u_gradient_image;\n#endif\nuniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nfloat linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);\n#ifdef RENDER_LINE_DASH\nfloat sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);\n#endif\nhighp vec4 out_color;\n#ifdef RENDER_LINE_GRADIENT\nout_color=texture2D(u_gradient_image,v_uv.xy);\n#else\nout_color=color;\n#endif\n#ifdef RENDER_LINE_TRIM_OFFSET\nhighp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}\n#endif\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\n#ifdef RENDER_LINE_ALPHA_DISCARD\nif (alpha < u_alpha_discard_threshold) {discard;}\n#endif\n#ifdef RENDER_LINE_BORDER\nfloat edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);\n#ifdef RENDER_LINE_BORDER_AUTO\nfloat Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}\n#else\nout_color.rgb=mix(u_border_color.rgb,out_color.rgb,smoothAlpha);\n#endif\n}\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define EXTRUDE_SCALE 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nattribute highp vec4 a_packed;\n#endif\n#ifdef RENDER_LINE_DASH\nattribute float a_linesofar;\n#endif\nuniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform float u_image_height;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nfloat a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];\n#ifdef RENDER_LINE_GRADIENT\nhighp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);\n#else\nv_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);\n#endif\n#endif\n#ifdef RENDER_LINE_DASH\nfloat scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),linePattern:pn("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\ncolor=apply_lighting(color);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),raster:pn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\n#endif\ngl_FragColor=vec4(out_color*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),symbolIcon:pn("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}"),symbolSDF:pn("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}"),symbolTextAndIcon:pn("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}"),terrainRaster:pn("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nvarying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\n#ifdef RENDER_SHADOWS\ncolor.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\n#ifdef ZERO_EXAGGERATION\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#else\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\n#endif\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nconst float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=u_skirt_height*u_skirt_height*wireframeOffset;\n#endif\nvec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\n#ifdef FOG\n#ifdef ZERO_EXAGGERATION\nv_fog_pos=fog_position(decodedPos);\n#else\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\n#endif\n#endif\n#ifdef RENDER_SHADOWS\nvec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;\n#endif\n}"),terrainDepth:pn("#ifdef GL_ES\nprecision highp float;\n#endif\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:pn("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\n#ifdef FOG\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\n#endif\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",en),skyboxGradient:pn("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\n#ifdef FOG\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\n#endif\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",en),skyboxCapture:pn("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:pn("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifndef FOG\nuniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;\n#endif\nvoid main() {vec4 color;\n#ifdef CUSTOM_ANTIALIASING\nvec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);\n#else\ncolor=texture2D(u_image0,v_pos0);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;\n#ifdef GLOBE_POLES\nattribute vec3 a_globe_pos;attribute vec2 a_uv;\n#else\nattribute vec2 a_pos;\n#endif\nvarying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {\n#ifdef GLOBE_POLES\nvec3 globe_pos=a_globe_pos;vec2 uv=a_uv;\n#else\nfloat tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);\n#endif\nv_pos0=uv;vec2 tile_pos=uv*EXTENT;\n#ifdef GLOBE_POLES\nvec3 up_vector=normalize(globe_pos)*u_tile_up_scale;\n#else\nvec3 up_vector=elevationVector(tile_pos);\n#endif\nfloat height=elevation(tile_pos);\n#ifdef TERRAIN_WIREFRAME\nheight+=wireframeOffset;\n#endif\nglobe_pos+=up_vector*height;\n#ifdef GLOBE_POLES\nvec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);\n#else\nvec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);\n#endif\ngl_Position=u_proj_matrix*interpolated_pos;\n#ifdef FOG\nv_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);\n#endif\n}"),globeAtmosphere:pn("uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;\n#ifdef PROJECTION_GLOBE_VIEW\nglobe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}\n#endif\nhighp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?\n0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;\n#ifdef PROJECTION_GLOBE_VIEW\nhighp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?\nPI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);\n#else\nhorizon_angle=horizon_angle_mercator;\n#endif\nhorizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:\n(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:\nuv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}","attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(\nmix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}")};function hn(e,t){const n=e.replace(/\s*\/\/[^\n]*\n/g,"\n").split("\n");for(let i of n)if(i=i.trim(),"#"===i[0]&&i.includes("if")&&!i.includes("endif")){i=i.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const e=i.split(" ");for(const n of e)t.includes(n)||t.push(n)}}function pn(e,t){const n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,i=t.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),r={},o=[...sn];return hn(e,o),hn(t,o),{fragmentSource:e=e.replace(n,((e,t,n,i,o)=>(r[o]=!0,"define"===t?`\n#ifndef HAS_UNIFORM_u_${o}\nvarying ${n} ${i} ${o};\n#else\nuniform ${n} ${i} u_${o};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${o}\n    ${n} ${i} ${o} = u_${o};\n#endif\n`))),vertexSource:t=t.replace(n,((e,t,n,i,o)=>{const a="float"===i?"vec2":"vec4",s=o.match(/color/)?"color":a;return r[o]?"define"===t?`\n#ifndef HAS_UNIFORM_u_${o}\nuniform lowp float u_${o}_t;\nattribute ${n} ${a} a_${o};\nvarying ${n} ${i} ${o};\n#else\nuniform ${n} ${i} u_${o};\n#endif\n`:"vec4"===s?`\n#ifndef HAS_UNIFORM_u_${o}\n    ${o} = a_${o};\n#else\n    ${n} ${i} ${o} = u_${o};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${o}\n    ${o} = unpack_mix_${s}(a_${o}, u_${o}_t);\n#else\n    ${n} ${i} ${o} = u_${o};\n#endif\n`:"define"===t?`\n#ifndef HAS_UNIFORM_u_${o}\nuniform lowp float u_${o}_t;\nattribute ${n} ${a} a_${o};\n#else\nuniform ${n} ${i} u_${o};\n#endif\n`:"vec4"===s?`\n#ifndef HAS_UNIFORM_u_${o}\n    ${n} ${i} ${o} = a_${o};\n#else\n    ${n} ${i} ${o} = u_${o};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${o}\n    ${n} ${i} ${o} = unpack_mix_${s}(a_${o}, u_${o}_t);\n#else\n    ${n} ${i} ${o} = u_${o};\n#endif\n`})),staticAttributes:i,usedDefines:o}}class fn{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(e,t,n,i,r,o,a){this.context=e;let s=this.boundPaintVertexBuffers.length!==i.length;for(let c=0;!s&&c<i.length;c++)this.boundPaintVertexBuffers[c]!==i[c]&&(s=!0);let l=this.boundDynamicVertexBuffers.length!==a.length;for(let c=0;!l&&c<a.length;c++)this.boundDynamicVertexBuffers[c]!==a[c]&&(l=!0);if(!e.extVertexArrayObject||!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==n||s||l||this.boundIndexBuffer!==r||this.boundVertexOffset!==o)this.freshBind(t,n,i,r,o,a);else{e.bindVertexArrayOES.set(this.vao);for(const e of a)e&&e.bind();r&&r.dynamicDraw&&r.bind()}}freshBind(e,t,n,i,r,o){let a;const s=e.numAttributes,l=this.context,c=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),a=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=i,this.boundVertexOffset=r,this.boundDynamicVertexBuffers=o;else{a=l.currentNumAttributes||0;for(let e=s;e<a;e++)c.disableVertexAttribArray(e)}t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,r);for(const u of n)u.enableAttributes(c,e),u.bind(),u.setVertexAttribPointers(c,e,r);for(const u of o)u&&(u.enableAttributes(c,e),u.bind(),u.setVertexAttribPointers(c,e,r));i&&i.bind(),l.currentNumAttributes=s}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function mn(t,n){const i=Math.pow(2,n.canonical.z),r=n.canonical.y;return[new e.MercatorCoordinate(0,r/i).toLngLat().lat,new e.MercatorCoordinate(0,(r+1)/i).toLngLat().lat]}function gn(t,n,i,r,o,a,s){const l=t.context,c=l.gl,u=i.fbo;if(!u)return;t.prepareDrawTile();const d=t.useProgram("hillshade");l.activeTexture.set(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,u.colorAttachment.get());const h=((e,t,n,i)=>{const r=n.paint.get("hillshade-shadow-color"),o=n.paint.get("hillshade-highlight-color"),a=n.paint.get("hillshade-accent-color");let s=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(s-=e.transform.angle);const l=!e.options.moving;return{u_matrix:i||e.transform.calculateProjMatrix(t.tileID.toUnwrapped(),l),u_image:0,u_latrange:mn(0,t.tileID),u_light:[n.paint.get("hillshade-exaggeration"),s],u_shadow:r,u_highlight:o,u_accent:a}})(t,i,r,t.terrain?n.projMatrix:null);t.prepareDrawProgram(l,d,n.toUnwrapped());const{tileBoundsBuffer:p,tileBoundsIndexBuffer:f,tileBoundsSegments:m}=t.getTileBoundsBuffers(i);d.draw(l,c.TRIANGLES,o,a,s,e.CullFaceMode.disabled,h,r.id,p,f,m)}function vn(t,n,i){if(!n.needsDEMTextureUpload)return;const r=t.context,o=r.gl;r.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||t.getTileTexture(i.stride);const a=i.getPixels();n.demTexture?n.demTexture.update(a,{premultiply:!1}):n.demTexture=new e.Texture(r,a,o.RGBA,{premultiply:!1}),n.needsDEMTextureUpload=!1}function yn(t,n,i,r,o,a){const s=t.context,l=s.gl;if(!n.dem)return;const c=n.dem;if(s.activeTexture.set(l.TEXTURE1),vn(t,n,c),!n.demTexture)return;n.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);const u=c.dim;s.activeTexture.set(l.TEXTURE0);let d=n.fbo;if(!d){const t=new e.Texture(s,{width:u,height:u,data:null},l.RGBA);t.bind(l.LINEAR,l.CLAMP_TO_EDGE),d=n.fbo=s.createFramebuffer(u,u,!0),d.colorAttachment.set(t.texture)}s.bindFramebuffer.set(d.framebuffer),s.viewport.set([0,0,u,u]);const{tileBoundsBuffer:h,tileBoundsIndexBuffer:p,tileBoundsSegments:f}=t.getMercatorTileBoundsBuffers();t.useProgram("hillshadePrepare").draw(s,l.TRIANGLES,r,o,a,e.CullFaceMode.disabled,((t,n)=>{const i=n.stride,r=e.create();return e.ortho(r,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(r,r,[0,-e.EXTENT,0]),{u_matrix:r,u_image:1,u_dimension:[i,i],u_zoom:t.overscaledZ,u_unpack:n.unpackVector}})(n.tileID,c),i.id,h,p,f),n.needsHillshadePrepare=!1}const xn=t=>({u_matrix:new e.UniformMatrix4f(t),u_image0:new e.Uniform1i(t),u_skirt_height:new e.Uniform1f(t)}),bn=(e,t)=>({u_matrix:e,u_image0:0,u_skirt_height:t}),_n=(e,t,n,i,r,o,a,s,l,c,u,d,h,p)=>({u_proj_matrix:Float32Array.from(e),u_globe_matrix:t,u_normalize_matrix:Float32Array.from(i),u_merc_matrix:n,u_zoom_transition:r,u_merc_center:o,u_image0:0,u_frustum_tl:a,u_frustum_tr:s,u_frustum_br:l,u_frustum_bl:c,u_globe_pos:u,u_globe_radius:d,u_viewport:h,u_grid_matrix:p?Float32Array.from(p):new Float32Array(9)});function wn(e,t){return null!=e&&null!=t&&!(!e.hasData()||!t.hasData())&&null!=e.demTexture&&null!=t.demTexture&&e.tileID.key!==t.tileID.key}const kn=new class{constructor(){this.operations={}}newMorphing(e,t,n,i,r){if(e in this.operations){const t=this.operations[e];t.to.tileID.key!==n.tileID.key&&(t.queued=n)}else this.operations[e]={startTime:i,phase:0,duration:r,from:t,to:n,queued:null}}getMorphValuesForProxy(e){if(!(e in this.operations))return null;const t=this.operations[e];return{from:t.from,to:t.to,phase:t.phase}}update(e){for(const t in this.operations){const n=this.operations[t];for(n.phase=(e-n.startTime)/n.duration;n.phase>=1||!this._validOp(n);)if(!this._nextOp(n,e)){delete this.operations[t];break}}}_nextOp(e,t){return!!e.queued&&(e.from=e.to,e.to=e.queued,e.queued=null,e.phase=0,e.startTime=t,!0)}_validOp(e){return e.from.hasData()&&e.to.hasData()}},Sn={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Cn(e,t){const n=1<<e.z;return!t&&(0===e.x||e.x===n-1)||0===e.y||e.y===n-1}const En=e=>({u_matrix:e});function Tn(t,n,i,r,o){if(o>0){const a=e.exported.now(),s=(a-t.timeAdded)/o,l=n?(a-n.timeAdded)/o:-1,c=i.getSource(),u=r.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),d=!n||Math.abs(n.tileID.overscaledZ-u)>Math.abs(t.tileID.overscaledZ-u),h=d&&t.refreshedUponExpiration?1:e.clamp(d?s:1-l,0,1);return t.refreshedUponExpiration&&s>=1&&(t.refreshedUponExpiration=!1),n?{opacity:1,mix:1-h}:{opacity:h,mix:0}}return{opacity:1,mix:0}}class Mn extends e.SourceCache{constructor(e){const t={type:"raster-dem",maxzoom:e.transform.maxZoom},n=new L(Ve(),null),i=Le("mock-dem",t,n,e.style);super("mock-dem",i,!1),i.setEventedParent(this),this._sourceLoaded=!0}_loadTile(e,t){e.state="loaded",t(null)}}class Pn extends e.SourceCache{constructor(e){const t=Le("proxy",{type:"geojson",maxzoom:e.transform.maxZoom},new L(Ve(),null),e.style);super("proxy",t,!1),t.setEventedParent(this),this.map=this.getSource().map=e,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(t,n,i){if(t.freezeTileCoverage)return;this.transform=t;const r=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce(((n,i)=>{if(n[i.key]="",!this._tiles[i.key]){const n=new e.Tile(i,this._source.tileSize*i.overscaleFactor(),t.tileZoom);n.state="loaded",this._tiles[i.key]=n}return n}),{});for(const e in this._tiles)e in r||(this.freeFBO(e),this._tiles[e].unloadVectorData(),delete this._tiles[e])}freeFBO(e){const t=this.proxyCachedFBO[e];if(void 0!==t){const n=Object.values(t);this.renderCachePool.push(...n),delete this.proxyCachedFBO[e]}}deallocRenderCache(){this.renderCache.forEach((e=>e.fb.destroy())),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class An extends e.OverscaledTileID{constructor(e,t,n){super(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y),this.proxyTileKey=t,this.projMatrix=n}}class In extends e.Elevation{constructor(t,n){super(),this.painter=t,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[i,r,o]=function(t){const n=new e.StructArrayLayout4i8,i=new e.StructArrayLayout3ui6,r=131;n.reserve(17161),i.reserve(33800);const o=e.EXTENT/128,a=e.EXTENT+o/2,s=a+o;for(let c=-o;c<s;c+=o)for(let t=-o;t<s;t+=o){const i=t<0||t>a||c<0||c>a?24575:0,r=e.clamp(Math.round(t),0,e.EXTENT),o=e.clamp(Math.round(c),0,e.EXTENT);n.emplaceBack(r+i,o,r,o)}const l=(e,t)=>{const n=t*r+e;i.emplaceBack(n+1,n,n+r),i.emplaceBack(n+r,n+r+1,n+1)};for(let e=1;e<129;e++)for(let t=1;t<129;t++)l(t,e);return[0,129].forEach((e=>{for(let t=0;t<130;t++)l(t,e),l(e,t)})),[n,i,32768]}(),a=t.context;this.gridBuffer=a.createVertexBuffer(i,e.boundsAttributes.members),this.gridIndexBuffer=a.createIndexBuffer(r),this.gridSegments=e.SegmentVector.simpleSegment(0,0,i.length,r.length),this.gridNoSkirtSegments=e.SegmentVector.simpleSegment(0,0,i.length,o),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new Pn(n.map),this.orthoMatrix=e.create(),e.ortho(this.orthoMatrix,"globe"===this.painter.transform.projection.name?.015:0,e.EXTENT,0,e.EXTENT,0,1);const s=a.gl;this._overlapStencilMode=new e.StencilMode({func:s.GEQUAL,mask:255},0,255,s.KEEP,s.KEEP,s.REPLACE),this._previousZoom=t.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=n,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Mn(n.map)}set style(e){e.on("data",this._onStyleDataEvent.bind(this)),e.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=e,this._checkRenderCacheEfficiency()}update(t,n,i){if(t&&t.terrain){this._style!==t&&(this.style=t),this.enabled=!0;const r=t.terrain.properties;this.sourceCache=0===t.terrain.drapeRenderMode?this._mockSourceCache:t._getSourceCache(r.get("source")),this._exaggeration=r.get("exaggeration");const o=()=>{this.sourceCache.used&&e.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const t=this.getScaledDemTileSize();this.sourceCache.update(n,t,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,o(),this._initializing=!0),o(),n.updateElevation(!0,i),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(n),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(e){this._findCoveringTileCache[e]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const t=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==t.efficiency&&e.warnOnce(`Terrain render cache efficiency is not optimal (${t.efficiency}%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '${t.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(e){e.coord&&"source"===e.dataType?this._clearRenderCacheForTile(e.sourceCacheId,e.coord):"style"===e.dataType&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const e in this._style._sourceCaches)this._style._sourceCaches[e].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach((e=>e.fb.destroy())),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const e=2*this.proxySourceCache.getSource().tileSize;return[e,e]}set useVertexMorphing(e){this._useVertexMorphing=e}updateTileBinding(t){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const n=this.proxySourceCache,i=this.painter.transform;this._initializing&&(this._initializing=0===i._centerAltitude&&-1===this.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(i.center),-1),this._emptyDEMTextureDirty=!this._initializing);const r=this.proxyCoords=n.getIds().map((e=>{const t=n.getTileByID(e).tileID;return t.projMatrix=i.calculateProjMatrix(t.toUnwrapped()),t}));!function(t,n){const i=n.transform.pointCoordinate(n.transform.getCameraPoint()),r=new e.pointGeometry(i.x,i.y);t.sort(((t,n)=>{if(n.overscaledZ-t.overscaledZ)return n.overscaledZ-t.overscaledZ;const i=new e.pointGeometry(t.canonical.x+(1<<t.canonical.z)*t.wrap,t.canonical.y),o=new e.pointGeometry(n.canonical.x+(1<<n.canonical.z)*n.wrap,n.canonical.y),a=r.mult(1<<t.canonical.z);return a.x-=.5,a.y-=.5,a.distSqr(i)-a.distSqr(o)}))}(r,this.painter),this._previousZoom=i.zoom;const o=this.proxyToSource||{};this.proxyToSource={},r.forEach((e=>{this.proxyToSource[e.key]={}})),this.terrainTileForTile={};const a=this._style._sourceCaches;for(const e in a){const n=a[e];if(!n.used)continue;if(n!==this.sourceCache&&this.resetTileLookupCache(n.id),this._setupProxiedCoordsForOrtho(n,t[e],o),n.usedForTerrain)continue;const i=t[e];n.getSource().reparseOverscaled&&this._assignTerrainTiles(i)}this.proxiedCoords[n.id]=r.map((e=>new An(e,e.key,this.orthoMatrix))),this._assignTerrainTiles(r),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(o),this.renderingToTexture=!1,this._updateTimestamp=e.exported.now();const s={};this._visibleDemTiles=[];for(const e of this.proxyCoords){const t=this.terrainTileForTile[e.key];if(!t)continue;const n=t.tileID.key;n in s||(this._visibleDemTiles.push(t),s[n]=n)}}_assignTerrainTiles(e){this._initializing||e.forEach((e=>{if(this.terrainTileForTile[e.key])return;const t=this._findTileCoveringTileID(e,this.sourceCache);t&&(this.terrainTileForTile[e.key]=t)}))}_prepareDEMTextures(){const e=this.painter.context,t=e.gl;for(const n in this.terrainTileForTile){const i=this.terrainTileForTile[n],r=i.dem;!r||i.demTexture&&!i.needsDEMTextureUpload||(e.activeTexture.set(t.TEXTURE1),vn(this.painter,i,r))}}_prepareDemTileUniforms(e,t,n,i){if(!t||null==t.demTexture)return!1;const r=e.tileID.canonical,o=Math.pow(2,t.tileID.canonical.z-r.z),a=i||"";return n[`u_dem_tl${a}`]=[r.x*o%1,r.y*o%1],n[`u_dem_scale${a}`]=o,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const t=this.painter.context,n=t.gl;if(!this._emptyDepthBufferTexture){const i=new e.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new e.Texture(t,i,n.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let e=0;const t=this._visibleDemTiles.reduce(((t,n)=>{if(!n.dem)return t;const i=n.dem.tree.minimums[0];return i>0&&e++,t+i}),0);return e?t/e:0}_updateEmptyDEMTexture(){const t=this.painter.context,n=t.gl;t.activeTexture.set(n.TEXTURE2);const i=this._getLoadedAreaMinimum(),r=new e.RGBAImage({width:1,height:1},new Uint8Array(e.DEMData.pack(i,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let o=this._emptyDEMTexture;return o?o.update(r,{premultiply:!1}):o=this._emptyDEMTexture=new e.Texture(t,r,n.RGBA,{premultiply:!1}),o}setupElevationDraw(t,n,i){const r=this.painter.context,o=r.gl,a=(s=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:e.DEMData.getUnpackVector(s),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var s;a.u_dem_size=this.sourceCache.getSource().tileSize,a.u_exaggeration=this.exaggeration();let l=null,c=null,u=1;if(i&&i.morphing&&this._useVertexMorphing){const e=i.morphing.srcDemTile,n=i.morphing.dstDemTile;u=i.morphing.phase,e&&n&&(this._prepareDemTileUniforms(t,e,a,"_prev")&&(c=e),this._prepareDemTileUniforms(t,n,a)&&(l=n))}if(c&&l?(r.activeTexture.set(o.TEXTURE2),l.demTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE,o.NEAREST),r.activeTexture.set(o.TEXTURE4),c.demTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE,o.NEAREST),a.u_dem_lerp=u):(l=this.terrainTileForTile[t.tileID.key],r.activeTexture.set(o.TEXTURE2),(this._prepareDemTileUniforms(t,l,a)?l.demTexture:this.emptyDEMTexture).bind(o.NEAREST,o.CLAMP_TO_EDGE)),r.activeTexture.set(o.TEXTURE3),i&&i.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE),this._depthFBO&&(a.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE),a.u_depth_size_inv=[1,1]),i&&i.useMeterToDem&&l){const t=(1<<l.tileID.canonical.z)*e.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;a.u_meter_to_dem=t}if(i&&i.labelPlaneMatrixInv&&(a.u_label_plane_matrix_inv=i.labelPlaneMatrixInv),n.setTerrainUniformValues(r,a),"globe"===this.painter.transform.projection.name){const e=this.globeUniformValues(this.painter.transform,t.tileID.canonical,i&&i.useDenormalizedUpVectorScale);n.setGlobeUniformValues(r,e)}}globeUniformValues(t,n,i){const r=t.projection;return{u_tile_tl_up:r.upVector(n,0,0),u_tile_tr_up:r.upVector(n,e.EXTENT,0),u_tile_br_up:r.upVector(n,e.EXTENT,e.EXTENT),u_tile_bl_up:r.upVector(n,0,e.EXTENT),u_tile_up_scale:i?e.GLOBE_METERS_TO_ECEF:r.upVectorScale(n,t.center.lat,t.worldSize).metersToTile}}renderToBackBuffer(t){const n=this.painter,i=this.painter.context;0!==t.length&&(i.bindFramebuffer.set(null),i.viewport.set([0,0,n.width,n.height]),n.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(t,n,i,r,o){if("globe"===t.transform.projection.name)!function(t,n,i,r,o){const a=t.context,s=a.gl;let l,c;const u=t.options.showTerrainWireframe?2:0,d=t.transform,h=e.globeUseCustomAntiAliasing(t,a,d),p=(e,n)=>{if(c===e)return;const i=[Sn[e],"PROJECTION_GLOBE_VIEW"];h&&i.push("CUSTOM_ANTIALIASING"),n&&i.push(Sn[u]),l=t.useProgram("globeRaster",null,i),c=e},f=t.colorModeForRenderPass(),m=new e.DepthMode(s.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);kn.update(o);const g=e.calculateGlobeMercatorMatrix(d),v=[e.mercatorXfromLng(d.center.lng),e.mercatorYfromLat(d.center.lat)],y=u?[!1,!0]:[!1],x=t.globeSharedBuffers,b=[d.width*e.exported.devicePixelRatio,d.height*e.exported.devicePixelRatio],_=Float32Array.from(d.globeMatrix),w={useDenormalizedUpVectorScale:!0};if(y.forEach((u=>{c=-1;const h=u?s.LINES:s.TRIANGLES;for(const c of r){const r=i.getTile(c),y=e.StencilMode.disabled,k=n.prevTerrainTileForTile[c.key],S=n.terrainTileForTile[c.key];wn(k,S)&&kn.newMorphing(c.key,k,S,o,250),a.activeTexture.set(s.TEXTURE0),r.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE);const C=kn.getMorphValuesForProxy(c.key),E=C?1:0;C&&e.extend$1(w,{morphing:{srcDemTile:C.from,dstDemTile:C.to,phase:e.easeCubicInOut(C.phase)}});const T=e.tileCornersToBounds(c.canonical),M=e.getLatitudinalLod(T.getCenter().lat),P=e.getGridMatrix(c.canonical,T,M,d.worldSize/d._pixelsPerMercatorPixel),A=e.globeNormalizeECEF(e.globeTileBounds(c.canonical)),I=_n(d.projMatrix,_,g,A,e.globeToMercatorTransition(d.zoom),v,d.frustumCorners.TL,d.frustumCorners.TR,d.frustumCorners.BR,d.frustumCorners.BL,d.globeCenterInViewSpace,d.globeRadius,b,P);if(p(E,u),n.setupElevationDraw(r,l,w),t.prepareDrawProgram(a,l,c.toUnwrapped()),x){const[n,i,r]=u?x.getWirefameBuffers(t.context,M):x.getGridBuffers(M);l.draw(a,h,m,y,f,e.CullFaceMode.backCCW,I,"globe_raster",n,i,r)}}})),x){const o=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];h&&o.push("CUSTOM_ANTIALIASING"),l=t.useProgram("globeRaster",null,o);for(const c of r){const{x:r,y:o,z:u}=c.canonical,h=0===o,p=o===(1<<u)-1,[g,y,_,k]=x.getPoleBuffers(u);if(k&&(h||p)){const o=i.getTile(c);a.activeTexture.set(s.TEXTURE0),o.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE);let x=e.globePoleMatrixForTile(u,r,d);const S=e.globeNormalizeECEF(e.globeTileBounds(c.canonical)),C=(t,n)=>t.draw(a,s.TRIANGLES,m,e.StencilMode.disabled,f,e.CullFaceMode.disabled,_n(d.projMatrix,x,x,S,0,v,d.frustumCorners.TL,d.frustumCorners.TR,d.frustumCorners.BR,d.frustumCorners.BL,d.globeCenterInViewSpace,d.globeRadius,b),"globe_pole_raster",n,_,k);n.setupElevationDraw(o,l,w),t.prepareDrawProgram(a,l,c.toUnwrapped()),h&&C(l,g),p&&(x=e.scale(e.create(),x,[1,-1,1]),C(l,y))}}}}(t,n,i,r,o);else{const a=t.context,s=a.gl;let l,c;const u=t.options.showTerrainWireframe?2:0,d=(e,n)=>{if(c===e)return;const i=[Sn[e]];n&&i.push(Sn[u]),l=t.useProgram("terrainRaster",null,i),c=e},h=t.colorModeForRenderPass(),p=new e.DepthMode(s.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);kn.update(o);const f=t.transform,m=6*Math.pow(1.5,22-f.zoom)*n.exaggeration();(u?[!1,!0]:[!1]).forEach((u=>{c=-1;const g=u?s.LINES:s.TRIANGLES,[v,y]=u?n.getWirefameBuffer():[n.gridIndexBuffer,n.gridSegments];for(const c of r){const r=i.getTile(c),x=e.StencilMode.disabled,b=n.prevTerrainTileForTile[c.key],_=n.terrainTileForTile[c.key];wn(b,_)&&kn.newMorphing(c.key,b,_,o,250),a.activeTexture.set(s.TEXTURE0),r.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST);const w=kn.getMorphValuesForProxy(c.key),k=w?1:0;let S;w&&(S={morphing:{srcDemTile:w.from,dstDemTile:w.to,phase:e.easeCubicInOut(w.phase)}});const C=bn(c.projMatrix,Cn(c.canonical,f.renderWorldCopies)?m/10:m);d(k,u),n.setupElevationDraw(r,l,S),t.prepareDrawProgram(a,l,c.toUnwrapped()),l.draw(a,g,p,x,h,e.CullFaceMode.backCCW,C,"terrain_raster",n.gridBuffer,v,y)}}))}}(n,this,this.proxySourceCache,t,this._updateTimestamp),this.renderingToTexture=!0,n.gpuTimingDeferredRenderEnd(),t.splice(0,t.length))}renderBatch(t){if(0===this._drapedRenderBatches.length)return t+1;this.renderingToTexture=!0;const n=this.painter,i=this.painter.context,r=this.proxySourceCache,o=this.proxiedCoords[r.id],a=this._drapedRenderBatches.shift(),s=[],l=n.style.order;let c=0;for(const u of o){const o=r.getTileByID(u.proxyTileKey),d=r.proxyCachedFBO[u.key]?r.proxyCachedFBO[u.key][t]:void 0,h=void 0!==d?r.renderCache[d]:this.pool[c++],p=void 0!==d;if(o.texture=h.tex,p&&!h.dirty){s.push(o.tileID);continue}let f;i.bindFramebuffer.set(h.fb.framebuffer),this.renderedToTile=!1,h.dirty&&(i.clear({color:e.Color.transparent,stencil:0}),h.dirty=!1);for(let e=a.start;e<=a.end;++e){const t=n.style._layers[l[e]];if(t.isHidden(n.transform.zoom))continue;const r=n.style._getLayerSourceCache(t),o=r?this.proxyToSource[u.key][r.id]:[u];if(!o)continue;const a=o;i.viewport.set([0,0,h.fb.width,h.fb.height]),f!==(r?r.id:null)&&(this._setupStencil(h,o,t,r),f=r?r.id:null),n.renderLayer(n,r,t,a)}this.renderedToTile?(h.dirty=!0,s.push(o.tileID)):p||--c,5===c&&(c=0,this.renderToBackBuffer(s))}return this.renderToBackBuffer(s),this.renderingToTexture=!1,i.bindFramebuffer.set(null),i.viewport.set([0,0,n.width,n.height]),a.end+1}postRender(){}renderCacheEfficiency(e){const t=e.order.length;if(0===t)return{efficiency:100};let n,i=0,r=0,o=!1;for(let a=0;a<t;++a){const t=e._layers[e.order[a]];this._style.isLayerDraped(t)?(o&&++i,++r):o||(o=!0,n=t.id)}return 0===r?{efficiency:100}:{efficiency:100*(1-i/r),firstUndrapedLayer:n}}getMinElevationBelowMSL(){let e=0;return this._visibleDemTiles.filter((e=>e.dem)).forEach((t=>{e=Math.min(e,t.dem.tree.minimums[0])})),0===e?e:(e-30)*this._exaggeration}raycast(e,t,n){if(!this._visibleDemTiles)return null;const i=this._visibleDemTiles.filter((e=>e.dem)).map((i=>{const r=i.tileID,o=1<<r.overscaledZ,{x:a,y:s}=r.canonical,l=a/o,c=(a+1)/o,u=s/o,d=(s+1)/o;return{minx:l,miny:u,maxx:c,maxy:d,t:i.dem.tree.raycastRoot(l,u,c,d,e,t,n),tile:i}}));i.sort(((e,t)=>(null!==e.t?e.t:Number.MAX_VALUE)-(null!==t.t?t.t:Number.MAX_VALUE)));for(const r of i){if(null==r.t)return null;const i=r.tile.dem.tree.raycast(r.minx,r.miny,r.maxx,r.maxy,e,t,n);if(null!=i)return i}return null}_createFBO(){const t=this.painter.context,n=t.gl,i=this.drapeBufferSize;t.activeTexture.set(n.TEXTURE0);const r=new e.Texture(t,{width:i[0],height:i[1],data:null},n.RGBA);r.bind(n.LINEAR,n.CLAMP_TO_EDGE);const o=t.createFramebuffer(i[0],i[1],!1);return o.colorAttachment.set(r.texture),o.depthAttachment=new Se(t,o.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=t.createRenderbuffer(t.gl.DEPTH_STENCIL,i[0],i[1]),this._stencilRef=0,o.depthAttachment.set(this._sharedDepthStencil),t.clear({stencil:0})):o.depthAttachment.set(this._sharedDepthStencil),t.extTextureFilterAnisotropic&&!t.extTextureFilterAnisotropicForceOff&&n.texParameterf(n.TEXTURE_2D,t.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,t.extTextureFilterAnisotropicMax),{fb:o,tex:r,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const e in this._style._sourceCaches)if(this._style._sourceCaches[e].hasTransition())return!0;return this._style.order.some((e=>{const t=this._style._layers[e],n=t.isHidden(this.painter.transform.zoom);return"custom"!==t.type&&!n&&t.hasTransition()}))}_clearRasterFadeFromRenderCache(){let e=!1;for(const t in this._style._sourceCaches)if(this._style._sourceCaches[t]._source instanceof Te){e=!0;break}if(e)for(let t=0;t<this._style.order.length;++t){const e=this._style._layers[this._style.order[t]],n=e.isHidden(this.painter.transform.zoom),i=this._style._getLayerSourceCache(e);if("raster"!==e.type||n||!i)continue;const r=e.paint.get("raster-fade-duration");for(const t of this.proxyCoords){const e=this.proxyToSource[t.key][i.id];if(e)for(const t of e){const e=Tn(i.getTile(t),i.findLoadedParent(t,0),i,this.painter.transform,r);(1!==e.opacity||0!==e.mix)&&this._clearRenderCacheForTile(i.id,t)}}}}_setupDrapedRenderBatches(){const e=this._style.order,t=e.length;if(0===t)return;const n=[];let i,r=0,o=this._style._layers[e[r]];for(;!this._style.isLayerDraped(o)&&o.isHidden(this.painter.transform.zoom)&&++r<t;)o=this._style._layers[e[r]];for(;r<t;++r){const t=this._style._layers[e[r]];t.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(t)?void 0===i&&(i=r):void 0!==i&&(n.push({start:i,end:r-1}),i=void 0))}void 0!==i&&n.push({start:i,end:r-1}),this._drapedRenderBatches=n}_setupRenderCache(e){const t=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,t.renderCache.length>t.renderCachePool.length){const e=Object.values(t.proxyCachedFBO);t.proxyCachedFBO={};for(let n=0;n<e.length;++n){const i=Object.values(e[n]);t.renderCachePool.push(...i)}}return}this._clearRasterFadeFromRenderCache();const n=this.proxyCoords,i=this._tilesDirty;for(let o=n.length-1;o>=0;o--){const r=n[o];if(t.getTileByID(r.key),void 0!==t.proxyCachedFBO[r.key]){const n=e[r.key],o=this.proxyToSource[r.key];let a=0;for(const e in o){const t=o[e],r=n[e];if(!r||r.length!==t.length||t.some(((t,n)=>t!==r[n]||i[e]&&i[e].hasOwnProperty(t.key)))){a=-1;break}++a}for(const e in t.proxyCachedFBO[r.key])t.renderCache[t.proxyCachedFBO[r.key][e]].dirty=a<0||a!==Object.values(n).length}}const r=[...this._drapedRenderBatches];r.sort(((e,t)=>t.end-t.start-(e.end-e.start)));for(const o of r)for(const e of n){if(t.proxyCachedFBO[e.key])continue;let n=t.renderCachePool.pop();void 0===n&&t.renderCache.length<50&&(n=t.renderCache.length,t.renderCache.push(this._createFBO())),void 0!==n&&(t.proxyCachedFBO[e.key]={},t.proxyCachedFBO[e.key][o.start]=n,t.renderCache[n].dirty=!0)}this._tilesDirty={}}_setupStencil(e,t,n,i){if(!i||!this._sourceTilesOverlap[i.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const r=this.painter.context,o=r.gl;if(t.length<=1)return void(this._overlapStencilType=!1);let a;if(n.isTileClipped())a=t.length,this._overlapStencilMode.test={func:o.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(t[0].overscaledZ>t[t.length-1].overscaledZ))return void(this._overlapStencilType=!1);a=1,this._overlapStencilMode.test={func:o.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+a>255&&(r.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=a,this._overlapStencilMode.ref=this._stencilRef,n.isTileClipped()&&this._renderTileClippingMasks(t,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return"Clip"===this._overlapStencilType||"Mask"===this._overlapStencilType}stencilModeForRTTOverlap(t){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[t.key]),this._overlapStencilMode):e.StencilMode.disabled}_renderTileClippingMasks(t,n){const i=this.painter,r=this.painter.context,o=r.gl;i._tileClippingMaskIDs={},r.setColorMode(e.ColorMode.disabled),r.setDepthMode(e.DepthMode.disabled);const a=i.useProgram("clippingMask");for(const s of t){const t=i._tileClippingMaskIDs[s.key]=--n;a.draw(r,o.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:o.ALWAYS,mask:0},t,255,o.KEEP,o.KEEP,o.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,En(s.projMatrix),"$clipping",i.tileExtentBuffer,i.quadTriangleIndexBuffer,i.tileExtentSegments)}}pointCoordinate(t){const n=this.painter.transform;if(t.x<0||t.x>n.width||t.y<0||t.y>n.height)return null;const i=[t.x,t.y,1,1];e.transformMat4$1(i,i,n.pixelMatrixInverse),e.scale$1(i,i,1/i[3]),i[0]/=n.worldSize,i[1]/=n.worldSize;const r=n._camera.position,o=e.mercatorZfromAltitude(1,n.center.lat),a=[r[0],r[1],r[2]/o,0],s=e.subtract([],i.slice(0,3),a);e.normalize(s,s);const l=this.raycast(a,s,this._exaggeration);return null!==l&&l?(e.scaleAndAdd(a,a,s,l),a[3]=a[2],a[2]*=o,a):null}drawDepth(){const t=this.painter,n=t.context,i=this.proxySourceCache,r=Math.ceil(t.width),o=Math.ceil(t.height);if(!this._depthFBO||this._depthFBO.width===r&&this._depthFBO.height===o||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const t=n.gl,i=n.createFramebuffer(r,o,!0);n.activeTexture.set(t.TEXTURE0);const a=new e.Texture(n,{width:r,height:o,data:null},t.RGBA);a.bind(t.NEAREST,t.CLAMP_TO_EDGE),i.colorAttachment.set(a.texture);const s=n.createRenderbuffer(n.gl.DEPTH_COMPONENT16,r,o);i.depthAttachment.set(s),this._depthFBO=i,this._depthTexture=a}n.bindFramebuffer.set(this._depthFBO.framebuffer),n.viewport.set([0,0,r,o]),function(t,n,i,r){if("globe"===t.transform.projection.name)return;const o=t.context,a=o.gl;o.clear({depth:1});const s=t.useProgram("terrainDepth"),l=new e.DepthMode(a.LESS,e.DepthMode.ReadWrite,t.depthRangeFor3D);for(const c of r){const t=i.getTile(c),r=bn(c.projMatrix,0);n.setupElevationDraw(t,s),s.draw(o,a.TRIANGLES,l,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.backCCW,r,"terrain_depth",n.gridBuffer,n.gridIndexBuffer,n.gridNoSkirtSegments)}}(t,this,i,this.proxyCoords)}_setupProxiedCoordsForOrtho(e,t,n){if(e.getSource()instanceof Ae)return this._setupProxiedCoordsForImageSource(e,t,n);this._findCoveringTileCache[e.id]=this._findCoveringTileCache[e.id]||{};const i=this.proxiedCoords[e.id]=[],r=this.proxyCoords;for(let a=0;a<r.length;a++){const t=r[a],o=this._findTileCoveringTileID(t,e);if(o){const r=this._createProxiedId(t,o,n[t.key]&&n[t.key][e.id]);i.push(r),this.proxyToSource[t.key][e.id]=[r]}}let o=!1;for(let a=0;a<t.length;a++){const r=e.getTile(t[a]);if(!r||!r.hasData())continue;const s=this._findTileCoveringTileID(r.tileID,this.proxySourceCache);if(s&&s.tileID.canonical.z!==r.tileID.canonical.z){const t=this.proxyToSource[s.tileID.key][e.id],a=this._createProxiedId(s.tileID,r,n[s.tileID.key]&&n[s.tileID.key][e.id]);t?t.splice(t.length-1,0,a):this.proxyToSource[s.tileID.key][e.id]=[a],i.push(a),o=!0}}this._sourceTilesOverlap[e.id]=o}_setupProxiedCoordsForImageSource(t,n,i){if(!t.getSource().loaded())return;const r=this.proxiedCoords[t.id]=[],o=this.proxyCoords,a=t.getSource(),s=new e.pointGeometry(a.tileID.x,a.tileID.y)._div(1<<a.tileID.z),l=a.coordinates.map(e.MercatorCoordinate.fromLngLat).reduce(((e,t)=>(e.min.x=Math.min(e.min.x,t.x-s.x),e.min.y=Math.min(e.min.y,t.y-s.y),e.max.x=Math.max(e.max.x,t.x-s.x),e.max.y=Math.max(e.max.y,t.y-s.y),e)),{min:new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new e.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),c=(t,n)=>{const i=t.wrap+t.canonical.x/(1<<t.canonical.z),r=t.canonical.y/(1<<t.canonical.z),o=e.EXTENT/(1<<t.canonical.z),a=n.wrap+n.canonical.x/(1<<n.canonical.z),s=n.canonical.y/(1<<n.canonical.z);return i+o<a+l.min.x||i>a+l.max.x||r+o<s+l.min.y||r>s+l.max.y};for(let e=0;e<o.length;e++){const a=o[e];for(let e=0;e<n.length;e++){const o=t.getTile(n[e]);if(!o||!o.hasData())continue;if(c(a,o.tileID))continue;const s=this._createProxiedId(a,o,i[a.key]&&i[a.key][t.id]),l=this.proxyToSource[a.key][t.id];l?l.push(s):this.proxyToSource[a.key][t.id]=[s],r.push(s)}}}_createProxiedId(t,n,i){let r=this.orthoMatrix;if(i){const e=i.find((e=>e.key===n.tileID.key));if(e)return e}if(n.tileID.key!==t.key){const i=t.canonical.z-n.tileID.canonical.z;let o,a,s;r=e.create();const l=n.tileID.wrap-t.wrap<<t.overscaledZ;i>0?(o=e.EXTENT>>i,a=o*((n.tileID.canonical.x<<i)-t.canonical.x+l),s=o*((n.tileID.canonical.y<<i)-t.canonical.y)):(o=e.EXTENT<<-i,a=e.EXTENT*(n.tileID.canonical.x-(t.canonical.x+l<<-i)),s=e.EXTENT*(n.tileID.canonical.y-(t.canonical.y<<-i))),e.ortho(r,0,o,0,o,0,1),e.translate(r,r,[a,s,0])}return new An(n.tileID,t.key,r)}_findTileCoveringTileID(t,n){let i=n.getTile(t);if(i&&i.hasData())return i;const r=this._findCoveringTileCache[n.id],o=r[t.key];if(i=o?n.getTileByID(o):null,i&&i.hasData()||null===o)return i;let a=i?i.tileID:t,s=a.overscaledZ;const l=n.getSource().minzoom,c=[];if(!o){const r=n.getSource().maxzoom;if(t.canonical.z>=r){const i=t.canonical.z-r;n.getSource().reparseOverscaled?(s=Math.max(t.canonical.z+2,n.transform.tileZoom),a=new e.OverscaledTileID(s,t.wrap,r,t.canonical.x>>i,t.canonical.y>>i)):0!==i&&(s=r,a=new e.OverscaledTileID(s,t.wrap,r,t.canonical.x>>i,t.canonical.y>>i))}a.key!==t.key&&(c.push(a.key),i=n.getTile(a))}const u=e=>{c.forEach((t=>{r[t]=e})),c.length=0};for(s-=1;s>=l&&(!i||!i.hasData());s--){i&&u(i.tileID.key);const e=a.calculateScaledKey(s);if(i=n.getTileByID(e),i&&i.hasData())break;const t=r[e];if(null===t)break;void 0===t?c.push(e):i=n.getTileByID(t)}return u(i?i.tileID.key:null),i&&i.hasData()?i:null}findDEMTileFor(e){return this.enabled?this._findTileCoveringTileID(e,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(e,t){let n=this._tilesDirty[e];n||(n=this._tilesDirty[e]={}),n[t.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const t=function(t){let n=0;const i=new e.StructArrayLayout2ui4,r=131;for(let e=1;e<129;e++){for(let t=1;t<129;t++)n=e*r+t,i.emplaceBack(n,n+1),i.emplaceBack(n,n+r),i.emplaceBack(n+1,n+r),128===e&&i.emplaceBack(n+r,n+r+1);i.emplaceBack(n+1,n+1+r)}return i}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(t),this.wireframeSegments=e.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,t.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class Ln{static cacheKey(e,t,n,i){let r=`${t}${i?i.cacheKey:""}`;for(const o of n)e.usedDefines.includes(o)&&(r+=`/${o}`);return r}constructor(t,n,i,r,o,a){const s=t.gl;this.program=s.createProgram();const l=function(e){const t=[];for(let n=0;n<e.length;n++){if(null===e[n])continue;const i=e[n].split(" ");t.push(i.pop())}return t}(i.staticAttributes),c=r?r.getBinderAttributes():[],u=l.concat(c);let d=r?r.defines():[];d=d.concat(a.map((e=>`#define ${e}`)));const h=d.concat(t.extStandardDerivatives?"#extension GL_OES_standard_derivatives : enable\n".concat(un):un,un,cn,ln.fragmentSource,an.fragmentSource,i.fragmentSource).join("\n"),p=d.concat("\n#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",cn,ln.vertexSource,an.vertexSource,on.vertexSource,i.vertexSource).join("\n"),f=s.createShader(s.FRAGMENT_SHADER);if(s.isContextLost())return void(this.failedToCreate=!0);s.shaderSource(f,h),s.compileShader(f),s.attachShader(this.program,f);const m=s.createShader(s.VERTEX_SHADER);if(s.isContextLost())this.failedToCreate=!0;else{s.shaderSource(m,p),s.compileShader(m),s.attachShader(this.program,m),this.attributes={},this.numAttributes=u.length;for(let e=0;e<this.numAttributes;e++)u[e]&&(s.bindAttribLocation(this.program,e,u[e]),this.attributes[u[e]]=e);s.linkProgram(this.program),s.deleteShader(m),s.deleteShader(f),this.fixedUniforms=o(t),this.binderUniforms=r?r.getUniforms(t):[],a.includes("TERRAIN")&&(this.terrainUniforms=(t=>({u_dem:new e.Uniform1i(t),u_dem_prev:new e.Uniform1i(t),u_dem_unpack:new e.Uniform4f(t),u_dem_tl:new e.Uniform2f(t),u_dem_scale:new e.Uniform1f(t),u_dem_tl_prev:new e.Uniform2f(t),u_dem_scale_prev:new e.Uniform1f(t),u_dem_size:new e.Uniform1f(t),u_dem_lerp:new e.Uniform1f(t),u_exaggeration:new e.Uniform1f(t),u_depth:new e.Uniform1i(t),u_depth_size_inv:new e.Uniform2f(t),u_meter_to_dem:new e.Uniform1f(t),u_label_plane_matrix_inv:new e.UniformMatrix4f(t)}))(t)),a.includes("GLOBE")&&(this.globeUniforms=(t=>({u_tile_tl_up:new e.Uniform3f(t),u_tile_tr_up:new e.Uniform3f(t),u_tile_br_up:new e.Uniform3f(t),u_tile_bl_up:new e.Uniform3f(t),u_tile_up_scale:new e.Uniform1f(t)}))(t)),a.includes("FOG")&&(this.fogUniforms=(t=>({u_fog_matrix:new e.UniformMatrix4f(t),u_fog_range:new e.Uniform2f(t),u_fog_color:new e.Uniform4f(t),u_fog_horizon_blend:new e.Uniform1f(t),u_fog_temporal_offset:new e.Uniform1f(t),u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_globe_pos:new e.Uniform3f(t),u_globe_radius:new e.Uniform1f(t),u_globe_transition:new e.Uniform1f(t),u_is_globe:new e.Uniform1i(t),u_viewport:new e.Uniform2f(t)}))(t))}}setTerrainUniformValues(e,t){if(!this.terrainUniforms)return;const n=this.terrainUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)n[e]&&n[e].set(this.program,e,t[e])}}setGlobeUniformValues(e,t){if(!this.globeUniforms)return;const n=this.globeUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)n[e]&&n[e].set(this.program,e,t[e])}}setFogUniformValues(e,t){if(!this.fogUniforms)return;const n=this.fogUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)n[e].set(this.program,e,t[e])}}draw(e,t,n,i,r,o,a,s,l,c,u,d,h,p,f){const m=e.gl;if(this.failedToCreate)return;e.program.set(this.program),e.setDepthMode(n),e.setStencilMode(i),e.setColorMode(r),e.setCullFace(o);for(const v of Object.keys(this.fixedUniforms))this.fixedUniforms[v].set(this.program,v,a[v]);p&&p.setUniforms(this.program,e,this.binderUniforms,d,{zoom:h});const g={[m.LINES]:2,[m.TRIANGLES]:3,[m.LINE_STRIP]:1}[t];for(const v of u.get()){const n=v.vaos||(v.vaos={});(n[s]||(n[s]=new fn)).bind(e,this,l,p?p.getPaintVertexBuffers():[],c,v.vertexOffset,f||[]),m.drawElements(t,v.primitiveLength*g,m.UNSIGNED_SHORT,v.primitiveOffset*g*2)}}}function Dn(e,t){const n=Math.pow(2,t.tileID.overscaledZ),i=t.tileSize*Math.pow(2,e.transform.tileZoom)/n,r=i*(t.tileID.canonical.x+t.tileID.wrap*n),o=i*t.tileID.canonical.y;return{u_image:0,u_texsize:t.imageAtlasTexture.size,u_tile_units_to_pixels:1/D(t,1,e.transform.tileZoom),u_pixel_coord_upper:[r>>16,o>>16],u_pixel_coord_lower:[65535&r,65535&o]}}const On=e.create(),Rn=(t,n,i,r,o,a,s,l,c,u,d)=>{const h=n.style.light,p=h.properties.get("position"),f=[p.x,p.y,p.z],m=e.create$1();"viewport"===h.properties.get("anchor")&&(e.fromRotation(m,-n.transform.angle),e.transformMat3(f,f,m));const g=h.properties.get("color"),v=n.transform,y={u_matrix:t,u_lightpos:f,u_lightintensity:h.properties.get("intensity"),u_lightcolor:[g.r,g.g,g.b],u_vertical_gradient:+i,u_opacity:r,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:On,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:o,u_edge_radius:a};return"globe"===v.projection.name&&(y.u_tile_id=[s.canonical.x,s.canonical.y,1<<s.canonical.z],y.u_zoom_transition=c,y.u_inv_rot_matrix=d,y.u_merc_center=u,y.u_up_dir=v.projection.upVector(new e.CanonicalTileID(0,0,0),u[0]*e.EXTENT,u[1]*e.EXTENT),y.u_height_lift=l),y},zn=(t,n,i,r,o,a,s,l,c,u,d,h)=>{const p=Rn(t,n,i,r,o,a,s,c,u,d,h),f={u_height_factor:-Math.pow(2,s.overscaledZ)/l.tileSize/8};return e.extend(p,Dn(n,l),f)},Fn=e=>({u_matrix:e}),Bn=(t,n,i)=>e.extend(Fn(t),Dn(n,i)),Nn=(e,t)=>({u_matrix:e,u_world:t}),jn=(t,n,i,r)=>e.extend(Bn(t,n,i),{u_world:r}),Vn=e.create(),Wn=(t,n,i,r,o,a)=>{const s=t.transform,l="globe"===s.projection.name;let c;if("map"===a.paint.get("circle-pitch-alignment"))if(l){const t=e.globePixelsToTileUnits(s.zoom,n.canonical)*s._pixelsPerMercatorPixel;c=Float32Array.from([t,0,0,t])}else c=s.calculatePixelsToTileUnitsMatrix(i);else c=new Float32Array([s.pixelsToGLUnits[0],0,0,s.pixelsToGLUnits[1]]);const u={u_camera_to_center_distance:s.cameraToCenterDistance,u_matrix:t.translatePosMatrix(n.projMatrix,i,a.paint.get("circle-translate"),a.paint.get("circle-translate-anchor")),u_device_pixel_ratio:e.exported.devicePixelRatio,u_extrude_scale:c,u_inv_rot_matrix:Vn,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(l){u.u_inv_rot_matrix=r,u.u_merc_center=o,u.u_tile_id=[n.canonical.x,n.canonical.y,1<<n.canonical.z],u.u_zoom_transition=e.globeToMercatorTransition(s.zoom);const t=o[0]*e.EXTENT,i=o[1]*e.EXTENT;u.u_up_dir=s.projection.upVector(new e.CanonicalTileID(0,0,0),t,i)}return u},Un=e=>{const t=[];return"map"===e.paint.get("circle-pitch-alignment")&&t.push("PITCH_WITH_MAP"),"map"===e.paint.get("circle-pitch-scale")&&t.push("SCALE_WITH_MAP"),t},Hn=(t,n,i,r)=>{const o=e.EXTENT/i.tileSize;return{u_matrix:t,u_camera_to_center_distance:n.getCameraToCenterDistance(r),u_extrude_scale:[n.pixelsToGLUnits[0]/o,n.pixelsToGLUnits[1]/o]}},Xn=(e,t,n=1)=>({u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:n}),Gn=e.create(),Yn=(t,n,i,r,o,a,s)=>{const l=t.transform,c="globe"===l.projection.name,u=c?e.globePixelsToTileUnits(l.zoom,n.canonical)*l._pixelsPerMercatorPixel:D(i,1,a),d={u_matrix:n.projMatrix,u_extrude_scale:u,u_intensity:s,u_inv_rot_matrix:Gn,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(c){d.u_inv_rot_matrix=r,d.u_merc_center=o,d.u_tile_id=[n.canonical.x,n.canonical.y,1<<n.canonical.z],d.u_zoom_transition=e.globeToMercatorTransition(l.zoom);const t=o[0]*e.EXTENT,i=o[1]*e.EXTENT;d.u_up_dir=l.projection.upVector(new e.CanonicalTileID(0,0,0),t,i)}return d},qn=(e,t,n,i,r,o,a)=>{const s=e.transform,l=s.calculatePixelsToTileUnitsMatrix(t);return{u_matrix:Zn(e,t,n,i),u_pixels_to_tile_units:l,u_device_pixel_ratio:o,u_units_to_pixels:[1/s.pixelsToGLUnits[0],1/s.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:r,u_texsize:Jn(n)?t.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:$n(t,e.transform),u_alpha_discard_threshold:0,u_trim_offset:a}},Kn=(e,t,n,i,r)=>{const o=e.transform;return{u_matrix:Zn(e,t,n,i),u_texsize:t.imageAtlasTexture.size,u_pixels_to_tile_units:o.calculatePixelsToTileUnitsMatrix(t),u_device_pixel_ratio:r,u_image:0,u_tile_units_to_pixels:$n(t,o),u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function $n(e,t){return 1/D(e,1,t.tileZoom)}function Zn(e,t,n,i){return e.translatePosMatrix(i||t.tileID.projMatrix,t,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}function Jn(e){const t=e.paint.get("line-dasharray").value;return t.value||"constant"!==t.kind}const Qn=(e,t,n,i,r,o)=>{return{u_matrix:e,u_tl_parent:t,u_scale_parent:n,u_fade_t:i.mix,u_opacity:i.opacity*r.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:r.paint.get("raster-brightness-min"),u_brightness_high:r.paint.get("raster-brightness-max"),u_saturation_factor:(s=r.paint.get("raster-saturation"),s>0?1-1/(1.001-s):-s),u_contrast_factor:(a=r.paint.get("raster-contrast"),a>0?1/(1-a):1+a),u_spin_weights:ei(r.paint.get("raster-hue-rotate")),u_perspective_transform:o};var a,s};function ei(e){e*=Math.PI/180;const t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}const ti=e.create(),ni=(t,n,i,r,o,a,s,l,c,u,d,h,p,f,m,g)=>{const v=o.transform,y={u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:n?n.uSizeT:0,u_size:n?n.uSize:0,u_camera_to_center_distance:v.cameraToCenterDistance,u_rotate_symbol:+i,u_aspect_ratio:v.width/v.height,u_fade_change:o.options.fadeDuration?o.symbolFadeChange:1,u_matrix:a,u_label_plane_matrix:s,u_coord_matrix:l,u_is_text:+c,u_pitch_with_map:+r,u_texsize:u,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:ti,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:ti,u_up_vector:[0,-1,0]};return"globe"===g.name&&(y.u_tile_id=[d.canonical.x,d.canonical.y,1<<d.canonical.z],y.u_zoom_transition=h,y.u_inv_rot_matrix=f,y.u_merc_center=p,y.u_camera_forward=v._camera.forward(),y.u_ecef_origin=e.globeECEFOrigin(v.globeMatrix,d.toUnwrapped()),y.u_tile_matrix=Float32Array.from(v.globeMatrix),y.u_up_vector=m),y},ii=(t,n,i,r,o,a,s,l,c,u,d,h,p,f,m,g,v)=>e.extend(ni(t,n,i,r,o,a,s,l,c,u,h,p,f,m,g,v),{u_gamma_scale:r?o.transform.cameraToCenterDistance*Math.cos(o.terrain?0:o.transform._pitch):1,u_device_pixel_ratio:e.exported.devicePixelRatio,u_is_halo:+d}),ri=(t,n,i,r,o,a,s,l,c,u,d,h,p,f,m,g)=>e.extend(ii(t,n,i,r,o,a,s,l,!0,c,!0,d,h,p,f,m,g),{u_texsize_icon:u,u_texture_icon:1}),oi=(e,t,n)=>({u_matrix:e,u_opacity:t,u_color:n}),ai=(t,n,i,r,o)=>e.extend(function(e,t,n){const i=t.imageManager.getPattern(e.toString()),{width:r,height:o}=t.imageManager.getPixelSize(),a=Math.pow(2,n.tileID.overscaledZ),s=n.tileSize*Math.pow(2,t.transform.tileZoom)/a,l=s*(n.tileID.canonical.x+n.tileID.wrap*a),c=s*n.tileID.canonical.y;return{u_image:0,u_pattern_tl:i.tl,u_pattern_br:i.br,u_texsize:[r,o],u_pattern_size:i.displaySize,u_tile_units_to_pixels:1/D(n,1,t.transform.tileZoom),u_pixel_coord_upper:[l>>16,c>>16],u_pixel_coord_lower:[65535&l,65535&c]}}(r,i,o),{u_matrix:t,u_opacity:n}),si={fillExtrusion:t=>({u_matrix:new e.UniformMatrix4f(t),u_lightpos:new e.Uniform3f(t),u_lightintensity:new e.Uniform1f(t),u_lightcolor:new e.Uniform3f(t),u_vertical_gradient:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_edge_radius:new e.Uniform1f(t),u_ao:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_up_dir:new e.Uniform3f(t),u_height_lift:new e.Uniform1f(t)}),fillExtrusionPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_lightpos:new e.Uniform3f(t),u_lightintensity:new e.Uniform1f(t),u_lightcolor:new e.Uniform3f(t),u_vertical_gradient:new e.Uniform1f(t),u_height_factor:new e.Uniform1f(t),u_edge_radius:new e.Uniform1f(t),u_ao:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_up_dir:new e.Uniform3f(t),u_height_lift:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t)}),fill:t=>({u_matrix:new e.UniformMatrix4f(t)}),fillPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t)}),fillOutline:t=>({u_matrix:new e.UniformMatrix4f(t),u_world:new e.Uniform2f(t)}),fillOutlinePattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_world:new e.Uniform2f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t)}),circle:t=>({u_camera_to_center_distance:new e.Uniform1f(t),u_extrude_scale:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_up_dir:new e.Uniform3f(t)}),collisionBox:t=>({u_matrix:new e.UniformMatrix4f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_extrude_scale:new e.Uniform2f(t)}),collisionCircle:t=>({u_matrix:new e.UniformMatrix4f(t),u_inv_matrix:new e.UniformMatrix4f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_viewport_size:new e.Uniform2f(t)}),debug:t=>({u_color:new e.UniformColor(t),u_matrix:new e.UniformMatrix4f(t),u_overlay:new e.Uniform1i(t),u_overlay_scale:new e.Uniform1f(t)}),clippingMask:t=>({u_matrix:new e.UniformMatrix4f(t)}),heatmap:t=>({u_extrude_scale:new e.Uniform1f(t),u_intensity:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_up_dir:new e.Uniform3f(t)}),heatmapTexture:t=>({u_image:new e.Uniform1i(t),u_color_ramp:new e.Uniform1i(t),u_opacity:new e.Uniform1f(t)}),hillshade:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_latrange:new e.Uniform2f(t),u_light:new e.Uniform2f(t),u_shadow:new e.UniformColor(t),u_highlight:new e.UniformColor(t),u_accent:new e.UniformColor(t)}),hillshadePrepare:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_dimension:new e.Uniform2f(t),u_zoom:new e.Uniform1f(t),u_unpack:new e.Uniform4f(t)}),line:t=>({u_matrix:new e.UniformMatrix4f(t),u_pixels_to_tile_units:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_units_to_pixels:new e.Uniform2f(t),u_dash_image:new e.Uniform1i(t),u_gradient_image:new e.Uniform1i(t),u_image_height:new e.Uniform1f(t),u_texsize:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t),u_alpha_discard_threshold:new e.Uniform1f(t),u_trim_offset:new e.Uniform2f(t)}),linePattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_texsize:new e.Uniform2f(t),u_pixels_to_tile_units:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_units_to_pixels:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t),u_alpha_discard_threshold:new e.Uniform1f(t)}),raster:t=>({u_matrix:new e.UniformMatrix4f(t),u_tl_parent:new e.Uniform2f(t),u_scale_parent:new e.Uniform1f(t),u_fade_t:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_image0:new e.Uniform1i(t),u_image1:new e.Uniform1i(t),u_brightness_low:new e.Uniform1f(t),u_brightness_high:new e.Uniform1f(t),u_saturation_factor:new e.Uniform1f(t),u_contrast_factor:new e.Uniform1f(t),u_spin_weights:new e.Uniform3f(t),u_perspective_transform:new e.Uniform2f(t)}),symbolIcon:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_camera_forward:new e.Uniform3f(t),u_tile_matrix:new e.UniformMatrix4f(t),u_up_vector:new e.Uniform3f(t),u_ecef_origin:new e.Uniform3f(t),u_texture:new e.Uniform1i(t)}),symbolSDF:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_texture:new e.Uniform1i(t),u_gamma_scale:new e.Uniform1f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_camera_forward:new e.Uniform3f(t),u_tile_matrix:new e.UniformMatrix4f(t),u_up_vector:new e.Uniform3f(t),u_ecef_origin:new e.Uniform3f(t),u_is_halo:new e.Uniform1i(t)}),symbolTextAndIcon:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_texsize_icon:new e.Uniform2f(t),u_texture:new e.Uniform1i(t),u_texture_icon:new e.Uniform1i(t),u_gamma_scale:new e.Uniform1f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_is_halo:new e.Uniform1i(t)}),background:t=>({u_matrix:new e.UniformMatrix4f(t),u_opacity:new e.Uniform1f(t),u_color:new e.UniformColor(t)}),backgroundPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_opacity:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_pattern_tl:new e.Uniform2f(t),u_pattern_br:new e.Uniform2f(t),u_texsize:new e.Uniform2f(t),u_pattern_size:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t)}),terrainRaster:xn,terrainDepth:xn,skybox:t=>({u_matrix:new e.UniformMatrix4f(t),u_sun_direction:new e.Uniform3f(t),u_cubemap:new e.Uniform1i(t),u_opacity:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t)}),skyboxGradient:t=>({u_matrix:new e.UniformMatrix4f(t),u_color_ramp:new e.Uniform1i(t),u_center_direction:new e.Uniform3f(t),u_radius:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t)}),skyboxCapture:t=>({u_matrix_3f:new e.UniformMatrix3f(t),u_sun_direction:new e.Uniform3f(t),u_sun_intensity:new e.Uniform1f(t),u_color_tint_r:new e.Uniform4f(t),u_color_tint_m:new e.Uniform4f(t),u_luminance:new e.Uniform1f(t)}),globeRaster:t=>({u_proj_matrix:new e.UniformMatrix4f(t),u_globe_matrix:new e.UniformMatrix4f(t),u_normalize_matrix:new e.UniformMatrix4f(t),u_merc_matrix:new e.UniformMatrix4f(t),u_zoom_transition:new e.Uniform1f(t),u_merc_center:new e.Uniform2f(t),u_image0:new e.Uniform1i(t),u_grid_matrix:new e.UniformMatrix3f(t),u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_globe_pos:new e.Uniform3f(t),u_globe_radius:new e.Uniform1f(t),u_viewport:new e.Uniform2f(t)}),globeAtmosphere:t=>({u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_horizon:new e.Uniform1f(t),u_transition:new e.Uniform1f(t),u_fadeout_range:new e.Uniform1f(t),u_color:new e.Uniform4f(t),u_high_color:new e.Uniform4f(t),u_space_color:new e.Uniform4f(t),u_star_intensity:new e.Uniform1f(t),u_star_density:new e.Uniform1f(t),u_star_size:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t),u_horizon_angle:new e.Uniform1f(t),u_rotation_matrix:new e.UniformMatrix4f(t)})};let li;function ci(t,n,i,r,o,a,s){const l=t.context,c=l.gl,u=t.transform,d=t.useProgram("collisionBox"),h=[];let p=0,f=0;for(let _=0;_<r.length;_++){const m=r[_],g=n.getTile(m),v=g.getBucket(i);if(!v)continue;const y=xt(m,v,u);let x=y;0===o[0]&&0===o[1]||(x=t.translatePosMatrix(y,g,o,a));const b=s?v.textCollisionBox:v.iconCollisionBox,w=v.collisionCircleArray;if(w.length>0){const t=e.create(),n=x;e.mul(t,v.placementInvProjMatrix,u.glCoordMatrix),e.mul(t,t,v.placementViewportMatrix),h.push({circleArray:w,circleOffset:f,transform:n,invTransform:t,projection:v.getProjection()}),p+=w.length/4,f=p}b&&(t.terrain&&t.terrain.setupElevationDraw(g,d),d.draw(l,c.LINES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,Hn(x,u,g,v.getProjection()),i.id,b.layoutVertexBuffer,b.indexBuffer,b.segments,null,u.zoom,null,[b.collisionVertexBuffer,b.collisionVertexBufferExt]))}if(!s||!h.length)return;const m=t.useProgram("collisionCircle"),g=new e.StructArrayLayout2f1f2i16;g.resize(4*p),g._trim();let v=0;for(const e of h)for(let t=0;t<e.circleArray.length/4;t++){const n=4*t,i=e.circleArray[n+0],r=e.circleArray[n+1],o=e.circleArray[n+2],a=e.circleArray[n+3];g.emplace(v++,i,r,o,a,0),g.emplace(v++,i,r,o,a,1),g.emplace(v++,i,r,o,a,2),g.emplace(v++,i,r,o,a,3)}(!li||li.length<2*p)&&(li=function(t){const n=2*t,i=new e.StructArrayLayout3ui6;i.resize(n),i._trim();for(let e=0;e<n;e++){const t=6*e;i.uint16[t+0]=4*e+0,i.uint16[t+1]=4*e+1,i.uint16[t+2]=4*e+2,i.uint16[t+3]=4*e+2,i.uint16[t+4]=4*e+3,i.uint16[t+5]=4*e+0}return i}(p));const y=l.createIndexBuffer(li,!0),x=l.createVertexBuffer(g,e.collisionCircleLayout.members,!0);for(const _ of h){const n={u_matrix:_.transform,u_inv_matrix:_.invTransform,u_camera_to_center_distance:(b=u).getCameraToCenterDistance(_.projection),u_viewport_size:[b.width,b.height]};m.draw(l,c.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,n,i.id,x,y,e.SegmentVector.simpleSegment(0,2*_.circleOffset,_.circleArray.length,_.circleArray.length/2),null,u.zoom)}var b;x.destroy(),y.destroy()}const ui=e.create();function di({width:t,height:n,anchor:i,textOffset:r,textScale:o},a){const{horizontalAlign:s,verticalAlign:l}=e.getAnchorAlignment(i),c=-(s-.5)*t,u=-(l-.5)*n,d=e.evaluateVariableOffset(i,r);return new e.pointGeometry((c/o+d[0])*a,(u/o+d[1])*a)}function hi(t,n,i,r,o,a,s,l,c,u,d){const h=t.text.placedSymbolArray,p=t.text.dynamicLayoutVertexArray,f=t.icon.dynamicLayoutVertexArray,m={},g=t.getProjection(),v=bt(l,g,a),y=a.elevation,x=g.upVectorScale(l.canonical,a.center.lat,a.worldSize).metersToTile;p.clear();for(let b=0;b<h.length;b++){const f=h.get(b),{tileAnchorX:_,tileAnchorY:w,numGlyphs:k}=f,S=t.allowVerticalPlacement&&!f.placedOrientation,C=f.hidden||!f.crossTileID||S?null:r[f.crossTileID];if(C){let r=0,h=0,b=0;if(y){const e=y?y.getAtTileOffset(l,_,w):0,[t,n,i]=g.upVector(l.canonical,_,w);r=e*t*x,h=e*n*x,b=e*i*x}let[S,E,T,M]=rt(f.projectedAnchorX+r,f.projectedAnchorY+h,f.projectedAnchorZ+b,i?v:s);const P=ot(a.getCameraToCenterDistance(g),M);let A=o.evaluateSizeForFeature(t.textSizeData,u,f)*P/e.ONE_EM;i&&(A*=t.tilePixelRatio/c);const I=di(C,A);i?(({x:S,y:E,z:T}=g.projectTilePoint(_+I.x,w+I.y,l.canonical)),[S,E,T]=rt(S+r,E+h,T+b,s)):(n&&I._rotate(-a.angle),S+=I.x,E+=I.y,T=0);const L=t.allowVerticalPlacement&&f.placedOrientation===e.WritingMode.vertical?Math.PI/2:0;for(let t=0;t<k;t++)e.addDynamicAttributes(p,S,E,T,L);d&&f.associatedIconIndex>=0&&(m[f.associatedIconIndex]={x:S,y:E,z:T,angle:L})}else ft(k,p)}if(d){f.clear();const n=t.icon.placedSymbolArray;for(let t=0;t<n.length;t++){const i=n.get(t),{numGlyphs:r}=i,o=m[t];if(i.hidden||!o)ft(r,f);else{const{x:t,y:n,z:i,angle:a}=o;for(let o=0;o<r;o++)e.addDynamicAttributes(f,t,n,i,a)}}t.icon.dynamicLayoutVertexBuffer.updateData(f)}t.text.dynamicLayoutVertexBuffer.updateData(p)}function pi(e,t,n){return n.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function fi(t,n,i,r,o,a,s,l,c,u,d,h){const p=t.context,f=p.gl,m=t.transform,g="map"===l,v="map"===c,y=g&&"point"!==i.layout.get("symbol-placement"),x=g&&!v&&!y,b=void 0!==i.layout.get("symbol-sort-key").constantOr(1);let _=!1;const w=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),k=[e.mercatorXfromLng(m.center.lng),e.mercatorYfromLat(m.center.lat)],S=i.layout.get("text-variable-anchor"),C="globe"===m.projection.name,E=[],T=[0,-1,0];let M=T;!C&&!m.mercatorFromTransition||g||(M=function(t){const n=t._camera.getWorldToCamera(t.worldSize,1),i=e.multiply([],n,t.globeMatrix);e.invert(i,i);const r=[0,0,0],o=[0,1,0,0];return e.transformMat4$1(o,o,i),r[0]=o[0],r[1]=o[1],r[2]=o[2],e.normalize(r,r),r}(m));for(const P of r){const r=n.getTile(P),l=r.getBucket(i);if(!l)continue;if("mercator"===l.projection.name&&C)continue;const c=o?l.text:l.icon;if(!c||l.fullyClipped||!c.segments.get().length)continue;const d=c.programConfigurations.get(i.id),h=o||l.sdfIcons,p=o?l.textSizeData:l.iconSizeData,w=v||0!==m.pitch,A=e.evaluateSizeForZoom(p,m.zoom);let I,L,D,O,R=[0,0],z=null;if(o){if(L=r.glyphAtlasTexture,D=f.LINEAR,I=r.glyphAtlasTexture.size,l.iconsInText){R=r.imageAtlasTexture.size,z=r.imageAtlasTexture;const e="composite"===p.kind||"camera"===p.kind;O=w||t.options.rotating||t.options.zooming||e?f.LINEAR:f.NEAREST}}else{const e=1!==i.layout.get("icon-size").constantOr(0)||l.iconsNeedLinear;L=r.imageAtlasTexture,D=h||t.options.rotating||t.options.zooming||e||w?f.LINEAR:f.NEAREST,I=r.imageAtlasTexture.size}const F="globe"===l.projection.name,B=F?M:T,N=F?e.globeToMercatorTransition(m.zoom):0,j=bt(P,l.getProjection(),m),V=m.calculatePixelsToTileUnitsMatrix(r),W=tt(j,r.tileID.canonical,v,g,m,l.getProjection(),V),U=t.terrain&&v&&y?e.invert(e.create(),W):ui,H=it(j,r.tileID.canonical,v,g,m,l.getProjection(),V),X=S&&l.hasTextData(),G="none"!==i.layout.get("icon-text-fit")&&X&&l.hasIconData();if(y){const e=m.elevation,n=e?e.getAtTileOffsetFunc(P,m.center.lat,m.worldSize,l.getProjection()):null,i=nt(j,r.tileID.canonical,v,g,m,l.getProjection(),V);st(l,j,t,o,i,H,v,u,n,P)}const Y=y||o&&S||G,q=t.translatePosMatrix(j,r,a,s),K=Y?ui:W,$=t.translatePosMatrix(H,r,a,s,!0),Z=l.getProjection().createInversionMatrix(m,P.canonical),J=[];t.terrainRenderModeElevated()&&v&&J.push("PITCH_WITH_MAP_TERRAIN"),F&&J.push("PROJECTION_GLOBE_VIEW"),Y&&J.push("PROJECTED_POS_ON_VIEWPORT");const Q=h&&0!==i.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1);let ee;ee=h?l.iconsInText?ri(p.kind,A,x,v,t,q,K,$,I,R,P,N,k,Z,B,l.getProjection()):ii(p.kind,A,x,v,t,q,K,$,o,I,!0,P,N,k,Z,B,l.getProjection()):ni(p.kind,A,x,v,t,q,K,$,o,I,P,N,k,Z,B,l.getProjection());const te={program:t.useProgram(pi(h,o,l),d,J),buffers:c,uniformValues:ee,atlasTexture:L,atlasTextureIcon:z,atlasInterpolation:D,atlasInterpolationIcon:O,isSDF:h,hasHalo:Q,tile:r,labelPlaneMatrixInv:U};if(b&&l.canOverlap){_=!0;const t=c.segments.get();for(const n of t)E.push({segments:new e.SegmentVector([n]),sortKey:n.sortKey,state:te})}else E.push({segments:c.segments,sortKey:0,state:te})}_&&E.sort(((e,t)=>e.sortKey-t.sortKey));for(const e of E){const n=e.state;if(t.terrain&&t.terrain.setupElevationDraw(n.tile,n.program,{useDepthForOcclusion:!C,labelPlaneMatrixInv:n.labelPlaneMatrixInv}),p.activeTexture.set(f.TEXTURE0),n.atlasTexture.bind(n.atlasInterpolation,f.CLAMP_TO_EDGE),n.atlasTextureIcon&&(p.activeTexture.set(f.TEXTURE1),n.atlasTextureIcon&&n.atlasTextureIcon.bind(n.atlasInterpolationIcon,f.CLAMP_TO_EDGE)),n.isSDF){const r=n.uniformValues;n.hasHalo&&(r.u_is_halo=1,mi(n.buffers,e.segments,i,t,n.program,w,d,h,r)),r.u_is_halo=0}mi(n.buffers,e.segments,i,t,n.program,w,d,h,n.uniformValues)}}function mi(t,n,i,r,o,a,s,l,c){const u=r.context,d=[t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer,t.globeExtVertexBuffer];o.draw(u,u.gl.TRIANGLES,a,s,l,e.CullFaceMode.disabled,c,i.id,t.layoutVertexBuffer,t.indexBuffer,n,i.paint,r.transform.zoom,t.programConfigurations.get(i.id),d)}function gi(t,n,i,r,o,a,s){const l=t.context.gl,c=i.paint.get("fill-pattern"),u=c&&c.constantOr(1);let d,h,p,f,m;s?(h=u&&!i.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",d=l.LINES):(h=u?"fillPattern":"fill",d=l.TRIANGLES);for(const g of r){const r=n.getTile(g);if(u&&!r.patternsLoaded())continue;const v=r.getBucket(i);if(!v)continue;t.prepareDrawTile();const y=v.programConfigurations.get(i.id),x=t.useProgram(h,y);u&&(t.context.activeTexture.set(l.TEXTURE0),r.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),y.updatePaintBuffers());const b=c.constantOr(null);if(b&&r.imageAtlas){const e=r.imageAtlas.patternPositions[b.toString()];e&&y.setConstantPatternPositions(e)}const _=t.translatePosMatrix(g.projMatrix,r,i.paint.get("fill-translate"),i.paint.get("fill-translate-anchor"));if(s){f=v.indexBuffer2,m=v.segments2;const e=t.terrain&&t.terrain.renderingToTexture?t.terrain.drapeBufferSize:[l.drawingBufferWidth,l.drawingBufferHeight];p="fillOutlinePattern"===h&&u?jn(_,t,r,e):Nn(_,e)}else f=v.indexBuffer,m=v.segments,p=u?Bn(_,t,r):Fn(_);t.prepareDrawProgram(t.context,x,g.toUnwrapped()),x.draw(t.context,d,o,t.stencilModeForClipping(g),a,e.CullFaceMode.disabled,p,i.id,v.layoutVertexBuffer,f,m,i.paint,t.transform.zoom,y)}}function vi(t,n,i,r,o,a,s){const l=t.context,c=l.gl,u=t.transform,d=i.paint.get("fill-extrusion-pattern"),h=d.constantOr(1),p=i.paint.get("fill-extrusion-opacity"),f=[i.paint.get("fill-extrusion-ambient-occlusion-intensity"),i.paint.get("fill-extrusion-ambient-occlusion-radius")],m=i.layout.get("fill-extrusion-edge-radius"),g="globe"===u.projection.name?e.fillExtrusionHeightLift():0,v="globe"===u.projection.name,y=v?e.globeToMercatorTransition(u.zoom):0,x=[e.mercatorXfromLng(u.center.lng),e.mercatorYfromLat(u.center.lat)],b=[];v&&(b.push("PROJECTION_GLOBE_VIEW"),t.style.terrainSetForDrapingOnly()&&b.push("TERRAIN")),f[0]>0&&b.push("FAUX_AO");for(const _ of r){const r=n.getTile(_),w=r.getBucket(i);if(!w||w.projection.name!==u.projection.name)continue;const k=w.programConfigurations.get(i.id),S=t.useProgram(h?"fillExtrusionPattern":"fillExtrusion",k,b);if(t.terrain){const e=t.terrain;if(t.style.terrainSetForDrapingOnly())e.setupElevationDraw(r,S,{useMeterToDem:!0});else{if(!w.enableTerrain)continue;if(e.setupElevationDraw(r,S,{useMeterToDem:!0}),yi(l,n,_,w,i,e),!w.centroidVertexBuffer){const e=S.attributes.a_centroid_pos;void 0!==e&&c.vertexAttrib2f(e,0,0)}}}h&&(t.context.activeTexture.set(c.TEXTURE0),r.imageAtlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE),k.updatePaintBuffers());const C=d.constantOr(null);if(C&&r.imageAtlas){const e=r.imageAtlas.patternPositions[C.toString()];e&&k.setConstantPatternPositions(e)}const E=t.translatePosMatrix(_.projMatrix,r,i.paint.get("fill-extrusion-translate"),i.paint.get("fill-extrusion-translate-anchor")),T=u.projection.createInversionMatrix(u,_.canonical),M=i.paint.get("fill-extrusion-vertical-gradient"),P=h?zn(E,t,M,p,f,m,_,r,g,y,x,T):Rn(E,t,M,p,f,m,_,g,y,x,T);t.prepareDrawProgram(l,S,_.toUnwrapped());const A=[];t.terrain&&A.push(w.centroidVertexBuffer),v&&A.push(w.layoutVertexExtBuffer),S.draw(l,l.gl.TRIANGLES,o,a,s,e.CullFaceMode.backCCW,P,i.id,w.layoutVertexBuffer,w.indexBuffer,w.segments,i.paint,t.transform.zoom,k,A)}}function yi(t,n,i,r,o,a){const s=[t=>{let n=t.canonical.x-1,i=t.wrap;return n<0&&(n=(1<<t.canonical.z)-1,i--),new e.OverscaledTileID(t.overscaledZ,i,t.canonical.z,n,t.canonical.y)},t=>{let n=t.canonical.x+1,i=t.wrap;return n===1<<t.canonical.z&&(n=0,i++),new e.OverscaledTileID(t.overscaledZ,i,t.canonical.z,n,t.canonical.y)},t=>new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,(0===t.canonical.y?1<<t.canonical.z:t.canonical.y)-1),t=>new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y===(1<<t.canonical.z)-1?0:t.canonical.y+1)],l=e=>{const t=n.getSource().minzoom,i=e=>{const t=n.getTileByID(e);if(t&&t.hasData())return t.getBucket(o)},r=[0,-1,1];for(const n of r){if(e.overscaledZ+n<t)continue;const r=i(e.calculateScaledKey(e.overscaledZ+n));if(r)return r}},c=[0,0,0],u=(t,n)=>(c[0]=Math.min(t.min.y,n.min.y),c[1]=Math.max(t.max.y,n.max.y),c[2]=e.EXTENT-n.min.x>t.max.x?n.min.x-e.EXTENT:t.max.x,c),d=(t,n)=>(c[0]=Math.min(t.min.x,n.min.x),c[1]=Math.max(t.max.x,n.max.x),c[2]=e.EXTENT-n.min.y>t.max.y?n.min.y-e.EXTENT:t.max.y,c),h=[(e,t)=>u(e,t),(e,t)=>u(t,e),(e,t)=>d(e,t),(e,t)=>d(t,e)],p=new e.pointGeometry(0,0);let f,m,g;const v=(t,n,r,o,s)=>{const l=[[o?r:t,o?t:r,0],[o?r:n,o?n:r,0]],c=s<0?e.EXTENT+s:s,u=[o?c:(t+n)/2,o?(t+n)/2:c,0];return 0===r&&s<0||0!==r&&s>0?a.getForTilePoints(g,[u],!0,m):l.push(u),a.getForTilePoints(i,l,!0,f),Math.max(l[0][2],l[1][2],u[2])/a.exaggeration()};for(let y=0;y<4;y++){const t=(y<2?1:5)-y,n=r.borders[y];if(0===n.length)continue;const o=g=s[y](i),c=l(o);if(!(c&&c instanceof e.FillExtrusionBucket&&c.enableTerrain))continue;if(r.borderDoneWithNeighborZ[y]===c.canonical.z&&c.borderDoneWithNeighborZ[t]===r.canonical.z)continue;if(m=a.findDEMTileFor(o),!m||!m.dem)continue;if(!f){const e=a.findDEMTileFor(i);if(!e||!e.dem)return;f=e}const u=c.borders[t];let d=0;const x=c.borderDoneWithNeighborZ[t]!==r.canonical.z;if(r.canonical.z===c.canonical.z){for(let i=0;i<n.length;i++){const o=r.featuresOnBorder[n[i]],a=o.borders[y];let s;for(;d<u.length&&(s=c.featuresOnBorder[u[d]],!(s.borders[t][1]>a[0]+3));)x&&c.encodeCentroid(void 0,s,!1),d++;if(s&&d<u.length){const n=d;let i=0;for(;!(s.borders[t][0]>a[1]-3)&&(i++,++d!==u.length);)s=c.featuresOnBorder[u[d]];if(s=c.featuresOnBorder[u[n]],o.intersectsCount()>1||s.intersectsCount()>1||1!==i){1!==i&&(d=n),r.encodeCentroid(void 0,o,!1),x&&c.encodeCentroid(void 0,s,!1);continue}const l=h[y](o,s),f=y%2?e.EXTENT-1:0;p.x=v(l[0],Math.min(e.EXTENT-1,l[1]),f,y<2,l[2]),p.y=0,r.encodeCentroid(p,o,!1),x&&c.encodeCentroid(p,s,!1)}else r.encodeCentroid(void 0,o,!1)}r.borderDoneWithNeighborZ[y]=c.canonical.z,r.needsCentroidUpdate=!0,x&&(c.borderDoneWithNeighborZ[t]=r.canonical.z,c.needsCentroidUpdate=!0)}else{for(const e of n)r.encodeCentroid(void 0,r.featuresOnBorder[e],!1);if(x){for(const e of u)c.encodeCentroid(void 0,c.featuresOnBorder[e],!1);c.borderDoneWithNeighborZ[t]=r.canonical.z,c.needsCentroidUpdate=!0}r.borderDoneWithNeighborZ[y]=c.canonical.z,r.needsCentroidUpdate=!0}}(r.needsCentroidUpdate||!r.centroidVertexBuffer&&0!==r.centroidVertexArray.length)&&r.uploadCentroid(t)}const xi=new e.Color(1,0,0,1),bi=new e.Color(0,1,0,1),_i=new e.Color(0,0,1,1),wi=new e.Color(1,0,1,1),ki=new e.Color(0,1,1,1);function Si(t,n,i){const r=t.context,o=t.transform,a=r.gl,s="globe"===o.projection.name,l=s?["PROJECTION_GLOBE_VIEW"]:null;let c=i.projMatrix;if(s&&e.globeToMercatorTransition(o.zoom)>0){const t=e.transitionTileAABBinECEF(i.canonical,o),n=e.globeDenormalizeECEF(t);c=e.multiply(new Float32Array(16),o.globeMatrix,n),e.multiply(c,o.projMatrix,c)}const u=t.useProgram("debug",null,l),d=n.getTileByID(i.key);t.terrain&&t.terrain.setupElevationDraw(d,u);const h=e.DepthMode.disabled,p=e.StencilMode.disabled,f=t.colorModeForRenderPass(),m="$debug";r.activeTexture.set(a.TEXTURE0),t.emptyTexture.bind(a.LINEAR,a.CLAMP_TO_EDGE),s?d._makeGlobeTileDebugBuffers(t.context,o):d._makeDebugTileBoundsBuffers(t.context,o.projection);const g=d._tileDebugBuffer||t.debugBuffer,v=d._tileDebugIndexBuffer||t.debugIndexBuffer,y=d._tileDebugSegments||t.debugSegments;u.draw(r,a.LINE_STRIP,h,p,f,e.CullFaceMode.disabled,Xn(c,e.Color.red),m,g,v,y,null,null,null,[d._globeTileDebugBorderBuffer]);const x=d.latestRawTileData,b=Math.floor((x&&x.byteLength||0)/1024),_=n.getTile(i).tileSize,w=512/Math.min(_,512)*(i.overscaledZ/o.zoom)*.5;let k=i.canonical.toString();i.overscaledZ!==i.canonical.z&&(k+=` => ${i.overscaledZ}`),k+=` ${b}kb`,function(e,t){e.initDebugOverlayCanvas();const n=e.debugOverlayCanvas,i=e.context.gl,r=e.debugOverlayCanvas.getContext("2d");r.clearRect(0,0,n.width,n.height),r.shadowColor="white",r.shadowBlur=2,r.lineWidth=1.5,r.strokeStyle="white",r.textBaseline="top",r.font="bold 36px Open Sans, sans-serif",r.fillText(t,5,5),r.strokeText(t,5,5),e.debugOverlayTexture.update(n),e.debugOverlayTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE)}(t,k);const S=d._tileDebugTextBuffer||t.debugBuffer,C=d._tileDebugTextIndexBuffer||t.quadTriangleIndexBuffer,E=d._tileDebugTextSegments||t.debugSegments;u.draw(r,a.TRIANGLES,h,p,e.ColorMode.alphaBlended,e.CullFaceMode.disabled,Xn(c,e.Color.transparent,w),m,S,C,E,null,null,null,[d._globeTileDebugTextBuffer])}function Ci(e,t,n,i){Ti(e,0,t+n/2,e.transform.width,n,i)}function Ei(e,t,n,i){Ti(e,t-n/2,0,n,e.transform.height,i)}function Ti(t,n,i,r,o,a){const s=t.context,l=s.gl;l.enable(l.SCISSOR_TEST),l.scissor(n*e.exported.devicePixelRatio,i*e.exported.devicePixelRatio,r*e.exported.devicePixelRatio,o*e.exported.devicePixelRatio),s.clear({color:a}),l.disable(l.SCISSOR_TEST)}const Mi=e.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:Pi}=Mi;function Ai(e,t,n,i){e.emplaceBack(t,n,i)}class Ii{constructor(t){this.vertexArray=new e.StructArrayLayout3f12,this.indices=new e.StructArrayLayout3ui6,Ai(this.vertexArray,-1,-1,1),Ai(this.vertexArray,1,-1,1),Ai(this.vertexArray,-1,1,1),Ai(this.vertexArray,1,1,1),Ai(this.vertexArray,-1,-1,-1),Ai(this.vertexArray,1,-1,-1),Ai(this.vertexArray,-1,1,-1),Ai(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=t.createVertexBuffer(this.vertexArray,Pi),this.indexBuffer=t.createIndexBuffer(this.indices),this.segment=e.SegmentVector.simpleSegment(0,0,36,12)}}function Li(t,n,i,r,o,a){const s=t.gl,l=n.paint.get("sky-atmosphere-color"),c=n.paint.get("sky-atmosphere-halo-color"),u=n.paint.get("sky-atmosphere-sun-intensity"),d=((e,t,n,i,r)=>({u_matrix_3f:e,u_sun_direction:t,u_sun_intensity:n,u_color_tint_r:[i.r,i.g,i.b,i.a],u_color_tint_m:[r.r,r.g,r.b,r.a],u_luminance:5e-5}))(e.fromMat4(e.create$1(),r),o,u,l,c);s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+a,n.skyboxTexture,0),i.draw(t,s.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.frontCW,d,"skyboxCapture",n.skyboxGeometry.vertexBuffer,n.skyboxGeometry.indexBuffer,n.skyboxGeometry.segment)}const Di=e.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class Oi{constructor(t){const n=new e.StructArrayLayout5f20;n.emplaceBack(-1,1,1,0,0),n.emplaceBack(1,1,1,1,0),n.emplaceBack(1,-1,1,1,1),n.emplaceBack(-1,-1,1,0,1);const i=new e.StructArrayLayout3ui6;i.emplaceBack(0,1,2),i.emplaceBack(2,3,0),this.vertexBuffer=t.createVertexBuffer(n,Di.members),this.indexBuffer=t.createIndexBuffer(i),this.segments=e.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const Ri={symbol:function(t,n,i,r,o){if("translucent"!==t.renderPass)return;const a=e.StencilMode.disabled,s=t.colorModeForRenderPass();i.layout.get("text-variable-anchor")&&function(t,n,i,r,o,a,s){const l=n.transform,c="map"===o,u="map"===a;for(const d of t){const t=r.getTile(d),n=t.getBucket(i);if(!n||!n.text||!n.text.segments.get().length)continue;const o=e.evaluateSizeForZoom(n.textSizeData,l.zoom),a=bt(d,n.getProjection(),l),h=l.calculatePixelsToTileUnitsMatrix(t),p=tt(a,t.tileID.canonical,u,c,l,n.getProjection(),h),f="none"!==i.layout.get("icon-text-fit")&&n.hasIconData();if(o){const i=Math.pow(2,l.zoom-t.tileID.overscaledZ);hi(n,c,u,s,e.symbolSize,l,p,d,i,o,f)}}}(r,t,i,n,i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),o),0!==i.paint.get("icon-opacity").constantOr(1)&&fi(t,n,i,r,!1,i.paint.get("icon-translate"),i.paint.get("icon-translate-anchor"),i.layout.get("icon-rotation-alignment"),i.layout.get("icon-pitch-alignment"),i.layout.get("icon-keep-upright"),a,s),0!==i.paint.get("text-opacity").constantOr(1)&&fi(t,n,i,r,!0,i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),i.layout.get("text-keep-upright"),a,s),n.map.showCollisionBoxes&&(ci(t,n,i,r,i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),!0),ci(t,n,i,r,i.paint.get("icon-translate"),i.paint.get("icon-translate-anchor"),!1))},circle:function(t,n,i,r){if("translucent"!==t.renderPass)return;const o=i.paint.get("circle-opacity"),a=i.paint.get("circle-stroke-width"),s=i.paint.get("circle-stroke-opacity"),l=void 0!==i.layout.get("circle-sort-key").constantOr(1);if(0===o.constantOr(1)&&(0===a.constantOr(1)||0===s.constantOr(1)))return;const c=t.context,u=c.gl,d=t.transform,h=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),p=e.StencilMode.disabled,f=t.colorModeForRenderPass(),m="globe"===d.projection.name,g=[e.mercatorXfromLng(d.center.lng),e.mercatorYfromLat(d.center.lat)],v=[];for(let x=0;x<r.length;x++){const o=r[x],a=n.getTile(o),s=a.getBucket(i);if(!s||s.projection.name!==d.projection.name)continue;const c=s.programConfigurations.get(i.id),u=Un(i);m&&u.push("PROJECTION_GLOBE_VIEW");const h=t.useProgram("circle",c,u),p=s.layoutVertexBuffer,f=s.globeExtVertexBuffer,y=s.indexBuffer,b=d.projection.createInversionMatrix(d,o.canonical),_={programConfiguration:c,program:h,layoutVertexBuffer:p,globeExtVertexBuffer:f,indexBuffer:y,uniformValues:Wn(t,o,a,b,g,i),tile:a};if(l){const t=s.segments.get();for(const n of t)v.push({segments:new e.SegmentVector([n]),sortKey:n.sortKey,state:_})}else v.push({segments:s.segments,sortKey:0,state:_})}l&&v.sort(((e,t)=>e.sortKey-t.sortKey));const y={useDepthForOcclusion:!m};for(const x of v){const{programConfiguration:n,program:r,layoutVertexBuffer:o,globeExtVertexBuffer:a,indexBuffer:s,uniformValues:l,tile:m}=x.state,g=x.segments;t.terrain&&t.terrain.setupElevationDraw(m,r,y),t.prepareDrawProgram(c,r,m.tileID.toUnwrapped()),r.draw(c,u.TRIANGLES,h,p,f,e.CullFaceMode.disabled,l,i.id,o,s,g,i.paint,d.zoom,n,[a])}},heatmap:function(t,n,i,r){if(0!==i.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){const o=t.context,a=o.gl,s=e.StencilMode.disabled,l=new e.ColorMode([a.ONE,a.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,n,i){const r=e.gl,o=t.width*i,a=t.height*i;e.activeTexture.set(r.TEXTURE1),e.viewport.set([0,0,o,a]);let s=n.heatmapFbo;if(!s||s&&(s.width!==o||s.height!==a)){s&&s.destroy();const t=r.createTexture();r.bindTexture(r.TEXTURE_2D,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),s=n.heatmapFbo=e.createFramebuffer(o,a,!1),function(e,t,n,i,r,o){const a=e.gl;a.texImage2D(a.TEXTURE_2D,0,a.RGBA,r,o,0,a.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:a.UNSIGNED_BYTE,null),i.colorAttachment.set(n)}(e,0,t,s,o,a)}else r.bindTexture(r.TEXTURE_2D,s.colorAttachment.get()),e.bindFramebuffer.set(s.framebuffer)}(o,t,i,"globe"===t.transform.projection.name?.5:.25),o.clear({color:e.Color.transparent});const c=t.transform,u="globe"===c.projection.name,d=u?["PROJECTION_GLOBE_VIEW"]:null,h=u?e.CullFaceMode.frontCCW:e.CullFaceMode.disabled,p=[e.mercatorXfromLng(c.center.lng),e.mercatorYfromLat(c.center.lat)];for(let f=0;f<r.length;f++){const m=r[f];if(n.hasRenderableParent(m))continue;const g=n.getTile(m),v=g.getBucket(i);if(!v||v.projection.name!==c.projection.name)continue;const y=v.programConfigurations.get(i.id),x=t.useProgram("heatmap",y,d),{zoom:b}=t.transform;t.terrain&&t.terrain.setupElevationDraw(g,x),t.prepareDrawProgram(o,x,m.toUnwrapped());const _=c.projection.createInversionMatrix(c,m.canonical);x.draw(o,a.TRIANGLES,e.DepthMode.disabled,s,l,h,Yn(t,m,g,_,p,b,i.paint.get("heatmap-intensity")),i.id,v.layoutVertexBuffer,v.indexBuffer,v.segments,i.paint,t.transform.zoom,y,u?[v.globeExtVertexBuffer]:null)}o.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,n){const i=t.context,r=i.gl,o=n.heatmapFbo;if(!o)return;i.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,o.colorAttachment.get()),i.activeTexture.set(r.TEXTURE1);let a=n.colorRampTexture;a||(a=n.colorRampTexture=new e.Texture(i,n.colorRamp,r.RGBA)),a.bind(r.LINEAR,r.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(i,r.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,((e,t,n,i)=>({u_image:0,u_color_ramp:1,u_opacity:t.paint.get("heatmap-opacity")}))(0,n),n.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,n.paint,t.transform.zoom)}(t,i))},line:function(t,n,i,r){if("translucent"!==t.renderPass)return;const o=i.paint.get("line-opacity"),a=i.paint.get("line-width");if(0===o.constantOr(1)||0===a.constantOr(1))return;const s=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),l=t.colorModeForRenderPass(),c=t.terrain&&t.terrain.renderingToTexture?1:e.exported.devicePixelRatio,u=i.paint.get("line-dasharray"),d=u.constantOr(1),h=i.layout.get("line-cap"),p=i.paint.get("line-pattern"),f=p.constantOr(1),m=i.paint.get("line-gradient"),g=f?"linePattern":"line",v=t.context,y=v.gl,x=(e=>{const t=[];Jn(e)&&t.push("RENDER_LINE_DASH"),e.paint.get("line-gradient")&&t.push("RENDER_LINE_GRADIENT");const n=e.paint.get("line-trim-offset");0===n[0]&&0===n[1]||t.push("RENDER_LINE_TRIM_OFFSET");const i=e.paint.get("line-pattern").constantOr(1),r=1!==e.paint.get("line-opacity").constantOr(1);return!i&&r&&t.push("RENDER_LINE_ALPHA_DISCARD"),t})(i);let b=x.includes("RENDER_LINE_ALPHA_DISCARD");t.terrain&&t.terrain.clipOrMaskOverlapStencilType()&&(b=!1);for(const _ of r){const r=n.getTile(_);if(f&&!r.patternsLoaded())continue;const o=r.getBucket(i);if(!o)continue;t.prepareDrawTile();const a=o.programConfigurations.get(i.id),w=t.useProgram(g,a,x),k=p.constantOr(null);if(k&&r.imageAtlas){const e=r.imageAtlas.patternPositions[k.toString()];e&&a.setConstantPatternPositions(e)}const S=u.constantOr(null),C=h.constantOr(null);if(!f&&S&&C&&r.lineAtlas){const e=r.lineAtlas.getDash(S,C);e&&a.setConstantPatternPositions(e)}let[E,T]=i.paint.get("line-trim-offset");if("round"===C||"square"===C){const e=1;E!==T&&(0===E&&(E-=e),1===T&&(T+=e))}const M=t.terrain?_.projMatrix:null,P=f?Kn(t,r,i,M,c):qn(t,r,i,M,o.lineClipsArray.length,c,[E,T]);if(m){const r=o.gradients[i.id];let a=r.texture;if(i.gradientVersion!==r.version){let s=256;if(i.stepInterpolant){const i=n.getSource().maxzoom,r=_.canonical.z===i?Math.ceil(1<<t.transform.maxZoom-_.canonical.z):1;s=e.clamp(e.nextPowerOfTwo(o.maxLineLength/e.EXTENT*1024*r),256,v.maxTextureSize)}r.gradient=e.renderColorRamp({expression:i.gradientExpression(),evaluationKey:"lineProgress",resolution:s,image:r.gradient||void 0,clips:o.lineClipsArray}),r.texture?r.texture.update(r.gradient):r.texture=new e.Texture(v,r.gradient,y.RGBA),r.version=i.gradientVersion,a=r.texture}v.activeTexture.set(y.TEXTURE1),a.bind(i.stepInterpolant?y.NEAREST:y.LINEAR,y.CLAMP_TO_EDGE)}d&&(v.activeTexture.set(y.TEXTURE0),r.lineAtlasTexture.bind(y.LINEAR,y.REPEAT),a.updatePaintBuffers()),f&&(v.activeTexture.set(y.TEXTURE0),r.imageAtlasTexture.bind(y.LINEAR,y.CLAMP_TO_EDGE),a.updatePaintBuffers()),t.prepareDrawProgram(v,w,_.toUnwrapped());const A=n=>{w.draw(v,y.TRIANGLES,s,n,l,e.CullFaceMode.disabled,P,i.id,o.layoutVertexBuffer,o.indexBuffer,o.segments,i.paint,t.transform.zoom,a,[o.layoutVertexBuffer2])};if(b){const n=t.stencilModeForClipping(_).ref;0===n&&t.terrain&&v.clear({stencil:0});const i={func:y.EQUAL,mask:255};P.u_alpha_discard_threshold=.8,A(new e.StencilMode(i,n,255,y.KEEP,y.KEEP,y.INVERT)),P.u_alpha_discard_threshold=0,A(new e.StencilMode(i,n,255,y.KEEP,y.KEEP,y.KEEP))}else A(t.stencilModeForClipping(_))}b&&(t.resetStencilClippingMasks(),t.terrain&&v.clear({stencil:0}))},fill:function(t,n,i,r){const o=i.paint.get("fill-color"),a=i.paint.get("fill-opacity");if(0===a.constantOr(1))return;const s=t.colorModeForRenderPass(),l=i.paint.get("fill-pattern"),c=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===o.constantOr(e.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(t.renderPass===c){const o=t.depthModeForSublayer(1,"opaque"===t.renderPass?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly);gi(t,n,i,r,o,s,!1)}if("translucent"===t.renderPass&&i.paint.get("fill-antialias")){const o=t.depthModeForSublayer(i.getPaintProperty("fill-outline-color")?2:0,e.DepthMode.ReadOnly);gi(t,n,i,r,o,s,!0)}},"fill-extrusion":function(t,n,i,r){const o=i.paint.get("fill-extrusion-opacity");if(0!==o&&"translucent"===t.renderPass){const a=new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);if(1!==o||i.paint.get("fill-extrusion-pattern").constantOr(1))vi(t,n,i,r,a,e.StencilMode.disabled,e.ColorMode.disabled),vi(t,n,i,r,a,t.stencilModeFor3D(),t.colorModeForRenderPass()),t.resetStencilClippingMasks();else{const o=t.colorModeForRenderPass();vi(t,n,i,r,a,e.StencilMode.disabled,o)}}},hillshade:function(t,n,i,r){if("offscreen"!==t.renderPass&&"translucent"!==t.renderPass)return;const o=t.context,a=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),s=t.colorModeForRenderPass(),l=t.terrain&&t.terrain.renderingToTexture,[c,u]="translucent"!==t.renderPass||l?[{},r]:t.stencilConfigForOverlap(r);for(const d of u){const r=n.getTile(d);if(r.needsHillshadePrepare&&"offscreen"===t.renderPass)yn(t,r,i,a,e.StencilMode.disabled,s);else if("translucent"===t.renderPass){const e=l&&t.terrain?t.terrain.stencilModeForRTTOverlap(d):c[d.overscaledZ];gn(t,d,r,i,a,e,s)}}o.viewport.set([0,0,t.width,t.height]),t.resetStencilClippingMasks()},raster:function(t,n,i,r,o,a){if("translucent"!==t.renderPass)return;if(0===i.paint.get("raster-opacity"))return;if(!r.length)return;const s=t.context,l=s.gl,c=n.getSource(),u=t.useProgram("raster"),d=t.colorModeForRenderPass(),h=t.terrain&&t.terrain.renderingToTexture,[p,f]=c instanceof Ae||h?[{},r]:t.stencilConfigForOverlap(r),m=f[f.length-1].overscaledZ,g=!t.options.moving;for(const v of f){const r=h?e.DepthMode.disabled:t.depthModeForSublayer(v.overscaledZ-m,1===i.paint.get("raster-opacity")?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly,l.LESS),o=v.toUnwrapped(),f=n.getTile(v);if(h&&(!f||!f.hasData()))continue;const y=h?v.projMatrix:t.transform.calculateProjMatrix(o,g),x=t.terrain&&h?t.terrain.stencilModeForRTTOverlap(v):p[v.overscaledZ],b=a?0:i.paint.get("raster-fade-duration");f.registerFadeDuration(b);const _=n.findLoadedParent(v,0),w=Tn(f,_,n,t.transform,b);let k,S;t.terrain&&t.terrain.prepareDrawTile();const C="nearest"===i.paint.get("raster-resampling")?l.NEAREST:l.LINEAR;s.activeTexture.set(l.TEXTURE0),f.texture.bind(C,l.CLAMP_TO_EDGE),s.activeTexture.set(l.TEXTURE1),_?(_.texture.bind(C,l.CLAMP_TO_EDGE),k=Math.pow(2,_.tileID.overscaledZ-f.tileID.overscaledZ),S=[f.tileID.canonical.x*k%1,f.tileID.canonical.y*k%1]):f.texture.bind(C,l.CLAMP_TO_EDGE);const E=Qn(y,S||[0,0],k||1,w,i,c instanceof Ae?c.perspectiveTransform:[0,0]);if(t.prepareDrawProgram(s,u,o),c instanceof Ae)c.boundsBuffer&&c.boundsSegments&&u.draw(s,l.TRIANGLES,r,e.StencilMode.disabled,d,e.CullFaceMode.disabled,E,i.id,c.boundsBuffer,t.quadTriangleIndexBuffer,c.boundsSegments);else{const{tileBoundsBuffer:n,tileBoundsIndexBuffer:o,tileBoundsSegments:a}=t.getTileBoundsBuffers(f);u.draw(s,l.TRIANGLES,r,x,d,e.CullFaceMode.disabled,E,i.id,n,o,a)}}t.resetStencilClippingMasks()},background:function(t,n,i,r){const o=i.paint.get("background-color"),a=i.paint.get("background-opacity");if(0===a)return;const s=t.context,l=s.gl,c=t.transform,u=c.tileSize,d=i.paint.get("background-pattern");if(t.isPatternMissing(d))return;const h=!d&&1===o.a&&1===a&&t.opaquePassEnabledForLayer()?"opaque":"translucent";if(t.renderPass!==h)return;const p=e.StencilMode.disabled,f=t.depthModeForSublayer(0,"opaque"===h?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly),m=t.colorModeForRenderPass(),g=t.useProgram(d?"backgroundPattern":"background");let v,y=r;y||(v=t.getBackgroundTiles(),y=Object.values(v).map((e=>e.tileID))),d&&(s.activeTexture.set(l.TEXTURE0),t.imageManager.bind(t.context));for(const x of y){const h=x.toUnwrapped(),y=r?x.projMatrix:t.transform.calculateProjMatrix(h);t.prepareDrawTile();const b=n?n.getTile(x):v?v[x.key]:new e.Tile(x,u,c.zoom,t),_=d?ai(y,a,t,d,{tileID:x,tileSize:u}):oi(y,a,o);t.prepareDrawProgram(s,g,h);const{tileBoundsBuffer:w,tileBoundsIndexBuffer:k,tileBoundsSegments:S}=t.getTileBoundsBuffers(b);g.draw(s,l.TRIANGLES,f,p,m,e.CullFaceMode.disabled,_,i.id,w,k,S)}},sky:function(t,n,i){const r=t.transform,o="mercator"===r.projection.name||"globe"===r.projection.name?1:e.smoothstep(7,8,r.zoom),a=i.paint.get("sky-opacity")*o;if(0===a)return;const s=t.context,l=i.paint.get("sky-type"),c=new e.DepthMode(s.gl.LEQUAL,e.DepthMode.ReadOnly,[0,1]),u=t.frameCounter/1e3%1;"atmosphere"===l?"offscreen"===t.renderPass?i.needsSkyboxCapture(t)&&(function(t,n,i,r){const o=t.context,a=o.gl;let s=n.skyboxFbo;if(!s){s=n.skyboxFbo=o.createFramebuffer(32,32,!1),n.skyboxGeometry=new Ii(o),n.skyboxTexture=o.gl.createTexture(),a.bindTexture(a.TEXTURE_CUBE_MAP,n.skyboxTexture),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MAG_FILTER,a.LINEAR);for(let e=0;e<6;++e)a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,a.RGBA,32,32,0,a.RGBA,a.UNSIGNED_BYTE,null)}o.bindFramebuffer.set(s.framebuffer),o.viewport.set([0,0,32,32]);const l=n.getCenter(t,!0),c=t.useProgram("skyboxCapture"),u=new Float64Array(16);e.identity(u),e.rotateY(u,u,.5*-Math.PI),Li(o,n,c,u,l,0),e.identity(u),e.rotateY(u,u,.5*Math.PI),Li(o,n,c,u,l,1),e.identity(u),e.rotateX(u,u,.5*-Math.PI),Li(o,n,c,u,l,2),e.identity(u),e.rotateX(u,u,.5*Math.PI),Li(o,n,c,u,l,3),e.identity(u),Li(o,n,c,u,l,4),e.identity(u),e.rotateY(u,u,Math.PI),Li(o,n,c,u,l,5),o.viewport.set([0,0,t.width,t.height])}(t,i),i.markSkyboxValid(t)):"sky"===t.renderPass&&function(t,n,i,r,o){const a=t.context,s=a.gl,l=t.transform,c=t.useProgram("skybox");a.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_CUBE_MAP,n.skyboxTexture);const u=((e,t,n,i,r)=>({u_matrix:e,u_sun_direction:t,u_cubemap:0,u_opacity:i,u_temporal_offset:r}))(l.skyboxMatrix,n.getCenter(t,!1),0,r,o);t.prepareDrawProgram(a,c),c.draw(a,s.TRIANGLES,i,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,u,"skybox",n.skyboxGeometry.vertexBuffer,n.skyboxGeometry.indexBuffer,n.skyboxGeometry.segment)}(t,i,c,a,u):"gradient"===l&&"sky"===t.renderPass&&function(t,n,i,r,o){const a=t.context,s=a.gl,l=t.transform,c=t.useProgram("skyboxGradient");n.skyboxGeometry||(n.skyboxGeometry=new Ii(a)),a.activeTexture.set(s.TEXTURE0);let u=n.colorRampTexture;u||(u=n.colorRampTexture=new e.Texture(a,n.colorRamp,s.RGBA)),u.bind(s.LINEAR,s.CLAMP_TO_EDGE);const d=((t,n,i,r,o)=>({u_matrix:t,u_color_ramp:0,u_center_direction:n,u_radius:e.degToRad(i),u_opacity:r,u_temporal_offset:o}))(l.skyboxMatrix,n.getCenter(t,!1),n.paint.get("sky-gradient-radius"),r,o);t.prepareDrawProgram(a,c),c.draw(a,s.TRIANGLES,i,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,d,"skyboxGradient",n.skyboxGeometry.vertexBuffer,n.skyboxGeometry.indexBuffer,n.skyboxGeometry.segment)}(t,i,c,a,u)},debug:function(e,t,n){for(let i=0;i<n.length;i++)Si(e,t,n[i])},custom:function(t,n,i){const r=t.context,o=i.implementation;if(t.transform.projection.unsupportedLayers&&t.transform.projection.unsupportedLayers.includes("custom"))e.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if("offscreen"===t.renderPass){const e=o.prerender;e&&(t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),e.call(o,r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass){t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),r.setStencilMode(e.StencilMode.disabled);const n="3d"===o.renderingMode?new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,e.DepthMode.ReadOnly);r.setDepthMode(n),o.render(r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState(),r.bindFramebuffer.set(null)}}};class zi{constructor(t,n){this.context=new Ee(t),this.transform=n,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=e.SourceCache.maxUnderzooming+e.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Gt,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(e,t){const n=!!e&&!!e.terrain&&this.transform.projection.supportsTerrain;if(!(n||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new In(this,e));const i=this._terrain;this.transform.elevation=n?i:null,i.update(e,this.transform,t)}_updateFog(e){const t=e.fog;if(!t||"globe"===this.transform.projection.name||t.getOpacity(this.transform.pitch)<1||t.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[n,i]=t.getFovAdjustedRange(this.transform._fov);if(n>i)return void(this.transform.fogCullDistSq=null);const r=n+.78*(i-n);this.transform.fogCullDistSq=r*r}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(t,n){if(this.width=t*e.exported.devicePixelRatio,this.height=n*e.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const e of this.style.order)this.style._layers[e].resize()}setup(){const t=this.context,n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(n,e.posAttributes.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);const i=new e.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(e.EXTENT,0),i.emplaceBack(0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(i,e.posAttributes.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);const r=new e.StructArrayLayout2i4;r.emplaceBack(-1,-1),r.emplaceBack(1,-1),r.emplaceBack(-1,1),r.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(r,e.posAttributes.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);const o=new e.StructArrayLayout4i8;o.emplaceBack(0,0,0,0),o.emplaceBack(e.EXTENT,0,e.EXTENT,0),o.emplaceBack(0,e.EXTENT,0,e.EXTENT),o.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.mercatorBoundsBuffer=t.createVertexBuffer(o,e.boundsAttributes.members),this.mercatorBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);const a=new e.StructArrayLayout3ui6;a.emplaceBack(0,1,2),a.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(a);const s=new e.StructArrayLayout1ui2;for(const e of[0,1,3,2,0])s.emplaceBack(e);this.debugIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new e.Texture(t,new e.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),t.gl.RGBA),this.identityMat=e.create();const l=this.context.gl;this.stencilClearMode=new e.StencilMode({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO),this.loadTimeStamps.push(e.window.performance.now()),this.atmosphereBuffer=new Oi(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(e){return e._makeTileBoundsBuffers(this.context,this.transform.projection),e._tileBoundsBuffer?{tileBoundsBuffer:e._tileBoundsBuffer,tileBoundsIndexBuffer:e._tileBoundsIndexBuffer,tileBoundsSegments:e._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const t=this.context,n=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(t,n.TRIANGLES,e.DepthMode.disabled,this.stencilClearMode,e.ColorMode.disabled,e.CullFaceMode.disabled,En(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(t,n,i){if(!n||this.currentStencilSource===n.id||!t.isTileClipped()||!i||0===i.length)return;if(this._tileClippingMaskIDs&&!this.terrain){let e=!1;for(const t of i)if(void 0===this._tileClippingMaskIDs[t.key]){e=!0;break}if(!e)return}this.currentStencilSource=n.id;const r=this.context,o=r.gl;this.nextStencilID+i.length>256&&this.clearStencil(),r.setColorMode(e.ColorMode.disabled),r.setDepthMode(e.DepthMode.disabled);const a=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const s of i){const t=n.getTile(s),i=this._tileClippingMaskIDs[s.key]=this.nextStencilID++,{tileBoundsBuffer:l,tileBoundsIndexBuffer:c,tileBoundsSegments:u}=this.getTileBoundsBuffers(t);a.draw(r,o.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:o.ALWAYS,mask:0},i,255,o.KEEP,o.KEEP,o.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,En(s.projMatrix),"$clipping",l,c,u)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const t=this.nextStencilID++,n=this.context.gl;return new e.StencilMode({func:n.NOTEQUAL,mask:255},t,255,n.KEEP,n.KEEP,n.REPLACE)}stencilModeForClipping(t){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(t);const n=this.context.gl;return new e.StencilMode({func:n.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,n.KEEP,n.KEEP,n.REPLACE)}stencilConfigForOverlap(t){const n=this.context.gl,i=t.sort(((e,t)=>t.overscaledZ-e.overscaledZ)),r=i[i.length-1].overscaledZ,o=i[0].overscaledZ-r+1;if(o>1){this.currentStencilSource=void 0,this.nextStencilID+o>256&&this.clearStencil();const t={};for(let i=0;i<o;i++)t[i+r]=new e.StencilMode({func:n.GEQUAL,mask:255},i+this.nextStencilID,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID+=o,[t,i]}return[{[r]:e.StencilMode.disabled},i]}colorModeForRenderPass(){const t=this.context.gl;if(this._showOverdrawInspector){const n=1/8;return new e.ColorMode([t.CONSTANT_COLOR,t.ONE],new e.Color(n,n,n,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?e.ColorMode.unblended:e.ColorMode.alphaBlended}depthModeForSublayer(t,n,i){if(!this.opaquePassEnabledForLayer())return e.DepthMode.disabled;const r=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new e.DepthMode(i||this.context.gl.LEQUAL,n,[r,r])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(t,n){this.style=t,this.options=n,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.exported.now()),this.imageManager.beginFrame();const i=this.style.order,r=this.style._sourceCaches;for(const e in r){const t=r[e];t.used&&t.prepare(this.context)}const o={},a={},s={};for(const e in r){const t=r[e];o[e]=t.getVisibleCoordinates(),a[e]=o[e].slice().reverse(),s[e]=t.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let e=0;e<i.length;e++)if(this.style._layers[i[e]].is3D()){this.opaquePassCutoff=e;break}if(this.terrain&&(this.terrain.updateTileBinding(s),this.opaquePassCutoff=0),"globe"!==this.transform.projection.name||this.globeSharedBuffers||(this.globeSharedBuffers=new e.GlobeSharedBuffers(this.context)),e.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";for(const e of i){const n=this.style._layers[e],i=t._getLayerSourceCache(n);if(!n.hasOffscreenPass()||n.isHidden(this.transform.zoom))continue;const r=i?a[i.id]:void 0;("custom"===n.type||n.isSky()||r&&r.length)&&this.renderLayer(this,i,n,r)}if(this.depthRangeFor3D=[0,1-(t.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:n.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){const e=this.style._layers[i[this.currentLayer]],n=t._getLayerSourceCache(e);if(e.isSky())continue;const r=n?a[n.id]:void 0;this._renderTileClippingMasks(e,n,r),this.renderLayer(this,n,e,r)}if(this.style.fog&&this.transform.projection.supportsFog&&function(t,n){const i=t.context,r=i.gl,o=t.transform,a=new e.DepthMode(r.LEQUAL,e.DepthMode.ReadOnly,[0,1]),s=t.useProgram("globeAtmosphere",null,"globe"===o.projection.name?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),l=e.globeToMercatorTransition(o.zoom),c=n.properties.get("color").toArray01(),u=n.properties.get("high-color").toArray01(),d=n.properties.get("space-color").toArray01PremultipliedAlpha(),h=e.identity$1([]);e.rotateY$1(h,h,-e.degToRad(o._center.lng)),e.rotateX$1(h,h,e.degToRad(o._center.lat)),e.rotateZ$1(h,h,o.angle),e.rotateX$1(h,h,-o._pitch);const p=e.fromQuat(new Float32Array(16),h),f=e.mapValue(n.properties.get("star-intensity"),0,1,0,.25),m=5e-4,g=e.mapValue(n.properties.get("horizon-blend"),0,1,m,.25),v=e.globeUseCustomAntiAliasing(t,i,o)&&g===m?o.worldSize/(2*Math.PI*1.025)-1:o.globeRadius,y=t.frameCounter/1e3%1,x=e.length(o.globeCenterInViewSpace),b=Math.sqrt(Math.pow(x,2)-Math.pow(v,2)),_=Math.acos(b/x),w=((t,n,i,r,o,a,s,l,c,u,d,h,p,f)=>({u_frustum_tl:t,u_frustum_tr:n,u_frustum_br:i,u_frustum_bl:r,u_horizon:o,u_transition:a,u_fadeout_range:s,u_color:l,u_high_color:c,u_space_color:u,u_star_intensity:d,u_star_size:5*e.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:h,u_horizon_angle:p,u_rotation_matrix:f}))(o.frustumCorners.TL,o.frustumCorners.TR,o.frustumCorners.BR,o.frustumCorners.BL,o.frustumCorners.horizon,l,g,c,u,d,f,y,_,p);t.prepareDrawProgram(i,s);const k=t.atmosphereBuffer;k&&s.draw(i,r.TRIANGLES,a,e.StencilMode.disabled,e.ColorMode.alphaBlended,e.CullFaceMode.backCW,w,"skybox",k.vertexBuffer,k.indexBuffer,k.segments)}(this,this.style.fog),this.renderPass="sky",(e.globeToMercatorTransition(this.transform.zoom)>0||"globe"!==this.transform.projection.name)&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){const e=this.style._layers[i[this.currentLayer]],n=t._getLayerSourceCache(e);e.isSky()&&this.renderLayer(this,n,e,n?a[n.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<i.length;){const e=this.style._layers[i[this.currentLayer]],n=t._getLayerSourceCache(e);if(e.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(e)){if(e.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const r=n?("symbol"===e.type?s:a)[n.id]:void 0;this._renderTileClippingMasks(e,n,n?o[n.id]:void 0),this.renderLayer(this,n,e,r),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let n=null;e.values(this.style._layers).forEach((e=>{const i=t._getLayerSourceCache(e);i&&!e.isHidden(this.transform.zoom)&&(!n||n.getSource().maxzoom<i.getSource().maxzoom)&&(n=i)})),n&&this.options.showTileBoundaries&&Ri.debug(this,n,n.getVisibleCoordinates())}this.options.showPadding&&function(e){const t=e.transform.padding;Ci(e,e.transform.height-(t.top||0),3,xi),Ci(e,t.bottom||0,3,bi),Ei(e,t.left||0,3,_i),Ei(e,e.transform.width-(t.right||0),3,wi);const n=e.transform.centerPoint;!function(e,t,n,i){Ti(e,t-1,n-10,2,20,i),Ti(e,t-10,n-1,20,2,i)}(e,n.x,e.transform.height-n.y,ki)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(e.window.performance.now()),this.saveCanvasCopy())}}renderLayer(e,t,n,i){n.isHidden(this.transform.zoom)||("background"===n.type||"sky"===n.type||"custom"===n.type||i&&i.length)&&(this.id=n.id,this.gpuTimingStart(n),e.transform.projection.unsupportedLayers&&e.transform.projection.unsupportedLayers.includes(n.type)||Ri[n.type](e,t,n,i,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(e){if(!this.options.gpuTiming)return;const t=this.context.extTimerQuery;let n=this.gpuTimers[e.id];n||(n=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),n.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,n.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const e=this.context.extTimerQuery,t=e.createQueryEXT();this.deferredRenderGpuTimeQueries.push(t),e.beginQueryEXT(e.TIME_ELAPSED_EXT,t)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}collectGpuTimers(){const e=this.gpuTimers;return this.gpuTimers={},e}collectDeferredRenderGpuQueries(){const e=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],e}queryGpuTimers(e){const t={};for(const n in e){const i=e[n],r=this.context.extTimerQuery,o=r.getQueryObjectEXT(i.query,r.QUERY_RESULT_EXT)/1e6;r.deleteQueryEXT(i.query),t[n]=o}return t}queryGpuTimeDeferredRender(e){if(!this.options.gpuTimingDeferredRender)return 0;const t=this.context.extTimerQuery;let n=0;for(const i of e)n+=t.getQueryObjectEXT(i,t.QUERY_RESULT_EXT)/1e6,t.deleteQueryEXT(i);return n}translatePosMatrix(t,n,i,r,o){if(!i[0]&&!i[1])return t;const a=o?"map"===r?this.transform.angle:0:"viewport"===r?-this.transform.angle:0;if(a){const e=Math.sin(a),t=Math.cos(a);i=[i[0]*t-i[1]*e,i[0]*e+i[1]*t]}const s=[o?i[0]:D(n,i[0],this.transform.zoom),o?i[1]:D(n,i[1],this.transform.zoom),0],l=new Float32Array(16);return e.translate(l,t,s),l}saveTileTexture(e){const t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]}getTileTexture(e){const t=this._tileTextures[e];return t&&t.length>0?t.pop():null}isPatternMissing(e){return null===e||void 0!==e&&!this.imageManager.getPattern(e.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const e=this.terrain&&this.terrain.renderingToTexture,t=this.terrain&&0===this.terrain.exaggeration(),n=this.style&&this.style.fog,i=[];return this.terrainRenderModeElevated()&&i.push("TERRAIN"),"globe"===this.transform.projection.name&&i.push("GLOBE"),t&&i.push("ZERO_EXAGGERATION"),n&&!e&&0!==n.getOpacity(this.transform.pitch)&&i.push("FOG"),e&&i.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&i.push("OVERDRAW_INSPECTOR"),i}useProgram(e,t,n){this.cache=this.cache||{};const i=n||[],r=this.currentGlobalDefines().concat(i),o=Ln.cacheKey(dn[e],e,r,t);return this.cache[o]||(this.cache[o]=new Ln(this.context,e,dn[e],t,si[e],r)),this.cache[o]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=e.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new e.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(t,n,i){if(this.terrain&&this.terrain.renderingToTexture)return;const r=this.style.fog;if(r){const o=r.getOpacity(this.transform.pitch),a=((t,n,i,r,o,a,s,l,c,u,d)=>{const h=t.transform,p=n.properties.get("color").toArray01();p[3]=r;const f=t.frameCounter/1e3%1;return{u_fog_matrix:i?h.calculateFogTileMatrix(i):t.identityMat,u_fog_range:n.getFovAdjustedRange(h._fov),u_fog_color:p,u_fog_horizon_blend:n.properties.get("horizon-blend"),u_fog_temporal_offset:f,u_frustum_tl:o,u_frustum_tr:a,u_frustum_br:s,u_frustum_bl:l,u_globe_pos:c,u_globe_radius:u,u_viewport:d,u_globe_transition:e.globeToMercatorTransition(h.zoom),u_is_globe:+("globe"===h.projection.name)}})(this,r,i,o,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*e.exported.devicePixelRatio,this.transform.height*e.exported.devicePixelRatio]);n.setFogUniformValues(t,a)}}setTileLoadedFlag(e){this.tileLoaded=e}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const e=this.context.gl,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,0,0,e.drawingBufferWidth,e.drawingBufferHeight,0),t}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const e=this.style&&this.style.fog;return!!e&&0!==e.getOpacity(this.transform.pitch)}getBackgroundTiles(){const t=this._backgroundTiles,n=this._backgroundTiles={},i=this.transform.coveringTiles({tileSize:512});for(const r of i)n[r.key]=t[r.key]||new e.Tile(r,512,this.transform.tileZoom,this);return n}clearBackgroundTiles(){this._backgroundTiles={}}}class Fi{constructor(e=0,t=0,n=0,i=0){if(isNaN(e)||e<0||isNaN(t)||t<0||isNaN(n)||n<0||isNaN(i)||i<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=n,this.right=i}interpolate(t,n,i){return null!=n.top&&null!=t.top&&(this.top=e.number(t.top,n.top,i)),null!=n.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,n.bottom,i)),null!=n.left&&null!=t.left&&(this.left=e.number(t.left,n.left,i)),null!=n.right&&null!=t.right&&(this.right=e.number(t.right,n.right,i)),this}getCenter(t,n){const i=e.clamp((this.left+t-this.right)/2,0,t),r=e.clamp((this.top+n-this.bottom)/2,0,n);return new e.pointGeometry(i,r)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new Fi(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Bi(t,n){const i=e.getColumn(t,3);e.fromQuat(t,n),e.setColumn(t,3,i)}function Ni(t,n){const i=e.identity$1([]);return e.rotateZ$1(i,i,-n),e.rotateX$1(i,i,-t),i}function ji(t,n){const i=[t[0],t[1],0],r=[n[0],n[1],0];if(e.length(i)>=1e-15){const t=e.normalize([],i);e.scale$2(r,t,e.dot(r,t)),n[0]=r[0],n[1]=r[1]}const o=e.cross([],n,t);if(e.len(o)<1e-15)return null;const a=Math.atan2(-o[1],o[0]);return Ni(Math.atan2(Math.sqrt(t[0]*t[0]+t[1]*t[1]),-t[2]),a)}class Vi{constructor(e,t){this.position=e,this.orientation=t}get position(){return this._position}set position(t){if(t){const n=t instanceof e.MercatorCoordinate?t:new e.MercatorCoordinate(t[0],t[1],t[2]);this._renderWorldCopies&&(n.x=e.wrap(n.x,0,1)),this._position=n}else this._position=null}lookAtPoint(t,n){if(this.orientation=null,!this.position)return;const i=this._elevation?this._elevation.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(t)):0,r=this.position,o=e.MercatorCoordinate.fromLngLat(t,i),a=[o.x-r.x,o.y-r.y,o.z-r.z];n||(n=[0,0,1]),n[2]=Math.abs(n[2]),this.orientation=ji(a,n)}setPitchBearing(t,n){this.orientation=Ni(e.degToRad(t),e.degToRad(-n))}}class Wi{constructor(t,n){this._transform=e.identity([]),this.orientation=n,this.position=t}get mercatorPosition(){const t=this.position;return new e.MercatorCoordinate(t[0],t[1],t[2])}get position(){const t=e.getColumn(this._transform,3);return[t[0],t[1],t[2]]}set position(t){var n;t&&e.setColumn(this._transform,3,[(n=t)[0],n[1],n[2],1])}get orientation(){return this._orientation}set orientation(t){this._orientation=t||e.identity$1([]),t&&Bi(this._transform,this._orientation)}getPitchBearing(){const e=this.forward(),t=this.right();return{bearing:Math.atan2(-t[1],t[0]),pitch:Math.atan2(Math.sqrt(e[0]*e[0]+e[1]*e[1]),-e[2])}}setPitchBearing(e,t){this._orientation=Ni(e,t),Bi(this._transform,this._orientation)}forward(){const t=e.getColumn(this._transform,2);return[-t[0],-t[1],-t[2]]}up(){const t=e.getColumn(this._transform,1);return[-t[0],-t[1],-t[2]]}right(){const t=e.getColumn(this._transform,0);return[t[0],t[1],t[2]]}getCameraToWorld(t,n){const i=new Float64Array(16);return e.invert(i,this.getWorldToCamera(t,n)),i}getWorldToCameraPosition(t,n,i){const r=this.position;e.scale$2(r,r,-t);const o=new Float64Array(16);return e.fromScaling(o,[i,i,i]),e.translate(o,o,r),o[10]*=n,o}getWorldToCamera(t,n){const i=new Float64Array(16),r=new Float64Array(4),o=this.position;return e.conjugate(r,this._orientation),e.scale$2(o,o,-t),e.fromQuat(i,r),e.translate(i,i,o),i[1]*=-1,i[5]*=-1,i[9]*=-1,i[13]*=-1,i[8]*=n,i[9]*=n,i[10]*=n,i[11]*=n,i}getCameraToClipPerspective(t,n,i,r){const o=new Float64Array(16);return e.perspective(o,t,n,i,r),o}getDistanceToElevation(t,n=!1){const i=0===t?0:e.mercatorZfromAltitude(t,n?e.latFromMercatorY(this.position[1]):this.position[1]),r=this.forward();return(i-this.position[2])/r[2]}clone(){return new Wi([...this.position],[...this.orientation])}}function Ui(t,n){const i=Xi(t.projection,t.zoom,t.width,t.height),r=function(t,n,i,r,o){const a=new e.LngLat(i.lng-180*Gi,i.lat),s=new e.LngLat(i.lng+180*Gi,i.lat),l=t.project(a.lng,a.lat),c=t.project(s.lng,s.lat),u=-Math.atan2(c.y-l.y,c.x-l.x),d=e.MercatorCoordinate.fromLngLat(i);d.y=e.clamp(d.y,-.999975,.999975);const h=d.toLngLat(),p=t.project(h.lng,h.lat),f=e.MercatorCoordinate.fromLngLat(h);f.x+=Gi;const m=f.toLngLat(),g=t.project(m.lng,m.lat),v=qi(g.x-p.x,g.y-p.y,u),y=e.MercatorCoordinate.fromLngLat(h);y.y+=Gi;const x=y.toLngLat(),b=t.project(x.lng,x.lat),_=qi(b.x-p.x,b.y-p.y,u),w=Math.abs(v.x)/Math.abs(_.y),k=e.identity([]);e.rotateZ(k,k,-u*(1-(o?0:r)));const S=e.identity([]);return e.scale(S,S,[1,1-(1-w)*r,1]),S[4]=-_.x/_.y*r,e.rotateZ(S,S,u),e.multiply(S,k,S),S}(t.projection,0,t.center,i,n),o=Hi(t);return e.scale(r,r,[o,o,1]),r}function Hi(t){const n=t.projection,i=Xi(t.projection,t.zoom,t.width,t.height),r=Yi(n,t.center),o=Yi(n,e.LngLat.convert(n.center));return Math.pow(2,r*i+(1-i)*o)}function Xi(t,n,i,r,o=1/0){const a=t.range;if(!a)return 0;const s=Math.min(o,Math.max(i,r)),l=Math.log(s/1024)/Math.LN2;return e.smoothstep(a[0]+l,a[1]+l,n)}const Gi=1/4e4;function Yi(t,n){const i=e.clamp(n.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),r=new e.LngLat(n.lng-180*Gi,i),o=new e.LngLat(n.lng+180*Gi,i),a=t.project(r.lng,i),s=t.project(o.lng,i),l=e.MercatorCoordinate.fromLngLat(r),c=e.MercatorCoordinate.fromLngLat(o),u=s.x-a.x,d=s.y-a.y,h=c.x-l.x,p=c.y-l.y,f=Math.sqrt((h*h+p*p)/(u*u+d*d));return Math.log(f)/Math.LN2}function qi(e,t,n){const i=Math.cos(n),r=Math.sin(n);return{x:e*i-t*r,y:e*r+t*i}}class Ki{constructor(t,n,i,r,o,a,s){this.tileSize=512,this._renderWorldCopies=void 0===o||o,this._minZoom=t||0,this._maxZoom=n||22,this._minPitch=null==i?0:i,this._maxPitch=null==r?60:r,this.setProjection(a),this.setMaxBounds(s),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Fi,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new Wi,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const e=new Ki(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return e._elevation=this._elevation,e._centerAltitude=this._centerAltitude,e._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,e.tileSize=this.tileSize,e.mercatorFromTransition=this.mercatorFromTransition,e.width=this.width,e.height=this.height,e.cameraElevationReference=this.cameraElevationReference,e._center=this._center,e._setZoom(this.zoom),e._seaLevelZoom=this._seaLevelZoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._nearZ=this._nearZ,e._farZ=this._farZ,e._averageElevation=this._averageElevation,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._camera=this._camera.clone(),e._calcMatrices(),e.freezeTileCoverage=this.freezeTileCoverage,e.frustumCorners=this.frustumCorners,e}get elevation(){return this._elevation}set elevation(e){this._elevation!==e&&(this._elevation=e,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(e,t=!1){const n=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(null==this._seaLevelZoom||n)&&this._updateCameraOnTerrain(),(e||n)&&this._constrainCamera(t),this._calcMatrices()}getProjection(){return e.pick(this.projection,["name","center","parallels"])}setProjection(n){this.projectionOptions=n||{name:"mercator"};const i=this.projection?this.getProjection():void 0;this.projection=e.getProjection(this.projectionOptions);const r=!t(i,this.getProjection());return r&&this._calcMatrices(),this.mercatorFromTransition=!1,r}setMercatorFromTransition(){const t=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=e.getProjection({name:"mercator"});const n=t!==this.projection.name;return n&&this._calcMatrices(),n}get minZoom(){return this._minZoom}set minZoom(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}get maxZoom(){return this._maxZoom}set maxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}get minPitch(){return this._minPitch}set minPitch(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))}get maxPitch(){return this._maxPitch}set maxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))}get renderWorldCopies(){return this._renderWorldCopies&&!0===this.projection.supportsWorldCopies}set renderWorldCopies(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const e=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(e))}get cameraWorldSize(){const e=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(e))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return e.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new e.pointGeometry(this.width,this.height)}get bearing(){return e.wrap(this.rotation,-180,180)}set bearing(e){this.rotation=e}get rotation(){return-this.angle/Math.PI*180}set rotation(t){const n=-t*Math.PI/180;var i;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=(i=new e.ARRAY_TYPE(4),e.ARRAY_TYPE!=Float32Array&&(i[1]=0,i[2]=0),i[0]=1,i[3]=1,i),function(e,t,n){var i=t[0],r=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);e[0]=i*l+o*s,e[1]=r*l+a*s,e[2]=i*-s+o*l,e[3]=r*-s+a*l}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(t){const n=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())}get aspect(){return this.width/this.height}get fovX(){return this._fov}get fovY(){const e=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/e)}set fov(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=e.degToRad(t),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(e){this._averageElevation=e,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(e){const t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._setZoom(t),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(e){this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const e=this._elevation;this._centerAltitude=e.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=e.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){void 0!==this._centerAltitudeValidForExaggeration&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const t=this._elevation,n=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],i=this.horizonLineFromTop();let r=0,o=0;for(let a=0;a<n.length;a++){const s=new e.pointGeometry(n[a][0]*this.width,i+n[a][1]*(this.height-i)),l=t.pointCoordinate(s);if(!l)continue;const c=1/Math.hypot(l[0]-this._camera.position[0],l[1]-this._camera.position[1]);r+=l[3]*c,o+=c}return 0===o?NaN:r/o}get center(){return this._center}set center(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(null==this._seaLevelZoom||!this._elevation)return;const e=this._seaLevelZoom,t=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),n=this.pixelsPerMeter/this.worldSize*t,i=this._mercatorZfromZoom(e),r=this._mercatorZfromZoom(this._maxZoom),o=Math.max(i-n,r);this._setZoom(this._zoomFromMercatorZ(o))}get padding(){return this._edgeInsets.toJSON()}set padding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}computeZoomRelativeTo(t){const n=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,t.toAltitude()));let i;i=t.z<this._camera.position[2]?[n.x,n.y,n.z]:[t.x,t.y,t.z];const r=e.length(e.sub([],this._camera.position,i));return e.clamp(this._zoomFromMercatorZ(r),this._minZoom,this._maxZoom)}setFreeCameraOptions(t){if(!this.height)return;if(!t.position&&!t.orientation)return;this._updateCameraState();let n=!1;if(t.orientation&&!e.exactEquals(t.orientation,this._camera.orientation)&&(n=this._setCameraOrientation(t.orientation)),t.position){const i=[t.position.x,t.position.y,t.position.z];e.exactEquals$1(i,this._camera.position)||(this._setCameraPosition(i),n=!0)}n&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const t=this._camera.position,n=new Vi;return n.position=new e.MercatorCoordinate(t[0],t[1],t[2]),n.orientation=this._camera.orientation,n._elevation=this.elevation,n._renderWorldCopies=this.renderWorldCopies,n}_setCameraOrientation(t){if(!e.length$1(t))return!1;e.normalize$1(t,t);const n=e.transformQuat([],[0,0,-1],t),i=e.transformQuat([],[0,-1,0],t);if(i[2]<0)return!1;const r=ji(n,i);return!!r&&(this._camera.orientation=r,!0)}_setCameraPosition(t){const n=this.zoomScale(this.minZoom)*this.tileSize,i=this.zoomScale(this.maxZoom)*this.tileSize,r=this.cameraToCenterDistance;t[2]=e.clamp(t[2],r/i,r/n),this._camera.position=t}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,t,n){this._unmodified=!1,this._edgeInsets.interpolate(e,t,n),this._constrain(),this._calcMatrices()}coveringZoomLevel(e){const t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}getVisibleUnwrappedCoordinates(t){const n=[new e.UnwrappedTileID(0,t)];if(this.renderWorldCopies){const i=this.pointCoordinate(new e.pointGeometry(0,0)),r=this.pointCoordinate(new e.pointGeometry(this.width,0)),o=this.pointCoordinate(new e.pointGeometry(this.width,this.height)),a=this.pointCoordinate(new e.pointGeometry(0,this.height)),s=Math.floor(Math.min(i.x,r.x,o.x,a.x)),l=Math.floor(Math.max(i.x,r.x,o.x,a.x)),c=1;for(let u=s-c;u<=l+c;u++)0!==u&&n.push(new e.UnwrappedTileID(u,t))}return n}coveringTiles(t){let n=this.coveringZoomLevel(t);const i=n,r=this.elevation&&!t.isTerrainDEM,o="mercator"===this.projection.name;if(void 0!==t.minzoom&&n<t.minzoom)return[];void 0!==t.maxzoom&&n>t.maxzoom&&(n=t.maxzoom);const a=this.locationCoordinate(this.center),s=this.center.lat,l=1<<n,c=[l*a.x,l*a.y,0],u="globe"===this.projection.name,d=!u,h=e.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,n,d),p=u?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),f=l*e.mercatorZfromAltitude(1,this.center.lat),m=this._camera.position[2]/e.mercatorZfromAltitude(1,this.center.lat),g=[l*p.x,l*p.y,m*(d?1:f)],v=this.cameraToCenterDistance/t.tileSize*(t.roundZoom?1:.502),y=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?n:0,x=t.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,b=t.isTerrainDEM?-x:this._elevation?this._elevation.getMinElevationBelowMSL():0,_=this.projection.isReprojectedInTileSpace?Hi(this):1,w=t=>{const n=1/4e4,i=new e.MercatorCoordinate(t.x+n,t.y,t.z),r=new e.MercatorCoordinate(t.x,t.y+n,t.z),o=t.toLngLat(),a=i.toLngLat(),s=r.toLngLat(),l=this.locationCoordinate(o),c=this.locationCoordinate(a),u=this.locationCoordinate(s),d=Math.hypot(c.x-l.x,c.y-l.y),h=Math.hypot(u.x-l.x,u.y-l.y);return Math.sqrt(d*h)*_/n},k=t=>{const n=x,i=b;return{aabb:e.tileAABB(this,l,0,0,0,t,i,n,this.projection),zoom:0,x:0,y:0,minZ:i,maxZ:n,wrap:t,fullyVisible:!1}},S=[];let C=[];const E=n,T=t.reparseOverscaled?i:n,M=e=>e*e,P=M((m-this._centerAltitude)*f),A=e=>{if(!this._elevation||!e.tileID||!o)return;const t=this._elevation.getMinMaxForTile(e.tileID),n=e.aabb;t?(n.min[2]=t.min,n.max[2]=t.max,n.center[2]=(n.min[2]+n.max[2])/2):(e.shouldSplit=I(e),e.shouldSplit||(n.min[2]=n.max[2]=n.center[2]=this._centerAltitude))},I=t=>{if(t.zoom<y)return!0;if(t.zoom===E)return!1;if(null!=t.shouldSplit)return t.shouldSplit;const n=t.aabb.distanceX(g),o=t.aabb.distanceY(g);let a=P,l=1;if(u){a=M(t.aabb.distanceZ(g));const n=Math.pow(2,t.zoom),i=e.latFromMercatorY((t.y+1)/n),r=e.latFromMercatorY(t.y/n),o=Math.min(Math.max(s,i),r),c=e.circumferenceAtLatitude(o)/e.circumferenceAtLatitude(s);if(l=o===s?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,c/this._mercatorScaleRatio),this.zoom<=e.GLOBE_ZOOM_THRESHOLD_MIN&&t.zoom===E-1&&c>=.9)return!0}else if(r&&(a=M(t.aabb.distanceZ(g)*f)),this.projection.isReprojectedInTileSpace&&i<=5){const n=Math.pow(2,t.zoom),i=w(new e.MercatorCoordinate((t.x+.5)/n,(t.y+.5)/n));l=i>.85?1:i}const c=n*n+o*o+a,d=M((1<<E-t.zoom)*v*l*((e,t)=>{if(t*M(.707)<e)return 1;const n=Math.sqrt(t/e);return n/(1.4144271570014144+(Math.pow(1.1,n-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(a,P),c));return c<d};if(this.renderWorldCopies)for(let e=1;e<=3;e++)S.push(k(-e)),S.push(k(e));for(S.push(k(0));S.length>0;){const i=S.pop(),a=i.x,s=i.y;let d=i.fullyVisible;if(!d){const e=i.aabb.intersects(h);if(0===e)continue;d=2===e}if(i.zoom!==E&&I(i))for(let t=0;t<4;t++){const n=(a<<1)+t%2,c=(s<<1)+(t>>1),h={aabb:o?i.aabb.quadrant(t):e.tileAABB(this,l,i.zoom+1,n,c,i.wrap,i.minZ,i.maxZ,this.projection),zoom:i.zoom+1,x:n,y:c,wrap:i.wrap,fullyVisible:d,tileID:void 0,shouldSplit:void 0,minZ:i.minZ,maxZ:i.maxZ};r&&!u&&(h.tileID=new e.OverscaledTileID(i.zoom+1===E?T:i.zoom+1,i.wrap,i.zoom+1,n,c),A(h)),S.push(h)}else{const r=i.zoom===E?T:i.zoom;if(t.minzoom&&t.minzoom>r)continue;const o=c[0]-(.5+a+(i.wrap<<i.zoom))*(1<<n-i.zoom),l=c[1]-.5-s,u=i.tileID?i.tileID:new e.OverscaledTileID(r,i.wrap,i.zoom,a,s);C.push({tileID:u,distanceSq:o*o+l*l})}}if(this.fogCullDistSq){const n=this.fogCullDistSq,i=this.horizonLineFromTop();C=C.filter((r=>{const o=[0,0,0,1],a=[e.EXTENT,e.EXTENT,0,1],s=this.calculateFogTileMatrix(r.tileID.toUnwrapped());e.transformMat4$1(o,o,s),e.transformMat4$1(a,a,s);const l=e.getAABBPointSquareDist(o,a);if(0===l)return!0;let c=!1;const u=this._elevation;if(u&&l>n&&0!==i){const n=this.calculateProjMatrix(r.tileID.toUnwrapped());let o;t.isTerrainDEM||(o=u.getMinMaxForTile(r.tileID)),o||(o={min:b,max:x});const a=e.furthestTileCorner(this.rotation),s=[a[0]*e.EXTENT,a[1]*e.EXTENT,o.max];e.transformMat4(s,s,n),c=(1-s[1])*this.height*.5<i}return l<n||c}))}return C.sort(((e,t)=>e.distanceSq-t.distanceSq)).map((e=>e.tileID))}resize(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(e){return Math.pow(2,e)}scaleZoom(e){return Math.log(e)/Math.LN2}project(t){const n=e.clamp(t.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),i=this.projection.project(t.lng,n);return new e.pointGeometry(i.x*this.worldSize,i.y*this.worldSize)}unproject(e){return this.projection.unproject(e.x/this.worldSize,e.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(t,n){let i,r;const o=this.centerPoint;if("globe"===this.projection.name){const e=this.worldSize;i=(n.x-o.x)/e,r=(n.y-o.y)/e}else{const e=this.pointCoordinate(n),t=this.pointCoordinate(o);i=e.x-t.x,r=e.y-t.y}const a=this.locationCoordinate(t);this.setLocation(new e.MercatorCoordinate(a.x-i,a.y-r))}setLocation(e){this.center=this.coordinateLocation(e),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(e){return this.projection.locationPoint(this,e)}locationPoint3D(e){return this.projection.locationPoint(this,e,!0)}pointLocation(e){return this.coordinateLocation(this.pointCoordinate(e))}pointLocation3D(e){return this.coordinateLocation(this.pointCoordinate3D(e))}locationCoordinate(t,n){const i=n?e.mercatorZfromAltitude(n,t.lat):void 0,r=this.projection.project(t.lng,t.lat);return new e.MercatorCoordinate(r.x,r.y,i)}coordinateLocation(e){return this.projection.unproject(e.x,e.y)}pointRayIntersection(t,n){const i=null!=n?n:this._centerAltitude,r=[t.x,t.y,0,1],o=[t.x,t.y,1,1];e.transformMat4$1(r,r,this.pixelMatrixInverse),e.transformMat4$1(o,o,this.pixelMatrixInverse);const a=o[3];e.scale$1(r,r,1/r[3]),e.scale$1(o,o,1/a);const s=r[2],l=o[2];return{p0:r,p1:o,t:s===l?0:(i-s)/(l-s)}}screenPointToMercatorRay(t){const n=[t.x,t.y,0,1],i=[t.x,t.y,1,1];return e.transformMat4$1(n,n,this.pixelMatrixInverse),e.transformMat4$1(i,i,this.pixelMatrixInverse),e.scale$1(n,n,1/n[3]),e.scale$1(i,i,1/i[3]),n[2]=e.mercatorZfromAltitude(n[2],this._center.lat)*this.worldSize,i[2]=e.mercatorZfromAltitude(i[2],this._center.lat)*this.worldSize,e.scale$1(n,n,1/this.worldSize),e.scale$1(i,i,1/this.worldSize),new e.Ray([n[0],n[1],n[2]],e.normalize([],e.sub([],i,n)))}rayIntersectionCoordinate(t){const{p0:n,p1:i,t:r}=t,o=e.mercatorZfromAltitude(n[2],this._center.lat),a=e.mercatorZfromAltitude(i[2],this._center.lat);return new e.MercatorCoordinate(e.number(n[0],i[0],r)/this.worldSize,e.number(n[1],i[1],r)/this.worldSize,e.number(o,a,r))}pointCoordinate(e,t=this._centerAltitude){return this.projection.pointCoordinate(this,e.x,e.y,t)}pointCoordinate3D(t){if(!this.elevation)return this.pointCoordinate(t);let n=this.projection.pointCoordinate3D(this,t.x,t.y);if(n)return new e.MercatorCoordinate(n[0],n[1],n[2]);let i=0,r=this.horizonLineFromTop();if(t.y>r)return this.pointCoordinate(t);const o=.02*r,a=t.clone();for(let s=0;s<10&&r-i>o;s++){a.y=e.number(i,r,.66);const t=this.projection.pointCoordinate3D(this,a.x,a.y);t?(r=a.y,n=t):i=a.y}return n?new e.MercatorCoordinate(n[0],n[1],n[2]):this.pointCoordinate(t)}isPointAboveHorizon(e){return this.projection.isPointAboveHorizon(this,e)}_coordinatePoint(t,n){const i=n&&this.elevation?this.elevation.getAtPointOrZero(t,this._centerAltitude):this._centerAltitude,r=[t.x*this.worldSize,t.y*this.worldSize,i+t.toAltitude(),1];return e.transformMat4$1(r,r,this.pixelMatrix),r[3]>0?new e.pointGeometry(r[0]/r[3],r[1]/r[3]):new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getGlobeBounds(){const{top:t,left:n}=this._edgeInsets,i=this.height-this._edgeInsets.bottom,r=this.width-this._edgeInsets.right,o=this.pointCoordinate3D(new e.pointGeometry(n,t)),a=this.pointCoordinate3D(new e.pointGeometry(r,t)),s=this.pointCoordinate3D(new e.pointGeometry(r,i)),l=this.pointCoordinate3D(new e.pointGeometry(n,i));let c=Math.min(o.x,l.x),u=Math.max(a.x,s.x),d=Math.min(o.y,a.y),h=Math.max(l.y,s.y);const p=Math.pow(2,-this.zoom)/16,f=(t,n,i,r)=>{const o=(t+i)/2,a=(n+r)/2,s=new e.pointGeometry(o,a),l=this.pointCoordinate3D(s),m=Math.max(0,c-l.x,d-l.y,l.x-u,l.y-h);c=Math.min(c,l.x),u=Math.max(u,l.x),d=Math.min(d,l.y),h=Math.max(h,l.y),m>p&&(f(t,n,o,a),f(o,a,i,r))};f(n,t,r,t),f(r,t,r,i),f(r,i,n,i),f(n,i,n,t);const[m,g]=e.polesInViewport(this),v=m||g,y=m?90:e.latFromMercatorY(d),x=v?180:e.lngFromMercatorX(u),b=g?-90:e.latFromMercatorY(h),_=v?-180:e.lngFromMercatorX(c);return new e.LngLatBounds(new e.LngLat(_,b),new e.LngLat(x,y))}_getBounds(t,n){if("globe"===this.projection.name)return this._getGlobeBounds();const i=new e.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),r=new e.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),o=new e.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),a=new e.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let s=this.pointCoordinate(i,t),l=this.pointCoordinate(r,t);const c=this.pointCoordinate(o,n),u=this.pointCoordinate(a,n),d=(e,t)=>(t.y-e.y)/(t.x-e.x);return s.y>1&&l.y>=0?s=new e.MercatorCoordinate((1-u.y)/d(u,s)+u.x,1):s.y<0&&l.y<=1&&(s=new e.MercatorCoordinate(-u.y/d(u,s)+u.x,0)),l.y>1&&s.y>=0?l=new e.MercatorCoordinate((1-c.y)/d(c,l)+c.x,1):l.y<0&&s.y<=1&&(l=new e.MercatorCoordinate(-c.y/d(c,l)+c.x,0)),(new e.LngLatBounds).extend(this.coordinateLocation(s)).extend(this.coordinateLocation(l)).extend(this.coordinateLocation(u)).extend(this.coordinateLocation(c))}_getBounds3D(){const e=this.elevation;if(!e.visibleDemTiles.length||e.isUsingMockSource())return this._getBounds(0,0);const t=e.visibleDemTiles.reduce(((e,t)=>{if(t.dem){const n=t.dem.tree;e.min=Math.min(e.min,n.minimums[0]),e.max=Math.max(e.max,n.maximums[0])}return e}),{min:Number.MAX_VALUE,max:0});return this._getBounds(t.min*e.exaggeration(),t.max*e.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(e=!0){const t=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,n=this.height/2-t*(1-this._horizonShift);return e?Math.max(0,n):n}getMaxBounds(){return this.maxBounds}setMaxBounds(t){this.maxBounds=t,this.minLat=-e.MAX_MERCATOR_LATITUDE,this.maxLat=e.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,t&&(this.minLat=t.getSouth(),this.maxLat=t.getNorth(),this.minLng=t.getWest(),this.maxLng=t.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=e.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=e.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=e.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=e.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(e,t){return this.projection.createTileMatrix(this,t,e)}calculateDistanceTileData(t){const n=t.key,i=this._distanceTileDataCache;if(i[n])return i[n];const r=t.canonical,o=1/this.height,a=this.cameraWorldSize,s=a/this.zoomScale(r.z),l=(r.x+Math.pow(2,r.z)*t.wrap)*s,c=r.y*s,u=this.point;u.x*=a/this.worldSize,u.y*=a/this.worldSize;const d=this.angle,h=Math.sin(-d),p=-Math.cos(-d);return i[n]={bearing:[h,p],center:[(u.x-l)*o,(u.y-c)*o],scale:s/e.EXTENT*o},i[n]}calculateFogTileMatrix(t){const n=t.key,i=this._fogTileMatrixCache;if(i[n])return i[n];const r=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,t);return e.multiply(r,this.worldToFogMatrix,r),i[n]=new Float32Array(r),i[n]}calculateProjMatrix(t,n=!1){const i=t.key,r=n?this._alignedProjMatrixCache:this._projMatrixCache;if(r[i])return r[i];const o=this.calculatePosMatrix(t,this.worldSize);return e.multiply(o,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:n?this.alignedProjMatrix:this.projMatrix,o),r[i]=new Float32Array(o),r[i]}calculatePixelsToTileUnitsMatrix(t){const n=t.tileID.key,i=this._pixelsToTileUnitsCache;if(i[n])return i[n];const r=function(t,n){const{scale:i}=t.tileTransform,r=i*e.EXTENT/(t.tileSize*Math.pow(2,n.zoom-t.tileID.overscaledZ+t.tileID.canonical.z));return o=new Float32Array(4),l=(a=n.inverseAdjustmentMatrix)[1],c=a[2],u=a[3],h=(s=[r,r])[1],o[0]=a[0]*(d=s[0]),o[1]=l*d,o[2]=c*h,o[3]=u*h,o;var o,a,s,l,c,u,d,h}(t,this);return i[n]=r,i[n]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation||"globe"===this.projection.name)return;const t=this._elevation;this._updateCameraState();const n=e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,i=this._computeCameraPosition(n),r=this._camera.forward(),o=e.mercatorZfromAltitude(1,this._center.lat);i[2]/=o,r[2]/=o,e.normalize(r,r);const a=t.raycast(i,r,t.exaggeration());if(a){const t=e.scaleAndAdd([],i,r,a),n=new e.MercatorCoordinate(t[0],t[1],e.mercatorZfromAltitude(t[2],e.latFromMercatorY(t[1]))),s=(n.z+e.length([n.x-i[0],n.y-i[1],n.z-i[2]*o]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(s),this._centerAltitude=n.toAltitude(),this._center=this.coordinateLocation(n),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(t=!1){if(!this._elevation)return;const n=this._elevation,i=e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,r=this._computeCameraPosition(i),o=n.getAtPointOrZero(new e.MercatorCoordinate(...r)),a=this.pixelsPerMeter/this.worldSize*o,s=this._minimumHeightOverTerrain(),l=r[2]-a;if(l<=s)if(l<0||t){const t=this.locationCoordinate(this._center,this._centerAltitude),n=[r[0],r[1],t.z-r[2]],i=e.length(n);n[2]-=(s-l)/this._pixelsPerMercatorPixel;const o=e.length(n);if(0===o)return;e.scale$2(n,n,i/o*this._pixelsPerMercatorPixel),this._camera.position=[r[0],r[1],t.z*this._pixelsPerMercatorPixel-n[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const t="globe"===this.projection.name||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||t){const n=this.center;return n.lat=e.clamp(n.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!t)&&(n.lng=e.clamp(n.lng,this.minLng,this.maxLng)),this.center=n,void(this._constraining=!1)}const n=this._unmodified,{x:i,y:r}=this.point;let o=0,a=i,s=r;const l=this.width/2,c=this.height/2,u=this.worldMinY*this.scale,d=this.worldMaxY*this.scale;if(r-c<u&&(s=u+c),r+c>d&&(s=d-c),d-u<this.height&&(o=Math.max(o,this.height/(d-u)),s=(d+u)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const e=this.worldMinX*this.scale,t=this.worldMaxX*this.scale,n=this.worldSize/2-(e+t)/2;a=(i+n+this.worldSize)%this.worldSize-n,a-l<e&&(a=e+l),a+l>t&&(a=t-l),t-e<this.width&&(o=Math.max(o,this.width/(t-e)),a=(t+e)/2)}a===i&&s===r||(this.center=this.unproject(new e.pointGeometry(a,s))),o&&(this.zoom+=this.scaleZoom(o)),this._constrainCamera(),this._unmodified=n,this._constraining=!1}_minZoomForBounds(){let e=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(e=Math.max(e,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),e}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const t=this.centerOffset,n=this.pixelsPerMeter;"globe"===this.projection.name&&(this._mercatorScaleRatio=e.mercatorZfromAltitude(1,this.center.lat)/e.mercatorZfromAltitude(1,e.GLOBE_SCALE_MATCH_LATITUDE));const i=Xi(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,i),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const r=this._camera.getWorldToCamera(this.worldSize,"meters"===this.projection.zAxisUnit?n:1),o=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);o[8]=2*-t.x/this.width,o[9]=2*t.y/this.height;let a=e.mul([],o,r);if(this.projection.isReprojectedInTileSpace){const t=this.locationCoordinate(this.center),n=e.identity([]);e.translate(n,n,[t.x*this.worldSize,t.y*this.worldSize,0]),e.multiply(n,n,Ui(this)),e.translate(n,n,[-t.x*this.worldSize,-t.y*this.worldSize,0]),e.multiply(a,a,n),this.inverseAdjustmentMatrix=function(e){const t=Ui(e,!0);return y([],[t[0],t[1],t[4],t[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=e.scale([],a,[this.worldSize,this.worldSize,this.worldSize/n,1]),this.projMatrix=a,this.invProjMatrix=e.invert(new Float64Array(16),this.projMatrix);const s=e.invert([],o);this.frustumCorners=e.FrustumCorners.fromInvProjectionMatrix(s,this.horizonLineFromTop(),this.height);const l=new Float32Array(16);e.identity(l),e.scale(l,l,[1,-1,1]),e.rotateX(l,l,this._pitch),e.rotateZ(l,l,this.angle);const c=e.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),u=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;c[8]=2*-t.x/this.width,c[9]=2*(t.y+u)/this.height,this.skyboxMatrix=e.multiply(l,c,l);const d=this.point,h=d.x,p=d.y,f=this.width%2/2,m=this.height%2/2,g=Math.cos(this.angle),v=Math.sin(this.angle),x=h-Math.round(h)+g*f+v*m,b=p-Math.round(p)+g*m+v*f,_=new Float64Array(a);if(e.translate(_,_,[x>.5?x-1:x,b>.5?b-1:b,0]),this.alignedProjMatrix=_,a=e.create(),e.scale(a,a,[this.width/2,-this.height/2,1]),e.translate(a,a,[1,-1,0]),this.labelPlaneMatrix=a,a=e.create(),e.scale(a,a,[1,-1,1]),e.translate(a,a,[-1,-1,0]),e.scale(a,a,[2/this.width,2/this.height,1]),this.glCoordMatrix=a,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},a=e.invert(new Float64Array(16),this.pixelMatrix),!a)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=a,"globe"===this.projection.name||this.mercatorFromTransition){this.globeMatrix=e.calculateGlobeMatrix(this);const t=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=e.transformMat4(t,t,r),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=a;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const t=this.cameraWorldSizeForFog,n=this.cameraPixelsPerMeter,i=this._camera.position,r=1/this.height/this._pixelsPerMercatorPixel,o=[t,t,n];e.scale$2(o,o,r),e.scale$2(i,i,-1),e.multiply$2(i,i,o);const a=e.create();e.translate(a,a,i),e.scale(a,a,o),this.mercatorFogMatrix=a,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(t,n,r)}_computeCameraPosition(e){const t=(e=e||this.pixelsPerMeter)/this.pixelsPerMeter,n=this._camera.forward(),i=this.point,r=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*t-e/this.worldSize*this._centerAltitude;return[i.x/this.worldSize-n[0]*r,i.y/this.worldSize-n[1]*r,e/this.worldSize*this._centerAltitude-n[2]*r]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(t){const n=this._maxCameraBoundsDistance()*Math.cos(this._pitch),i=this._camera.position[2],r=t[2];let o=1;this.projection.wrap&&(this.center=this.center.wrap()),r>0&&(o=Math.min((n-i)/r,1)),this._camera.position=e.scaleAndAdd([],this._camera.position,t,o),this._updateStateFromCamera()}_updateStateFromCamera(){const t=this._camera.position,n=this._camera.forward(),{pitch:i,bearing:r}=this._camera.getPitchBearing(),o=e.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,a=this._mercatorZfromZoom(this._maxZoom)*Math.cos(e.degToRad(this._maxPitch)),s=Math.max((t[2]-o)/Math.cos(i),a),l=this._zoomFromMercatorZ(s);e.scaleAndAdd(t,t,n,s),this._pitch=e.clamp(i,e.degToRad(this.minPitch),e.degToRad(this.maxPitch)),this.angle=e.wrap(r,-Math.PI,Math.PI),this._setZoom(e.clamp(l,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new e.MercatorCoordinate(t[0],t[1],t[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(e){return Math.pow(2,e)*this.tileSize}_mercatorZfromZoom(e){return this.cameraToCenterDistance/this._worldSizeFromZoom(e)}_minimumHeightOverTerrain(){const e=Math.min((null!=this._seaLevelZoom?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(e)}_zoomFromMercatorZ(e){return this.scaleZoom(this.cameraToCenterDistance/(e*this.tileSize))}zoomFromMercatorZAdjusted(e){const t=t=>{const n=this.getCameraToCenterDistance(this.projection,t);return this.scaleZoom(n/(e*this.tileSize))};let n,i=t(this.zoom),r=Math.abs(i-t(i));for(;n!==r;)i=t(i),n=r,r=Math.abs(i-t(i));return i}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(e.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(t,n){const i=Math.min(t.x,n.x),r=Math.max(t.x,n.x),o=Math.min(t.y,n.y),a=Math.max(t.y,n.y);if(o<this.horizonLineFromTop(!1))return!0;if("mercator"!==this.projection.name)return!1;const s=[new e.pointGeometry(i,o),new e.pointGeometry(r,a),new e.pointGeometry(i,a),new e.pointGeometry(r,o)],l=this.renderWorldCopies?-3:0,c=this.renderWorldCopies?4:1;for(const e of s){const t=this.pointRayIntersection(e);if(t.t<0)return!0;const n=this.rayIntersectionCoordinate(t);if(n.x<l||n.y<0||n.x>c||n.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+e.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new e.pointGeometry(0,0),new e.pointGeometry(this.width,this.height))}zoomDeltaToMovement(t,n){const i=e.length(e.sub([],this._camera.position,t)),r=this._zoomFromMercatorZ(i)+n;return i-this._mercatorZfromZoom(r)}getCameraPoint(){if("globe"===this.projection.name){const t=function([t,n,i],r){const o=[t,n,i,1];e.transformMat4$1(o,o,r);const a=o[3]=Math.max(o[3],1e-6);return o[0]/=a,o[1]/=a,o[2]/=a,o}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new e.pointGeometry(t[0],t[1])}{const t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.pointGeometry(0,t))}}getCameraToCenterDistance(e,t=this.zoom){const n=Xi(e,t,this.width,this.height,1024),i=e.pixelSpaceConversion(this.center.lat,this.worldSize,n);return.5/Math.tan(.5*this._fov)*this.height*i}getWorldToCameraMatrix(){const t=this._camera.getWorldToCamera(this.worldSize,"meters"===this.projection.zAxisUnit?this.pixelsPerMeter:1);return"globe"===this.projection.name&&e.multiply(t,t,this.globeMatrix),t}}function $i(e,t){let n=!1,i=null;const r=()=>{i=null,n&&(e(),i=setTimeout(r,t),n=!1)};return()=>(n=!0,i||r(),i)}class Zi{constructor(t){this._hashName=t&&encodeURIComponent(t),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=$i(this._updateHashUnthrottled.bind(this),300)}addTo(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),t.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),e.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const t=this._map;if(!t)return"";const n=Ji(t);if(this._hashName){const t=this._hashName;let i=!1;const r=e.window.location.hash.slice(1).split("&").map((e=>{const r=e.split("=")[0];return r===t?(i=!0,`${r}=${n}`):e})).filter((e=>e));return i||r.push(`${t}=${n}`),`#${r.join("&")}`}return`#${n}`}_getCurrentHash(){const t=e.window.location.hash.replace("#","");if(this._hashName){let e;return t.split("&").map((e=>e.split("="))).forEach((t=>{t[0]===this._hashName&&(e=t)})),(e&&e[1]||"").split("/")}return t.split("/")}_onHashChange(){const e=this._map;if(!e)return!1;const t=this._getCurrentHash();if(t.length>=3&&!t.some((e=>isNaN(e)))){const n=e.dragRotate.isEnabled()&&e.touchZoomRotate.isEnabled()?+(t[3]||0):e.getBearing();return e.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:n,pitch:+(t[4]||0)}),!0}return!1}_updateHashUnthrottled(){const t=e.window.location.href.replace(/(#.+)?$/,this.getHashString());e.window.history.replaceState(e.window.history.state,null,t)}}function Ji(e,t){const n=e.getCenter(),i=Math.round(100*e.getZoom())/100,r=Math.ceil((i*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,r),a=Math.round(n.lng*o)/o,s=Math.round(n.lat*o)/o,l=e.getBearing(),c=e.getPitch();let u=t?`/${a}/${s}/${i}`:`${i}/${s}/${a}`;return(l||c)&&(u+="/"+Math.round(10*l)/10),c&&(u+=`/${Math.round(c)}`),u}const Qi={linearity:.3,easing:e.bezier(0,0,.3,1)},er=e.extend({deceleration:2500,maxSpeed:1400},Qi),tr=e.extend({deceleration:20,maxSpeed:1400},Qi),nr=e.extend({deceleration:1e3,maxSpeed:360},Qi),ir=e.extend({deceleration:1e3,maxSpeed:90},Qi);class rr{constructor(e){this._map=e,this.clear()}clear(){this._inertiaBuffer=[]}record(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.exported.now(),settings:t})}_drainInertiaBuffer(){const t=this._inertiaBuffer,n=e.exported.now();for(;t.length>0&&n-t[0].time>160;)t.shift()}_onMoveEnd(t){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const n={zoom:0,bearing:0,pitch:0,pan:new e.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:e}of this._inertiaBuffer)n.zoom+=e.zoomDelta||0,n.bearing+=e.bearingDelta||0,n.pitch+=e.pitchDelta||0,e.panDelta&&n.pan._add(e.panDelta),e.around&&(n.around=e.around),e.pinchAround&&(n.pinchAround=e.pinchAround);const i=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,r={};if(n.pan.mag()){const o=ar(n.pan.mag(),i,e.extend({},er,t||{}));r.offset=n.pan.mult(o.amount/n.pan.mag()),r.center=this._map.transform.center,or(r,o)}if(n.zoom){const e=ar(n.zoom,i,tr);r.zoom=this._map.transform.zoom+e.amount,or(r,e)}if(n.bearing){const t=ar(n.bearing,i,nr);r.bearing=this._map.transform.bearing+e.clamp(t.amount,-179,179),or(r,t)}if(n.pitch){const e=ar(n.pitch,i,ir);r.pitch=this._map.transform.pitch+e.amount,or(r,e)}if(r.zoom||r.bearing){const e=void 0===n.pinchAround?n.around:n.pinchAround;r.around=e?this._map.unproject(e):this._map.getCenter()}return this.clear(),r.noMoveStart=!0,r}}function or(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function ar(t,n,i){const{maxSpeed:r,linearity:o,deceleration:a}=i,s=e.clamp(t*o/(n/1e3),-r,r),l=Math.abs(s)/(a*o);return{easing:i.easing,duration:1e3*l,amount:s*(l/2)}}class sr extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,n,i,r={}){const o=f(n.getCanvasContainer(),i),a=n.unproject(o);super(t,e.extend({point:o,lngLat:a,originalEvent:i},r)),this._defaultPrevented=!1,this.target=n}}class lr extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,n,i){const r="touchend"===t?i.changedTouches:i.touches,o=m(n.getCanvasContainer(),r),a=o.map((e=>n.unproject(e))),s=o.reduce(((e,t,n,i)=>e.add(t.div(i.length))),new e.pointGeometry(0,0));super(t,{points:o,point:s,lngLats:a,lngLat:n.unproject(s),originalEvent:i}),this._defaultPrevented=!1}}class cr extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,n){super(e,{originalEvent:n}),this._defaultPrevented=!1}}class ur{constructor(e,t){this._map=e,this._clickTolerance=t.clickTolerance}reset(){this._mousedownPos=void 0}wheel(e){return this._firePreventable(new cr(e.type,this._map,e))}mousedown(e,t){return this._mousedownPos=t,this._firePreventable(new sr(e.type,this._map,e))}mouseup(e){this._map.fire(new sr(e.type,this._map,e))}preclick(t){const n=e.extend({},t);n.type="preclick",this._map.fire(new sr(n.type,this._map,n))}click(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||(this.preclick(e),this._map.fire(new sr(e.type,this._map,e)))}dblclick(e){return this._firePreventable(new sr(e.type,this._map,e))}mouseover(e){this._map.fire(new sr(e.type,this._map,e))}mouseout(e){this._map.fire(new sr(e.type,this._map,e))}touchstart(e){return this._firePreventable(new lr(e.type,this._map,e))}touchmove(e){this._map.fire(new lr(e.type,this._map,e))}touchend(e){this._map.fire(new lr(e.type,this._map,e))}touchcancel(e){this._map.fire(new lr(e.type,this._map,e))}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class dr{constructor(e){this._map=e}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(e){this._map.fire(new sr(e.type,this._map,e))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new sr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new sr(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class hr{constructor(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(u(),this._startPos=this._lastPos=t,this._active=!0)}mousemoveWindow(e,t){if(!this._active)return;const n=t,i=this._startPos,r=this._lastPos;if(!i||!r||r.equals(n)||!this._box&&n.dist(i)<this._clickTolerance)return;this._lastPos=n,this._box||(this._box=o("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));const a=Math.min(i.x,n.x),s=Math.max(i.x,n.x),l=Math.min(i.y,n.y),c=Math.max(i.y,n.y);this._map._requestDomTask((()=>{this._box&&(this._box.style.transform=`translate(${a}px,${l}px)`,this._box.style.width=s-a+"px",this._box.style.height=c-l+"px")}))}mouseupWindow(t,n){if(!this._active)return;const i=this._startPos,r=n;if(i&&0===t.button){if(this.reset(),p(),i.x!==r.x||i.y!==r.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:e=>e.fitScreenCoordinates(i,r,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",t)}}keydown(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),d(),delete this._startPos,delete this._lastPos}_fireEvent(t,n){return this._map.fire(new e.Event(t,{originalEvent:n}))}}function pr(e,t){const n={};for(let i=0;i<e.length;i++)n[e[i].identifier]=t[i];return n}class fr{constructor(e){this.reset(),this.numTouches=e.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(t,n,i){(this.centroid||i.length>this.numTouches)&&(this.aborted=!0),this.aborted||(0===this.startTime&&(this.startTime=t.timeStamp),i.length===this.numTouches&&(this.centroid=function(t){const n=new e.pointGeometry(0,0);for(const e of t)n._add(e);return n.div(t.length)}(n),this.touches=pr(i,n)))}touchmove(e,t,n){if(this.aborted||!this.centroid)return;const i=pr(n,t);for(const r in this.touches){const e=this.touches[r],t=i[r];(!t||t.dist(e)>30)&&(this.aborted=!0)}}touchend(e,t,n){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){const e=!this.aborted&&this.centroid;if(this.reset(),e)return e}}}class mr{constructor(e){this.singleTap=new fr(e),this.numTaps=e.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(e,t,n){this.singleTap.touchstart(e,t,n)}touchmove(e,t,n){this.singleTap.touchmove(e,t,n)}touchend(e,t,n){const i=this.singleTap.touchend(e,t,n);if(i){const t=e.timeStamp-this.lastTime<500,n=!this.lastTap||this.lastTap.dist(i)<30;if(t&&n||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=i,this.count===this.numTaps)return this.reset(),i}}}class gr{constructor(){this._zoomIn=new mr({numTouches:1,numTaps:2}),this._zoomOut=new mr({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(e,t,n){this._zoomIn.touchstart(e,t,n),this._zoomOut.touchstart(e,t,n)}touchmove(e,t,n){this._zoomIn.touchmove(e,t,n),this._zoomOut.touchmove(e,t,n)}touchend(e,t,n){const i=this._zoomIn.touchend(e,t,n),r=this._zoomOut.touchend(e,t,n);return i?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(i)},{originalEvent:e})}):r?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(r)},{originalEvent:e})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const vr={0:1,2:2};class yr{constructor(e){this.reset(),this._clickTolerance=e.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(e,t){return!1}_move(e,t){return{}}mousedown(e,t){if(this._lastPoint)return;const n=g(e);this._correctButton(e,n)&&(this._lastPoint=t,this._eventButton=n)}mousemoveWindow(e,t){const n=this._lastPoint;if(n)if(e.preventDefault(),null!=this._eventButton&&function(e,t){const n=vr[t];return void 0===e.buttons||(e.buttons&n)!==n}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(n)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(n,t)}mouseupWindow(e){this._lastPoint&&g(e)===this._eventButton&&(this._moved&&p(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class xr extends yr{mousedown(e,t){super.mousedown(e,t),this._lastPoint&&(this._active=!0)}_correctButton(e,t){return 0===t&&!e.ctrlKey}_move(e,t){return{around:t,panDelta:t.sub(e)}}}class br extends yr{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const n=.8*(t.x-e.x);if(n)return this._active=!0,{bearingDelta:n}}contextmenu(e){e.preventDefault()}}class _r extends yr{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const n=-.5*(t.y-e.y);if(n)return this._active=!0,{pitchDelta:n}}contextmenu(e){e.preventDefault()}}class wr{constructor(t,n){this._map=t,this._el=t.getCanvasContainer(),this._minTouches=1,this._clickTolerance=n.clickTolerance||1,this.reset(),e.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new e.pointGeometry(0,0)}touchstart(e,t,n){return this._calculateTransform(e,t,n)}touchmove(t,n,i){if(this._active&&!(i.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(1===i.length&&!e.isFullscreen())return void this._showTouchPanBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return t.cancelable&&t.preventDefault(),this._calculateTransform(t,n,i)}}touchend(e,t,n){this._calculateTransform(e,t,n),this._active&&n.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(t,n,i){i.length>0&&(this._active=!0);const r=pr(i,n),o=new e.pointGeometry(0,0),a=new e.pointGeometry(0,0);let s=0;for(const e in r){const t=r[e],n=this._touches[e];n&&(o._add(t),a._add(t.sub(n)),s++,r[e]=t)}if(this._touches=r,s<this._minTouches||!a.mag())return;const l=a.div(s);return this._sum._add(l),this._sum.mag()<this._clickTolerance?void 0:{around:o.div(s),panDelta:l}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=o("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")}),500)}}class kr{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(e){}_move(e,t,n){return{}}touchstart(e,t,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([t[0],t[1]]))}touchmove(e,t,n){const i=this._firstTwoTouches;if(!i)return;e.preventDefault();const[r,o]=i,a=Sr(n,t,r),s=Sr(n,t,o);if(!a||!s)return;const l=this._aroundCenter?null:a.add(s).div(2);return this._move([a,s],l,e)}touchend(e,t,n){if(!this._firstTwoTouches)return;const[i,r]=this._firstTwoTouches,o=Sr(n,t,i),a=Sr(n,t,r);o&&a||(this._active&&p(),this.reset())}touchcancel(){this.reset()}enable(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Sr(e,t,n){for(let i=0;i<e.length;i++)if(e[i].identifier===n)return t[i]}function Cr(e,t){return Math.log(e/t)/Math.LN2}class Er extends kr{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(e){this._startDistance=this._distance=e[0].dist(e[1])}_move(e,t){const n=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Cr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Cr(this._distance,n),pinchAround:t}}}function Tr(e,t){return 180*e.angleWith(t)/Math.PI}class Mr extends kr{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}_move(e,t){const n=this._vector;if(this._vector=e[0].sub(e[1]),n&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Tr(this._vector,n),pinchAround:t}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());const t=25/(Math.PI*this._minDiameter)*360,n=this._startVector;if(!n)return!1;const i=Tr(e,n);return Math.abs(i)<t}}function Pr(e){return Math.abs(e.y)>Math.abs(e.x)}class Ar extends kr{constructor(e){super(),this._map=e}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(e){this._lastPoints=e,Pr(e[0].sub(e[1]))&&(this._valid=!1)}_move(t,n,i){const r=this._lastPoints;if(!r)return;const o=t[0].sub(r[0]),a=t[1].sub(r[1]);return this._map._cooperativeGestures&&!e.isFullscreen()&&i.touches.length<3||(this._valid=this.gestureBeginsVertically(o,a,i.timeStamp),!this._valid)?void 0:(this._lastPoints=t,this._active=!0,{pitchDelta:(o.y+a.y)/2*-.5})}gestureBeginsVertically(e,t,n){if(void 0!==this._valid)return this._valid;const i=e.mag()>=2,r=t.mag()>=2;if(!i&&!r)return;if(!i||!r)return null==this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;const o=e.y>0==t.y>0;return Pr(e)&&Pr(t)&&o}}const Ir={panStep:100,bearingStep:15,pitchStep:10};class Lr{constructor(){const e=Ir;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let t=0,n=0,i=0,r=0,o=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?n=-1:(e.preventDefault(),r=-1);break;case 39:e.shiftKey?n=1:(e.preventDefault(),r=1);break;case 38:e.shiftKey?i=1:(e.preventDefault(),o=-1);break;case 40:e.shiftKey?i=-1:(e.preventDefault(),o=1);break;default:return}return this._rotationDisabled&&(n=0,i=0),{cameraAnimation:a=>{const s=a.getZoom();a.easeTo({duration:300,easeId:"keyboardHandler",easing:Dr,zoom:t?Math.round(s)+t*(e.shiftKey?2:1):s,bearing:a.getBearing()+n*this._bearingStep,pitch:a.getPitch()+i*this._pitchStep,offset:[-r*this._panStep,-o*this._panStep],center:a.getCenter()},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Dr(e){return e*(2-e)}const Or=4.000244140625;class Rr{constructor(t,n){this._map=t,this._el=t.getCanvasContainer(),this._handler=n,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,e.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(e){this._defaultZoomRate=e}setWheelZoomRate(e){this._wheelZoomRate=e}isEnabled(){return!!this._enabled}isActive(){return this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around,this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(t){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(t.ctrlKey||t.metaKey||this.isZooming()||e.isFullscreen()))return void this._showBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let n=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY;const i=e.exported.now(),r=i-(this._lastWheelEventTime||0);this._lastWheelEventTime=i,0!==n&&n%Or==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":r>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(r*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),t.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=t,this._delta-=n,this._active||this._start(t)),t.preventDefault()}_onTimeout(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)}_start(e){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const t=f(this._el,e);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:t,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const t=this._map.transform;"wheel"===this._type&&t.projection.wrap&&(t._center.lng>=180||t._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const n=()=>t._terrainEnabled()&&this._aroundCoord?t.computeZoomRelativeTo(this._aroundCoord):t.zoom;if(0!==this._delta){const e="wheel"===this._type&&Math.abs(this._delta)>Or?this._wheelZoomRate:this._defaultZoomRate;let i=2/(1+Math.exp(-Math.abs(this._delta*e)));this._delta<0&&0!==i&&(i=1/i);const r=n(),o=Math.pow(2,r),a="number"==typeof this._targetZoom?t.zoomScale(this._targetZoom):o;this._targetZoom=Math.min(t.maxZoom,Math.max(t.minZoom,t.scaleZoom(a*i))),"wheel"===this._type&&(this._startZoom=r,this._easing=this._smoothOutEasing(200)),this._delta=0}const i="number"==typeof this._targetZoom?this._targetZoom:n(),r=this._startZoom,o=this._easing;let a,s=!1;if("wheel"===this._type&&r&&o){const t=Math.min((e.exported.now()-this._lastWheelEventTime)/200,1),n=o(t);a=e.number(r,i,n),t<1?this._frameId||(this._frameId=!0):s=!0}else a=i,s=!0;return this._active=!0,s&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!s,zoomDelta:a-n(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(t){let n=e.ease;if(this._prevEase){const t=this._prevEase,i=(e.exported.now()-t.start)/t.duration,r=t.easing(i+.01)-t.easing(i),o=.27/Math.sqrt(r*r+1e-4)*.01,a=Math.sqrt(.0729-o*o);n=e.bezier(o,a,.25,1)}return this._prevEase={start:e.exported.now(),duration:t,easing:n},n}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=o("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(e.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")}),200)}}class zr{constructor(e,t){this._clickZoom=e,this._tapZoom=t}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Fr{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(e,t){return e.preventDefault(),{cameraAnimation:n=>{n.easeTo({duration:300,zoom:n.getZoom()+(e.shiftKey?-1:1),around:n.unproject(t)},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Br{constructor(){this._tap=new mr({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(e,t,n){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?n.length>0&&(this._swipePoint=t[0],this._swipeTouch=n[0].identifier):this._tap.touchstart(e,t,n))}touchmove(e,t,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;const i=t[0],r=i.y-this._swipePoint.y;return this._swipePoint=i,e.preventDefault(),this._active=!0,{zoomDelta:r/128}}}else this._tap.touchmove(e,t,n)}touchend(e,t,n){this._tapTime?this._swipePoint&&0===n.length&&this.reset():this._tap.touchend(e,t,n)&&(this._tapTime=e.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Nr{constructor(e,t,n){this._el=e,this._mousePan=t,this._touchPan=n}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class jr{constructor(e,t,n){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=n}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Vr{constructor(e,t,n,i){this._el=e,this._touchZoom=t,this._touchRotate=n,this._tapDragZoom=i,this._rotationDisabled=!1,this._enabled=!0}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Wr=e=>e.zoom||e.drag||e.pitch||e.rotate;class Ur extends e.Event{}class Hr{constructor(){this.constants=[1,1,.01],this.radius=0}setup(t,n){const i=e.sub([],n,t);this.radius=e.length(i[2]<0?e.div([],i,this.constants):[i[0],i[1],0])}projectRay(t){e.div(t,t,this.constants),e.normalize(t,t),e.mul$1(t,t,this.constants);const n=e.scale$2([],t,this.radius);if(n[2]>0){const t=e.scale$2([],[0,0,1],e.dot(n,[0,0,1])),i=e.scale$2([],e.normalize([],[n[0],n[1],0]),this.radius),r=e.add([],n,e.scale$2([],e.sub([],e.add([],i,t),n),2));n[0]=r[0],n[1]=r[1]}return n}}function Xr(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}class Gr{constructor(t,n){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new rr(t),this._bearingSnap=n.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Hr,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(n),e.bindAll(["handleEvent","handleWindowEvent"],this);const i=this._el;this._listeners=[[i,"touchstart",{passive:!0}],[i,"touchmove",{passive:!1}],[i,"touchend",void 0],[i,"touchcancel",void 0],[i,"mousedown",void 0],[i,"mousemove",void 0],[i,"mouseup",void 0],[e.window.document,"mousemove",{capture:!0}],[e.window.document,"mouseup",void 0],[i,"mouseover",void 0],[i,"mouseout",void 0],[i,"dblclick",void 0],[i,"click",void 0],[i,"keydown",{capture:!1}],[i,"keyup",void 0],[i,"wheel",{passive:!1}],[i,"contextmenu",void 0],[e.window,"blur",void 0]];for(const[r,o,a]of this._listeners)r.addEventListener(o,r===e.window.document?this.handleWindowEvent:this.handleEvent,a)}destroy(){for(const[t,n,i]of this._listeners)t.removeEventListener(n,t===e.window.document?this.handleWindowEvent:this.handleEvent,i)}_addDefaultHandlers(e){const t=this._map,n=t.getCanvasContainer();this._add("mapEvent",new ur(t,e));const i=t.boxZoom=new hr(t,e);this._add("boxZoom",i);const r=new gr,o=new Fr;t.doubleClickZoom=new zr(o,r),this._add("tapZoom",r),this._add("clickZoom",o);const a=new Br;this._add("tapDragZoom",a);const s=t.touchPitch=new Ar(t);this._add("touchPitch",s);const l=new br(e),c=new _r(e);t.dragRotate=new jr(e,l,c),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",c,["mouseRotate"]);const u=new xr(e),d=new wr(t,e);t.dragPan=new Nr(n,u,d),this._add("mousePan",u),this._add("touchPan",d,["touchZoom","touchRotate"]);const h=new Mr,p=new Er;t.touchZoomRotate=new Vr(n,p,h,a),this._add("touchRotate",h,["touchPan","touchZoom"]),this._add("touchZoom",p,["touchPan","touchRotate"]),this._add("blockableMapEvent",new dr(t));const f=t.scrollZoom=new Rr(t,this);this._add("scrollZoom",f,["mousePan"]);const m=t.keyboard=new Lr;this._add("keyboard",m);for(const g of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])e.interactive&&e[g]&&t[g].enable(e[g])}_add(e,t,n){this._handlers.push({handlerName:e,handler:t,allowed:n}),this._handlersById[e]=t}stop(e){if(!this._updatingCamera){for(const{handler:e}of this._handlers)e.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}isActive(){for(const{handler:e}of this._handlers)if(e.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Wr(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(e,t,n){for(const i in e)if(i!==n&&(!t||t.indexOf(i)<0))return!0;return!1}handleWindowEvent(e){this.handleEvent(e,`${e.type}Window`)}_getMapTouches(e){const t=[];for(const n of e)this._el.contains(n.target)&&t.push(n);return t}handleEvent(e,t){this._updatingCamera=!0;const n="renderFrame"===e.type,i=n?void 0:e,r={needsRenderFrame:!1},o={},a={},s=e.touches?this._getMapTouches(e.touches):void 0,l=s?m(this._el,s):n?void 0:f(this._el,e);for(const{handlerName:d,handler:h,allowed:p}of this._handlers){if(!h.isEnabled())continue;let n;this._blockedByActive(a,p,d)?h.reset():h[t||e.type]&&(n=h[t||e.type](e,l,s),this.mergeHandlerResult(r,o,n,d,i),n&&n.needsRenderFrame&&this._triggerRenderFrame()),(n||h.isActive())&&(a[d]=h)}const c={};for(const d in this._previousActiveHandlers)a[d]||(c[d]=i);this._previousActiveHandlers=a,(Object.keys(c).length||Xr(r))&&(this._changes.push([r,o,c]),this._triggerRenderFrame()),(Object.keys(a).length||Xr(r))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:u}=r;u&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],u(this._map))}mergeHandlerResult(t,n,i,r,o){if(!i)return;e.extend(t,i);const a={handlerName:r,originalEvent:i.originalEvent||o};void 0!==i.zoomDelta&&(n.zoom=a),void 0!==i.panDelta&&(n.drag=a),void 0!==i.pitchDelta&&(n.pitch=a),void 0!==i.bearingDelta&&(n.rotate=a)}_applyChanges(){const t={},n={},i={};for(const[r,o,a]of this._changes)r.panDelta&&(t.panDelta=(t.panDelta||new e.pointGeometry(0,0))._add(r.panDelta)),r.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+r.zoomDelta),r.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+r.bearingDelta),r.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+r.pitchDelta),void 0!==r.around&&(t.around=r.around),void 0!==r.aroundCoord&&(t.aroundCoord=r.aroundCoord),void 0!==r.pinchAround&&(t.pinchAround=r.pinchAround),r.noInertia&&(t.noInertia=r.noInertia),e.extend(n,o),e.extend(i,a);this._updateMapTransform(t,n,i),this._changes=[]}_updateMapTransform(t,n,i){const r=this._map,o=r.transform,a=e=>[e.x,e.y,e.z];if((e=>{const t=this._eventsInProgress.drag;return t&&!this._handlersById[t.handlerName].isActive()})()&&!Xr(t)){const e=o.zoom;o.cameraElevationReference="sea",o.recenterOnTerrain(),o.cameraElevationReference="ground",e!==o.zoom&&this._map._update(!0)}if(o._isCameraConstrained&&r._stop(!0),!Xr(t))return void this._fireEvents(n,i,!0);let{panDelta:s,zoomDelta:l,bearingDelta:c,pitchDelta:u,around:d,aroundCoord:h,pinchAround:p}=t;o._isCameraConstrained&&(l>0&&(l=0),o._isCameraConstrained=!1),void 0!==p&&(d=p),(e=>n.drag&&!this._eventsInProgress.drag)()&&d&&(this._dragOrigin=a(o.pointCoordinate3D(d)),this._trackingEllipsoid.setup(o._camera.position,this._dragOrigin)),o.cameraElevationReference="sea",r._stop(!0),d=d||r.transform.centerPoint,c&&(o.bearing+=c),u&&(o.pitch+=u),o._updateCameraState();const f=[0,0,0];if(s)if("mercator"===o.projection.name){const e=this._trackingEllipsoid.projectRay(o.screenPointToMercatorRay(d).dir),t=this._trackingEllipsoid.projectRay(o.screenPointToMercatorRay(d.sub(s)).dir);f[0]=t[0]-e[0],f[1]=t[1]-e[1]}else{const t=o.pointCoordinate(d);if("globe"===o.projection.name){s=s.rotate(-o.angle);const n=o._pixelsPerMercatorPixel/o.worldSize;f[0]=-s.x*e.mercatorScale(e.latFromMercatorY(t.y))*n,f[1]=-s.y*e.mercatorScale(o.center.lat)*n}else{const e=o.pointCoordinate(d.sub(s));t&&e&&(f[0]=e.x-t.x,f[1]=e.y-t.y)}}const m=o.zoom,g=[0,0,0];if(l){const t=a(h||o.pointCoordinate3D(d)),n={dir:e.normalize([],e.sub([],t,o._camera.position))};if(n.dir[2]<0){const i=o.zoomDeltaToMovement(t,l);e.scale$2(g,n.dir,i)}}const v=e.add(f,f,g);o._translateCameraConstrained(v),l&&Math.abs(o.zoom-m)>1e-4&&o.recenterOnTerrain(),o.cameraElevationReference="ground",this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(n,i,!0)}_fireEvents(t,n,i){const r=Wr(this._eventsInProgress),o=Wr(t),a={};for(const e in t){const{originalEvent:n}=t[e];this._eventsInProgress[e]||(a[`${e}start`]=n),this._eventsInProgress[e]=t[e]}!r&&o&&this._fireEvent("movestart",o.originalEvent);for(const e in a)this._fireEvent(e,a[e]);o&&this._fireEvent("move",o.originalEvent);for(const e in t){const{originalEvent:n}=t[e];this._fireEvent(e,n)}const s={};let l;for(const e in this._eventsInProgress){const{handlerName:t,originalEvent:i}=this._eventsInProgress[e];this._handlersById[t].isActive()||(delete this._eventsInProgress[e],l=n[t]||i,s[`${e}end`]=l)}for(const e in s)this._fireEvent(e,s[e]);const c=Wr(this._eventsInProgress);if(i&&(r||o)&&!c){this._updatingCamera=!0;const t=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),n=e=>0!==e&&-this._bearingSnap<e&&e<this._bearingSnap;t?(n(t.bearing||this._map.getBearing())&&(t.bearing=0),this._map.easeTo(t,{originalEvent:l})):(this._map.fire(new e.Event("moveend",{originalEvent:l})),n(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(t,n){this._map.fire(new e.Event(t,n?{originalEvent:n}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((e=>{this._frameId=void 0,this.handleEvent(new Ur("renderFrame",{timeStamp:e})),this._applyChanges()}))}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}const Yr="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class qr extends e.Evented{constructor(t,n){super(),this._moving=!1,this._zooming=!1,this.transform=t,this._bearingSnap=n.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}getCenter(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(e,t){return this.jumpTo({center:e},t)}panBy(t,n,i){return t=e.pointGeometry.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},n),i)}panTo(t,n,i){return this.easeTo(e.extend({center:t},n),i)}getZoom(){return this.transform.zoom}setZoom(e,t){return this.jumpTo({zoom:e},t),this}zoomTo(t,n,i){return this.easeTo(e.extend({zoom:t},n),i)}zoomIn(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}zoomOut(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}getBearing(){return this.transform.bearing}setBearing(e,t){return this.jumpTo({bearing:e},t),this}getPadding(){return this.transform.padding}setPadding(e,t){return this.jumpTo({padding:e},t),this}rotateTo(t,n,i){return this.easeTo(e.extend({bearing:t},n),i)}resetNorth(t,n){return this.rotateTo(0,e.extend({duration:1e3},t),n),this}resetNorthPitch(t,n){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),n),this}snapToNorth(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}getPitch(){return this.transform.pitch}setPitch(e,t){return this.jumpTo({pitch:e},t),this}cameraForBounds(t,n){t=e.LngLatBounds.convert(t);const i=n&&n.bearing||0,r=n&&n.pitch||0,o=t.getNorthWest(),a=t.getSouthEast();return this._cameraForBounds(this.transform,o,a,i,r,n)}_extendCameraOptions(t){const n={top:0,bottom:0,right:0,left:0};if("number"==typeof(t=e.extend({padding:n,offset:[0,0],maxZoom:this.transform.maxZoom},t)).padding){const e=t.padding;t.padding={top:e,bottom:e,right:e,left:e}}return t.padding=e.extend(n,t.padding),t}_minimumAABBFrustumDistance(e,t){const n=t.max[0]-t.min[0],i=t.max[1]-t.min[1];return n/i>e.aspect?n/(2*Math.tan(.5*e.fovX)*e.aspect):i/(2*Math.tan(.5*e.fovY)*e.aspect)}_cameraForBoundsOnGlobe(t,n,i,r,o,a){const s=t.clone(),l=this._extendCameraOptions(a);s.bearing=r,s.pitch=o;const c=e.LngLat.convert(n),u=e.LngLat.convert(i),d=.5*(c.lat+u.lat),h=.5*(c.lng+u.lng),p=e.latLngToECEF(d,h),f=e.normalize([],p),m=e.normalize([],e.cross([],f,[0,1,0])),g=e.cross([],m,f),v=[m[0],m[1],m[2],0,g[0],g[1],g[2],0,f[0],f[1],f[2],0,0,0,0,1],y=[p,e.latLngToECEF(c.lat,c.lng),e.latLngToECEF(u.lat,c.lng),e.latLngToECEF(u.lat,u.lng),e.latLngToECEF(c.lat,u.lng),e.latLngToECEF(d,c.lng),e.latLngToECEF(d,u.lng),e.latLngToECEF(c.lat,h),e.latLngToECEF(u.lat,h)];let x=e.Aabb.fromPoints(y.map((t=>[e.dot(m,t),e.dot(g,t),e.dot(f,t)])));const b=e.transformMat4([],x.center,v);0===e.squaredLength(b)&&e.set(b,0,0,1),e.normalize(b,b),e.scale$2(b,b,e.GLOBE_RADIUS),s.center=e.ecefToLatLng(b);const _=s.getWorldToCameraMatrix(),w=e.invert(new Float64Array(16),_);x=e.Aabb.applyTransform(x,e.multiply([],_,v)),e.transformMat4(b,b,_);const k=.5*(x.max[2]-x.min[2]),S=this._minimumAABBFrustumDistance(s,x),C=e.scale$2([],[0,0,1],k),E=e.add(C,b,C),T=S+(0===s.pitch?0:e.distance(b,E)),M=s.globeCenterInViewSpace,P=e.sub([],b,[M[0],M[1],M[2]]);e.normalize(P,P),e.scale$2(P,P,T);const A=e.add([],b,P);e.transformMat4(A,A,w);const I=e.earthRadius/e.GLOBE_RADIUS,L=e.length(A),D=e.mercatorZfromAltitude(L*I-e.earthRadius,0),O=Math.min(s.zoomFromMercatorZAdjusted(D),l.maxZoom);return O>.5*(e.GLOBE_ZOOM_THRESHOLD_MIN+e.GLOBE_ZOOM_THRESHOLD_MAX)?(s.setProjection({name:"mercator"}),s.zoom=O,this._cameraForBounds(s,n,i,r,o,a)):{center:s.center,zoom:O,bearing:r,pitch:o}}queryTerrainElevation(t,n){const i=this.transform.elevation;return i?(n=e.extend({},{exaggerated:!0},n),i.getAtPoint(e.MercatorCoordinate.fromLngLat(t),null,n.exaggerated)):null}_cameraForBounds(t,n,i,r,o,a){if("globe"===t.projection.name)return this._cameraForBoundsOnGlobe(t,n,i,r,o,a);const s=t.clone(),l=this._extendCameraOptions(a),c=s.padding;s.bearing=r,s.pitch=o;const u=e.LngLat.convert(n),d=e.LngLat.convert(i),h=new e.LngLat(u.lng,d.lat),p=new e.LngLat(d.lng,u.lat),f=s.project(u),m=s.project(d),g=this.queryTerrainElevation(u),v=this.queryTerrainElevation(d),y=this.queryTerrainElevation(h),x=this.queryTerrainElevation(p),b=[[f.x,f.y,Math.min(g||0,v||0,y||0,x||0)],[m.x,m.y,Math.max(g||0,v||0,y||0,x||0)]];let _=e.Aabb.fromPoints(b);const w=s.getWorldToCameraMatrix(),k=e.invert(new Float64Array(16),w);_=e.Aabb.applyTransform(_,w);const S=e.sub([],_.max,_.min),C=c.left||0,E=c.right||0,T=c.bottom||0,M=c.top||0,{left:P,right:A,top:I,bottom:L}=l.padding,D=.5*(C+E),O=.5*(M+T),R=Math.min(s.scaleZoom(s.scale*Math.min((s.width-(C+E+P+A))/S[0],(s.height-(T+M+L+I))/S[1])),l.maxZoom),z=s.scale/s.zoomScale(R);_=new e.Aabb([_.min[0]-(P+D)*z,_.min[1]-(L+O)*z,_.min[2]],[_.max[0]+(A+D)*z,_.max[1]+(I+O)*z,_.max[2]]);const F=.5*S[2],B=this._minimumAABBFrustumDistance(s,_),N=[0,0,1,0];e.transformMat4$1(N,N,w),e.normalize$2(N,N);const j=e.scale$2([],N,B+F),V=e.add([],_.center,j),W=("number"==typeof l.offset.x&&"number"==typeof l.offset.y?new e.pointGeometry(l.offset.x,l.offset.y):e.pointGeometry.convert(l.offset)).rotate(-e.degToRad(r));_.center[0]-=W.x*z,_.center[1]+=W.y*z,e.transformMat4(_.center,_.center,k),e.transformMat4(V,V,k);const U=[_.center[0],_.center[1],V[2]*s.pixelsPerMeter];e.scale$2(U,U,1/s.worldSize);const H=e.lngFromMercatorX(U[0]),X=e.latFromMercatorY(U[1]),G=Math.min(s._zoomFromMercatorZ(U[2]),l.maxZoom),Y=new e.LngLat(H,X);return s.mercatorFromTransition&&G<.5*(e.GLOBE_ZOOM_THRESHOLD_MIN+e.GLOBE_ZOOM_THRESHOLD_MAX)?(s.setProjection({name:"globe"}),s.zoom=G,this._cameraForBounds(s,n,i,r,o,a)):{center:Y,zoom:G,bearing:r,pitch:o}}fitBounds(e,t,n){const i=this.cameraForBounds(e,t);return this._fitInternal(i,t,n)}fitScreenCoordinates(t,n,i,r,o){const a=e.pointGeometry.convert(t),s=e.pointGeometry.convert(n),l=new e.pointGeometry(Math.min(a.x,s.x),Math.min(a.y,s.y)),c=new e.pointGeometry(Math.max(a.x,s.x),Math.max(a.y,s.y));if("mercator"===this.transform.projection.name&&this.transform.anyCornerOffEdge(a,s))return this;const u=this.transform.pointLocation3D(l),d=this.transform.pointLocation3D(c),h=this.transform.pointLocation3D(new e.pointGeometry(l.x,c.y)),p=this.transform.pointLocation3D(new e.pointGeometry(c.x,l.y)),f=[Math.min(u.lng,d.lng,h.lng,p.lng),Math.min(u.lat,d.lat,h.lat,p.lat)],m=[Math.max(u.lng,d.lng,h.lng,p.lng),Math.max(u.lat,d.lat,h.lat,p.lat)],g=r&&r.pitch?r.pitch:this.getPitch(),v=this._cameraForBounds(this.transform,f,m,i,g,r);return this._fitInternal(v,r,o)}_fitInternal(t,n,i){return t?(delete(n=e.extend(t,n)).padding,n.linear?this.easeTo(n,i):this.flyTo(n,i)):this}jumpTo(t,n){this.stop();const i=t.preloadOnly?this.transform.clone():this.transform;let r=!1,o=!1,a=!1;return"zoom"in t&&i.zoom!==+t.zoom&&(r=!0,i.zoom=+t.zoom),void 0!==t.center&&(i.center=e.LngLat.convert(t.center)),"bearing"in t&&i.bearing!==+t.bearing&&(o=!0,i.bearing=+t.bearing),"pitch"in t&&i.pitch!==+t.pitch&&(a=!0,i.pitch=+t.pitch),null==t.padding||i.isPaddingEqual(t.padding)||(i.padding=t.padding),t.preloadOnly?(this._preloadTiles(i),this):(this.fire(new e.Event("movestart",n)).fire(new e.Event("move",n)),r&&this.fire(new e.Event("zoomstart",n)).fire(new e.Event("zoom",n)).fire(new e.Event("zoomend",n)),o&&this.fire(new e.Event("rotatestart",n)).fire(new e.Event("rotate",n)).fire(new e.Event("rotateend",n)),a&&this.fire(new e.Event("pitchstart",n)).fire(new e.Event("pitch",n)).fire(new e.Event("pitchend",n)),this.fire(new e.Event("moveend",n)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||e.warnOnce(Yr),this.transform.getFreeCameraOptions()}setFreeCameraOptions(t,n){const i=this.transform;if(!i.projection.supportsFreeCamera)return e.warnOnce(Yr),this;this.stop();const r=i.zoom,o=i.pitch,a=i.bearing;i.setFreeCameraOptions(t);const s=r!==i.zoom,l=o!==i.pitch,c=a!==i.bearing;return this.fire(new e.Event("movestart",n)).fire(new e.Event("move",n)),s&&this.fire(new e.Event("zoomstart",n)).fire(new e.Event("zoom",n)).fire(new e.Event("zoomend",n)),c&&this.fire(new e.Event("rotatestart",n)).fire(new e.Event("rotate",n)).fire(new e.Event("rotateend",n)),l&&this.fire(new e.Event("pitchstart",n)).fire(new e.Event("pitch",n)).fire(new e.Event("pitchend",n)),this.fire(new e.Event("moveend",n)),this}easeTo(t,n){this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.exported.prefersReducedMotion)&&(t.duration=0);const i=this.transform,r=this.getZoom(),o=this.getBearing(),a=this.getPitch(),s=this.getPadding(),l="zoom"in t?+t.zoom:r,c="bearing"in t?this._normalizeBearing(t.bearing,o):o,u="pitch"in t?+t.pitch:a,d="padding"in t?t.padding:i.padding,h=e.pointGeometry.convert(t.offset);let p,f,m;if("globe"===i.projection.name){const n=e.MercatorCoordinate.fromLngLat(i.center),r=h.rotate(-i.angle);n.x+=r.x/i.worldSize,n.y+=r.y/i.worldSize;const o=n.toLngLat(),a=e.LngLat.convert(t.center||o);this._normalizeCenter(a),p=i.centerPoint.add(r),f=new e.pointGeometry(n.x,n.y).mult(i.worldSize),m=new e.pointGeometry(e.mercatorXfromLng(a.lng),e.mercatorYfromLat(a.lat)).mult(i.worldSize).sub(f)}else{p=i.centerPoint.add(h);const n=i.pointLocation(p),r=e.LngLat.convert(t.center||n);this._normalizeCenter(r),f=i.project(n),m=i.project(r).sub(f)}const g=i.zoomScale(l-r);let v,y;t.around&&(v=e.LngLat.convert(t.around),y=i.locationPoint(v));const x=this._zooming||l!==r,b=this._rotating||o!==c,_=this._pitching||u!==a,w=!i.isPaddingEqual(d),k=i=>k=>{if(x&&(i.zoom=e.number(r,l,k)),b&&(i.bearing=e.number(o,c,k)),_&&(i.pitch=e.number(a,u,k)),w&&(i.interpolatePadding(s,d,k),p=i.centerPoint.add(h)),v)i.setLocationAtPoint(v,y);else{const e=i.zoomScale(i.zoom-r),t=l>r?Math.min(2,g):Math.max(.5,g),n=Math.pow(t,1-k),o=i.unproject(f.add(m.mult(k*n)).mult(e));i.setLocationAtPoint(i.renderWorldCopies?o.wrap():o,p)}return t.preloadOnly||this._fireMoveEvents(n),i};if(t.preloadOnly){const e=this._emulate(k,t.duration,i);return this._preloadTiles(e),this}const S={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=x,this._rotating=b,this._pitching=_,this._padding=w,this._easeId=t.easeId,this._prepareEase(n,t.noMoveStart,S),this._ease(k(i),(e=>{i.recenterOnTerrain(),this._afterEase(n,e)}),t),this}_prepareEase(t,n,i={}){this._moving=!0,this.transform.cameraElevationReference="sea",n||i.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!i.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!i.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!i.pitching&&this.fire(new e.Event("pitchstart",t))}_fireMoveEvents(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))}_afterEase(t,n){if(this._easeId&&n&&this._easeId===n)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const i=this._zooming,r=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,i&&this.fire(new e.Event("zoomend",t)),r&&this.fire(new e.Event("rotateend",t)),o&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}flyTo(t,n){if(!t.essential&&e.exported.prefersReducedMotion){const i=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(i,n)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);const i=this.transform,r=this.getZoom(),o=this.getBearing(),a=this.getPitch(),s=this.getPadding(),l="zoom"in t?e.clamp(+t.zoom,i.minZoom,i.maxZoom):r,c="bearing"in t?this._normalizeBearing(t.bearing,o):o,u="pitch"in t?+t.pitch:a,d="padding"in t?t.padding:i.padding,h=i.zoomScale(l-r),p=e.pointGeometry.convert(t.offset);let f=i.centerPoint.add(p);const m=i.pointLocation(f),g=e.LngLat.convert(t.center||m);this._normalizeCenter(g);const v=i.project(m),y=i.project(g).sub(v);let x=t.curve;const b=Math.max(i.width,i.height),_=b/h,w=y.mag();if("minZoom"in t){const n=e.clamp(Math.min(t.minZoom,r,l),i.minZoom,i.maxZoom),o=b/i.zoomScale(n-r);x=Math.sqrt(o/w*2)}const k=x*x;function S(e){const t=(_*_-b*b+(e?-1:1)*k*k*w*w)/(2*(e?_:b)*k*w);return Math.log(Math.sqrt(t*t+1)-t)}function C(e){return(Math.exp(e)-Math.exp(-e))/2}function E(e){return(Math.exp(e)+Math.exp(-e))/2}const T=S(0);let M=function(e){return E(T)/E(T+x*e)},P=function(e){return b*((E(T)*(C(t=T+x*e)/E(t))-C(T))/k)/w;var t},A=(S(1)-T)/x;if(Math.abs(w)<1e-6||!isFinite(A)){if(Math.abs(b-_)<1e-6)return this.easeTo(t,n);const e=_<b?-1:1;A=Math.abs(Math.log(_/b))/x,P=function(){return 0},M=function(t){return Math.exp(e*x*t)}}t.duration="duration"in t?+t.duration:1e3*A/("screenSpeed"in t?+t.screenSpeed/x:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0);const I=o!==c,L=u!==a,D=!i.isPaddingEqual(d),O=i=>h=>{const m=h*A,x=1/M(m);i.zoom=1===h?l:r+i.scaleZoom(x),I&&(i.bearing=e.number(o,c,h)),L&&(i.pitch=e.number(a,u,h)),D&&(i.interpolatePadding(s,d,h),f=i.centerPoint.add(p));const b=1===h?g:i.unproject(v.add(y.mult(P(m))).mult(x));return i.setLocationAtPoint(i.renderWorldCopies?b.wrap():b,f),i._updateCameraOnTerrain(),t.preloadOnly||this._fireMoveEvents(n),i};if(t.preloadOnly){const e=this._emulate(O,t.duration,i);return this._preloadTiles(e),this}return this._zooming=!0,this._rotating=I,this._pitching=L,this._padding=D,this._prepareEase(n,!1),this._ease(O(i),(()=>this._afterEase(n)),t),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const e=this._onEaseEnd;this._onEaseEnd=void 0,e.call(this,t)}if(!e){const e=this.handlers;e&&e.stop(!1)}return this}_ease(t,n,i){!1===i.animate||0===i.duration?(t(1),n()):(this._easeStart=e.exported.now(),this._easeOptions=i,this._onEaseFrame=t,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const t=Math.min((e.exported.now()-this._easeStart)/this._easeOptions.duration,1),n=this._onEaseFrame;n&&n(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(t,n){t=e.wrap(t,-180,180);const i=Math.abs(t-n);return Math.abs(t-360-n)<i&&(t-=360),Math.abs(t+360-n)<i&&(t+=360),t}_normalizeCenter(e){const t=this.transform;if(!t.renderWorldCopies||t.maxBounds)return;const n=e.lng-t.center.lng;e.lng+=n>180?-360:n<-180?360:0}_emulate(e,t,n){const i=Math.ceil(15*t/1e3),r=[],o=e(n.clone());for(let a=0;a<=i;a++){const e=o(a/i);r.push(e.clone())}return r}}class Kr{constructor(t={}){this.options=t,e.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(e){const t=this.options&&this.options.compact;return this._map=e,this._container=o("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=o("button","mapboxgl-ctrl-attrib-button",this._container),o("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=o("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(e,t){const n=this._map._getUIString(`AttributionControl.${t}`);e.setAttribute("aria-label",n),e.removeAttribute("title"),e.firstElementChild&&e.firstElementChild.setAttribute("title",n)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));const n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){const i=n.reduce(((e,t,i)=>(t.value&&(e+=`${t.key}=${t.value}${i<n.length-1?"&":""}`),e)),"?");t.href=`${e.config.FEEDBACK_URL}/${i}#${Ji(this._map,!0)}`,t.rel="noopener nofollow",this._setElementTitle(t,"MapFeedback")}}_updateData(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let e=[];if(this._map.style.stylesheet){const e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}const t=this._map.style._sourceCaches;for(const i in t){const n=t[i];if(n.used){const t=n.getSource();t.attribution&&e.indexOf(t.attribution)<0&&e.push(t.attribution)}}e.sort(((e,t)=>e.length-t.length)),e=e.filter(((t,n)=>{for(let i=n+1;i<e.length;i++)if(e[i].indexOf(t)>=0)return!1;return!0})),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=[...this.options.customAttribution,...e]:e.unshift(this.options.customAttribution));const n=e.join(" | ");n!==this._attribHTML&&(this._attribHTML=n,e.length?(this._innerContainer.innerHTML=n,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class $r{constructor(){e.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(e){this._map=e,this._container=o("div","mapboxgl-ctrl");const t=o("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://www.mapbox.com/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const e=this._map.style._sourceCaches;if(0===Object.entries(e).length)return!0;for(const t in e){const n=e[t].getSource();if(n.hasOwnProperty("mapbox_logo")&&!n.mapbox_logo)return!1}return!0}_updateCompact(){const e=this._container.children;if(e.length){const t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}}}class Zr{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(e){const t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}remove(e){const t=this._currentlyRunning,n=t?this._queue.concat(t):this._queue;for(const i of n)if(i.id===e)return void(i.cancelled=!0)}run(e=0){const t=this._currentlyRunning=this._queue;this._queue=[];for(const n of t)if(!n.cancelled&&(n.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function Jr(t,n,i){if(t=new e.LngLat(t.lng,t.lat),n){const r=new e.LngLat(t.lng-360,t.lat),o=new e.LngLat(t.lng+360,t.lat),a=360*Math.ceil(Math.abs(t.lng-i.center.lng)/360),s=i.locationPoint(t).distSqr(n),l=n.x<0||n.y<0||n.x>i.width||n.y>i.height;i.locationPoint(r).distSqr(n)<s&&(l||Math.abs(r.lng-i.center.lng)<a)?t=r:i.locationPoint(o).distSqr(n)<s&&(l||Math.abs(o.lng-i.center.lng)<a)&&(t=o)}for(;Math.abs(t.lng-i.center.lng)>180;){const e=i.locationPoint(t);if(e.x>=0&&e.y>=0&&e.x<=i.width&&e.y<=i.height)break;t.lng>i.center.lng?t.lng-=360:t.lng+=360}return t}const Qr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class eo extends e.Evented{constructor(t,n){if(super(),(t instanceof e.window.HTMLElement||n)&&(t=e.extend({element:t},n)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=t&&t.anchor||"center",this._color=t&&t.color||"#3FB1CE",this._scale=t&&t.scale||1,this._draggable=t&&t.draggable||!1,this._clickTolerance=t&&t.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=t&&t.rotation||0,this._rotationAlignment=t&&t.rotationAlignment||"auto",this._pitchAlignment=t&&t.pitchAlignment&&t.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=t&&t.occludedOpacity||.2,t&&t.element)this._element=t.element,this._offset=e.pointGeometry.convert(t&&t.offset||[0,0]);else{this._defaultMarker=!0,this._element=o("div");const n=41,i=27,r=a("svg",{display:"block",height:n*this._scale+"px",width:i*this._scale+"px",viewBox:`0 0 ${i} ${n}`},this._element),s=a("radialGradient",{id:"shadowGradient"},a("defs",{},r));a("stop",{offset:"10%","stop-opacity":.4},s),a("stop",{offset:"100%","stop-opacity":.05},s),a("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},r),a("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},r),a("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},r),a("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},r),this._offset=e.pointGeometry.convert(t&&t.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(e=>{e.preventDefault()})),this._element.addEventListener("mousedown",(e=>{e.preventDefault()}));const i=this._element.classList;for(const e in Qr)i.remove(`mapboxgl-marker-anchor-${e}`);i.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(e){return e===this._map||(this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._updateMoving),e.on("moveend",this._update),e.on("remove",this._clearFadeTimer),e._addMarker(this),this.setDraggable(this._draggable),this._update(),e.on("click",this._onMapClick)),this}remove(){const e=this._map;return e&&(e.off("click",this._onMapClick),e.off("move",this._updateMoving),e.off("moveend",this._update),e.off("mousedown",this._addDragHandler),e.off("touchstart",this._addDragHandler),e.off("mouseup",this._onUp),e.off("touchend",this._onUp),e.off("mousemove",this._onMove),e.off("touchmove",this._onMove),e.off("remove",this._clearFadeTimer),e._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){const t=38.1,n=13.5,i=Math.sqrt(Math.pow(n,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-t],"bottom-left":[i,-1*(t-n+i)],"bottom-right":[-i,-1*(t-n+i)],left:[n,-1*(t-n)],right:[-n,-1*(t-n)]}:this._offset}this._popup=e,e._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(e){const t=e.code,n=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==n&&13!==n||this.togglePopup()}_onMapClick(e){const t=e.originalEvent.target,n=this._element;this._popup&&(t===n||n.contains(t))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const e=this._popup;return e?(e.isOpen()?(e.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(e.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const e=this._map,t=this._pos;if(!e||!t)return!1;const n=e.unproject(t),i=e.getFreeCameraOptions();if(!i.position)return!1;const r=i.position.toLngLat();return r.distanceTo(n)<.9*r.distanceTo(this._lngLat)}_evaluateOpacity(){const t=this._map;if(!t)return;const n=this._pos;if(!n||n.x<0||n.x>t.transform.width||n.y<0||n.y>t.transform.height)return void this._clearFadeTimer();const i=t.unproject(n);let r;t._showingGlobe()&&e.isLngLatBehindGlobe(t.transform,this._lngLat)?r=0:(r=1-t._queryFogOpacity(i),t.transform._terrainEnabled()&&t.getTerrain()&&this._behindTerrain()&&(r*=this._occludedOpacity)),this._element.style.opacity=`${r}`,this._element.style.pointerEvents=r>0?"auto":"none",this._popup&&this._popup._setOpacity(r),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const e=this._pos;if(!e||!this._map)return;const t=this._offset.mult(this._scale);this._element.style.transform=`\n            translate(${e.x}px,${e.y}px)\n            ${Qr[this._anchor]}\n            ${this._calculateXYTransform()} ${this._calculateZTransform()}\n            translate(${t.x}px,${t.y}px)\n        `}_calculateXYTransform(){const t=this._pos,n=this._map,i=this.getPitchAlignment();if(!n||!t||"map"!==i)return"";if(!n._showingGlobe()){const e=n.getPitch();return e?`rotateX(${e}deg)`:""}const r=e.radToDeg(e.globeTiltAtLngLat(n.transform,this._lngLat)),o=t.sub(e.globeCenterToScreenPoint(n.transform)),a=Math.abs(o.x)+Math.abs(o.y);if(0===a)return"";const s=r/a;return`rotateX(${-o.y*s}deg) rotateY(${o.x*s}deg)`}_calculateZTransform(){const t=this._pos,n=this._map;if(!n||!t)return"";let i=0;const r=this.getRotationAlignment();if("map"===r)if(n._showingGlobe()){const t=n.project(new e.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),r=n.project(new e.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(t);i=e.radToDeg(Math.atan2(r.y,r.x))-90}else i=-n.getBearing();else if("horizon"===r){const r=e.smoothstep(4,6,n.getZoom()),o=e.globeCenterToScreenPoint(n.transform);o.y+=r*n.transform.height;const a=t.sub(o),s=e.radToDeg(Math.atan2(a.y,a.x));i=(s>90?s-270:s+90)*(1-r)}return i+=this._rotation,i?`rotateZ(${i}deg)`:""}_update(t){e.window.cancelAnimationFrame(this._updateFrameId);const n=this._map;n&&(n.transform.renderWorldCopies&&(this._lngLat=Jr(this._lngLat,this._pos,n.transform)),this._pos=n.project(this._lngLat),!0===t?this._updateFrameId=e.window.requestAnimationFrame((()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())})):this._pos=this._pos.round(),n._requestDomTask((()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(n._showingGlobe()||n.getTerrain()||n.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))})))}getOffset(){return this._offset}setOffset(t){return this._offset=e.pointGeometry.convert(t),this._update(),this}_onMove(t){const n=this._map;if(!n)return;const i=this._pointerdownPos,r=this._positionDelta;if(i&&r){if(!this._isDragging){const e=this._clickTolerance||n._clickTolerance;if(t.point.dist(i)<e)return;this._isDragging=!0}this._pos=t.point.sub(r),this._lngLat=n.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const t=this._map;t&&(t.off("mousemove",this._onMove),t.off("touchmove",this._onMove)),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"}_addDragHandler(e){const t=this._map,n=this._pos;t&&n&&this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(n),this._pointerdownPos=e.point,this._state="pending",t.on("mousemove",this._onMove),t.on("touchmove",this._onMove),t.once("mouseup",this._onUp),t.once("touchend",this._onUp))}setDraggable(e){this._draggable=!!e;const t=this._map;return t&&(e?(t.on("mousedown",this._addDragHandler),t.on("touchstart",this._addDragHandler)):(t.off("mousedown",this._addDragHandler),t.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||"auto",this._update(),this}getRotationAlignment(){return"auto"===this._rotationAlignment||"horizon"===this._rotationAlignment&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e||"auto",this._update(),this}getPitchAlignment(){return"auto"===this._pitchAlignment?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(e){return this._occludedOpacity=e||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const to={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},no=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function io(t=new e.pointGeometry(0,0),n="bottom"){if("number"==typeof t){const i=Math.round(Math.sqrt(.5*Math.pow(t,2)));switch(n){case"top":return new e.pointGeometry(0,t);case"top-left":return new e.pointGeometry(i,i);case"top-right":return new e.pointGeometry(-i,i);case"bottom":return new e.pointGeometry(0,-t);case"bottom-left":return new e.pointGeometry(i,-i);case"bottom-right":return new e.pointGeometry(-i,-i);case"left":return new e.pointGeometry(t,0);case"right":return new e.pointGeometry(-t,0)}return new e.pointGeometry(0,0)}return t instanceof e.pointGeometry||Array.isArray(t)?e.pointGeometry.convert(t):e.pointGeometry.convert(t[n]||[0,0])}class ro{constructor(e){this.jumpTo(e)}getValue(t){if(t<=this._startTime)return this._start;if(t>=this._endTime)return this._end;const n=e.easeCubicInOut((t-this._startTime)/(this._endTime-this._startTime));return this._start*(1-n)+this._end*n}isEasing(e){return e>=this._startTime&&e<=this._endTime}jumpTo(e){this._startTime=-1/0,this._endTime=-1/0,this._start=e,this._end=e}easeTo(e,t,n){this._start=this.getValue(t),this._end=e,this._startTime=t,this._endTime=t+n}}const oo={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use \u2318 + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},ao={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},so={showCompass:!0,showZoom:!0,visualizePitch:!1};class lo{constructor(t,n,i=!1){this._clickTolerance=10,this.element=n,this.mouseRotate=new br({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,i&&(this.mousePitch=new _r({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),n.addEventListener("mousedown",this.mousedown),n.addEventListener("touchstart",this.touchstart,{passive:!1}),n.addEventListener("touchmove",this.touchmove),n.addEventListener("touchend",this.touchend),n.addEventListener("touchcancel",this.reset)}down(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),u()}move(e,t){const n=this.map,i=this.mouseRotate.mousemoveWindow(e,t),r=i&&i.bearingDelta;if(r&&n.setBearing(n.getBearing()+r),this.mousePitch){const i=this.mousePitch.mousemoveWindow(e,t),r=i&&i.pitchDelta;r&&n.setPitch(n.getPitch()+r)}}off(){const e=this.element;e.removeEventListener("mousedown",this.mousedown),e.removeEventListener("touchstart",this.touchstart,{passive:!1}),e.removeEventListener("touchmove",this.touchmove),e.removeEventListener("touchend",this.touchend),e.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){d(),e.window.removeEventListener("mousemove",this.mousemove),e.window.removeEventListener("mouseup",this.mouseup)}mousedown(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:()=>t.preventDefault()}),f(this.element,t)),e.window.addEventListener("mousemove",this.mousemove),e.window.addEventListener("mouseup",this.mouseup)}mousemove(e){this.move(e,f(this.element,e))}mouseup(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()}touchstart(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=m(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>e.preventDefault()},this._startPos))}touchmove(e){1!==e.targetTouches.length?this.reset():(this._lastPos=m(this.element,e.targetTouches)[0],this.move({preventDefault:()=>e.preventDefault()},this._lastPos))}touchend(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const co={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},uo={maxWidth:100,unit:"metric"};function ho(e,t,n){const i=po(t),r=i/t,o={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[n];this._map._requestDomTask((()=>{this._container.style.width=e*r+"px",this._container.innerHTML=`${i}&nbsp;${o}`}))}function po(e){const t=Math.pow(10,`${Math.floor(e)}`.length-1);let n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:n>=1?1:function(e){const t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(n),t*n}const fo={version:e.version,supported:n,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:class extends qr{constructor(t){if(e.LivePerformanceUtils.mark(e.PerformanceMarkers.create),null!=(t=e.extend({},ao,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(t.antialias&&e.isSafariWithAntialiasingBug(e.window)&&(t.antialias=!1,e.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new Ki(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies),t),this._interactive=t.interactive,this._minTileCacheSize=t.minTileCacheSize,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=t.crossSourceCollisions,this._collectResourceTiming=t.collectResourceTiming,this._optimizeForTerrain=t.optimizeForTerrain,this._language=this._parseLanguage(t.language),this._worldview=t.worldview,this._renderTaskQueue=new Zr,this._domRenderTaskQueue=new Zr,this._controls=[],this._markers=[],this._popups=[],this._mapId=e.uniqueId(),this._locale=e.extend({},oo,t.locale),this._clickTolerance=t.clickTolerance,this._cooperativeGestures=t.cooperativeGestures,this._performanceMetricsCollection=t.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new ro(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new e.RequestManager(t.transformRequest,t.accessToken,t.testMode),this._silenceAuthErrors=!!t.testMode,"string"==typeof t.container){if(this._container=e.window.document.getElementById(t.container),!this._container)throw new Error(`Container '${t.container}' not found.`)}else{if(!(t.container instanceof e.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(this._container.childNodes.length>0&&e.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(()=>this._update(!1))),this.on("moveend",(()=>this._update(!1))),this.on("zoom",(()=>this._update(!0))),void 0!==e.window&&(e.window.addEventListener("online",this._onWindowOnline,!1),e.window.addEventListener("resize",this._onWindowResize,!1),e.window.addEventListener("orientationchange",this._onWindowResize,!1),e.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),e.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new Gr(this,t),this._localFontFamily=t.localFontFamily,this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),t.projection&&this.setProjection(t.projection),this._hash=t.hash&&new Zi("string"==typeof t.hash&&t.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),t.attributionControl&&this.addControl(new Kr({customAttribution:t.customAttribution})),this._logoControl=new $r,this.addControl(this._logoControl,t.logoPosition),this.on("style.load",(()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)})),this.on("data",(t=>{this._update("style"===t.dataType),this.fire(new e.Event(`${t.dataType}data`,t))})),this.on("dataloading",(t=>{this.fire(new e.Event(`${t.dataType}dataloading`,t))}))}_getMapId(){return this._mapId}addControl(t,n){if(void 0===n&&(n=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const i=t.onAdd(this);this._controls.push(t);const r=this._controlPositions[n];return-1!==n.indexOf("bottom")?r.insertBefore(i,r.firstChild):r.appendChild(i),this}removeControl(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const n=this._controls.indexOf(t);return n>-1&&this._controls.splice(n,1),t.onRemove(this),this}hasControl(e){return this._controls.indexOf(e)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(t){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const n=!this._moving;return n&&this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t)),this.fire(new e.Event("resize",t)),n&&this.fire(new e.Event("moveend",t)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()}setMinZoom(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t?this.setZoom(t):this.fire(new e.Event("zoomstart")).fire(new e.Event("zoom")).fire(new e.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t?this.setZoom(t):this.fire(new e.Event("zoomstart")).fire(new e.Event("zoom")).fire(new e.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(t){if((t=null==t?0:t)<0)throw new Error("minPitch must be greater than or equal to 0");if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t?this.setPitch(t):this.fire(new e.Event("pitchstart")).fire(new e.Event("pitch")).fire(new e.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(t){if((t=null==t?85:t)>85)throw new Error("maxPitch must be less than or equal to 85");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t?this.setPitch(t):this.fire(new e.Event("pitchstart")).fire(new e.Event("pitch")).fire(new e.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(e){return this.transform.renderWorldCopies=e,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(t){return"auto"===t?e.window.navigator.language:Array.isArray(t)?0===t.length?void 0:t.map((t=>"auto"===t?e.window.navigator.language:t)):t}setLanguage(e){const t=this._parseLanguage(e);if(!this.style||t===this._language)return this;this._language=t,this.style._reloadSources();for(const n of this._controls)n._setLanguage&&n._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(e){return this.style&&e!==this._worldview?(this._worldview=e,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return"globe"===this.transform.projection.name}setProjection(e){return this._lazyInitEmptyStyle(),e?"string"==typeof e&&(e={name:e}):e=null,this._useExplicitProjection=!!e,this._prioritizeAndUpdateProjection(e,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if("globe"!==this.getProjection().name)return;const t=this.transform,n=t.projection.name;let i;"globe"===n&&t.zoom>=e.GLOBE_ZOOM_THRESHOLD_MAX?(t.setMercatorFromTransition(),i=!0):"mercator"===n&&t.zoom<e.GLOBE_ZOOM_THRESHOLD_MAX&&(t.setProjection({name:"globe"}),i=!0),i&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(e,t){return this._updateProjection(e||t||{name:"mercator"})}_updateProjection(t){let n;if(n="globe"===t.name&&this.transform.zoom>=e.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(t),this.style.applyProjectionUpdate(),n){this.painter.clearBackgroundTiles();for(const e in this.style._sourceCaches)this.style._sourceCaches[e].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(t){return this.transform.locationPoint3D(e.LngLat.convert(t))}unproject(t){return this.transform.pointLocation3D(e.pointGeometry.convert(t))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(e,t,n){if("mouseenter"===e||"mouseover"===e){let i=!1;const r=r=>{const o=t.filter((e=>this.getLayer(e))),a=o.length?this.queryRenderedFeatures(r.point,{layers:o}):[];a.length?i||(i=!0,n.call(this,new sr(e,this,r.originalEvent,{features:a}))):i=!1},o=()=>{i=!1};return{layers:new Set(t),listener:n,delegates:{mousemove:r,mouseout:o}}}if("mouseleave"===e||"mouseout"===e){let i=!1;const r=r=>{const o=t.filter((e=>this.getLayer(e)));(o.length?this.queryRenderedFeatures(r.point,{layers:o}):[]).length?i=!0:i&&(i=!1,n.call(this,new sr(e,this,r.originalEvent)))},o=t=>{i&&(i=!1,n.call(this,new sr(e,this,t.originalEvent)))};return{layers:new Set(t),listener:n,delegates:{mousemove:r,mouseout:o}}}{const i=e=>{const i=t.filter((e=>this.getLayer(e))),r=i.length?this.queryRenderedFeatures(e.point,{layers:i}):[];r.length&&(e.features=r,n.call(this,e),delete e.features)};return{layers:new Set(t),listener:n,delegates:{[e]:i}}}}on(e,t,n){if(void 0===n)return super.on(e,t);Array.isArray(t)||(t=[t]);const i=this._createDelegatedListener(e,t,n);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(i);for(const r in i.delegates)this.on(r,i.delegates[r]);return this}once(e,t,n){if(void 0===n)return super.once(e,t);Array.isArray(t)||(t=[t]);const i=this._createDelegatedListener(e,t,n);for(const r in i.delegates)this.once(r,i.delegates[r]);return this}off(e,t,n){if(void 0===n)return super.off(e,t);t=new Set(Array.isArray(t)?t:[t]);const i=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0},r=this._delegatedListeners?this._delegatedListeners[e]:void 0;return r&&(e=>{for(let r=0;r<e.length;r++){const o=e[r];if(o.listener===n&&i(o.layers,t)){for(const e in o.delegates)this.off(e,o.delegates[e]);return e.splice(r,1),this}}})(r),this}queryRenderedFeatures(t,n){return this.style?(void 0!==n||void 0===t||t instanceof e.pointGeometry||Array.isArray(t)||(n=t,t=void 0),this.style.queryRenderedFeatures(t=t||[[0,0],[this.transform.width,this.transform.height]],n=n||{},this.transform)):[]}querySourceFeatures(e,t){return this.style.querySourceFeatures(e,t)}setStyle(t,n){return!1!==(n=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&n.localFontFamily===this._localFontFamily&&this.style&&t?(this._diffStyle(t,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._localFontFamily=n.localFontFamily,this._updateStyle(t,n))}_getUIString(e){const t=this._locale[e];if(null==t)throw new Error(`Missing UI string '${e}'`);return t}_updateStyle(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),e&&(this.style=new Jt(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Jt(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(t,n){if("string"==typeof t){const i=this._requestManager.normalizeStyleURL(t),r=this._requestManager.transformRequest(i,e.ResourceType.Style);e.getJSON(r,((t,i)=>{t?this.fire(new e.ErrorEvent(t)):i&&this._updateDiff(i,n)}))}else"object"==typeof t&&this._updateDiff(t,n)}_updateDiff(t,n){try{this.style.setState(t)&&this._update(!0)}catch(i){e.warnOnce(`Unable to perform style diff: ${i.message||i.error||i}.  Rebuilding the style from scratch.`),this._updateStyle(t,n)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(e.warnOnce("There is no style added to the map."),!1)}addSource(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}isSourceLoaded(e){return!!this.style&&this.style._isSourceCacheLoaded(e)}areTilesLoaded(){const e=this.style&&this.style._sourceCaches;for(const t in e){const n=e[t]._tiles;for(const e in n){const t=n[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}}return!0}addSourceType(e,t,n){this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,n)}removeSource(e){return this.style.removeSource(e),this._updateTerrain(),this._update(!0)}getSource(e){return this.style.getSource(e)}addImage(t,n,{pixelRatio:i=1,sdf:r=!1,stretchX:o,stretchY:a,content:s}={}){if(this._lazyInitEmptyStyle(),n instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&n instanceof e.window.ImageBitmap){const{width:l,height:c,data:u}=e.exported.getImageData(n);this.style.addImage(t,{data:new e.RGBAImage({width:l,height:c},u),pixelRatio:i,stretchX:o,stretchY:a,content:s,sdf:r,version:0})}else if(void 0===n.width||void 0===n.height)this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:l,height:c}=n,u=n;this.style.addImage(t,{data:new e.RGBAImage({width:l,height:c},new Uint8Array(u.data)),pixelRatio:i,stretchX:o,stretchY:a,content:s,sdf:r,version:0,userImage:u}),u.onAdd&&u.onAdd(this,t)}}updateImage(t,n){const i=this.style.getImage(t);if(!i)return void this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const r=n instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&n instanceof e.window.ImageBitmap?e.exported.getImageData(n):n,{width:o,height:a}=r;void 0!==o&&void 0!==a?o===i.data.width&&a===i.data.height?(i.data.replace(r.data,!(n instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&n instanceof e.window.ImageBitmap)),this.style.updateImage(t,i)):this.fire(new e.ErrorEvent(new Error(`The width and height of the updated image (${o}, ${a})\n                must be that same as the previous version of the image\n                (${i.data.width}, ${i.data.height})`))):this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(e){this.style.removeImage(e)}loadImage(t,n){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),((t,i)=>{n(t,i instanceof e.window.HTMLImageElement?e.exported.getImageData(i):i)}))}listImages(){return this.style.listImages()}addLayer(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}moveLayer(e,t){return this.style.moveLayer(e,t),this._update(!0)}removeLayer(e){return this.style.removeLayer(e),this._update(!0)}getLayer(e){return this.style.getLayer(e)}setLayerZoomRange(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0)}setFilter(e,t,n={}){return this.style.setFilter(e,t,n),this._update(!0)}getFilter(e){return this.style.getFilter(e)}setPaintProperty(e,t,n,i={}){return this.style.setPaintProperty(e,t,n,i),this._update(!0)}getPaintProperty(e,t){return this.style.getPaintProperty(e,t)}setLayoutProperty(e,t,n,i={}){return this.style.setLayoutProperty(e,t,n,i),this._update(!0)}getLayoutProperty(e,t){return this.style.getLayoutProperty(e,t)}setLight(e,t={}){return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(e){return this._lazyInitEmptyStyle(),!e&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(e),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(e){return this._lazyInitEmptyStyle(),this.style.setFog(e),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(t){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(e.LngLat.convert(t),this.transform):0}setFeatureState(e,t){return this.style.setFeatureState(e,t),this._update()}removeFeatureState(e,t){return this.style.removeFeatureState(e,t),this._update()}getFeatureState(e){return this.style.getFeatureState(e)}_updateContainerDimensions(){if(!this._container)return;const t=this._container.getBoundingClientRect().width||400,n=this._container.getBoundingClientRect().height||300;let i,r,o,a=this._container;for(;a&&(!r||!o);){const t=e.window.getComputedStyle(a).transform;t&&"none"!==t&&(i=t.match(/matrix.*\((.+)\)/)[1].split(", "),i[0]&&"0"!==i[0]&&"1"!==i[0]&&(r=i[0]),i[3]&&"0"!==i[3]&&"1"!==i[3]&&(o=i[3])),a=a.parentElement}this._containerWidth=r?Math.abs(t/r):t,this._containerHeight=o?Math.abs(n/o):n}_detectMissingCSS(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=o("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();const t=this._canvasContainer=o("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=o("canvas","mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const n=this._controlContainer=o("div","mapboxgl-control-container",e),i=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((e=>{i[e]=o("div",`mapboxgl-ctrl-${e}`,n)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(t,n){const i=e.exported.devicePixelRatio||1;this._canvas.width=i*Math.ceil(t),this._canvas.height=i*Math.ceil(n),this._canvas.style.width=`${t}px`,this._canvas.style.height=`${n}px`}_addMarker(e){this._markers.push(e)}_removeMarker(e){const t=this._markers.indexOf(e);-1!==t&&this._markers.splice(t,1)}_addPopup(e){this._popups.push(e)}_removePopup(e){const t=this._popups.indexOf(e);-1!==t&&this._popups.splice(t,1)}_setupPainter(){const t=e.extend({},n.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),i=this._canvas.getContext("webgl",t)||this._canvas.getContext("experimental-webgl",t);i?(e.storeAuthState(i,!0),this.painter=new zi(i,this.transform),this.on("data",(e=>{"source"===e.dataType&&this.painter.setTileLoadedFlag(!0)})),e.exported$1.testSupport(i)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))}_contextRestored(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))}_onMapScroll(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(e){return this._update(),this._renderTaskQueue.add(e)}_cancelRenderFrame(e){this._renderTaskQueue.remove(e)}_requestDomTask(e){!this.loaded()||this.loaded()&&!this.isMoving()?e():this._domRenderTaskQueue.add(e)}_render(t){let n;const i=this.painter.context.extTimerQuery,r=e.exported.now();if(this.listens("gpu-timing-frame")&&(n=i.createQueryEXT(),i.beginQueryEXT(i.TIME_ELAPSED_EXT,n)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],e.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],e.window.performance.now())),this._renderTaskQueue.run(t),this._domRenderTaskQueue.run(t),this._removed)return;this._updateProjectionTransition();const o=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const t=this.transform.zoom,n=this.transform.pitch,i=e.exported.now(),r=new e.EvaluationParameters(t,{now:i,fadeDuration:o,pitch:n,transition:this.style.getTransition()});this.style.update(r)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let a=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),a=this._updateAverageElevation(r),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):a=this._updateAverageElevation(r),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,o,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:o,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),n){const t=e.exported.now()-r;i.endQueryEXT(i.TIME_ELAPSED_EXT,n),setTimeout((()=>{const o=i.getQueryObjectEXT(n,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(n),this.fire(new e.Event("gpu-timing-frame",{cpuTime:t,gpuTime:o})),e.window.performance.mark("frame-gpu",{startTime:r,detail:{gpuTime:o}})}),50)}if(this.listens("gpu-timing-layer")){const t=this.painter.collectGpuTimers();setTimeout((()=>{const n=this.painter.queryGpuTimers(t);this.fire(new e.Event("gpu-timing-layer",{layerTimes:n}))}),50)}if(this.listens("gpu-timing-deferred-render")){const t=this.painter.collectDeferredRenderGpuQueries();setTimeout((()=>{const n=this.painter.queryGpuTimeDeferredRender(t);this.fire(new e.Event("gpu-timing-deferred-render",{gpuTime:n}))}),50)}const s=this._sourcesDirty||this._styleDirty||this._placementDirty||a;if(s||this._repaint)this.triggerRepaint();else{const t=!this.isMoving()&&this.loaded();if(t&&(a=this._updateAverageElevation(r,!0)),a)this.triggerRepaint();else if(this._triggerFrame(!1),t&&(this.fire(new e.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const t=this._calculateSpeedIndex();this.fire(new e.Event("speedindexcompleted",{speedIndex:t})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||s||(this._fullyLoaded=!0,e.LivePerformanceUtils.mark(e.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&e.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(e){for(const t of this._markers)e&&!this.getRenderWorldCopies()&&(t._lngLat=t._lngLat.wrap()),t._update();for(const t of this._popups)!e||this.getRenderWorldCopies()||t._trackPointer||(t._lngLat=t._lngLat.wrap()),t._update()}_updateAverageElevation(e,t=!1){const n=e=>(this.transform.averageElevation=e,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&n(0);if((t||e-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(e)){const t=this.transform.averageElevation;let i=this.transform.sampleAverageElevation(),r=!1;this.transform.elevation&&(r=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(i)?i=0:this._averageElevationLastSampledAt=e;const o=Math.abs(t-i);if(o>1){if(this._isInitialLoad||r)return this._averageElevation.jumpTo(i),n(i);this._averageElevation.easeTo(i,e,300)}else if(o>1e-4)return this._averageElevation.jumpTo(i),n(i)}return!!this._averageElevation.isEasing(e)&&n(this._averageElevation.getValue(e))}_authenticate(){e.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(t=>{if(t&&(t.message===e.AUTH_ERR_MSG||401===t.status)){const t=this.painter.context.gl;e.storeAuthState(t,!1),this._logoControl instanceof $r&&this._logoControl._updateLogo(),t&&t.clear(t.DEPTH_BUFFER_BIT|t.COLOR_BUFFER_BIT|t.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new e.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}})),e.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(()=>{}))}_updateTerrain(){const e=this._isDragging();this.painter.updateTerrain(this.style,e)}_calculateSpeedIndex(){const e=this.painter.canvasCopy(),t=this.painter.getCanvasCopiesAndTimestamps();t.timeStamps.push(performance.now());const n=this.painter.context.gl,i=n.createFramebuffer();function r(e){n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0);const t=new Uint8Array(n.drawingBufferWidth*n.drawingBufferHeight*4);return n.readPixels(0,0,n.drawingBufferWidth,n.drawingBufferHeight,n.RGBA,n.UNSIGNED_BYTE,t),t}return n.bindFramebuffer(n.FRAMEBUFFER,i),this._canvasPixelComparison(r(e),t.canvasCopies.map(r),t.timeStamps)}_canvasPixelComparison(e,t,n){let i=n[1]-n[0];const r=e.length/4;for(let o=0;o<t.length;o++){const a=t[o];let s=0;for(let t=0;t<a.length;t+=4)a[t]===e[t]&&a[t+1]===e[t+1]&&a[t+2]===e[t+2]&&a[t+3]===e[t+3]&&(s+=1);i+=(n[o+2]-n[o+1])*(1-s/r)}return i}remove(){this._hash&&this._hash.remove();for(const e of this._controls)e.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("orientationchange",this._onWindowResize,!1),e.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1),e.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const t=this.painter.context.gl.getExtension("WEBGL_lose_context");t&&t.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),e.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new e.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(t){this._renderNextFrame=this._renderNextFrame||t,this.style&&!this._frame&&(this._frame=e.exported.frame((e=>{const t=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,t&&this._render(e)})))}_preloadTiles(t){const n=this.style?Object.values(this.style._sourceCaches):[];return e.asyncAll(n,((e,n)=>e._preloadTiles(t,n)),(()=>{this.triggerRepaint()})),this}_onWindowOnline(){this._update()}_onWindowResize(e){this._trackResize&&this.resize({originalEvent:e})._update()}_onVisibilityChange(){"hidden"===e.window.document.visibilityState&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(e){this._showTerrainWireframe!==e&&(this._showTerrainWireframe=e,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(e){this._speedIndexTiming!==e&&(this._speedIndexTiming=e,this._update())}get showPadding(){return!!this._showPadding}set showPadding(e){this._showPadding!==e&&(this._showPadding=e,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())}get repaint(){return!!this._repaint}set repaint(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(e){this._vertices=e,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(e){this._showTileAABBs!==e&&(this._showTileAABBs=e,e&&this._update())}_setCacheLimits(t,n){e.setCacheLimits(t,n)}get version(){return e.version}},NavigationControl:class{constructor(t){this.options=e.extend({},so,t),this._container=o("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(e=>e.preventDefault())),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(e=>{this._map&&this._map.zoomIn({},{originalEvent:e})})),o("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(e=>{this._map&&this._map.zoomOut({},{originalEvent:e})})),o("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(e=>{const t=this._map;t&&(this.options.visualizePitch?t.resetNorthPitch({},{originalEvent:e}):t.resetNorth({},{originalEvent:e}))})),this._compassIcon=o("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const e=this._map;if(!e)return;const t=e.getZoom(),n=t===e.getMaxZoom(),i=t===e.getMinZoom();this._zoomInButton.disabled=n,this._zoomOutButton.disabled=i,this._zoomInButton.setAttribute("aria-disabled",n.toString()),this._zoomOutButton.setAttribute("aria-disabled",i.toString())}_rotateCompassArrow(){const e=this._map;if(!e)return;const t=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(e.transform.pitch*(Math.PI/180)),.5)}) rotateX(${e.transform.pitch}deg) rotateZ(${e.transform.angle*(180/Math.PI)}deg)`:`rotate(${e.transform.angle*(180/Math.PI)}deg)`;e._requestDomTask((()=>{this._compassIcon&&(this._compassIcon.style.transform=t)}))}onAdd(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),e.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&e.on("pitch",this._rotateCompassArrow),e.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new lo(e,this._compass,this.options.visualizePitch)),this._container}onRemove(){const e=this._map;e&&(this._container.remove(),this.options.showZoom&&e.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&e.off("pitch",this._rotateCompassArrow),e.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(e,t){const n=o("button",e,this._container);return n.type="button",n.addEventListener("click",t),n}_setButtonTitle(e,t){if(!this._map)return;const n=this._map._getUIString(`NavigationControl.${t}`);e.setAttribute("aria-label",n),e.firstElementChild&&e.firstElementChild.setAttribute("title",n)}},GeolocateControl:class extends e.Evented{constructor(t){super(),this.options=e.extend({geolocation:e.window.navigator.geolocation},co,t),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=$i(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(e){return this._map=e,this._container=o("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(t){const n=(e=!!this.options.geolocation)=>{this._supportsGeolocation=e,t(e)};void 0!==this._supportsGeolocation?t(this._supportsGeolocation):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then((e=>n("denied"!==e.state))).catch((()=>n())):n()}_isOutOfMapMaxBounds(e){const t=this._map.getMaxBounds(),n=e.coords;return!!t&&(n.longitude<t.getWest()||n.longitude>t.getEast()||n.latitude<t.getSouth()||n.latitude>t.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}}_updateCamera(t){const n=new e.LngLat(t.coords.longitude,t.coords.latitude),i=t.coords.accuracy,r=this._map.getBearing(),o=e.extend({bearing:r},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(i),o,{geolocateSource:!0})}_updateMarker(t){if(t){const n=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const t=this._map.transform,n=e.mercatorZfromAltitude(1,t._center.lat)*t.worldSize,i=Math.ceil(2*this._accuracy*n);this._circleElement.style.width=`${i}px`,this._circleElement.style.height=`${i}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&"number"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",e),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&this._noTimeout)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(t){if(void 0!==this._map){if(this._container.addEventListener("contextmenu",(e=>e.preventDefault())),this._geolocateButton=o("button","mapboxgl-ctrl-geolocate",this._container),o("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const t=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",t),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",t)}else{const e=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",e)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=o("div","mapboxgl-user-location"),this._dotElement.appendChild(o("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(o("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new eo({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=o("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new eo({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(t=>{t.geolocateSource||"ACTIVE_LOCK"!==this._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new e.Event("trackuserlocationend")))}))}}_onDeviceOrientation(e){this._userLocationDotMarker&&(e.webkitCompassHeading?this._heading=e.webkitCompassHeading:!0===e.absolute&&(this._heading=-1*e.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let e;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(e={maximumAge:6e5,timeout:0},this._noTimeout=!0):(e=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,e),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const t=()=>{e.window.addEventListener("ondeviceorientationabsolute"in e.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};void 0!==e.window.DeviceMotionEvent&&"function"==typeof e.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((e=>{"granted"===e&&t()})).catch(console.error):t()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),e.window.removeEventListener("deviceorientation",this._onDeviceOrientation),e.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Kr,ScaleControl:class{constructor(t){this.options=e.extend({},uo,t),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch(e){return!1}}()||(this._setScale=ho.bind(this)),e.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const e=this.options.maxWidth||100,t=this._map,n=t._containerHeight/2,i=t._containerWidth/2-e/2,r=t.unproject([i,n]),o=t.unproject([i+e,n]),a=r.distanceTo(o);if("imperial"===this.options.unit){const t=3.2808*a;t>5280?this._setScale(e,t/5280,"mile"):this._setScale(e,t,"foot")}else"nautical"===this.options.unit?this._setScale(e,a/1852,"nautical-mile"):a>=1e3?this._setScale(e,a/1e3,"kilometer"):this._setScale(e,a,"meter")}_setScale(e,t,n){const i=po(t),r=i/t;this._map._requestDomTask((()=>{this._container.style.width=e*r+"px",this._container.innerHTML="nautical-mile"!==n?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"narrow",unit:n}).format(i):`${i}&nbsp;nm`}))}onAdd(e){return this._map=e,this._language=e.getLanguage(),this._container=o("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(e){this._language=e,this._update()}setUnit(e){this.options.unit=e,this._update()}},FullscreenControl:class{constructor(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in e.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=o("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!e.window.document.fullscreenEnabled&&!e.window.document.webkitFullscreenEnabled)}_setupUI(){const t=this._fullscreenButton=o("button","mapboxgl-ctrl-fullscreen",this._controlContainer);o("span","mapboxgl-ctrl-icon",t).setAttribute("aria-hidden","true"),t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",e)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(e.window.document.fullscreenElement||e.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends e.Evented{constructor(t){super(),this.options=e.extend(Object.create(to),t),e.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(t&&t.className?t.className.trim().split(/\s+/):[])}addTo(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&t.on("preclick",this._onClose),this.options.closeOnMove&&t.on("move",this._onClose),t.on("remove",this.remove),this._update(),t._addPopup(this),this._focusFirstElement(),this._trackPointer?(t.on("mousemove",this._onMouseEvent),t.on("mouseup",this._onMouseEvent),t._canvasContainer.classList.add("mapboxgl-track-pointer")):t.on("move",this._update),this.fire(new e.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const t=this._map;return t&&(t.off("move",this._update),t.off("move",this._onClose),t.off("preclick",this._onClose),t.off("click",this._onClose),t.off("remove",this.remove),t.off("mousemove",this._onMouseEvent),t.off("mouseup",this._onMouseEvent),t.off("drag",this._onMouseEvent),t._canvasContainer&&t._canvasContainer.classList.remove("mapboxgl-track-pointer"),t._removePopup(this),this._map=void 0),this.fire(new e.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(t){this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update();const n=this._map;return n&&(n.on("move",this._update),n.off("mousemove",this._onMouseEvent),n._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const e=this._map;return e&&(e.off("move",this._update),e.on("mousemove",this._onMouseEvent),e.on("drag",this._onMouseEvent),e._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(t){return this.setDOMContent(e.window.document.createTextNode(t))}setHTML(t){const n=e.window.document.createDocumentFragment(),i=e.window.document.createElement("body");let r;for(i.innerHTML=t;r=i.firstChild,r;)n.appendChild(r);return this.setDOMContent(n)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(e){return this.options.maxWidth=e,this._update(),this}setDOMContent(e){let t=this._content;if(t)for(;t.hasChildNodes();)t.firstChild&&t.removeChild(t.firstChild);else t=this._content=o("div","mapboxgl-popup-content",this._container||void 0);if(t.appendChild(e),this.options.closeButton){const e=this._closeButton=o("button","mapboxgl-popup-close-button",t);e.type="button",e.setAttribute("aria-label","Close popup"),e.setAttribute("aria-hidden","true"),e.innerHTML="&#215;",e.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(e){return this._classList.add(e),this._updateClassList(),this}removeClassName(e){return this._classList.delete(e),this._updateClassList(),this}setOffset(e){return this.options.offset=e,this._update(),this}toggleClassName(e){let t;return this._classList.delete(e)?t=!1:(this._classList.add(e),t=!0),this._updateClassList(),t}_onMouseEvent(e){this._update(e.point)}_getAnchor(e){if(this.options.anchor)return this.options.anchor;const t=this._map,n=this._container,i=this._pos;if(!t||!n||!i)return"bottom";const r=n.offsetWidth,o=n.offsetHeight,a=i.x<r/2,s=i.x>t.transform.width-r/2;if(i.y+e<o)return a?"top-left":s?"top-right":"top";if(i.y>t.transform.height-o){if(a)return"bottom-left";if(s)return"bottom-right"}return a?"left":s?"right":"bottom"}_updateClassList(){const e=this._container;if(!e)return;const t=[...this._classList];t.push("mapboxgl-popup"),this._anchor&&t.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&t.push("mapboxgl-popup-track-pointer"),e.className=t.join(" ")}_update(t){const n=this._map,i=this._content;if(!n||!this._lngLat&&!this._trackPointer||!i)return;let r=this._container;if(r||(r=this._container=o("div","mapboxgl-popup",n.getContainer()),this._tip=o("div","mapboxgl-popup-tip",r),r.appendChild(i)),this.options.maxWidth&&r.style.maxWidth!==this.options.maxWidth&&(r.style.maxWidth=this.options.maxWidth),n.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Jr(this._lngLat,this._pos,n.transform)),!this._trackPointer||t){const e=this._pos=this._trackPointer&&t?t:n.project(this._lngLat),i=io(this.options.offset),r=this._anchor=this._getAnchor(i.y),o=io(this.options.offset,r),a=e.add(o).round();n._requestDomTask((()=>{this._container&&r&&(this._container.style.transform=`${Qr[r]} translate(${a.x}px,${a.y}px)`)}))}if(!this._marker&&n._showingGlobe()){const t=e.isLngLatBehindGlobe(n.transform,this._lngLat)?0:1;this._setOpacity(t)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const e=this._container.querySelector(no);e&&e.focus()}_onClose(){this.remove()}_setOpacity(e){this._container&&(this._container.style.opacity=`${e}`),this._content&&(this._content.style.pointerEvents=e?"auto":"none")}},Marker:eo,Style:Jt,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.pointGeometry,MercatorCoordinate:e.MercatorCoordinate,FreeCameraOptions:Vi,Evented:e.Evented,config:e.config,prewarm:function(){Ve().acquire(Be)},clearPrewarmedResources:function(){const e=je;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(Be),je=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return Ne.workerCount},set workerCount(e){Ne.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage(t){e.clearTileCache(t)},workerUrl:"",workerClass:null,setNow:e.exported.setNow,restoreNow:e.exported.restoreNow};return fo})),n}()},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var i=n(3897);e.exports=function(e){if(Array.isArray(e))return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e,t,n){var i=n(4062);e.exports=function(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var i=n(5372),r=n(8872),o=n(6116),a=n(2218);e.exports=function(e,t){return i(e)||r(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},9400:function(e){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var i=n(3405),r=n(9498),o=n(6116),a=n(2281);e.exports=function(e){return i(e)||r(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var i=n(8698).default;e.exports=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var i=n(8698).default,r=n(5036);e.exports=function(e){var t=r(e,"string");return"symbol"===i(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var i=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&i;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return i[e]}}));return a.default=function(){return i},n.d(o,a),o}}(),n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,i){return n.f[i](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".899d52a4.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="todo_frontend:";n.l=function(i,r,o,a){if(e[i])e[i].push(r);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==i||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=i),e[i]=[r];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(p);var r=e[i];if(delete e[i],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/",function(){var e={179:0};n.f.j=function(t,i){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var o=new Promise((function(n,i){r=e[t]=[n,i]}));i.push(r[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(i){if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,r[1](s)}}),"chunk-"+t,t)}};var t=function(t,i){var r,o,a=i[0],s=i[1],l=i[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(l)l(n)}for(t&&t(i);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},i=self.webpackChunktodo_frontend=self.webpackChunktodo_frontend||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}(),n.nc=void 0,function(){"use strict";var e={};n.r(e),n.d(e,{Decoder:function(){return _c},Encoder:function(){return bc},PacketType:function(){return yc},protocol:function(){return xc}});var t=n(2791),i=n.t(t,2),r=n(4164),o=n.t(r,2),a=t.createContext(null);var s=function(e){e()},l=function(){return s};var c={notify:function(){},get:function(){return[]}};function u(e,t){var n,i=c;function r(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(r):e.subscribe(r),i=function(){var e=l(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var i=!0,r=n={callback:e,next:null,prev:n};return r.prev?r.prev.next=r:t=r,function(){i&&null!==t&&(i=!1,r.next?r.next.prev=r.prev:n=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}())}var a={addNestedSub:function(e){return o(),i.subscribe(e)},notifyNestedSubs:function(){i.notify()},handleChangeWrapper:r,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,i.clear(),i=c)},getListeners:function(){return i}};return a}var d="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?t.useLayoutEffect:t.useEffect;var h=function(e){var n=e.store,i=e.context,r=e.children,o=(0,t.useMemo)((function(){var e=u(n);return{store:n,subscription:e}}),[n]),s=(0,t.useMemo)((function(){return n.getState()}),[n]);d((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,s]);var l=i||a;return t.createElement(l.Provider,{value:o},r)};function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},p.apply(this,arguments)}function f(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}var m=n(2110),g=n.n(m),v=n(6900),y=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],x=["reactReduxForwardedRef"],b=[],_=[null,null];function w(e,t){var n=e[1];return[t.payload,n+1]}function k(e,t,n){d((function(){return e.apply(void 0,t)}),n)}function S(e,t,n,i,r,o,a){e.current=i,t.current=r,n.current=!1,o.current&&(o.current=null,a())}function C(e,t,n,i,r,o,a,s,l,c){if(e){var u=!1,d=null,h=function(){if(!u){var e,n,h=t.getState();try{e=i(h,r.current)}catch(p){n=p,d=p}n||(d=null),e===o.current?a.current||l():(o.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=h,n.trySubscribe(),h();return function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var E=function(){return[null,0]};function T(e,n){void 0===n&&(n={});var i=n,r=i.getDisplayName,o=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,s=i.methodName,l=void 0===s?"connectAdvanced":s,c=i.renderCountProp,d=void 0===c?void 0:c,h=i.shouldHandleStateChanges,m=void 0===h||h,T=i.storeKey,M=void 0===T?"store":T,P=(i.withRef,i.forwardRef),A=void 0!==P&&P,I=i.context,L=void 0===I?a:I,D=f(i,y),O=L;return function(n){var i=n.displayName||n.name||"Component",r=o(i),a=p({},D,{getDisplayName:o,methodName:l,renderCountProp:d,shouldHandleStateChanges:m,storeKey:M,displayName:r,wrappedComponentName:i,WrappedComponent:n}),s=D.pure;var c=s?t.useMemo:function(e){return e()};function h(i){var r=(0,t.useMemo)((function(){var e=i.reactReduxForwardedRef,t=f(i,x);return[i.context,e,t]}),[i]),o=r[0],s=r[1],l=r[2],d=(0,t.useMemo)((function(){return o&&o.Consumer&&(0,v.isContextConsumer)(t.createElement(o.Consumer,null))?o:O}),[o,O]),h=(0,t.useContext)(d),g=Boolean(i.store)&&Boolean(i.store.getState)&&Boolean(i.store.dispatch);Boolean(h)&&Boolean(h.store);var y=g?i.store:h.store,T=(0,t.useMemo)((function(){return function(t){return e(t.dispatch,a)}(y)}),[y]),M=(0,t.useMemo)((function(){if(!m)return _;var e=u(y,g?null:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[y,g,h]),P=M[0],A=M[1],I=(0,t.useMemo)((function(){return g?h:p({},h,{subscription:P})}),[g,h,P]),L=(0,t.useReducer)(w,b,E),D=L[0][0],R=L[1];if(D&&D.error)throw D.error;var z=(0,t.useRef)(),F=(0,t.useRef)(l),B=(0,t.useRef)(),N=(0,t.useRef)(!1),j=c((function(){return B.current&&l===F.current?B.current:T(y.getState(),l)}),[y,D,l]);k(S,[F,z,N,l,j,B,A]),k(C,[m,y,P,T,F,z,N,B,A,R],[y,P,T]);var V=(0,t.useMemo)((function(){return t.createElement(n,p({},j,{ref:s}))}),[s,n,j]);return(0,t.useMemo)((function(){return m?t.createElement(d.Provider,{value:I},V):V}),[d,V,I])}var y=s?t.memo(h):h;if(y.WrappedComponent=n,y.displayName=h.displayName=r,A){var T=t.forwardRef((function(e,n){return t.createElement(y,p({},e,{reactReduxForwardedRef:n}))}));return T.displayName=r,T.WrappedComponent=n,g()(T,n)}return g()(y,n)}}function M(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function P(e,t){if(M(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!M(e[n[r]],t[n[r]]))return!1;return!0}function A(e){return function(t,n){var i=e(t,n);function r(){return i}return r.dependsOnOwnProps=!1,r}}function I(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function L(e,t){return function(t,n){n.displayName;var i=function(e,t){return i.dependsOnOwnProps?i.mapToProps(e,t):i.mapToProps(e)};return i.dependsOnOwnProps=!0,i.mapToProps=function(t,n){i.mapToProps=e,i.dependsOnOwnProps=I(e);var r=i(t,n);return"function"===typeof r&&(i.mapToProps=r,i.dependsOnOwnProps=I(r),r=i(t,n)),r},i}}var D=[function(e){return"function"===typeof e?L(e):void 0},function(e){return e?void 0:A((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?A((function(t){return function(e,t){var n={},i=function(i){var r=e[i];"function"===typeof r&&(n[i]=function(){return t(r.apply(void 0,arguments))})};for(var r in e)i(r);return n}(e,t)})):void 0}];var O=[function(e){return"function"===typeof e?L(e):void 0},function(e){return e?void 0:A((function(){return{}}))}];function R(e,t,n){return p({},n,e,t)}var z=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var i,r=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var l=e(t,n,s);return a?r&&o(l,i)||(i=l):(a=!0,i=l),i}}}(e):void 0},function(e){return e?void 0:function(){return R}}],F=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function B(e,t,n,i){return function(r,o){return n(e(r,o),t(i,o),o)}}function N(e,t,n,i,r){var o,a,s,l,c,u=r.areStatesEqual,d=r.areOwnPropsEqual,h=r.areStatePropsEqual,p=!1;function f(r,p){var f=!d(p,a),m=!u(r,o,p,a);return o=r,a=p,f&&m?(s=e(o,a),t.dependsOnOwnProps&&(l=t(i,a)),c=n(s,l,a)):f?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(l=t(i,a)),c=n(s,l,a)):m?function(){var t=e(o,a),i=!h(t,s);return s=t,i&&(c=n(s,l,a)),c}():c}return function(r,u){return p?f(r,u):(s=e(o=r,a=u),l=t(i,a),c=n(s,l,a),p=!0,c)}}function j(e,t){var n=t.initMapStateToProps,i=t.initMapDispatchToProps,r=t.initMergeProps,o=f(t,F),a=n(e,o),s=i(e,o),l=r(e,o);return(o.pure?N:B)(a,s,l,e,o)}var V=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function W(e,t,n){for(var i=t.length-1;i>=0;i--){var r=t[i](e);if(r)return r}return function(t,i){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+i.wrappedComponentName+".")}}function U(e,t){return e===t}function H(e){var t=void 0===e?{}:e,n=t.connectHOC,i=void 0===n?T:n,r=t.mapStateToPropsFactories,o=void 0===r?O:r,a=t.mapDispatchToPropsFactories,s=void 0===a?D:a,l=t.mergePropsFactories,c=void 0===l?z:l,u=t.selectorFactory,d=void 0===u?j:u;return function(e,t,n,r){void 0===r&&(r={});var a=r,l=a.pure,u=void 0===l||l,h=a.areStatesEqual,m=void 0===h?U:h,g=a.areOwnPropsEqual,v=void 0===g?P:g,y=a.areStatePropsEqual,x=void 0===y?P:y,b=a.areMergedPropsEqual,_=void 0===b?P:b,w=f(a,V),k=W(e,o,"mapStateToProps"),S=W(t,s,"mapDispatchToProps"),C=W(n,c,"mergeProps");return i(d,p({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:k,initMapDispatchToProps:S,initMergeProps:C,pure:u,areStatesEqual:m,areOwnPropsEqual:v,areStatePropsEqual:x,areMergedPropsEqual:_},w))}}var X=H();function G(){return(0,t.useContext)(a)}function Y(e){void 0===e&&(e=a);var n=e===a?G:function(){return(0,t.useContext)(e)};return function(){return n().store}}var q=Y();function K(e){void 0===e&&(e=a);var t=e===a?q:Y(e);return function(){return t().dispatch}}var $=K(),Z=function(e,t){return e===t};function J(e){void 0===e&&(e=a);var n=e===a?G:function(){return(0,t.useContext)(e)};return function(e,i){void 0===i&&(i=Z);var r=n(),o=function(e,n,i,r){var o,a=(0,t.useReducer)((function(e){return e+1}),0)[1],s=(0,t.useMemo)((function(){return u(i,r)}),[i,r]),l=(0,t.useRef)(),c=(0,t.useRef)(),h=(0,t.useRef)(),p=(0,t.useRef)(),f=i.getState();try{if(e!==c.current||f!==h.current||l.current){var m=e(f);o=void 0!==p.current&&n(m,p.current)?p.current:m}else o=p.current}catch(g){throw l.current&&(g.message+="\nThe error may be correlated with this previous error:\n"+l.current.stack+"\n\n"),g}return d((function(){c.current=e,h.current=f,p.current=o,l.current=void 0})),d((function(){function e(){try{var e=i.getState();if(e===h.current)return;var t=c.current(e);if(n(t,p.current))return;p.current=t,h.current=e}catch(g){l.current=g}a()}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[i,s]),o}(e,i,r.store,r.subscription);return(0,t.useDebugValue)(o),o}}var Q,ee=J();function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function ne(){ne=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(M){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),s=new C(r||[]);return i(a,"_invoke",{value:_(e,n,s)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(M){return{type:"throw",arg:M}}}e.wrap=c;var d={};function h(){}function p(){}function f(){}var m={};l(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(E([])));v&&v!==t&&n.call(v,o)&&(m=v);var y=f.prototype=h.prototype=Object.create(m);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(i,o,a,s){var l=u(e[i],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==te(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return o=o?o.then(i,i):i()}})}function _(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return T()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=u(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function w(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var r=u(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function E(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=f,i(y,"constructor",{value:f,configurable:!0}),i(f,"constructor",{value:p,configurable:!0}),p.displayName=l(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},x(b.prototype),l(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new b(c(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(y),l(y,s,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=E,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return a.type="throw",a.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;S(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function ie(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(i,r)}function re(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){ie(o,i,r,a,s,"next",e)}function s(e){ie(o,i,r,a,s,"throw",e)}a(void 0)}))}}function oe(e){var t=function(e,t){if("object"!==te(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==te(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===te(t)?t:String(t)}function ae(e,t,n){return(t=oe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e){if(Array.isArray(e))return e}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function de(e,t){if(e){if("string"===typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}function he(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pe(e,t){return ce(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(e,t)||de(e,t)||he()}Q=r.unstable_batchedUpdates,s=Q;var fe=n(184);function me(e){var t=e.toggleRegistering,n=e.registering,i=e.changeInput,r=e.submit,o=e.error;return(0,fe.jsxs)("div",{className:" h-5/6 md:w-2/4 w-3/4 bg-transparent py-10 px-2 shadow-xl",children:[(0,fe.jsx)("h3",{className:"text-2xl text-white text-center py-4 uppercase",children:"WElCOME"}),(0,fe.jsxs)("div",{className:"bg-slate-300 h-full rounded-3xl p-10",children:[o&&(0,fe.jsx)("div",{className:"bg-red-100 text-center mb-5",children:o}),(0,fe.jsxs)("div",{className:"flex flex-col",children:[(0,fe.jsx)("label",{className:"  font-medium",children:"Name:"}),(0,fe.jsx)("input",{type:"text",name:"name",onChange:i,className:" bg-transparent border-b border-slate-500"})]}),(0,fe.jsxs)("div",{className:"flex flex-col",children:[(0,fe.jsx)("label",{className:"  font-medium",children:"Surname:"}),(0,fe.jsx)("input",{type:"text",name:"l_name",onChange:i,className:" bg-transparent border-b border-slate-500"})]}),(0,fe.jsx)("div",{className:"flex flex-col",children:(0,fe.jsxs)("select",{name:"gender",onChange:i,className:"bg-transparent border-b border-slate-500 pt-5 pb-5 ",children:[(0,fe.jsx)("option",{value:"",children:"Selected gender"}),(0,fe.jsx)("option",{value:"Male",onChange:i,children:"Male"}),(0,fe.jsx)("option",{value:"Female",children:"Female"})]})}),(0,fe.jsxs)("div",{className:"flex flex-col py-5",children:[(0,fe.jsx)("label",{className:"  font-medium",children:"Phone Number:"}),(0,fe.jsx)("input",{type:"number",name:"phone_number",onChange:i,className:" bg-transparent border-b border-slate-500"})]}),(0,fe.jsxs)("div",{className:"flex flex-col ",children:[(0,fe.jsx)("label",{className:"  font-medium",children:"Username:"}),(0,fe.jsx)("input",{type:"text",name:"username",onChange:i,className:" bg-transparent border-b border-slate-500"})]}),(0,fe.jsxs)("div",{className:"flex flex-col py-5",children:[(0,fe.jsx)("label",{className:"  font-medium",children:"Password:"}),(0,fe.jsx)("input",{type:"password",name:"password",onChange:i,className:" bg-transparent border-b border-slate-500"})]}),(0,fe.jsx)("div",{className:"flex justify-center items-center",children:(0,fe.jsx)("button",{type:"button",onClick:r,className:"bg-gradient-to-r w-20 focus:bg-transparent focus:border-0  shadow-2xl rounded-2xl px-3 py-1 from-blue-400 to-indigo-600 hover:from-indigo-500 hover:to-slate-500 ...",children:"Register"})}),n&&(0,fe.jsx)("h1",{className:"text-center text-sm text-indigo-500",onClick:t,children:"Back to login"})]})]})}var ge=n.p+"static/media/top_logo.f8cf1fe0c5941f7239eb.png";function ve(e){e.toggleRegistering,e.registering;var t=e.changeInput,n=e.submit,i=e.error;return(0,fe.jsx)("div",{className:"w-full h-screen  flex justify-center items-center",children:(0,fe.jsx)("div",{className:"bg-slate-100 w-full h-full relative z-0 flex justify-center items-center ",children:(0,fe.jsxs)("div",{className:"w-3/4 h-3/4 bg-white shadow-xl flex ",children:[(0,fe.jsx)("div",{className:"w-96 h-full flex justify-center items-center ",children:(0,fe.jsxs)("div",{className:"relative z-0 w-full h-full flex justify-center items-center flex-col",children:[(0,fe.jsx)("div",{className:"w-60 h-60 rounded-full border-2 flex justify-center items-center",children:(0,fe.jsx)("img",{src:ge,alt:"",width:200})}),(0,fe.jsx)("div",{className:"absolute inset-0 flex  -z-10",children:(0,fe.jsx)("div",{className:"h-full w-full bg-gradient-to-t from-primary-500 to-primary-600 "})})]})}),(0,fe.jsxs)("div",{className:"flex justify-center items-center  mx-10 flex-col  w-1/2 ",children:[i&&(0,fe.jsx)("div",{className:"bg-red-100 text-center mb-5 py-2 px-3 border w-full text-red-600",children:i}),(0,fe.jsxs)("div",{className:"w-full ",children:[(0,fe.jsx)("div",{className:"uppercase text-slate-400   py-2",children:"Phone Number"}),(0,fe.jsx)("input",{name:"phone_number",type:"text",autoComplete:"off",onChange:t,className:"border border-slate-200 w-full px-3 py-2",placeholder:"Phone Number"})]}),(0,fe.jsxs)("div",{className:"w-full ",children:[(0,fe.jsx)("div",{className:"uppercase text-slate-400  py-2",children:"Password"}),(0,fe.jsx)("input",{name:"password",type:"password",autoComplete:"off",onChange:t,className:"border border-slate-200 w-full px-3 py-2",placeholder:"Password"})]}),(0,fe.jsx)("div",{className:"w-full  bg-gradient-to-r from-primary-500 to-primary-600 px-3 py-2 flex justify-center items-center my-10",onClick:function(){return n()},children:e.loading?(0,fe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 animate-spin text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}):"Login"})]})]})})})}var ye,xe=n(4569),be=n.n(xe)().create({baseURL:"http://137.184.47.160",timeout:2e4,headers:{"Content-Type":"application/json"}}),_e=function(){var e=re(ne().mark((function e(t){var n,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JSON.parse(localStorage.getItem("userInfo"));case 2:n=e.sent,(i=n.token)?t.defaults.headers.common.Authorization="Bearer ".concat(i):delete t.defaults.headers.common.Authorization;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=be,ke=function(e){return function(){var t=re(ne().mark((function t(n){var i,r,o;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e(we);case 3:return n({type:"FETCH_USERS"}),t.next=6,we.get("/api/users?start_date=".concat(""!==(null===e||void 0===e?void 0:e.date.start_date)?null===e||void 0===e?void 0:e.date.start_date:void 0,"?end_date=").concat(""!==(null===e||void 0===e?void 0:e.date.end_date)?null===e||void 0===e?void 0:e.date.end_date:void 0));case 6:return i=t.sent,r=i.data,o=r.Users,n({type:"FETCH_USERS_SUCCESSFUL",payload:o}),t.abrupt("return",o);case 13:throw t.prev=13,t.t0=t.catch(0),"error.response.data.message",n({type:"FETCH_USERS_FAIL",payload:"error.response.data.message"}),t.t0;case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},Se=function(e){return function(){var e=re(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,oe(i.key),i)}}function Te(e,t,n){return t&&Ee(e.prototype,t),n&&Ee(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Me(e,t){return Me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Me(e,t)}function Pe(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Me(e,t)}function Ae(e){return Ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ae(e)}function Ie(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function De(e){var t=Ie();return function(){var n,i=Ae(e);if(t){var r=Ae(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===te(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Le(e)}(this,n)}}function Oe(e,t,n){return Oe=Ie()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&Me(r,n.prototype),r},Oe.apply(null,arguments)}function Re(e){var t="function"===typeof Map?new Map:void 0;return Re=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return Oe(e,arguments,Ae(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Me(i,e)},Re(e)}function ze(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Fe(e){return ce(e)||ze(e)||de(e)||he()}function Be(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=de(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ne(e){return function(e){if(Array.isArray(e))return ue(e)}(e)||ze(e)||de(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},je.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(ye||(ye={}));var Ve,We="popstate";function Ue(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function He(e,t){return{usr:e.state,key:e.key,idx:t}}function Xe(e,t,n,i){return void 0===n&&(n=null),je({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Ye(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function Ge(e){var t=e.pathname,n=void 0===t?"/":t,i=e.search,r=void 0===i?"":i,o=e.hash,a=void 0===o?"":o;return r&&"?"!==r&&(n+="?"===r.charAt(0)?r:"?"+r),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function Ye(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function qe(e,t,n,i){void 0===i&&(i={});var r=i,o=r.window,a=void 0===o?document.defaultView:o,s=r.v5Compat,l=void 0!==s&&s,c=a.history,u=ye.Pop,d=null,h=p();function p(){return(c.state||{idx:null}).idx}function f(){u=ye.Pop;var e=p(),t=null==e?null:e-h;h=e,d&&d({action:u,location:g.location,delta:t})}function m(e){var t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:Ge(e);return Ue(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(je({},c.state,{idx:h}),""));var g={get action(){return u},get location(){return e(a,c)},listen:function(e){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(We,f),d=e,function(){a.removeEventListener(We,f),d=null}},createHref:function(e){return t(a,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u=ye.Push;var i=Xe(g.location,e,t);n&&n(i,e);var r=He(i,h=p()+1),o=g.createHref(i);try{c.pushState(r,"",o)}catch(s){a.location.assign(o)}l&&d&&d({action:u,location:g.location,delta:1})},replace:function(e,t){u=ye.Replace;var i=Xe(g.location,e,t);n&&n(i,e);var r=He(i,h=p()),o=g.createHref(i);c.replaceState(r,"",o),l&&d&&d({action:u,location:g.location,delta:0})},go:function(e){return c.go(e)}};return g}function Ke(e,t,n){void 0===n&&(n="/");var i=ct(("string"===typeof t?Ye(t):t).pathname||"/",n);if(null==i)return null;var r=$e(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(r);for(var o=null,a=0;null==o&&a<r.length;++a)o=at(r[a],lt(i));return o}function $e(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");var r=function(e,r,o){var a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};a.relativePath.startsWith("/")&&(Ue(a.relativePath.startsWith(i),'Absolute route path "'+a.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(i.length));var s=ft([i,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(Ue(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),$e(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:ot(s,e.index),routesMeta:l})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var i,o=Be(Ze(e.path));try{for(o.s();!(i=o.n()).done;){var a=i.value;r(e,t,a)}}catch(s){o.e(s)}finally{o.f()}}else r(e,t)})),t}function Ze(e){var t=e.split("/");if(0===t.length)return[];var n=Fe(t),i=n[0],r=n.slice(1),o=i.endsWith("?"),a=i.replace(/\?$/,"");if(0===r.length)return o?[a,""]:[a];var s=Ze(r.join("/")),l=[];return l.push.apply(l,Ne(s.map((function(e){return""===e?a:[a,e].join("/")})))),o&&l.push.apply(l,Ne(s)),l.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Ve||(Ve={}));var Je=/^:\w+$/,Qe=3,et=2,tt=1,nt=10,it=-2,rt=function(e){return"*"===e};function ot(e,t){var n=e.split("/"),i=n.length;return n.some(rt)&&(i+=it),t&&(i+=et),n.filter((function(e){return!rt(e)})).reduce((function(e,t){return e+(Je.test(t)?Qe:""===t?tt:nt)}),i)}function at(e,t){for(var n=e.routesMeta,i={},r="/",o=[],a=0;a<n.length;++a){var s=n[a],l=a===n.length-1,c="/"===r?t:t.slice(r.length)||"/",u=st({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c);if(!u)return null;Object.assign(i,u.params);var d=s.route;o.push({params:i,pathname:ft([r,u.pathname]),pathnameBase:mt(ft([r,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(r=ft([r,u.pathnameBase]))}return o}function st(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);ut("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return i.push(t),"/([^\\/]+)"}));e.endsWith("*")?(i.push("*"),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");var o=new RegExp(r,t?void 0:"i");return[o,i]}(e.path,e.caseSensitive,e.end),i=pe(n,2),r=i[0],o=i[1],a=t.match(r);if(!a)return null;var s=a[0],l=s.replace(/(.)\/+$/,"$1"),c=a.slice(1),u=o.reduce((function(e,t,n){if("*"===t){var i=c[n]||"";l=s.slice(0,s.length-i.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return ut(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{});return{params:u,pathname:s,pathnameBase:l,pattern:e}}function lt(e){try{return decodeURI(e)}catch(t){return ut(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function ct(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function ut(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function dt(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ht(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function pt(e,t,n,i){var r;void 0===i&&(i=!1),"string"===typeof e?r=Ye(e):(Ue(!(r=je({},e)).pathname||!r.pathname.includes("?"),dt("?","pathname","search",r)),Ue(!r.pathname||!r.pathname.includes("#"),dt("#","pathname","hash",r)),Ue(!r.search||!r.search.includes("#"),dt("#","search","hash",r)));var o,a=""===e||""===r.pathname,s=a?"/":r.pathname;if(i||null==s)o=n;else{var l=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),l-=1;r.pathname=c.join("/")}o=l>=0?t[l]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?Ye(e):e,i=n.pathname,r=n.search,o=void 0===r?"":r,a=n.hash,s=void 0===a?"":a,l=i?i.startsWith("/")?i:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(i,t):t;return{pathname:l,search:gt(o),hash:vt(s)}}(r,o),d=s&&"/"!==s&&s.endsWith("/"),h=(a||"."===s)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}var ft=function(e){return e.join("/").replace(/\/\/+/g,"/")},mt=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},gt=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},vt=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},yt=function(e){Pe(n,e);var t=De(n);function n(){return Ce(this,n),t.apply(this,arguments)}return Te(n)}(Re(Error));function xt(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var bt=["post","put","patch","delete"],_t=(new Set(bt),["get"].concat(bt));new Set(_t),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function wt(){return wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},wt.apply(this,arguments)}var kt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},St=t.useState,Ct=t.useEffect,Et=t.useLayoutEffect,Tt=t.useDebugValue;function Mt(e){var t=e.getSnapshot,n=e.value;try{var i=t();return!kt(n,i)}catch(r){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,i.useSyncExternalStore;var Pt=t.createContext(null);var At=t.createContext(null);var It=t.createContext(null);var Lt=t.createContext(null);var Dt=t.createContext(null);var Ot=t.createContext({outlet:null,matches:[]});var Rt=t.createContext(null);function zt(){return null!=t.useContext(Dt)}function Ft(){return zt()||Ue(!1),t.useContext(Dt).location}function Bt(){zt()||Ue(!1);var e=t.useContext(Lt),n=e.basename,i=e.navigator,r=t.useContext(Ot).matches,o=Ft().pathname,a=JSON.stringify(ht(r).map((function(e){return e.pathnameBase}))),s=t.useRef(!1);return t.useEffect((function(){s.current=!0})),t.useCallback((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var r=pt(e,JSON.parse(a),o,"path"===t.relative);"/"!==n&&(r.pathname="/"===r.pathname?n:ft([n,r.pathname])),(t.replace?i.replace:i.push)(r,t.state,t)}else i.go(e)}),[n,i,a,o])}function Nt(e,n){var i=(void 0===n?{}:n).relative,r=t.useContext(Ot).matches,o=Ft().pathname,a=JSON.stringify(ht(r).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return pt(e,JSON.parse(a),o,"path"===i)}),[e,a,o,i])}function jt(e,n){zt()||Ue(!1);var i,r=t.useContext(Lt).navigator,o=t.useContext(At),a=t.useContext(Ot).matches,s=a[a.length-1],l=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),u=(s&&s.route,Ft());if(n){var d,h="string"===typeof n?Ye(n):n;"/"===c||(null==(d=h.pathname)?void 0:d.startsWith(c))||Ue(!1),i=h}else i=u;var p=i.pathname||"/",f=Ke(e,{pathname:"/"===c?p:p.slice(c.length)||"/"});var m=Gt(f&&f.map((function(e){return Object.assign({},e,{params:Object.assign({},l,e.params),pathname:ft([c,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:ft([c,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),a,o||void 0);return n&&m?t.createElement(Dt.Provider,{value:{location:wt({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:ye.Pop}},m):m}function Vt(){var e=function(){var e,n=t.useContext(Rt),i=Yt(Ut.UseRouteError),r=qt(Ut.UseRouteError);if(n)return n;return null==(e=i.errors)?void 0:e[r]}(),n=xt(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),i?t.createElement("pre",{style:o},i):null,null)}var Wt,Ut,Ht=function(e){Pe(i,e);var n=De(i);function i(e){var t;return Ce(this,i),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return Te(i,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(Ot.Provider,{value:this.props.routeContext},t.createElement(Rt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),i}(t.Component);function Xt(e){var n=e.routeContext,i=e.match,r=e.children,o=t.useContext(Pt);return o&&o.static&&o.staticContext&&i.route.errorElement&&(o.staticContext._deepestRenderedBoundaryId=i.route.id),t.createElement(Ot.Provider,{value:n},r)}function Gt(e,n,i){if(void 0===n&&(n=[]),null==e){if(null==i||!i.errors)return null;e=i.matches}var r=e,o=null==i?void 0:i.errors;if(null!=o){var a=r.findIndex((function(e){return e.route.id&&(null==o?void 0:o[e.route.id])}));a>=0||Ue(!1),r=r.slice(0,Math.min(r.length,a+1))}return r.reduceRight((function(e,a,s){var l=a.route.id?null==o?void 0:o[a.route.id]:null,c=i?a.route.errorElement||t.createElement(Vt,null):null,u=n.concat(r.slice(0,s+1)),d=function(){return t.createElement(Xt,{match:a,routeContext:{outlet:e,matches:u}},l?c:void 0!==a.route.element?a.route.element:e)};return i&&(a.route.errorElement||0===s)?t.createElement(Ht,{location:i.location,component:c,error:l,children:d(),routeContext:{outlet:null,matches:u}}):d()}),null)}function Yt(e){var n=t.useContext(At);return n||Ue(!1),n}function qt(e){var n=function(e){var n=t.useContext(Ot);return n||Ue(!1),n}(),i=n.matches[n.matches.length-1];return i.route.id||Ue(!1),i.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Wt||(Wt={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Ut||(Ut={}));var Kt;function $t(e){var n=e.basename,i=void 0===n?"/":n,r=e.children,o=void 0===r?null:r,a=e.location,s=e.navigationType,l=void 0===s?ye.Pop:s,c=e.navigator,u=e.static,d=void 0!==u&&u;zt()&&Ue(!1);var h=i.replace(/^\/*/,"/"),p=t.useMemo((function(){return{basename:h,navigator:c,static:d}}),[h,c,d]);"string"===typeof a&&(a=Ye(a));var f=a,m=f.pathname,g=void 0===m?"/":m,v=f.search,y=void 0===v?"":v,x=f.hash,b=void 0===x?"":x,_=f.state,w=void 0===_?null:_,k=f.key,S=void 0===k?"default":k,C=t.useMemo((function(){var e=ct(g,h);return null==e?null:{pathname:e,search:y,hash:b,state:w,key:S}}),[h,g,y,b,w,S]);return null==C?null:t.createElement(Lt.Provider,{value:p},t.createElement(Dt.Provider,{children:o,value:{location:C,navigationType:l}}))}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Kt||(Kt={}));var Zt=new Promise((function(){}));t.Component;var Jt=X((function(e){return{error:e.userDetails.error,loading:e.userDetails.loading}}),{loginUser:function(e){return function(){var t=re(ne().mark((function t(n){var i,r,o;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"LOGIN"}),t.next=4,we.post("/api/admin/login",e);case 4:return i=t.sent,r=i.data,localStorage.setItem("userInfo",JSON.stringify(r)),n({type:"LOGIN_SUCCESSFUL",payload:o=r}),t.abrupt("return",o);case 12:throw t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var n=ee((function(e){return e.userDetails})),i=pe((0,t.useState)({password:"",phone_number:""}),2),r=i[0],o=i[1],a=$(),s=pe((0,t.useState)(!1),2),l=s[0],c=s[1],u=function(){a(Se()),c((function(e){return!e}))},d=function(e){a(Se());var t=e.target,n=t.name,i=t.value;o((function(e){return le(le({},e),{},ae({},n,i))}))},h=function(){var t=re(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.registerUser(r);case 3:u(),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=re(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loginUser(r);case 2:if("admin"!==JSON.parse(localStorage.getItem("userInfo")).role.name){t.next=7;break}return t.abrupt("return",f("/dashboard"));case 7:return t.abrupt("return",f("/403"));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=Bt();return(0,t.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userInfo"));return f(e?"/dashboard":"/")}),[n]),(0,fe.jsx)("div",{className:"h-screen w-screen bg-slate-900 flex justify-center items-center",children:l?(0,fe.jsx)(me,{toggleRegistering:u,registering:l,changeInput:d,submit:h,error:n.error}):(0,fe.jsx)(ve,{toggleRegistering:u,registering:l,changeInput:d,loading:e.loading,submit:p,error:e.error})})}));function Qt(){return Qt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Qt.apply(this,arguments)}function en(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}var tn=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function nn(e){var n,i=e.basename,r=e.children,o=e.window,a=t.useRef();null==a.current&&(a.current=(void 0===(n={window:o,v5Compat:!0})&&(n={}),qe((function(e,t){var n=e.location;return Xe("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:Ge(t)}),null,n)));var s=a.current,l=pe(t.useState({action:s.action,location:s.location}),2),c=l[0],u=l[1];return t.useLayoutEffect((function(){return s.listen(u)}),[s]),t.createElement($t,{basename:i,children:r,location:c.location,navigationType:c.action,navigator:s})}var rn="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,on=t.forwardRef((function(e,n){var i,r=e.onClick,o=e.relative,a=e.reloadDocument,s=e.replace,l=e.state,c=e.target,u=e.to,d=e.preventScrollReset,h=en(e,tn),p=!1;if(rn&&"string"===typeof u&&/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(u)){i=u;var f=new URL(window.location.href),m=u.startsWith("//")?new URL(f.protocol+u):new URL(u);m.origin===f.origin?u=m.pathname+m.search+m.hash:p=!0}var g=function(e,n){var i=(void 0===n?{}:n).relative;zt()||Ue(!1);var r=t.useContext(Lt),o=r.basename,a=r.navigator,s=Nt(e,{relative:i}),l=s.hash,c=s.pathname,u=s.search,d=c;return"/"!==o&&(d="/"===c?o:ft([o,c])),a.createHref({pathname:d,search:u,hash:l})}(u,{relative:o}),v=function(e,n){var i=void 0===n?{}:n,r=i.target,o=i.replace,a=i.state,s=i.preventScrollReset,l=i.relative,c=Bt(),u=Ft(),d=Nt(e,{relative:l});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();var n=void 0!==o?o:Ge(u)===Ge(d);c(e,{replace:n,state:a,preventScrollReset:s,relative:l})}}),[u,c,d,o,a,r,e,s,l])}(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:o});return t.createElement("a",Qt({},h,{href:i||g,onClick:p||a?r:function(e){r&&r(e),e.defaultPrevented||v(e)},ref:n,target:c}))}));var an,sn;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(an||(an={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(sn||(sn={}));function ln(e,t){if(null==e)return{};var n,i,r=f(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cn(){cn=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,i,r){var o=new RegExp(e,i);return t.set(o,r||t.get(e)),Me(o,n.prototype)}function i(e,n){var i=t.get(n);return Object.keys(i).reduce((function(t,n){var r=i[n];if("number"==typeof r)t[n]=e[r];else{for(var o=0;void 0===e[r[o]]&&o+1<r.length;)o++;t[n]=e[r[o]]}return t}),Object.create(null))}return Pe(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);if(n){n.groups=i(n,this);var r=n.indices;r&&(r.groups=i(r,this))}return n},n.prototype[Symbol.replace]=function(n,r){if("string"==typeof r){var o=t.get(this);return e[Symbol.replace].call(this,n,r.replace(/\$<([^>]+)>/g,(function(e,t){var n=o[t];return"$"+(Array.isArray(n)?n.join("$"):n)})))}if("function"==typeof r){var a=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=te(e[e.length-1])&&(e=[].slice.call(e)).push(i(e,a)),r.apply(this,e)}))}return e[Symbol.replace].call(this,n,r)},cn.apply(this,arguments)}var un=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")};function dn(e){var t=typeof e;return null!=e&&("object"===t||"function"===t)&&!Array.isArray(e)}function hn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return pn(e)?e.apply(void 0,n):e}var pn=function(e){return"function"===typeof e},fn=function(e){return e?"":void 0};var mn=n(6198),gn=function(e){return"string"===typeof e?e.replace(/!(important)?$/,"").trim():e},vn=function(e,t){return function(n){var i=String(t),r=function(e){return/!(important)?$/.test(e)}(i),o=gn(i),a=e?"".concat(e,".").concat(o):o,s=dn(n.__cssMap)&&a in n.__cssMap?n.__cssMap[a].varRef:t;return s=gn(s),r?"".concat(s," !important"):s}};function yn(e){var t=e.scale,n=e.transform,i=e.compose;return function(e,r){var o,a=vn(t,e)(r),s=null!=(o=null==n?void 0:n(a,r))?o:a;return i&&(s=i(s,r)),s}}var xn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}};function bn(e,t){return function(n){var i={property:n,scale:e};return i.transform=yn({scale:e,transform:t}),i}}var _n=function(e){var t=e.rtl,n=e.ltr;return function(e){return"rtl"===e.direction?t:n}};var wn=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];var kn={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},Sn={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};var Cn={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},En="& > :not(style) ~ :not(style)",Tn=ae({},En,{marginInlineStart:"calc(var(--chakra-space-x) * calc(1 - var(--chakra-space-x-reverse)))",marginInlineEnd:"calc(var(--chakra-space-x) * var(--chakra-space-x-reverse))"}),Mn=ae({},En,{marginTop:"calc(var(--chakra-space-y) * calc(1 - var(--chakra-space-y-reverse)))",marginBottom:"calc(var(--chakra-space-y) * var(--chakra-space-y-reverse))"}),Pn={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},An=new Set(Object.values(Pn)),In=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),Ln=function(e){return e.trim()};var Dn=function(e){return"string"===typeof e&&e.includes("(")&&e.includes(")")};var On=function(e){return function(t){return"".concat(e,"(").concat(t,")")}},Rn={filter:function(e){return"auto"!==e?e:kn},backdropFilter:function(e){return"auto"!==e?e:Sn},ring:function(e){return function(e){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":e,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}(Rn.px(e))},bgClip:function(e){return"text"===e?{color:"transparent",backgroundClip:"text"}:{backgroundClip:e}},transform:function(e){return"auto"===e?["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))"].concat(wn).join(" "):"auto-gpu"===e?["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)"].concat(wn).join(" "):e},vh:function(e){return"$100vh"===e?"var(--chakra-vh)":e},px:function(e){if(null==e)return e;var t=function(e){var t=parseFloat(e.toString()),n=e.toString().replace(String(t),"");return{unitless:!n,value:t,unit:n}}(e);return t.unitless||"number"===typeof e?"".concat(e,"px"):e},fraction:function(e){return"number"!==typeof e||e>1?e:"".concat(100*e,"%")},float:function(e,t){return"rtl"===t.direction?{left:"right",right:"left"}[e]:e},degree:function(e){if(function(e){return/^var\(--.+\)$/.test(e)}(e)||null==e)return e;var t="string"===typeof e&&!e.endsWith("deg");return"number"===typeof e||t?"".concat(e,"deg"):e},gradient:function(e,t){return function(e,t){var n,i;if(null==e||In.has(e))return e;var r=null!=(i=null==(n=cn(/(^[a-z-A-Z]+)\(((.*))\)/g,{type:1,values:2}).exec(e))?void 0:n.groups)?i:{},o=r.type,a=r.values;if(!o||!a)return e;var s=o.includes("-gradient")?o:"".concat(o,"-gradient"),l=Fe(a.split(",").map(Ln).filter(Boolean)),c=l[0],u=l.slice(1);if(0===(null==u?void 0:u.length))return e;var d=c in Pn?Pn[c]:c;u.unshift(d);var h=u.map((function(e){if(An.has(e))return e;var n=e.indexOf(" "),i=pe(-1!==n?[e.substr(0,n),e.substr(n+1)]:[e],2),r=i[0],o=i[1],a=Dn(o)?o:o&&o.split(" "),s="colors.".concat(r),l=s in t.__cssMap?t.__cssMap[s].varRef:r;return a?[l].concat(Ne(Array.isArray(a)?a:[a])).join(" "):l}));return"".concat(s,"(").concat(h.join(", "),")")}(e,null!=t?t:{})},blur:On("blur"),opacity:On("opacity"),brightness:On("brightness"),contrast:On("contrast"),dropShadow:On("drop-shadow"),grayscale:On("grayscale"),hueRotate:On("hue-rotate"),invert:On("invert"),saturate:On("saturate"),sepia:On("sepia"),bgImage:function(e){return null==e||Dn(e)||In.has(e)?e:"url(".concat(e,")")},outline:function(e){var t="0"===String(e)||"none"===String(e);return null!==e&&t?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:e}},flexDirection:function(e){var t,n=null!=(t=Cn[e])?t:{},i=n.space,r=n.divide,o={flexDirection:e};return i&&(o[i]=1),r&&(o[r]=1),o}},zn={borderWidths:bn("borderWidths"),borderStyles:bn("borderStyles"),colors:bn("colors"),borders:bn("borders"),radii:bn("radii",Rn.px),space:bn("space",xn(Rn.vh,Rn.px)),spaceT:bn("space",xn(Rn.vh,Rn.px)),degreeT:function(e){return{property:e,transform:Rn.degree}},prop:function(e,t,n){return le({property:e,scale:t},t&&{transform:yn({scale:t,transform:n})})},propT:function(e,t){return{property:e,transform:t}},sizes:bn("sizes",xn(Rn.vh,Rn.px)),sizesT:bn("sizes",xn(Rn.vh,Rn.fraction)),shadows:bn("shadows"),logical:function(e){var t=e.property,n=e.scale,i=e.transform;return{scale:n,property:_n(t),transform:n?yn({scale:n,compose:i}):i}},blur:bn("blur",Rn.blur)},Fn={background:zn.colors("background"),backgroundColor:zn.colors("backgroundColor"),backgroundImage:zn.propT("backgroundImage",Rn.bgImage),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:Rn.bgClip},bgSize:zn.prop("backgroundSize"),bgPosition:zn.prop("backgroundPosition"),bg:zn.colors("background"),bgColor:zn.colors("backgroundColor"),bgPos:zn.prop("backgroundPosition"),bgRepeat:zn.prop("backgroundRepeat"),bgAttachment:zn.prop("backgroundAttachment"),bgGradient:zn.propT("backgroundImage",Rn.gradient),bgClip:{transform:Rn.bgClip}};Object.assign(Fn,{bgImage:Fn.backgroundImage,bgImg:Fn.backgroundImage});var Bn={border:zn.borders("border"),borderWidth:zn.borderWidths("borderWidth"),borderStyle:zn.borderStyles("borderStyle"),borderColor:zn.colors("borderColor"),borderRadius:zn.radii("borderRadius"),borderTop:zn.borders("borderTop"),borderBlockStart:zn.borders("borderBlockStart"),borderTopLeftRadius:zn.radii("borderTopLeftRadius"),borderStartStartRadius:zn.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:zn.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:zn.radii("borderTopRightRadius"),borderStartEndRadius:zn.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:zn.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:zn.borders("borderRight"),borderInlineEnd:zn.borders("borderInlineEnd"),borderBottom:zn.borders("borderBottom"),borderBlockEnd:zn.borders("borderBlockEnd"),borderBottomLeftRadius:zn.radii("borderBottomLeftRadius"),borderBottomRightRadius:zn.radii("borderBottomRightRadius"),borderLeft:zn.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:zn.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:zn.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:zn.borders(["borderLeft","borderRight"]),borderInline:zn.borders("borderInline"),borderY:zn.borders(["borderTop","borderBottom"]),borderBlock:zn.borders("borderBlock"),borderTopWidth:zn.borderWidths("borderTopWidth"),borderBlockStartWidth:zn.borderWidths("borderBlockStartWidth"),borderTopColor:zn.colors("borderTopColor"),borderBlockStartColor:zn.colors("borderBlockStartColor"),borderTopStyle:zn.borderStyles("borderTopStyle"),borderBlockStartStyle:zn.borderStyles("borderBlockStartStyle"),borderBottomWidth:zn.borderWidths("borderBottomWidth"),borderBlockEndWidth:zn.borderWidths("borderBlockEndWidth"),borderBottomColor:zn.colors("borderBottomColor"),borderBlockEndColor:zn.colors("borderBlockEndColor"),borderBottomStyle:zn.borderStyles("borderBottomStyle"),borderBlockEndStyle:zn.borderStyles("borderBlockEndStyle"),borderLeftWidth:zn.borderWidths("borderLeftWidth"),borderInlineStartWidth:zn.borderWidths("borderInlineStartWidth"),borderLeftColor:zn.colors("borderLeftColor"),borderInlineStartColor:zn.colors("borderInlineStartColor"),borderLeftStyle:zn.borderStyles("borderLeftStyle"),borderInlineStartStyle:zn.borderStyles("borderInlineStartStyle"),borderRightWidth:zn.borderWidths("borderRightWidth"),borderInlineEndWidth:zn.borderWidths("borderInlineEndWidth"),borderRightColor:zn.colors("borderRightColor"),borderInlineEndColor:zn.colors("borderInlineEndColor"),borderRightStyle:zn.borderStyles("borderRightStyle"),borderInlineEndStyle:zn.borderStyles("borderInlineEndStyle"),borderTopRadius:zn.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:zn.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:zn.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:zn.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(Bn,{rounded:Bn.borderRadius,roundedTop:Bn.borderTopRadius,roundedTopLeft:Bn.borderTopLeftRadius,roundedTopRight:Bn.borderTopRightRadius,roundedTopStart:Bn.borderStartStartRadius,roundedTopEnd:Bn.borderStartEndRadius,roundedBottom:Bn.borderBottomRadius,roundedBottomLeft:Bn.borderBottomLeftRadius,roundedBottomRight:Bn.borderBottomRightRadius,roundedBottomStart:Bn.borderEndStartRadius,roundedBottomEnd:Bn.borderEndEndRadius,roundedLeft:Bn.borderLeftRadius,roundedRight:Bn.borderRightRadius,roundedStart:Bn.borderInlineStartRadius,roundedEnd:Bn.borderInlineEndRadius,borderStart:Bn.borderInlineStart,borderEnd:Bn.borderInlineEnd,borderTopStartRadius:Bn.borderStartStartRadius,borderTopEndRadius:Bn.borderStartEndRadius,borderBottomStartRadius:Bn.borderEndStartRadius,borderBottomEndRadius:Bn.borderEndEndRadius,borderStartRadius:Bn.borderInlineStartRadius,borderEndRadius:Bn.borderInlineEndRadius,borderStartWidth:Bn.borderInlineStartWidth,borderEndWidth:Bn.borderInlineEndWidth,borderStartColor:Bn.borderInlineStartColor,borderEndColor:Bn.borderInlineEndColor,borderStartStyle:Bn.borderInlineStartStyle,borderEndStyle:Bn.borderInlineEndStyle});var Nn={color:zn.colors("color"),textColor:zn.colors("color"),fill:zn.colors("fill"),stroke:zn.colors("stroke")},jn={boxShadow:zn.shadows("boxShadow"),mixBlendMode:!0,blendMode:zn.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:zn.prop("backgroundBlendMode"),opacity:!0};Object.assign(jn,{shadow:jn.boxShadow});var Vn={filter:{transform:Rn.filter},blur:zn.blur("--chakra-blur"),brightness:zn.propT("--chakra-brightness",Rn.brightness),contrast:zn.propT("--chakra-contrast",Rn.contrast),hueRotate:zn.degreeT("--chakra-hue-rotate"),invert:zn.propT("--chakra-invert",Rn.invert),saturate:zn.propT("--chakra-saturate",Rn.saturate),dropShadow:zn.propT("--chakra-drop-shadow",Rn.dropShadow),backdropFilter:{transform:Rn.backdropFilter},backdropBlur:zn.blur("--chakra-backdrop-blur"),backdropBrightness:zn.propT("--chakra-backdrop-brightness",Rn.brightness),backdropContrast:zn.propT("--chakra-backdrop-contrast",Rn.contrast),backdropHueRotate:zn.degreeT("--chakra-backdrop-hue-rotate"),backdropInvert:zn.propT("--chakra-backdrop-invert",Rn.invert),backdropSaturate:zn.propT("--chakra-backdrop-saturate",Rn.saturate)},Wn={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:Rn.flexDirection},experimental_spaceX:{static:Tn,transform:yn({scale:"space",transform:function(e){return null!==e?{"--chakra-space-x":e}:null}})},experimental_spaceY:{static:Mn,transform:yn({scale:"space",transform:function(e){return null!=e?{"--chakra-space-y":e}:null}})},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:zn.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:zn.space("gap"),rowGap:zn.space("rowGap"),columnGap:zn.space("columnGap")};Object.assign(Wn,{flexDir:Wn.flexDirection});var Un={gridGap:zn.space("gridGap"),gridColumnGap:zn.space("gridColumnGap"),gridRowGap:zn.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},Hn={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:Rn.outline},outlineOffset:!0,outlineColor:zn.colors("outlineColor")},Xn={width:zn.sizesT("width"),inlineSize:zn.sizesT("inlineSize"),height:zn.sizes("height"),blockSize:zn.sizes("blockSize"),boxSize:zn.sizes(["width","height"]),minWidth:zn.sizes("minWidth"),minInlineSize:zn.sizes("minInlineSize"),minHeight:zn.sizes("minHeight"),minBlockSize:zn.sizes("minBlockSize"),maxWidth:zn.sizes("maxWidth"),maxInlineSize:zn.sizes("maxInlineSize"),maxHeight:zn.sizes("maxHeight"),maxBlockSize:zn.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:zn.propT("float",Rn.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(Xn,{w:Xn.width,h:Xn.height,minW:Xn.minWidth,maxW:Xn.maxWidth,minH:Xn.minHeight,maxH:Xn.maxHeight,overscroll:Xn.overscrollBehavior,overscrollX:Xn.overscrollBehaviorX,overscrollY:Xn.overscrollBehaviorY});var Gn={listStyleType:!0,listStylePosition:!0,listStylePos:zn.prop("listStylePosition"),listStyleImage:!0,listStyleImg:zn.prop("listStyleImage")};var Yn=function(e){var t=new WeakMap;return function(n,i,r,o){if("undefined"===typeof n)return e(n,i,r);t.has(n)||t.set(n,new Map);var a=t.get(n);if(a.has(i))return a.get(i);var s=e(n,i,r,o);return a.set(i,s),s}}((function(e,t,n,i){var r="string"===typeof t?t.split("."):[t];for(i=0;i<r.length&&e;i+=1)e=e[r[i]];return void 0===e?n:e})),qn={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},Kn={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},$n=function(e,t,n){var i={},r=Yn(e,t,{});for(var o in r){o in n&&null!=n[o]||(i[o]=r[o])}return i},Zn={srOnly:{transform:function(e){return!0===e?qn:"focusable"===e?Kn:{}}},layerStyle:{processResult:!0,transform:function(e,t,n){return $n(t,"layerStyles.".concat(e),n)}},textStyle:{processResult:!0,transform:function(e,t,n){return $n(t,"textStyles.".concat(e),n)}},apply:{processResult:!0,transform:function(e,t,n){return $n(t,e,n)}}},Jn={position:!0,pos:zn.prop("position"),zIndex:zn.prop("zIndex","zIndices"),inset:zn.spaceT("inset"),insetX:zn.spaceT(["left","right"]),insetInline:zn.spaceT("insetInline"),insetY:zn.spaceT(["top","bottom"]),insetBlock:zn.spaceT("insetBlock"),top:zn.spaceT("top"),insetBlockStart:zn.spaceT("insetBlockStart"),bottom:zn.spaceT("bottom"),insetBlockEnd:zn.spaceT("insetBlockEnd"),left:zn.spaceT("left"),insetInlineStart:zn.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:zn.spaceT("right"),insetInlineEnd:zn.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(Jn,{insetStart:Jn.insetInlineStart,insetEnd:Jn.insetInlineEnd});var Qn={ring:{transform:Rn.ring},ringColor:zn.colors("--chakra-ring-color"),ringOffset:zn.prop("--chakra-ring-offset-width"),ringOffsetColor:zn.colors("--chakra-ring-offset-color"),ringInset:zn.prop("--chakra-ring-inset")},ei={margin:zn.spaceT("margin"),marginTop:zn.spaceT("marginTop"),marginBlockStart:zn.spaceT("marginBlockStart"),marginRight:zn.spaceT("marginRight"),marginInlineEnd:zn.spaceT("marginInlineEnd"),marginBottom:zn.spaceT("marginBottom"),marginBlockEnd:zn.spaceT("marginBlockEnd"),marginLeft:zn.spaceT("marginLeft"),marginInlineStart:zn.spaceT("marginInlineStart"),marginX:zn.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:zn.spaceT("marginInline"),marginY:zn.spaceT(["marginTop","marginBottom"]),marginBlock:zn.spaceT("marginBlock"),padding:zn.space("padding"),paddingTop:zn.space("paddingTop"),paddingBlockStart:zn.space("paddingBlockStart"),paddingRight:zn.space("paddingRight"),paddingBottom:zn.space("paddingBottom"),paddingBlockEnd:zn.space("paddingBlockEnd"),paddingLeft:zn.space("paddingLeft"),paddingInlineStart:zn.space("paddingInlineStart"),paddingInlineEnd:zn.space("paddingInlineEnd"),paddingX:zn.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:zn.space("paddingInline"),paddingY:zn.space(["paddingTop","paddingBottom"]),paddingBlock:zn.space("paddingBlock")};Object.assign(ei,{m:ei.margin,mt:ei.marginTop,mr:ei.marginRight,me:ei.marginInlineEnd,marginEnd:ei.marginInlineEnd,mb:ei.marginBottom,ml:ei.marginLeft,ms:ei.marginInlineStart,marginStart:ei.marginInlineStart,mx:ei.marginX,my:ei.marginY,p:ei.padding,pt:ei.paddingTop,py:ei.paddingY,px:ei.paddingX,pb:ei.paddingBottom,pl:ei.paddingLeft,ps:ei.paddingInlineStart,paddingStart:ei.paddingInlineStart,pr:ei.paddingRight,pe:ei.paddingInlineEnd,paddingEnd:ei.paddingInlineEnd});var ti={textDecorationColor:zn.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:zn.shadows("textShadow")},ni={clipPath:!0,transform:zn.propT("transform",Rn.transform),transformOrigin:!0,translateX:zn.spaceT("--chakra-translate-x"),translateY:zn.spaceT("--chakra-translate-y"),skewX:zn.degreeT("--chakra-skew-x"),skewY:zn.degreeT("--chakra-skew-y"),scaleX:zn.prop("--chakra-scale-x"),scaleY:zn.prop("--chakra-scale-y"),scale:zn.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:zn.degreeT("--chakra-rotate")},ii={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:zn.prop("transitionDuration","transition.duration"),transitionProperty:zn.prop("transitionProperty","transition.property"),transitionTimingFunction:zn.prop("transitionTimingFunction","transition.easing")},ri={fontFamily:zn.prop("fontFamily","fonts"),fontSize:zn.prop("fontSize","fontSizes",Rn.px),fontWeight:zn.prop("fontWeight","fontWeights"),lineHeight:zn.prop("lineHeight","lineHeights"),letterSpacing:zn.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform:function(e){if(!0===e)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},oi={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:zn.spaceT("scrollMargin"),scrollMarginTop:zn.spaceT("scrollMarginTop"),scrollMarginBottom:zn.spaceT("scrollMarginBottom"),scrollMarginLeft:zn.spaceT("scrollMarginLeft"),scrollMarginRight:zn.spaceT("scrollMarginRight"),scrollMarginX:zn.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:zn.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:zn.spaceT("scrollPadding"),scrollPaddingTop:zn.spaceT("scrollPaddingTop"),scrollPaddingBottom:zn.spaceT("scrollPaddingBottom"),scrollPaddingLeft:zn.spaceT("scrollPaddingLeft"),scrollPaddingRight:zn.spaceT("scrollPaddingRight"),scrollPaddingX:zn.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:zn.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function ai(e){return dn(e)&&e.reference?e.reference:String(e)}var si=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.map(ai).join(" ".concat(e," ")).replace(/calc/g,"")},li=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(si.apply(void 0,["+"].concat(t)),")")},ci=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(si.apply(void 0,["-"].concat(t)),")")},ui=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(si.apply(void 0,["*"].concat(t)),")")},di=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"calc(".concat(si.apply(void 0,["/"].concat(t)),")")},hi=function(e){var t=ai(e);return null==t||Number.isNaN(parseFloat(t))?ui(t,-1):String(t).startsWith("-")?String(t).slice(1):"-".concat(t)},pi=Object.assign((function(e){return{add:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return pi(li.apply(void 0,[e].concat(n)))},subtract:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return pi(ci.apply(void 0,[e].concat(n)))},multiply:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return pi(ui.apply(void 0,[e].concat(n)))},divide:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return pi(di.apply(void 0,[e].concat(n)))},negate:function(){return pi(hi(e))},toString:function(){return e.toString()}}}),{add:li,subtract:ci,multiply:ui,divide:di,negate:hi});function fi(e){if(null==e)return e;var t=function(e){var t=parseFloat(e.toString()),n=e.toString().replace(String(t),"");return{unitless:!n,value:t,unit:n}}(e);return t.unitless||"number"===typeof e?"".concat(e,"px"):e}function mi(e,t){var n=["@media screen"];return e&&n.push("and","(min-width: ".concat(fi(e),")")),t&&n.push("and","(max-width: ".concat(fi(t),")")),n.join(" ")}var gi=function(e,t){return"".concat(e,":hover ").concat(t,", ").concat(e,"[data-hover] ").concat(t)},vi=function(e,t){return"".concat(e,":focus ").concat(t,", ").concat(e,"[data-focus] ").concat(t)},yi=function(e,t){return"".concat(e,":focus-visible ").concat(t)},xi=function(e,t){return"".concat(e,":focus-within ").concat(t)},bi=function(e,t){return"".concat(e,":active ").concat(t,", ").concat(e,"[data-active] ").concat(t)},_i=function(e,t){return"".concat(e,":disabled ").concat(t,", ").concat(e,"[data-disabled] ").concat(t)},wi=function(e,t){return"".concat(e,":invalid ").concat(t,", ").concat(e,"[data-invalid] ").concat(t)},ki=function(e,t){return"".concat(e,":checked ").concat(t,", ").concat(e,"[data-checked] ").concat(t)},Si=function(e,t){return"".concat(e,":placeholder-shown ").concat(t)},Ci=function(e){return Ti((function(t){return e(t,"&")}),"[role=group]","[data-group]",".group")},Ei=function(e){return Ti((function(t){return e(t,"~ &")}),"[data-peer]",".peer")},Ti=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.map(e).join(", ")},Mi={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:Ci(gi),_peerHover:Ei(gi),_groupFocus:Ci(vi),_peerFocus:Ei(vi),_groupFocusVisible:Ci(yi),_peerFocusVisible:Ei(yi),_groupActive:Ci(bi),_peerActive:Ei(bi),_groupDisabled:Ci(_i),_peerDisabled:Ei(_i),_groupInvalid:Ci(wi),_peerInvalid:Ei(wi),_groupChecked:Ci(ki),_peerChecked:Ei(ki),_groupFocusWithin:Ci(xi),_peerFocusWithin:Ei(xi),_peerPlaceholderShown:Ei(Si),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]"},Pi=Object.keys(Mi);var Ai=mn({},Fn,Bn,Nn,Wn,Xn,Vn,Qn,Hn,Un,Zn,Jn,jn,ei,oi,ri,ti,ni,Gn,ii),Ii=Object.assign({},ei,Xn,Wn,Un,Jn),Li=(Object.keys(Ii),[].concat(Ne(Object.keys(Ai)),Pi)),Di=le(le({},Ai),Mi),Oi=function(e){return e in Di},Ri=function(e){return function(t){if(!t.__breakpoints)return e;var n=t.__breakpoints,i=n.isResponsive,r=n.toArrayValue,o=n.media,a={};for(var s in e){var l=hn(e[s],t);if(null!=l)if(l=dn(l)&&i(l)?r(l):l,Array.isArray(l))for(var c=l.slice(0,o.length).length,u=0;u<c;u+=1){var d=null==o?void 0:o[u];d?(a[d]=a[d]||{},null!=l[u]&&(a[d][s]=l[u])):a[s]=l[u]}else a[s]=l}return a}};var zi=function(e,t){return e.startsWith("--")&&"string"===typeof t&&!function(e){return/^var\(--.+\)$/.test(e)}(t)},Fi=function(e,t){var n,i;if(null==t)return t;var r=function(t){var n,i;return null==(i=null==(n=e.__cssMap)?void 0:n[t])?void 0:i.varRef},o=function(e){var t;return null!=(t=r(e))?t:e},a=function(e){for(var t=[],n="",i=!1,r=0;r<e.length;r++){var o=e[r];"("===o?(i=!0,n+=o):")"===o?(i=!1,n+=o):","!==o||i?n+=o:(t.push(n),n="")}return(n=n.trim())&&t.push(n),t}(t),s=pe(a,2),l=s[0],c=s[1];return t=null!=(i=null!=(n=r(l))?n:o(c))?i:o(t)};var Bi=function(e){return function(t){var n=function(e){var t=e.configs,n=void 0===t?{}:t,i=e.pseudos,r=void 0===i?{}:i,o=e.theme;return function e(t){var i,a,s,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=hn(t,o),u=Ri(c)(o),d={};for(var h in u){var p=hn(u[h],o);h in r&&(h=r[h]),zi(h,p)&&(p=Fi(o,p));var f=n[h];if(!0===f&&(f={property:h}),dn(p))d[h]=null!=(i=d[h])?i:{},d[h]=mn({},d[h],e(p,!0));else{var m=null!=(s=null==(a=null==f?void 0:f.transform)?void 0:a.call(f,p,o,c))?s:p;m=(null==f?void 0:f.processResult)?e(m,!0):m;var g=hn(null==f?void 0:f.property,o);if(!l&&(null==f?void 0:f.static)){var v=hn(f.static,o);d=mn({},d,v)}if(g&&Array.isArray(g)){var y,x=Be(g);try{for(x.s();!(y=x.n()).done;)d[y.value]=m}catch(b){x.e(b)}finally{x.f()}}else g?"&"===g&&dn(m)?d=mn({},d,m):d[g]=m:dn(m)?d=mn({},d,m):d[h]=m}}return d}}({theme:t,pseudos:Mi,configs:Ai});return n(e)}};function Ni(e){var t=e.__breakpoints;return function(e,n,i,r){var o,a;if(t){var s={},l=function(e,t){return Array.isArray(e)?e:dn(e)?t(e):null!=e?[e]:void 0}(i,t.toArrayValue);if(!l)return s;for(var c=l.length,u=1===c,d=!!e.parts,h=function(){var i=t.details[p],c=t.details[function(e,t){for(var n=t+1;n<e.length;n++)if(null!=e[n])return n;return-1}(l,p)],h=mi(i.minW,null==c?void 0:c._minW),f=hn(null==(o=e[n])?void 0:o[l[p]],r);return f?d?(null==(a=e.parts)||a.forEach((function(e){mn(s,ae({},e,u?f[e]:ae({},h,f[e])))})),"continue"):d?void(s[h]=f):(u?mn(s,f):s[h]=f,"continue"):"continue"},p=0;p<c;p++)h();return s}}}function ji(e){return function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=Object.assign({},e),r=Be(n);try{for(r.s();!(t=r.n()).done;){var o=t.value;o in i&&delete i[o]}}catch(a){r.e(a)}finally{r.f()}return i}(e,["styleConfig","size","variant","colorScheme"])}var Vi=new Set([].concat(Ne(Li),["textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"])),Wi=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function Ui(e){return Wi.has(e)||!Vi.has(e)}var Hi=(0,t.createContext)({});function Xi(){var e=(0,t.useContext)(Hi);if(void 0===e)throw new Error("useColorMode must be used within a ColorModeProvider");return e}Hi.displayName="ColorModeContext";var Gi=function(e){var t=new WeakMap;return function(n,i,r,o){if("undefined"===typeof n)return e(n,i,r);t.has(n)||t.set(n,new Map);var a=t.get(n);if(a.has(i))return a.get(i);var s=e(n,i,r,o);return a.set(i,s),s}}((function(e,t,n,i){var r="string"===typeof t?t.split("."):[t];for(i=0;i<r.length&&e;i+=1)e=e[r[i]];return void 0===e?n:e}));function Yi(e,t){var n={};return Object.keys(e).forEach((function(i){var r=e[i];t(r,i,e)&&(n[i]=r)})),n}var qi=function(e){return Yi(e,(function(e){return null!==e&&void 0!==e}))};var Ki=n(9791);var $i=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(i){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Zi=Math.abs,Ji=String.fromCharCode,Qi=Object.assign;function er(e){return e.trim()}function tr(e,t,n){return e.replace(t,n)}function nr(e,t){return e.indexOf(t)}function ir(e,t){return 0|e.charCodeAt(t)}function rr(e,t,n){return e.slice(t,n)}function or(e){return e.length}function ar(e){return e.length}function sr(e,t){return t.push(e),e}var lr=1,cr=1,ur=0,dr=0,hr=0,pr="";function fr(e,t,n,i,r,o,a){return{value:e,root:t,parent:n,type:i,props:r,children:o,line:lr,column:cr,length:a,return:""}}function mr(e,t){return Qi(fr("",null,null,"",null,null,0),e,{length:-e.length},t)}function gr(){return hr=dr>0?ir(pr,--dr):0,cr--,10===hr&&(cr=1,lr--),hr}function vr(){return hr=dr<ur?ir(pr,dr++):0,cr++,10===hr&&(cr=1,lr++),hr}function yr(){return ir(pr,dr)}function xr(){return dr}function br(e,t){return rr(pr,e,t)}function _r(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function wr(e){return lr=cr=1,ur=or(pr=e),dr=0,[]}function kr(e){return pr="",e}function Sr(e){return er(br(dr-1,Tr(91===e?e+2:40===e?e+1:e)))}function Cr(e){for(;(hr=yr())&&hr<33;)vr();return _r(e)>2||_r(hr)>3?"":" "}function Er(e,t){for(;--t&&vr()&&!(hr<48||hr>102||hr>57&&hr<65||hr>70&&hr<97););return br(e,xr()+(t<6&&32==yr()&&32==vr()))}function Tr(e){for(;vr();)switch(hr){case e:return dr;case 34:case 39:34!==e&&39!==e&&Tr(hr);break;case 40:41===e&&Tr(e);break;case 92:vr()}return dr}function Mr(e,t){for(;vr()&&e+hr!==57&&(e+hr!==84||47!==yr()););return"/*"+br(t,dr-1)+"*"+Ji(47===e?e:vr())}function Pr(e){for(;!_r(yr());)vr();return br(e,dr)}var Ar="-ms-",Ir="-moz-",Lr="-webkit-",Dr="comm",Or="rule",Rr="decl",zr="@import",Fr="@keyframes";function Br(e,t){for(var n="",i=ar(e),r=0;r<i;r++)n+=t(e[r],r,e,t)||"";return n}function Nr(e,t,n,i){switch(e.type){case zr:case Rr:return e.return=e.return||e.value;case Dr:return"";case Fr:return e.return=e.value+"{"+Br(e.children,i)+"}";case Or:e.value=e.props.join(",")}return or(n=Br(e.children,i))?e.return=e.value+"{"+n+"}":""}function jr(e){return kr(Vr("",null,null,null,[""],e=wr(e),0,[0],e))}function Vr(e,t,n,i,r,o,a,s,l){for(var c=0,u=0,d=a,h=0,p=0,f=0,m=1,g=1,v=1,y=0,x="",b=r,_=o,w=i,k=x;g;)switch(f=y,y=vr()){case 40:if(108!=f&&58==ir(k,d-1)){-1!=nr(k+=tr(Sr(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:k+=Sr(y);break;case 9:case 10:case 13:case 32:k+=Cr(f);break;case 92:k+=Er(xr()-1,7);continue;case 47:switch(yr()){case 42:case 47:sr(Ur(Mr(vr(),xr()),t,n),l);break;default:k+="/"}break;case 123*m:s[c++]=or(k)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:p>0&&or(k)-d&&sr(p>32?Hr(k+";",i,n,d-1):Hr(tr(k," ","")+";",i,n,d-2),l);break;case 59:k+=";";default:if(sr(w=Wr(k,t,n,c,u,r,s,x,b=[],_=[],d),o),123===y)if(0===u)Vr(k,t,w,w,b,o,d,s,_);else switch(99===h&&110===ir(k,3)?100:h){case 100:case 109:case 115:Vr(e,w,w,i&&sr(Wr(e,w,w,0,0,r,s,x,r,b=[],d),_),r,_,d,s,i?b:_);break;default:Vr(k,w,w,w,[""],_,0,s,_)}}c=u=p=0,m=v=1,x=k="",d=a;break;case 58:d=1+or(k),p=f;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==gr())continue;switch(k+=Ji(y),y*m){case 38:v=u>0?1:(k+="\f",-1);break;case 44:s[c++]=(or(k)-1)*v,v=1;break;case 64:45===yr()&&(k+=Sr(vr())),h=yr(),u=d=or(x=k+=Pr(xr())),y++;break;case 45:45===f&&2==or(k)&&(m=0)}}return o}function Wr(e,t,n,i,r,o,a,s,l,c,u){for(var d=r-1,h=0===r?o:[""],p=ar(h),f=0,m=0,g=0;f<i;++f)for(var v=0,y=rr(e,d+1,d=Zi(m=a[f])),x=e;v<p;++v)(x=er(m>0?h[v]+" "+y:tr(y,/&\f/g,h[v])))&&(l[g++]=x);return fr(e,t,n,0===r?Or:s,l,c,u)}function Ur(e,t,n){return fr(e,t,n,Dr,Ji(hr),rr(e,2,-2),0)}function Hr(e,t,n,i){return fr(e,t,n,Rr,rr(e,0,i),rr(e,i+1,-1),i)}var Xr=function(e,t,n){for(var i=0,r=0;i=r,r=yr(),38===i&&12===r&&(t[n]=1),!_r(r);)vr();return br(e,dr)},Gr=function(e,t){return kr(function(e,t){var n=-1,i=44;do{switch(_r(i)){case 0:38===i&&12===yr()&&(t[n]=1),e[n]+=Xr(dr-1,t,n);break;case 2:e[n]+=Sr(i);break;case 4:if(44===i){e[++n]=58===yr()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Ji(i)}}while(i=vr());return e}(wr(e),t))},Yr=new WeakMap,qr=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Yr.get(n))&&!i){Yr.set(e,!0);for(var r=[],o=Gr(t,r),a=n.props,s=0,l=0;s<o.length;s++)for(var c=0;c<a.length;c++,l++)e.props[l]=r[s]?o[s].replace(/&\f/g,a[c]):a[c]+" "+o[s]}}},Kr=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function $r(e,t){switch(function(e,t){return 45^ir(e,0)?(((t<<2^ir(e,0))<<2^ir(e,1))<<2^ir(e,2))<<2^ir(e,3):0}(e,t)){case 5103:return Lr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Lr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Lr+e+Ir+e+Ar+e+e;case 6828:case 4268:return Lr+e+Ar+e+e;case 6165:return Lr+e+Ar+"flex-"+e+e;case 5187:return Lr+e+tr(e,/(\w+).+(:[^]+)/,Lr+"box-$1$2"+Ar+"flex-$1$2")+e;case 5443:return Lr+e+Ar+"flex-item-"+tr(e,/flex-|-self/,"")+e;case 4675:return Lr+e+Ar+"flex-line-pack"+tr(e,/align-content|flex-|-self/,"")+e;case 5548:return Lr+e+Ar+tr(e,"shrink","negative")+e;case 5292:return Lr+e+Ar+tr(e,"basis","preferred-size")+e;case 6060:return Lr+"box-"+tr(e,"-grow","")+Lr+e+Ar+tr(e,"grow","positive")+e;case 4554:return Lr+tr(e,/([^-])(transform)/g,"$1"+Lr+"$2")+e;case 6187:return tr(tr(tr(e,/(zoom-|grab)/,Lr+"$1"),/(image-set)/,Lr+"$1"),e,"")+e;case 5495:case 3959:return tr(e,/(image-set\([^]*)/,Lr+"$1$`$1");case 4968:return tr(tr(e,/(.+:)(flex-)?(.*)/,Lr+"box-pack:$3"+Ar+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Lr+e+e;case 4095:case 3583:case 4068:case 2532:return tr(e,/(.+)-inline(.+)/,Lr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(or(e)-1-t>6)switch(ir(e,t+1)){case 109:if(45!==ir(e,t+4))break;case 102:return tr(e,/(.+:)(.+)-([^]+)/,"$1"+Lr+"$2-$3$1"+Ir+(108==ir(e,t+3)?"$3":"$2-$3"))+e;case 115:return~nr(e,"stretch")?$r(tr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==ir(e,t+1))break;case 6444:switch(ir(e,or(e)-3-(~nr(e,"!important")&&10))){case 107:return tr(e,":",":"+Lr)+e;case 101:return tr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Lr+(45===ir(e,14)?"inline-":"")+"box$3$1"+Lr+"$2$3$1"+Ar+"$2box$3")+e}break;case 5936:switch(ir(e,t+11)){case 114:return Lr+e+Ar+tr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Lr+e+Ar+tr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Lr+e+Ar+tr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Lr+e+Ar+e+e}return e}var Zr=[function(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case Rr:e.return=$r(e.value,e.length);break;case Fr:return Br([mr(e,{value:tr(e.value,"@","@"+Lr)})],i);case Or:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Br([mr(e,{props:[tr(t,/:(read-\w+)/,":"+Ir+"$1")]})],i);case"::placeholder":return Br([mr(e,{props:[tr(t,/:(plac\w+)/,":"+Lr+"input-$1")]}),mr(e,{props:[tr(t,/:(plac\w+)/,":"+Ir+"$1")]}),mr(e,{props:[tr(t,/:(plac\w+)/,Ar+"input-$1")]})],i)}return""}))}}],Jr=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||Zr;var r,o,a={},s=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)}));var l,c,u=[Nr,(c=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],d=function(e){var t=ar(e);return function(n,i,r,o){for(var a="",s=0;s<t;s++)a+=e[s](n,i,r,o)||"";return a}}([qr,Kr].concat(i,u));o=function(e,t,n,i){l=n,Br(jr(e?e+"{"+t.styles+"}":t.styles),d),i&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new $i({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return h.sheet.hydrate(s),h};var Qr=function(e){for(var t,n=0,i=0,r=e.length;r>=4;++i,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&e.charCodeAt(i+2))<<16;case 2:n^=(255&e.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(i)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},eo={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},to=n(9797),no=/[A-Z]|^ms/g,io=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ro=function(e){return 45===e.charCodeAt(1)},oo=function(e){return null!=e&&"boolean"!==typeof e},ao=(0,to.Z)((function(e){return ro(e)?e:e.replace(no,"-$&").toLowerCase()})),so=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(io,(function(e,t,n){return co={name:t,styles:n,next:co},t}))}return 1===eo[e]||ro(e)||"number"!==typeof t||0===t?t:t+"px"};function lo(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return co={name:n.name,styles:n.styles,next:co},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)co={name:i.name,styles:i.styles,next:co},i=i.next;return n.styles+";"}return function(e,t,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=lo(e,t,n[r])+";";else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?i+=o+"{"+t[a]+"}":oo(a)&&(i+=ao(o)+":"+so(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=lo(e,t,a);switch(o){case"animation":case"animationName":i+=ao(o)+":"+s+";";break;default:i+=o+"{"+s+"}"}}else for(var l=0;l<a.length;l++)oo(a[l])&&(i+=ao(o)+":"+so(o,a[l])+";")}return i}(e,t,n);case"function":if(void 0!==e){var r=co,o=n(e);return co=r,lo(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var co,uo=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var ho=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,r="";co=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,r+=lo(n,t,o)):r+=o[0];for(var a=1;a<e.length;a++)r+=lo(n,t,e[a]),i&&(r+=o[a]);uo.lastIndex=0;for(var s,l="";null!==(s=uo.exec(r));)l+="-"+s[1];return{name:Qr(r)+l,styles:r,next:co}},po=!!i.useInsertionEffect&&i.useInsertionEffect,fo=po||function(e){return e()},mo=(po||t.useLayoutEffect,(0,t.createContext)("undefined"!==typeof HTMLElement?Jr({key:"css"}):null));mo.Provider;var go=function(e){return(0,t.forwardRef)((function(n,i){var r=(0,t.useContext)(mo);return e(n,r,i)}))},vo=(0,t.createContext)({});var yo=function(e,t,n){var i=e.key+"-"+t.name;!1===n&&void 0===e.registered[i]&&(e.registered[i]=t.styles)},xo=Ki.Z,bo=function(e){return"theme"!==e},_o=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?xo:bo},wo=function(e,t,n){var i;if(t){var r=t.shouldForwardProp;i=e.__emotion_forwardProp&&r?function(t){return e.__emotion_forwardProp(t)&&r(t)}:r}return"function"!==typeof i&&n&&(i=e.__emotion_forwardProp),i},ko=function(e){var t=e.cache,n=e.serialized,i=e.isStringTag;yo(t,n,i);fo((function(){return function(e,t,n){yo(e,t,n);var i=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var r=t;do{e.insert(t===r?"."+i:"",r,e.sheet,!0),r=r.next}while(void 0!==r)}}(t,n,i)}));return null},So=function e(n,i){var r,o,a=n.__emotion_real===n,s=a&&n.__emotion_base||n;void 0!==i&&(r=i.label,o=i.target);var l=wo(n,i,a),c=l||_o(s),u=!c("as");return function(){var d=arguments,h=a&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==r&&h.push("label:"+r+";"),null==d[0]||void 0===d[0].raw)h.push.apply(h,d);else{0,h.push(d[0][0]);for(var f=d.length,m=1;m<f;m++)h.push(d[m],d[0][m])}var g=go((function(e,n,i){var r=u&&e.as||s,a="",d=[],p=e;if(null==e.theme){for(var f in p={},e)p[f]=e[f];p.theme=(0,t.useContext)(vo)}"string"===typeof e.className?a=function(e,t,n){var i="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):i+=n+" "})),i}(n.registered,d,e.className):null!=e.className&&(a=e.className+" ");var m=ho(h.concat(d),n.registered,p);a+=n.key+"-"+m.name,void 0!==o&&(a+=" "+o);var g=u&&void 0===l?_o(r):c,v={};for(var y in e)u&&"as"===y||g(y)&&(v[y]=e[y]);return v.className=a,v.ref=i,(0,t.createElement)(t.Fragment,null,(0,t.createElement)(ko,{cache:n,serialized:m,isStringTag:"string"===typeof r}),(0,t.createElement)(r,v))}));return g.displayName=void 0!==r?r:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",g.defaultProps=n.defaultProps,g.__emotion_real=g,g.__emotion_base=s,g.__emotion_styles=h,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(t,n){return e(t,p({},i,n,{shouldForwardProp:wo(g,n,!0)})).apply(void 0,h)},g}},Co=So.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Co[e]=Co(e)}));var Eo,To=Co,Mo=["theme","css","__css","sx"],Po=["baseStyle"],Ao=null!=(Eo=To.default)?Eo:To,Io=function(e){var t=e.baseStyle;return function(e){e.theme;var n=e.css,i=e.__css,r=e.sx,o=Yi(ln(e,Mo),(function(e,t){return Oi(t)})),a=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(e){return"function"===typeof e}(e)?e.apply(void 0,n):e}(t,e),s=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=le({},e),n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(var o=0,a=i;o<a.length;o++){var s=a[o];if(null!=s)for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(l in t&&delete t[l],t[l]=s[l])}return t}({},i,a,qi(o),r),l=Bi(s)(e.theme);return n?[l,n]:l}};function Lo(e,n){var i=null!=n?n:{},r=i.baseStyle,o=ln(i,Po);o.shouldForwardProp||(o.shouldForwardProp=Ui);var a=Io({baseStyle:r}),s=Ao(e,o)(a);return t.forwardRef((function(e,n){var i=Xi(),r=i.colorMode,o=i.forced;return t.createElement(s,le({ref:n,"data-theme":o?r:void 0},e))}))}var Do=function(){var e=new Map;return new Proxy(Lo,{apply:function(e,t,n){return Lo.apply(void 0,Ne(n))},get:function(t,n){return e.has(n)||e.set(n,Lo(n)),e.get(n)}})}();function Oo(e){return(0,t.forwardRef)(e)}var Ro=["size","centerContent"],zo=["size"],Fo=Do("div");Fo.displayName="Box";var Bo=Oo((function(e,t){var n=e.size,i=e.centerContent,r=void 0===i||i,o=ln(e,Ro),a=r?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return(0,fe.jsx)(Fo,le({ref:t,boxSize:n,__css:le(le({},a),{},{flexShrink:0,flexGrow:0})},o))}));Bo.displayName="Square";var No=Oo((function(e,t){var n=e.size,i=ln(e,zo);return(0,fe.jsx)(Bo,le({size:n,ref:t,borderRadius:"9999px"},i))}));No.displayName="Circle";var jo={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Vo=t.createContext&&t.createContext(jo),Wo=function(){return Wo=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Wo.apply(this,arguments)},Uo=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function Ho(e){return e&&e.map((function(e,n){return t.createElement(e.tag,Wo({key:n},e.attr),Ho(e.child))}))}function Xo(e){return function(n){return t.createElement(Go,Wo({attr:Wo({},e.attr)},n),Ho(e.child))}}function Go(e){var n=function(n){var i,r=e.attr,o=e.size,a=e.title,s=Uo(e,["attr","size","title"]),l=o||n.size||"1em";return n.className&&(i=n.className),e.className&&(i=(i?i+" ":"")+e.className),t.createElement("svg",Wo({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:i,style:Wo(Wo({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&t.createElement("title",null,a),e.children)};return void 0!==Vo?t.createElement(Vo.Consumer,null,(function(e){return n(e)})):n(jo)}function Yo(e){return Xo({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 0 0-44.4 0L77.5 505a63.9 63.9 0 0 0-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0 0 18.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]})(e)}function qo(e){return Xo({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"}}]})(e)}function Ko(e){return Xo({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"}}]})(e)}function $o(e){return Xo({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zM8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z"}}]})(e)}function Zo(e){return Xo({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2.5 0a.5.5 0 0 1 .5.5V2h10V.5a.5.5 0 0 1 1 0v15a.5.5 0 0 1-1 0V15H3v.5a.5.5 0 0 1-1 0V.5a.5.5 0 0 1 .5-.5zM3 14h10v-3H3v3zm0-4h10V7H3v3zm0-4h10V3H3v3z"}}]})(e)}function Jo(e){return Xo({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"}}]})(e)}function Qo(e){return Xo({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3.1 11.2a.5.5 0 0 1 .4-.2H6a.5.5 0 0 1 0 1H3.75L1.5 15h13l-2.25-3H10a.5.5 0 0 1 0-1h2.5a.5.5 0 0 1 .4.2l3 4a.5.5 0 0 1-.4.8H.5a.5.5 0 0 1-.4-.8l3-4z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M8 1a3 3 0 1 0 0 6 3 3 0 0 0 0-6zM4 4a4 4 0 1 1 4.5 3.969V13.5a.5.5 0 0 1-1 0V7.97A4 4 0 0 1 4 3.999z"}}]})(e)}function ea(e){return Xo({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"}}]})(e)}function ta(e){return Xo({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M608 64H32C14.33 64 0 78.33 0 96v320c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V96c0-17.67-14.33-32-32-32zM48 400v-64c35.35 0 64 28.65 64 64H48zm0-224v-64h64c0 35.35-28.65 64-64 64zm272 176c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 48h-64c0-35.35 28.65-64 64-64v64zm0-224c-35.35 0-64-28.65-64-64h64v64z"}}]})(e)}function na(e){return Xo({tag:"svg",attr:{viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1 4.27v7.47c0 .45.3.84.75.97l6.5 1.73c.16.05.34.05.5 0l6.5-1.73c.45-.13.75-.52.75-.97V4.27c0-.45-.3-.84-.75-.97l-6.5-1.74a1.4 1.4 0 0 0-.5 0L1.75 3.3c-.45.13-.75.52-.75.97zm7 9.09l-6-1.59V5l6 1.61v6.75zM2 4l2.5-.67L11 5.06l-2.5.67L2 4zm13 7.77l-6 1.59V6.61l2-.55V8.5l2-.53V5.53L15 5v6.77zm-2-7.24L6.5 2.8l2-.53L15 4l-2 .53z"}}]})(e)}function ia(e){return Xo({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"}}]})(e)}function ra(e){return Xo({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2"}}]})(e)}function oa(e){return Xo({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M176 416v64M80 32h192a32 32 0 0132 32v412a4 4 0 01-4 4H48h0V64a32 32 0 0132-32zm240 160h112a32 32 0 0132 32v256h0-160 0V208a16 16 0 0116-16z"}},{tag:"path",attr:{d:"M98.08 431.87a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm80 240a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm80 320a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79z"}},{tag:"ellipse",attr:{cx:"256",cy:"176",rx:"15.95",ry:"16.03",transform:"rotate(-45 255.99 175.996)"}},{tag:"path",attr:{d:"M258.08 111.87a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zM400 400a16 16 0 1016 16 16 16 0 00-16-16zm0-80a16 16 0 1016 16 16 16 0 00-16-16zm0-80a16 16 0 1016 16 16 16 0 00-16-16zm-64 160a16 16 0 1016 16 16 16 0 00-16-16zm0-80a16 16 0 1016 16 16 16 0 00-16-16zm0-80a16 16 0 1016 16 16 16 0 00-16-16z"}}]})(e)}function aa(e){return Xo({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"desc",attr:{},child:[]},{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M3 21v-13l9 -4l9 4v13"}},{tag:"path",attr:{d:"M13 13h4v8h-10v-6h6"}},{tag:"path",attr:{d:"M13 21v-9a1 1 0 0 0 -1 -1h-2a1 1 0 0 0 -1 1v3"}}]})(e)}function sa(e){return Xo({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m11.998 17 7-8h-14z"}}]})(e)}function la(e){return Xo({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 11h12v2H4zm0-5h16v2H4zm0 12h7.235v-2H4z"}}]})(e)}var ca=["isCurrent","icon","name","isOpen","className"],ua=function(e){var t=e.isCurrent,n=e.icon,i=e.name,r=e.isOpen,o=e.className,a=ln(e,ca);return(0,fe.jsxs)("li",le(le({className:"flex my-1 mx-1 cursor-pointer gap-2 text-sm uppercase px-2 py-3 bg-primary hover:bg-white hover:text-black items-center ".concat(t?"font-[600] text-white bg-current_bg":"font-[700] text-black"," ").concat(!r&&"justify-center h-10 w-10 mx-auto"," ").concat(o)},a),{},{children:[(0,fe.jsxs)("div",{className:"".concat("text-lg"),children:[n," "]}),(0,fe.jsx)("span",{className:"truncate duration-300 ".concat(!r&&" hidden -z-2"),children:i})]}))},da=function(e){var n=e.isCurrent,i=e.icon,r=e.name,o=e.isOpen,a=e.options,s=pe((0,t.useState)(!1),2),l=s[0],c=s[1];return(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsxs)("li",{className:"flex my-1 mx-1 cursor-pointer gap-2 text-sm uppercase px-2 py-3 hover:bg-white hover:text-black items-center ".concat(n?"font-[600] text-white bg-current_bg":"font-[700] text-black"," ").concat(!o&&"justify-center h-10 w-10 mx-auto"," ").concat(l?"bg-white":" bg-primary"," "),onClick:function(){return c(!l)},children:[(0,fe.jsxs)("div",{className:"".concat("text-lg"),children:[i," "]}),(0,fe.jsx)("div",{className:"truncate flex-1 duration-300 ".concat(!o&&" hidden -z-2"),children:r}),(0,fe.jsx)("div",{children:(0,fe.jsx)(sa,{className:"duration-300 text-lg ".concat(l?"rotate-180":"-rotate-[180]")})})]}),(0,fe.jsx)("div",{className:" text-white mx-1 duration-300 ".concat(l?"block":"hidden"),children:null===a||void 0===a?void 0:a.map((function(e,t){return(0,fe.jsx)(on,{to:""+(null===e||void 0===e?void 0:e.path),children:(0,fe.jsx)(ua,{className:"h-9",name:null===e||void 0===e?void 0:e.name,isOpen:o})},t)}))})]})},ha=ua,pa=function(e){var t=e.current,n=void 0===t?"dashboard":t,i=e.isOpen,r=void 0===i||i;return(0,fe.jsx)("div",{className:"bg-black max-h-screen relative flex-shrink-0 ".concat(r?"w-[230px]":"w-20"," duration-300"),children:(0,fe.jsxs)("div",{className:"sticky right-0 top-0 left-0 bottom-0 flex flex-col px-0.5 py-2 ",children:[(0,fe.jsx)("div",{className:"flex justify-center py-8 ",children:(0,fe.jsx)("div",{className:"font-bold text-lg text-white underline",children:"PICKUP MTAANI"})}),(0,fe.jsx)("ul",{className:"flex flex-col flex-[0.9] overflow-y-scroll no-scrollbar ",children:null===fa||void 0===fa?void 0:fa.map((function(e,t){return null!==e&&void 0!==e&&e.isExpandable?(0,fe.jsx)(da,{name:null===e||void 0===e?void 0:e.name,icon:null===e||void 0===e?void 0:e.icon,isOpen:r,options:null===e||void 0===e?void 0:e.options}):(0,fe.jsx)(on,{to:""+(null===e||void 0===e?void 0:e.path),children:(0,fe.jsx)(ha,{isCurrent:n===(null===e||void 0===e?void 0:e.path),name:null===e||void 0===e?void 0:e.name,icon:null===e||void 0===e?void 0:e.icon,isOpen:r})},t)}))})]})})},fa=[{name:"Home",icon:(0,fe.jsx)(Yo,{}),path:"/"},{name:"Warehouse",path:"/wahehouse",icon:(0,fe.jsx)(aa,{})},{name:"Users",path:"",icon:(0,fe.jsx)(ia,{}),isExpandable:!0,options:[{path:"/sellers",name:"Sellers"},{path:"/agents",name:"Agents"},{path:"/riders",name:"Riders"}]},{name:"packages",path:"/packages",icon:(0,fe.jsx)(na,{})},{name:"Collections",path:"/collections",icon:(0,fe.jsx)(na,{})},{name:"Switch Board",path:"/switch-board",icon:(0,fe.jsx)(ra,{})},{name:"Mpesa",path:"/mpesa",icon:(0,fe.jsx)(ta,{}),isExpandable:!0,options:[{path:"/mpesa/withdrawals",name:"Withdraw"}]},{name:"Rent a Shelf",path:"/rent-a-shelf",icon:(0,fe.jsx)(Zo,{})},{name:"Business",path:"/business",icon:(0,fe.jsx)(oa,{})},{name:"Tracker",path:"/tracker",icon:(0,fe.jsx)(Qo,{})},{name:"setup",path:"/setup"}],ma=function(e){return(0,fe.jsx)(Do.div,le(le({className:"chakra-stack__item"},e),{},{__css:le({display:"inline-block",flex:"0 0 auto",minWidth:0},e.__css)}))};ma.displayName="StackItem";Object.freeze(["base","sm","md","lg","xl","2xl"]);function ga(e,t){return Array.isArray(e)?e.map((function(e){return null===e?null:t(e)})):dn(e)?Object.keys(e).reduce((function(n,i){return n[i]=t(e[i]),n}),{}):null!=e?t(e):null}var va="& > *:not(style) ~ *:not(style)";var ya=["isInline","direction","align","justify","spacing","wrap","children","divider","className","shouldWrapChildren"],xa=Oo((function(e,n){var i=e.isInline,r=e.direction,o=e.align,a=e.justify,s=e.spacing,l=void 0===s?"0.5rem":s,c=e.wrap,u=e.children,d=e.divider,h=e.className,p=e.shouldWrapChildren,f=ln(e,ya),m=i?"row":null!=r?r:"column",g=(0,t.useMemo)((function(){return function(e){var t=e.spacing,n=e.direction,i={column:{marginTop:t,marginEnd:0,marginBottom:0,marginStart:0},row:{marginTop:0,marginEnd:0,marginBottom:0,marginStart:t},"column-reverse":{marginTop:0,marginEnd:0,marginBottom:t,marginStart:0},"row-reverse":{marginTop:0,marginEnd:t,marginBottom:0,marginStart:0}};return ae({flexDirection:n},va,ga(n,(function(e){return i[e]})))}({direction:m,spacing:l})}),[m,l]),v=(0,t.useMemo)((function(){return function(e){var t=e.spacing,n=e.direction,i={column:{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":ga(n,(function(e){return i[e]}))}}({spacing:l,direction:m})}),[l,m]),y=!!d,x=!p&&!y,b=(0,t.useMemo)((function(){var e=function(e){return t.Children.toArray(e).filter((function(e){return(0,t.isValidElement)(e)}))}(u);return x?e:e.map((function(n,i){var r="undefined"!==typeof n.key?n.key:i,o=i+1===e.length,a=p?(0,fe.jsx)(ma,{children:n},r):n;if(!y)return a;var s=(0,t.cloneElement)(d,{__css:v}),l=o?null:s;return(0,fe.jsxs)(t.Fragment,{children:[a,l]},r)}))}),[d,v,y,x,p,u]),_=un("chakra-stack",h);return(0,fe.jsx)(Do.div,le(le({ref:n,display:"flex",alignItems:o,justifyContent:a,flexDirection:g.flexDirection,flexWrap:c,className:_,__css:y?{}:ae({},va,g[va])},f),{},{children:b}))}));xa.displayName="Stack";var ba=Oo((function(e,t){return(0,fe.jsx)(xa,le(le({align:"center"},e),{},{direction:"row",ref:t}))}));function _a(){var e=Xi(),n=function(){var e=(0,t.useContext)(vo);if(!e)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return e}();return le(le({},e),{},{theme:n})}ba.displayName="HStack";var wa=n(77),ka=["styleConfig"];function Sa(e){var n,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.styleConfig,a=ln(r,ka),s=_a(),l=s.theme,c=s.colorMode,u=e?Gi(l,"components.".concat(e)):void 0,d=o||u,h=mn({theme:l,colorMode:c},null!=(n=null==d?void 0:d.defaultProps)?n:{},qi(function(e,t){var n={};return Object.keys(e).forEach((function(i){t.includes(i)||(n[i]=e[i])})),n}(a,["children"]))),p=(0,t.useRef)({});if(d){var f=(i=d,function(e){var t,n=e.variant,r=e.size,o=Ni(e.theme);return mn({},hn(null!=(t=i.baseStyle)?t:{},e),o(i,"sizes",r,e),o(i,"variants",n,e))}),m=f(h);wa(p.current,m)||(p.current=m)}return p.current}function Ca(e){return Sa(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}var Ea=["className","align","decoration","casing"],Ta=Oo((function(e,t){var n=Ca("Text",e),i=ji(e),r=(i.className,i.align,i.decoration,i.casing,ln(i,Ea)),o=function(e){var t=Object.assign({},e);for(var n in t)void 0===t[n]&&delete t[n];return t}({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return(0,fe.jsx)(Do.p,le(le(le({ref:t,className:un("chakra-text",e.className)},o),r),{},{__css:n}))}));Ta.displayName="Text";var Ma=function(e){var t=e.toggleSideBar;e.user;return(0,fe.jsxs)("div",{className:"sticky bg-black z-10 h-[60px] top-0 right-0 bottom-0 flex justify-between items-center w-full",children:[(0,fe.jsx)("button",{className:"hover:bg-zinc-100 p-1.5 rounded-full focus:outline-none mx-2 text-white",onClick:t,children:(0,fe.jsx)(la,{className:"text-2xl"})}),(0,fe.jsxs)(ba,{px:"3",gap:"1",children:[(0,fe.jsxs)("button",{className:"hover:bg-zinc-100 p-2 rounded-full focus:outline-none relative",children:[(0,fe.jsx)($o,{className:"text-xl"}),(0,fe.jsx)(Pa,{})]}),(0,fe.jsx)(ba,{gap:"0.5",children:(0,fe.jsx)(Ta,{className:"text-sm",color:"white",fontWeight:"bold",children:"Admin"})})]})]})},Pa=function(){return(0,fe.jsx)(Fo,{bg:"primary_red",borderRadius:"full",position:"absolute",top:"1",right:"2",h:"3",w:"3",borderWidth:"2px",borderColor:"white"})};var Aa=function(e){var n=Bt();return(0,t.useEffect)((function(){if(!JSON.parse(localStorage.getItem("userInfo")))return n("/")})),(0,fe.jsx)("div",{className:"w-screen flex",children:(0,fe.jsxs)("div",{className:"min-h-screen bg-black flex w-full",children:[(0,fe.jsx)(pa,{}),(0,fe.jsxs)(Fo,{h:"100vh",bg:"gray_bg",w:"100%",ml:0,className:"max-h-screen overflow-hidden",children:[(0,fe.jsx)(Ma,{}),(0,fe.jsx)("div",{className:"flex-1 bg-gray-200 overflow-y-scroll min-h-[90vh] scrollbar-hide h-full",children:null===e||void 0===e?void 0:e.children})]})]})})};function Ia(e){return(0,fe.jsx)("div",{className:"bg-white  w-1/2  ",children:(0,fe.jsxs)(on,{to:{pathname:"/wahehouse/".concat(e.obj.title.replace(/\s/g,""))},state:{title:e.obj.title,lis:e.obj.state,type:e.obj.type},children:[" ",(0,fe.jsx)("div",{className:"bg-white h-40  w-full  rounded-xl shadow-sm flex",children:(0,fe.jsx)("div",{className:"h-full w-4/6 ",children:(0,fe.jsx)("div",{className:" w-full flex flex-col p-3",children:(0,fe.jsx)("h1",{className:"font-bold text-gray-400 text-xl",children:e.obj.title})})})})]})})}function La(e){return(0,fe.jsx)("div",{className:"bg-white  w-1/2  ",children:(0,fe.jsxs)(on,{to:{pathname:"".concat(e.obj.pathname)},state:{title:e.obj.title,lis:e.obj.state,id:e.obj.id,data:e.obj.value,type:e.obj.type},children:[" ",(0,fe.jsxs)("div",{className:"bg-white h-48 p-10  w-full  rounded-xl shadow-sm flex",children:[(0,fe.jsx)("div",{className:"h-full w-4/6 ",children:(0,fe.jsxs)("div",{className:" w-full flex  justify-between p-3",children:[(0,fe.jsx)("h1",{className:"font-bold text-gray-400 text-xl text-red-200 uppercase",children:e.obj.title}),e.obj.count&&(0,fe.jsx)("div",{className:"bg-red-200 w-10 h-10 flex text-center items-center justify-center rounded-full ",children:"10"})]})}),(0,fe.jsx)("div",{className:"h-full w-2/6 flex justify-center items-center"})]})]})})}function Da(e){var t,n,i,r,o,a,s;return(0,fe.jsx)("div",{className:"bg-white  w-80  ",children:(0,fe.jsxs)(on,{to:{pathname:"/wahehouse/agent-agent/".concat("Assign to Riders"===e.title?"Give-to-":"Collectct-from-").concat(null===e||void 0===e||null===(t=e.rider)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.name.replace(/\s/g,""),"/agents")},state:{lis:e.path,id:null===e||void 0===e||null===(i=e.rider)||void 0===i||null===(r=i.user)||void 0===r?void 0:r._id,rider:e.name,agent:null===(o=e.agent)||void 0===o?void 0:o._id,title:e.title,type:e.type},children:["  ",(0,fe.jsx)("div",{className:"bg-white h-40  w-full  rounded-xl shadow-sm flex",children:(0,fe.jsxs)("div",{className:"h-full w-full flex justify-center items-center",children:[(0,fe.jsx)("h1",{className:"font-bold text-gray-400 text-2xs pr-10",children:null===e||void 0===e||null===(a=e.rider)||void 0===a||null===(s=a.user)||void 0===s?void 0:s.name}),(0,fe.jsx)("br",{})]})})]})})}function Oa(e){var t,n,i,r,o,a,s,l;return(0,fe.jsx)("div",{className:"bg-white  w-80  ",children:(0,fe.jsxs)(on,{to:{pathname:"Collect From Riders"===e.title?"/wahehouse/agent-agent/pick-package-from-rider/".concat(null===e||void 0===e||null===(t=e.agent)||void 0===t||null===(n=t.agent)||void 0===n?void 0:n.business_name.replace(/\s/g,"")):"/wahehouse/agent-agent/assign-package-to/".concat(null===e||void 0===e||null===(i=e.agent)||void 0===i||null===(r=i.agent)||void 0===r?void 0:r.business_name.replace(/\s/g,""))},state:{lis:e.path,id:null===e||void 0===e||null===(o=e.agent)||void 0===o||null===(a=o.user)||void 0===a?void 0:a._id,rider:e.rider,agent:null===(s=e.agent)||void 0===s||null===(l=s.agent)||void 0===l?void 0:l._id,title:e.title,type:e.type},children:["  ",(0,fe.jsx)("div",{className:"bg-white h-40  w-full  rounded-xl shadow-sm flex",children:(0,fe.jsxs)("div",{className:"h-full w-full flex justify-center items-center",children:[(0,fe.jsx)("h1",{className:"font-bold text-gray-400 text-2xs pr-10",children:null===e||void 0===e?void 0:e.name}),(0,fe.jsx)("div",{className:"bg-gradient-to-l from-primary-600 to-primary-500  h-10 w-10 shadow-xl rounded-full flex justify-center items-center",children:e.count})]})})]})})}var Ra=function(e){return e.item,(0,fe.jsxs)("div",{className:"bg-white h-20 w-56  rounded-xl shadow-sm flex",children:[(0,fe.jsx)("div",{className:"h-full w-4/6 ",children:(0,fe.jsx)("div",{className:" w-full flex flex-col p-3",children:(0,fe.jsxs)(on,{to:e.item.path,children:[(0,fe.jsx)("h1",{className:"font-bold text-gray-400 text-xs",children:e.item.title}),(0,fe.jsxs)("h1",{className:"font-bold text-primary-500 text-xl",children:[e.item.value,(0,fe.jsxs)("span",{className:"font-semibold pl-10 text-xl text-red-600 text-gray-400",children:[e.item.percent&&e.item.percent,e.item.percent?"%":null]})]})]})})}),(0,fe.jsx)("div",{className:"h-full w-2/6 flex justify-center items-center",children:(0,fe.jsx)("div",{className:"bg-gradient-to-l from-primary-600 to-primary-500  h-14 w-14 shadow-xl rounded-md flex justify-center items-center",children:e.item.icon})})]},e.key)},za=n(2791),Fa=n(4632);Fa=Fa.Chart?Fa:window.CanvasJS;za.Component;var Ba=function(e){return function(){var t=re(ne().mark((function t(n){var i,r,o,a,s;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=e.limit,r=e.state,n({type:"FETCH_TODOS"}),o=[],t.next=6,we.get("/api/packages?limit=".concat(i,"&state=").concat(r));case 6:return a=t.sent,s=a.data,n({type:"FETCH_TODOS_SUCCESSFUL",payload:o=s}),t.abrupt("return",o);case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},Na=function(e,t,n){return function(){var i=re(ne().mark((function i(r){var o,a,s;return ne().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,_e(we);case 3:return r({type:"FETCH_DOORSTEP"}),o=[],i.next=7,we.put("/api/wh-agentassign-package/".concat(e,"/").concat(t,"?rider=").concat(n));case 7:return a=i.sent,s=a.data,r({type:"FETCH_DOORSTEP_SUCCESSFUL",payload:o=s}),i.abrupt("return",o);case 14:i.prev=14,i.t0=i.catch(0),console.log(i.t0);case 17:case"end":return i.stop()}}),i,null,[[0,14]])})));return function(e){return i.apply(this,arguments)}}()},ja=function(e,t){return function(){var n=re(ne().mark((function n(i){var r,o,a;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i({type:"FETCH_DOORSTEP"}),r=[],n.next=5,we.put("/api/".concat(t,"/toogle-payment/").concat(e));case 5:return o=n.sent,a=o.data,i({type:"FETCH_DOORSTEP_SUCCESSFUL",payload:r=a}),n.abrupt("return",r);case 12:n.prev=12,n.t0=n.catch(0),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()};var Va=X((function(e){return{error:e.userDetails.error,user:e.userDetails.user,admins:e.userDetails.admins,users:e.userDetails.users,packages:e.PackageDetails.packages,packageLoading:e.PackageDetails.loading}}),{FetchAdmins:function(e){return function(){var t=re(ne().mark((function t(n){var i,r,o;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e(we);case 3:return n({type:"FETCH_ADMINS"}),t.next=6,we.get("/api/admin?date=".concat(void 0!==e?e.date:""));case 6:return i=t.sent,r=i.data,o=r.Admins,n({type:"FETCH_ADMINS_SUCCESSFUL",payload:o}),t.abrupt("return",o);case 13:throw t.prev=13,t.t0=t.catch(0),"error.response.data.message",n({type:"FETCH_ADMINS_FAIL",payload:"error.response.data.message"}),t.t0;case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},FetchUsers:ke,getParcels:Ba})((function(e){var n=[{title:"Packages",value:e.packages.length,path:"/packages",loading:e.packageLoading,icon:(0,fe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})},{title:"Total sellers",value:e.users.length,path:"/sellers",loading:e.packageLoading,icon:(0,fe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}],i=function(){var t=re(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.FetchUsers();case 2:return t.next=4,e.getParcels();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,t.useEffect)((function(){i()}),[]),(0,fe.jsx)(Aa,{children:(0,fe.jsx)("div",{className:"w-full h-20 ",children:(0,fe.jsx)("div",{className:"flex gap-x-2 mx-5",children:n.map((function(e,t){return(0,fe.jsx)(Ra,{item:e},t)}))})})})})),Wa=n(3513),Ua=n(763);var Ha=function(e){var n=pe((0,t.useState)(!1),2),i=(n[0],n[1]),r=e.onChangeFilter,o=e.download;return Ua.debounce((function(e){r(e),i(!1)}),1e3),(0,fe.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginTop:10,marginBottom:10},children:[(0,fe.jsxs)("div",{className:"border border-slate-300 flex rounded-md px-2 py-1",children:[(0,fe.jsx)("div",{className:"justify-center items-center flex",children:(0,fe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,fe.jsx)("input",{type:"text",name:"",placeholder:"search",onChange:function(e){return r(e.target.value)},className:" rounded-md pl-2 focus:outline-none  "})]}),(0,fe.jsx)("button",{className:"border ml-2 bg-primary-500 hover:bg-primary-600 rounded-md px-2 py-1",onClick:o,children:"DownLoad"})]})};function Xa(e,t){for(var n=[],i=0;i<e.length;i++){var r=e[i];for(var o in r)"object"===typeof r[o]&&null!==r[o]&&(r[o]=r[o].title?r[o].title:r[o].name);n.push(r)}var a=document.createElement("a"),s=function(e){var t,n=Object.keys(e[0]);return t="",t+=n.join(","),t+="\n",e.forEach((function(e){var i=0;n.forEach((function(n){i>0&&(t+=","),t+=e[n],i++})),t+="\n"})),t}(n);if(null!=s){var l="".concat(t,".csv");s.match(/^data:text\/csv/i)||(s="data:text/csv;charset=utf-8,".concat(s)),a.setAttribute("href",encodeURI(s)),a.setAttribute("download",l),a.click()}}var Ga=function(){var e=re(ne().mark((function e(t,n){var i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:i=e.sent,i.map((function(e){var t={};return Object.entries(e).forEach((function(e){var n=pe(e,2),i=n[0],r=n[1];"hashPassword"!==i&&(t[i]=r)})),t})),Xa(i,n);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ya=[{sortable:!0,name:"Full Name",minWidth:"225px",selector:function(e){return(0,fe.jsx)(on,{to:"/seller/".concat(e.f_name),state:{id:e._id,name:"".concat(e.f_name," ").concat(e.l_name)},children:"".concat(e.f_name," ").concat(e.l_name)})}},{sortable:!0,name:"Email",minWidth:"250px",selector:function(e){return e.email}},{sortable:!0,name:"Role",minWidth:"250px",selector:function(e){return e.role&&e.role.name}},{sortable:!0,name:"Phone Number",minWidth:"150px",selector:function(e){return e.phone_number}},{sortable:!0,name:"Actions",minWidth:"250px",selector:function(e){return(0,fe.jsx)(on,{to:"/seller/".concat(e.f_name),state:{id:e._id,name:"".concat(e.f_name," ").concat(e.l_name)},children:(0,fe.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[(0,fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})}}],qa=n(6708),Ka=n.n(qa);var $a=X((function(e){return{users:e.userDetails.users,loading:e.userDetails.loading}}),{FetchUsers:ke})((function(e){var n=pe(t.useState(""),2),i=n[0],r=n[1],o=pe((0,t.useState)(""),2),a=o[0],s=(o[1],pe((0,t.useState)({start_date:"",end_date:""}),2)),l=s[0],c=s[1],u=pe(t.useState(!1),2),d=u[0],h=(u[1],pe((0,t.useState)(10),2)),p=(h[0],h[1],pe((0,t.useState)(0),2)),f=p[0],m=(p[1],pe(t.useState([]),2)),g=(m[0],m[1]),v=pe((0,t.useState)(!1),2),y=v[0],x=v[1],b=e.users.filter((function(e){return e.f_name&&e.f_name.toLowerCase().includes(i.toLowerCase())})),_=function(e){r(e);var t=b.filter((function(e){return e.title&&e.title.toLowerCase().includes(i.toLowerCase())}));g(t)},w=function(){var e=re(ne().mark((function e(t){var n,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target,i=n.value,n.name,"Today"!==i){e.next=5;break}return c({start_date:new Date,end_date:new Date}),e.next=5,k();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var t=re(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.FetchUsers({date:l});case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),S=t.useMemo((function(){return(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Ha,{onChangeFilter:_,searchValue:a,date:l,setTime:w,download:function(){return Ga((function(){return e.FetchUsers({date:l,limit:-1,download:!0,cursor:e.lastElement,q:a,enabled:!0})}),"".concat(f>0?f:"all","_users"))}}),(0,fe.jsxs)("select",{className:"border py-1 px-2 border-slate-200 mx-2 rounded-md ",onChange:function(e){return w(e)},children:[(0,fe.jsx)("option",{children:"Filters"}),(0,fe.jsx)("option",{value:"Today",children:"Today"}),(0,fe.jsx)("option",{value:"Monthly",children:"Monthly"}),(0,fe.jsx)("option",{value:"Yearly",children:"Yearly"})]})]})}),[a,l,w]);return(0,t.useEffect)((function(){e.FetchUsers({date:l})}),[]),(0,fe.jsxs)(Aa,{children:[(0,fe.jsx)("div",{className:" mx-2",children:(0,fe.jsx)(Wa.ZP,{columns:Ya,data:b,pagination:!0,paginationServer:!0,progressPending:e.loading,paginationResetDefaultPage:d,subHeader:!0,subHeaderComponent:S,persistTableHead:!0,paginationTotalRows:f})}),(0,fe.jsx)(Ka(),{toggle:function(){return x(!1)},show:y})]})})),Za=function(e){return function(){var t=re(ne().mark((function t(n){var i,r,o;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e(we);case 3:return n({type:"FETCH_BUSSINESS"}),t.next=6,we.get("/api/busi/".concat(e));case 6:return i=t.sent,r=i.data,[],o=r.bussiness,n({type:"FETCH_BUSSINESS_SUCCESSFUL",payload:o}),t.abrupt("return",o);case 14:t.prev=14,t.t0=t.catch(0),"",n({type:"FETCH_BUSSINESS_FAIL",payload:""});case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()},Ja=function(e){return function(){var t=re(ne().mark((function t(n){var i,r,o;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e(we);case 3:return n({type:"FETCH_SELLER_PRODUCTS"}),t.next=6,we.get("/api/all_products/".concat(e));case 6:return i=t.sent,r=i.data,[],o=r.products,n({type:"FETCH_PRODUCTS_SUCCESSFUL",payload:o}),t.abrupt("return",o);case 14:t.prev=14,t.t0=t.catch(0),n({type:"FETCH_SELLER_PRODUCTS_FAIL"});case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()};var Qa=function(e){e.toggle;var n=e.show,i=pe((0,t.useState)(0),2),r=i[0],o=i[1];return(0,t.useEffect)((function(){o(e.active)}),[]),(0,fe.jsx)(fe.Fragment,{children:n?(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)("div",{className:"flex justify-center items-center overflow-x-hidden overflow-y-auto  bg-transparent fixed inset-0 z-50 outline-none focus:outline-none min-width:screen",children:(0,fe.jsx)("div",{className:"relative w-full rounded-sm my-6 mx-auto max-w-3xl bg-red-200  ",children:(0,fe.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[(0,fe.jsxs)("div",{className:"flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t ",children:[(0,fe.jsx)("h3",{className:"text-sm italic",children:"".concat(r+1," of ").concat(e.image.length)}),(0,fe.jsx)("button",{className:"bg-transparent border-0 text-black float-right",onClick:e.toggle,children:(0,fe.jsx)("span",{className:"text-black opacity-7 h-6 w-6 text-xl  py-0 rounded-full flex justify-center items-center",children:"x"})})]}),(0,fe.jsx)("div",{className:"relative p-6 flex-auto",children:(0,fe.jsx)("img",{src:e.image[r],alt:"",style:{width:"100%",height:"300px",objectFit:"cover"}})}),(0,fe.jsx)("div",{className:"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b",children:e.image.map((function(e,t){return(0,fe.jsx)("div",{className:"gap-x-2 flex ",onClick:function(){return o(t)},style:{display:"flex",justifyContent:"center",alignItems:"center",alignContent:"center"},children:(0,fe.jsx)("div",{className:" mr-1",style:{border:r!==t?"none":"3px solid #ffc107",borderRadius:"10px"},children:(0,fe.jsx)("img",{src:e,alt:"",style:{width:"50px",height:"50px",borderRadius:"10px",objectFit:"cover"}})})},t)}))})]})})})}):null})};var es=X((function(e){return{products:e.products.products,loading:e.userDetails.loading}}),{get_seller_products:Ja})((function(e){var n=pe(t.useState(""),2),i=n[0],r=n[1],o=pe((0,t.useState)(""),2),a=o[0],s=(o[1],pe((0,t.useState)([]),2)),l=s[0],c=s[1],u=pe((0,t.useState)(0),2),d=u[0],h=u[1],p=pe((0,t.useState)(!1),2),f=p[0],m=p[1],g=pe((0,t.useState)(""),2),v=g[0],y=(g[1],pe(t.useState(!1),2)),x=y[0],b=(y[1],pe((0,t.useState)(10),2)),_=(b[0],b[1],pe((0,t.useState)(0),2)),w=_[0],k=(_[1],pe(t.useState([]),2)),S=(k[0],k[1]),C=function(){var e=re(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(!0),c(t.Images),h(t.id);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=[{sortable:!0,name:"Name",minWidth:"225px",selector:function(e){return e.product_name}},{sortable:!0,name:"Qty",minWidth:"50px",maxWidth:"70px",selector:function(e){return e.qty}},{sortable:!0,name:"colors",minWidth:"250px",selector:function(e){return(0,fe.jsx)("div",{className:"flex gap-x-1",children:e.colors.map((function(e,t){return(0,fe.jsx)("div",{style:{width:12,height:12,borderRadius:"50%",backgroundColor:e,borderColor:"black",borderWidth:"1px"}})}))})}},{sortable:!0,name:"colors",minWidth:"250px",selector:function(e){return(0,fe.jsx)("div",{className:"flex gap-x-1",children:e.images.map((function(t,n){return(0,fe.jsx)("div",{style:{width:20,height:20,borderRadius:"20%",borderColor:"black",borderWidth:"1px"},onClick:function(){return C({Images:e.images,id:n})},children:(0,fe.jsx)("img",{src:t,alt:""})})}))})}},{sortable:!0,name:"Price",minWidth:"150px",selector:function(e){return e.price}}],T=function(t){r(t);var n=e.data.filter((function(e){return e.product_name&&e.product_name.toLowerCase().includes(i.toLowerCase())}));S(n)},M=t.useMemo((function(){return(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)(Ha,{onChangeFilter:T,searchValue:a,date:v,download:function(){return Ga((function(){return e.get_seller_products({date:v,limit:-1,download:!0,cursor:e.lastElement,q:a,enabled:!0})}),"".concat(w>0?w:"all","_products"))}})})}),[a,v]);return(0,t.useEffect)((function(){}),[]),(0,fe.jsxs)("div",{className:"w-full mx-1",children:[(0,fe.jsx)(Wa.ZP,{title:"".concat(e.name,"`s Products"),columns:E,data:e.products,pagination:!0,paginationServer:!0,progressPending:e.loading,paginationResetDefaultPage:x,subHeader:!0,subHeaderComponent:M,persistTableHead:!0,paginationTotalRows:w}),(0,fe.jsx)(Qa,{show:f,image:l,active:d,toggle:function(){return m(!1)}})]})}));var ts=X((function(e){return{bussinesses:e.bussiness.bussinsses,loading:e.bussiness.loading,products:e.products.products}}),{get_seller_bussiness:Za})((function(e){var n,i=pe(t.useState(""),2),r=i[0],o=i[1],a=pe((0,t.useState)(""),2),s=a[0],l=(a[1],pe((0,t.useState)([]),2)),c=l[0],u=(l[1],pe((0,t.useState)(0),2)),d=u[0],h=(u[1],pe((0,t.useState)(!1),2)),p=h[0],f=h[1],m=pe((0,t.useState)(""),2),g=m[0],v=(m[1],pe(t.useState(!1),2)),y=v[0],x=(v[1],pe((0,t.useState)(10),2)),b=(x[0],x[1],pe((0,t.useState)(0),2)),_=b[0],w=(b[1],pe(t.useState([]),2)),k=(w[0],w[1]),S=[(n={sortable:!1,name:"Logo",minWidth:"5px"},ae(n,"minWidth","5px"),ae(n,"selector",(function(e){return(0,fe.jsx)("img",{src:e.logo,alt:"",height:"30px",width:"30px"})})),n),{sortable:!0,name:"Name",selector:function(t){return(0,fe.jsx)("div",{onClick:function(){return e.fetchProducts({id:t._id,name:t.name})},children:" ".concat(t.name)})}},{sortable:!0,name:"Deals in",selector:function(e){return e.what_u_sale}}],C=function(t){o(t);var n=e.data.filter((function(e){return e.product_name&&e.product_name.toLowerCase().includes(r.toLowerCase())}));k(n)},E=t.useMemo((function(){return(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)(Ha,{onChangeFilter:C,searchValue:s,date:g,download:function(){return Ga((function(){return e.get_seller_bussiness({date:g,limit:-1,download:!0,cursor:e.lastElement,q:s,enabled:!0})}),"".concat(_>0?_:"all","_products"))}})})}),[s,g]);return(0,t.useEffect)((function(){}),[]),(0,fe.jsxs)("div",{className:"w-full mx-1",children:[(0,fe.jsx)(Wa.ZP,{title:"".concat(e.name,"`s Businesses"),columns:S,data:e.bussinesses,pagination:!0,paginationServer:!0,progressPending:e.loading,paginationResetDefaultPage:y,subHeader:!0,subHeaderComponent:E,persistTableHead:!0,paginationTotalRows:_}),(0,fe.jsx)(Qa,{show:p,image:c,active:d,toggle:function(){return f(!1)}})]})})),ns=[{sortable:!0,name:"Packages Sent",minWidth:"250px",selector:function(e){return(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)("ul",{children:e.packages.map((function(e,t){return(0,fe.jsx)("li",{children:e.packageName})}))})})}},{sortable:!0,name:"Total Fee Paid",minWidth:"250px",selector:function(e){return e.total_payment}},{sortable:!0,name:"Reciept",minWidth:"250px",selector:function(e){return e.receipt_no}},{sortable:!0,name:"Payment Status",minWidth:"250px",selector:function(e){return e.payment_status}},{sortable:!0,name:"Seller",minWidth:"150px",selector:function(e){var t;return null===(t=e.businessId)||void 0===t?void 0:t.name}}],is=[{sortable:!0,name:"Package Name",minWidth:"250px",selector:function(e){return e.packageName}},{sortable:!0,name:"Package Type",minWidth:"250px",selector:function(e){return(0,fe.jsx)(fe.Fragment,{children:e.isProduct?"Product":"Package"})}},{sortable:!0,name:"Total Payment",minWidth:"250px",selector:function(e){return(0,fe.jsx)(fe.Fragment,{children:e.payment_amount})}},{sortable:!0,name:"Package value",minWidth:"250px",selector:function(e){return e.package_value}},{sortable:!0,name:"Reciept",minWidth:"250px",selector:function(e){return e.receipt_no}},{sortable:!0,name:"Customer Full Name",minWidth:"225px",selector:function(e){return e.customerName}},{sortable:!0,name:"Customer Phone Number",minWidth:"250px",selector:function(e){return e.customerPhoneNumber}},{sortable:!0,name:"Payment Options",minWidth:"250px",selector:function(e){return e.payment_option}},{sortable:!0,name:"Location",minWidth:"150px",selector:function(e){return e.location}},{sortable:!0,name:"Destination",minWidth:"150px",selector:function(e){return e.house_no}},{sortable:!0,name:"Seller",minWidth:"150px",selector:function(e){var t;return null===(t=e.businessId)||void 0===t?void 0:t.name}}],rs=[{sortable:!0,name:"Business Name",minWidth:"250px",selector:function(e){var t;return null===(t=e.businessId)||void 0===t?void 0:t.name}},{sortable:!0,name:"Package Type",minWidth:"250px",selector:function(e){return(0,fe.jsx)(fe.Fragment,{children:e.isProduct?"Product":"Package"})}},{sortable:!0,name:"Total Payment",minWidth:"250px",selector:function(e){return(0,fe.jsx)(fe.Fragment,{children:e.payment_amount})}},{sortable:!0,name:"Package value",minWidth:"250px",selector:function(e){return e.package_value}},{sortable:!0,name:"Reciept",minWidth:"250px",selector:function(e){return e.receipt_no}},{sortable:!0,name:"Customer Full Name",minWidth:"225px",selector:function(e){return e.customerName}},{sortable:!0,name:"Customer Phone Number",minWidth:"250px",selector:function(e){return e.customerPhoneNumber}},{sortable:!0,name:"Payment Options",minWidth:"250px",selector:function(e){return e.payment_option}},{sortable:!0,name:"Dispatch shelf",minWidth:"250px",selector:function(e){var t;return null===(t=e.from_agent_shelf)||void 0===t?void 0:t.agent_location}},{sortable:!0,name:"Recieving agent",minWidth:"250px",selector:function(e){var t;return null===(t=e.to_agent_shelf)||void 0===t?void 0:t.name}},{sortable:!0,name:"Location",minWidth:"150px",selector:function(e){return e.location}},{sortable:!0,name:"Destination",minWidth:"150px",selector:function(e){return e.house_no}},{sortable:!0,name:"Seller",minWidth:"150px",selector:function(e){var t;return null===(t=e.businessId)||void 0===t?void 0:t.name}}];var os=X((function(e){return{packages:e.PackageDetails.packages,loading:e.PackageDetails.loading,rent_shelf:e.PackageDetails.rented_shelf_packages,to_door_packages:e.PackageDetails.to_door_packages}}),{})((function(e){var n=pe(t.useState(""),2),i=n[0],r=n[1],o=pe((0,t.useState)(""),2),a=o[0],s=(o[1],pe((0,t.useState)([]),2)),l=s[0],c=(s[1],pe((0,t.useState)(0),2)),u=c[0],d=(c[1],pe((0,t.useState)(!1),2)),h=d[0],p=d[1],f=pe((0,t.useState)(""),2),m=f[0],g=(f[1],pe(t.useState(!1),2)),v=g[0],y=(g[1],pe((0,t.useState)(10),2)),x=(y[0],y[1],pe((0,t.useState)(0),2)),b=x[0],_=(x[1],pe(t.useState([]),2)),w=(_[0],_[1]),k=function(t){r(t);var n=e.data.filter((function(e){return e.product_name&&e.product_name.toLowerCase().includes(i.toLowerCase())}));w(n)},S=t.useMemo((function(){return(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)(Ha,{onChangeFilter:k,searchValue:a,date:m,download:function(){return Ga((function(){return e.get_seller_products({date:m,limit:-1,download:!0,cursor:e.lastElement,q:a,enabled:!0})}),"".concat(b>0?b:"all","_products"))}})})}),[a,m]);return(0,t.useEffect)((function(){}),[]),(0,fe.jsxs)("div",{className:"w-full mx-1",children:[(0,fe.jsx)(Wa.ZP,{title:"".concat(e.name,"`s Packages"),columns:ns,data:e.packages,pagination:!0,paginationServer:!0,progressPending:e.loading,paginationResetDefaultPage:v,subHeader:!0,subHeaderComponent:S,persistTableHead:!0,paginationTotalRows:b}),(0,fe.jsx)(Wa.ZP,{title:"".concat(e.name,"`s Door Step Packages"),columns:is,data:e.to_door_packages,pagination:!0,paginationServer:!0,progressPending:e.loading,paginationResetDefaultPage:v,subHeader:!0,subHeaderComponent:S,persistTableHead:!0,paginationTotalRows:b}),(0,fe.jsx)("div",{className:" mx-2 my-10",children:(0,fe.jsx)(Wa.ZP,{title:"Rent A shelf Delivery",columns:rs,data:e.rent_shelf,pagination:!0,paginationServer:!0,progressPending:e.loading,paginationResetDefaultPage:v,subHeader:!0,subHeaderComponent:S,persistTableHead:!0,paginationTotalRows:b})}),(0,fe.jsx)(Qa,{show:h,image:l,active:u,toggle:function(){return p(!1)}})]})}));var as=X((function(e){return{error:e.userDetails.error,loading:e.userDetails.loading,bussinessES:e.bussiness.bussinsses}}),{get_seller_bussiness:Za,get_seller_products:Ja,get_all_products:function(e){return function(){var t=re(ne().mark((function t(n){var i,r,o;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e(we);case 3:return n({type:"FETCH_PRODUCTS"}),t.next=6,we.get("/api/products/".concat(e));case 6:return i=t.sent,r=i.data,[],o=r.products,n({type:"FETCH_PRODUCTS_SUCCESSFUL",payload:o}),t.abrupt("return",o);case 14:t.prev=14,t.t0=t.catch(0),n({type:"FETCH_PRODUCTS_FAIL"});case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()},getBissinessParcels:function(e){return function(){var t=re(ne().mark((function t(n){var i,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"FETCH_TODOS"}),[],t.next=5,we.get("/ api / packages / ".concat(e));case 5:return i=t.sent,r=i.data,n({type:"FETCH_TODOS_SUCCESSFUL",payload:r}),t.abrupt("return");case 12:t.prev=12,t.t0=t.catch(0);case 14:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var n=pe((0,t.useState)(0),2),i=n[0],r=n[1],o=pe((0,t.useState)(""),2),a=o[0],s=o[1],l=pe((0,t.useState)(""),2),c=(l[0],l[1]),u=pe((0,t.useState)(!0),2),d=(u[0],u[1],pe((0,t.useState)(""),2)),h=d[0],p=d[1],f=Ft(),m=function(){var t=re(ne().mark((function t(n){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(n.id),p(n.name),r(1),t.next=5,e.get_all_products(n.id);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=re(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(2),t.next=3,e.getBissinessParcels(a);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v=[{name:"Business",component:(0,fe.jsx)(ts,{fetchProducts:m,name:h}),icon:(0,fe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 pr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),Onchange:function(){return m}},{name:"Product",component:(0,fe.jsx)(es,{name:h,fetchProducts:m})},{name:"Packages",component:(0,fe.jsx)(os,{name:h,fetchProducts:g}),Onchange:function(){return g()}}],y=function(){var t=re(ne().mark((function t(n){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get_seller_bussiness(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,t.useEffect)((function(){var e=f.state,t=e.id,n=e.name;c(t),p(n),y(t)}),[]),(0,fe.jsxs)(Aa,{children:[(0,fe.jsx)("div",{className:"tabs tabs-boxed ",children:0===i?(0,fe.jsxs)("div",{className:"tab tab-active",children:[(0,fe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 pr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})," Business"]}):v.map((function(e,t){return(0,fe.jsxs)("div",{className:"tab  ".concat(t===i?"tab-active":null," "),onClick:function(){return e.Onchange()},children:[e.icon," ",e.name]},t)}))}),(0,fe.jsx)("div",{className:" mx-2 flex mt-12 py-5",children:v[i].component})]})})),ss=function(){return function(){var e=re(ne().mark((function e(t){var n,i,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e(we);case 3:return t({type:"FETCH_RIDERS"}),e.next=6,we.get("/api/riders");case 6:return n=e.sent,i=n.data,[],console.log(i.riders),r=i.riders,t({type:"FETCH_RIDERS_SUCCESSFUL",payload:r}),e.abrupt("return",r);case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0),t({type:"FETCH_RIDERS_FAIL"});case 20:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()},ls=function(e){return function(){var t=re(ne().mark((function t(n){var i,r,o;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e(we);case 3:return n({type:"FETCH_PAYMENTS"}),t.next=6,we.post("/api/assign-riders",e);case 6:return i=t.sent,r=i.data,[],o=r.mpeslog,n({type:"FETCH_PAYMENTS_SUCCESSFUL",payload:o}),t.abrupt("return",o);case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0),n({type:"FETCH_PAYMENTS_FAIL"});case 19:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()},cs=function(e){return function(){var t=re(ne().mark((function t(n){var i,r,o;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e(we);case 3:return n({type:"FETCH_PAYMENTS"}),t.next=6,we.get("/api/assigned-packages/".concat(e));case 6:return i=t.sent,r=i.data,[],console.log(r),o=r.packages,n({type:"FETCH_PAYMENTS_SUCCESSFUL",payload:o}),t.abrupt("return",o);case 15:t.prev=15,t.t0=t.catch(0),console.log(t.t0),n({type:"FETCH_PAYMENTS_FAIL"});case 20:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}()};var us=X((function(e){return{}}),{get_riders:ss,assignRider:ls})((function(e){e.toggle;var n=e.show,i=(e.data,pe((0,t.useState)(""),2)),r=(i[0],i[1]),o=pe((0,t.useState)(!1),2),a=(o[0],o[1],function(){var t=re(ne().mark((function t(n){var i,o;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.target.value,o={package:e.data._id,rider:i},t.next=4,e.assignRider(o);case 4:return t.next=6,e.fetch();case 6:return r(i),t.next=9,e.toggle();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return(0,fe.jsx)(fe.Fragment,{children:n?(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)("div",{className:"flex justify-center items-center overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none min-width:screen",children:(0,fe.jsx)("div",{className:"relative w-full h-full rounded-sm my-6 mx-auto max-w-xl  ",children:(0,fe.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[(0,fe.jsxs)("div",{className:"flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t ",children:[(0,fe.jsx)("h3",{className:"text-xl font=bold uppercase",children:"Assign Rider "}),(0,fe.jsx)("button",{className:"bg-transparent border-0 text-black float-right",onClick:e.toggle,children:(0,fe.jsx)("span",{className:"text-black opacity-7 h-6 w-6 text-xl  py-0 rounded-full flex justify-center items-center",children:"x"})})]}),!e.loading&&(0,fe.jsx)("div",{className:"relative p-6 flex justify-center items-center",children:(0,fe.jsxs)("select",{name:"gender",onChange:a,className:"bg-transparent border-b border-slate-500 pt-5 pb-5 ",children:[(0,fe.jsx)("option",{value:"",children:"Selected Rider"}),e.riders.map((function(e,t){return(0,fe.jsx)("option",{value:e.user._id,onChange:a,children:e.user.name},t)}))]})})]})})})}):null})})),ds=n(2426),hs=n.n(ds);var ps=X((function(e){return{riders:e.ridersDetails.riders,packages:e.PackageDetails.packages,loading:e.PackageDetails.agentloading}}),{getagentParcels:function(){return function(){var e=re(ne().mark((function e(t){var n,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e(we);case 3:return t({type:"FETCH_AGENTS_PACKAGES"}),n=[],e.next=7,we.get("/api/web/all-agent-packages/packages");case 7:return i=e.sent,t({type:"FETCH_AGENTS_PACKAGES_SUCCESSFUL",payload:n=i}),e.abrupt("return",n);case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},get_riders:ss,assignRider:ls,togglePayment:ja})((function(e){var n=pe(t.useState(""),2),i=(n[0],n[1]),r=pe((0,t.useState)(""),2),o=r[0],a=(r[1],pe((0,t.useState)(""),2)),s=a[0],l=(a[1],pe((0,t.useState)([]),2)),c=l[0],u=l[1],d=pe(t.useState(!1),2),h=d[0],p=(d[1],pe((0,t.useState)(5),2)),f=(p[0],p[1]),m=pe((0,t.useState)(5),2),g=m[0],v=m[1],y=pe((0,t.useState)(0),2),x=y[0],b=(y[1],pe((0,t.useState)("all"),2)),_=b[0],w=b[1],k=pe(t.useState([]),2),S=(k[0],k[1],pe((0,t.useState)(!1),2)),C=S[0],E=S[1],T=pe((0,t.useState)([]),2),M=T[0],P=(T[1],["all","request","delivered","cancelled","on-transit","assigned","dropped","picked","unavailable","dropped","assigned-warehouse","warehouse-transit"]),A=function(e){i(e)},I=function(){var t=re(ne().mark((function t(n){var i,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.target.value,w(i),t.next=4,e.getagentParcels({limit:g,state:i});case 4:return r=t.sent,t.next=7,e.get_riders();case 7:u(r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),L=[{sortable:!0,name:"payment_status ",wrap:!0,selector:function(t){return(0,fe.jsx)(fe.Fragment,{children:"Not Paid"===t.payment_status?(0,fe.jsx)("div",{className:"p-2 border border-gray-700 bg-primary-500",onClick:re(ne().mark((function n(){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.togglePayment(t._id,"agent");case 2:return n.next=4,R();case 4:case"end":return n.stop()}}),n)}))),children:"Pay Now"}):"Paid"})}},{sortable:!0,name:"Reciept",wrap:!0,selector:function(e){return e.receipt_no}},{sortable:!0,name:"Reciept",wrap:!0,selector:function(e){return e.state}},{sortable:!0,name:"Name",defaultExpanded:!0,wrap:!0,selector:function(e){return(0,fe.jsx)(fe.Fragment,{children:e.packageName})}},{sortable:!0,name:"Value",wrap:!0,selector:function(e){return e.package_value}},{sortable:!0,name:"Customer",wrap:!0,selector:function(e){return e.customerName}},{sortable:!0,name:"Customer Phone",wrap:!0,selector:function(e){return e.customerPhoneNumber}},{sortable:!0,name:"Assined To",wrap:!0,selector:function(e){var t;return null===(t=e.assignedTo)||void 0===t?void 0:t.name}},{sortable:!0,name:"Sender",wrap:!0,selector:function(e){var t;return null===(t=e.senderAgentID)||void 0===t?void 0:t.business_name}},{sortable:!0,name:"Reciever",wrap:!0,selector:function(e){var t;return null===(t=e.receieverAgentID)||void 0===t?void 0:t.business_name}},{sortable:!0,name:"Delivery Fee",wrap:!0,selector:function(e){return e.delivery_fee}},{sortable:!0,name:"Total Fee Paid",wrap:!0,selector:function(e){return e.total_fee}},{sortable:!0,name:"Sent At ",wrap:!0,selector:function(e){return hs()(e.createdAt).format("YYYY-MM-DD HH:mm:ss")}}],D=function(){var t=re(ne().mark((function t(n){var i;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v(n),t.next=3,e.getagentParcels({limit:n,state:_});case 3:return i=t.sent,t.next=6,e.get_riders();case 6:u(i),f(n);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=t.useMemo((function(){return(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Ha,{onChangeFilter:A,searchValue:o,date:s,showModal:C,download:function(){return Ga((function(){return e.FetchAdmins({date:s,limit:-1,download:!0,cursor:e.lastElement,q:o,enabled:!0})}),"".concat(x>0?x:"all","_users"))}}),(0,fe.jsxs)("select",{name:"gender",onChange:I,className:"bg-transparent border-b border-slate-500 pt-5 pb-5 ",children:[(0,fe.jsx)("option",{value:"",children:"Select State"}),P.map((function(e,t){return(0,fe.jsx)("option",{value:e,onChange:I,children:e},t)}))]})]})}),[o,s,C]),R=function(){var t=re(ne().mark((function t(){var n;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getagentParcels();case 2:n=t.sent,u(n.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,t.useEffect)((function(){R()}),[]),(0,fe.jsxs)("div",{className:" mx-2",children:[(0,fe.jsx)(Wa.ZP,{title:" Agent to Agent Delivery",columns:L,data:c,pagination:!0,paginationServer:!0,progressPending:e.loading,conditionalRowStyles:[{when:function(e){return"cancelled"===e.state},style:{backgroundColor:"pink",color:"white","&:hover":{cursor:"pointer"}}},{when:function(e){return"unavailable"===e.state},style:{backgroundColor:"cyan",color:"white","&:hover":{cursor:"pointer"}}}],paginationResetDefaultPage:h,subHeader:!0,subHeaderComponent:O,persistTableHead:!0,expandableRowExpanded:function(e){return e.defaultExpanded},paginationTotalRows:x,onChangeRowsPerPage:D}),(0,fe.jsx)(us,{show:C,data:M,riders:e.riders,fetch:function(){return R()},loading:e.loading,toggle:function(){return E(!1)}})]})}));var fs=X((function(e){return{riders:e.ridersDetails.riders,loading:e.PackageDetails.doorloading,to_door_packages:e.PackageDetails.to_door_packages}}),{getdoorstep:function(e){return function(){var t=re(ne().mark((function t(n){var i,r,o,a,s;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=e.limit,r=e.state,n({type:"FETCH_DOORSTEP"}),o=[],t.next=6,we.get("/api/packages?limit=".concat(i,"&state=").concat(r));case 6:return a=t.sent,s=a.data,n({type:"FETCH_DOORSTEP_SUCCESSFUL",payload:o=s}),t.abrupt("return",o);case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},get_riders:ss,assignRider:ls,togglePayment:ja})((function(e){var n=pe(t.useState(""),2),i=(n[0],n[1]),r=pe((0,t.useState)(""),2),o=r[0],a=(r[1],pe((0,t.useState)(""),2)),s=a[0],l=(a[1],pe((0,t.useState)(""),2)),c=(l[0],l[1]),u=pe(t.useState(!1),2),d=u[0],h=(u[1],pe((0,t.useState)(5),2)),p=(h[0],h[1]),f=pe((0,t.useState)(5),2),m=f[0],g=f[1],v=pe((0,t.useState)(0),2),y=v[0],x=(v[1],pe((0,t.useState)("all"),2)),b=x[0],_=x[1],w=pe(t.useState([]),2),k=(w[0],w[1],pe((0,t.useState)(!1),2)),S=k[0],C=(k[1],pe((0,t.useState)([]),2)),E=(C[0],C[1],["all","request","delivered","declined","on-transit","fail"]),T=function(e){i(e)},M=function(){var t=re(ne().mark((function t(n){var i,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.target.value,_(i),t.next=4,e.getdoorstep({limit:m,state:i});case 4:return r=t.sent,t.next=7,e.get_riders();case 7:c(r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),P=[{sortable:!0,name:"Package",selector:function(e){return e.packageName}},{sortable:!0,name:"Reciept",wrap:!0,selector:function(e){return e.receipt_no}},{sortable:!0,name:"Package value",selector:function(e){return e.package_value}},{sortable:!0,name:"payment_status ",selector:function(t){return(0,fe.jsx)(fe.Fragment,{children:"Not Paid"===t.payment_status?(0,fe.jsx)("div",{className:"p-2 border border-gray-700 bg-primary-500",onClick:function(){return e.togglePayment(t._id,"doorstep")},children:"Pay Now"}):"Paid"})}},{sortable:!0,name:"Business Name",selector:function(e){return e.state}},{sortable:!0,name:"Business Name",selector:function(e){var t;return null===(t=e.businessId)||void 0===t?void 0:t.name}},{sortable:!0,name:"From",selector:function(e){var t;return null===e||void 0===e||null===(t=e.agent)||void 0===t?void 0:t.business_name}},{sortable:!0,name:"Sent At ",selector:function(e){return hs()(e.createdAt).format("YYYY-MM-DD HH:mm:ss")}},{sortable:!0,name:"Assigned to ",selector:function(e){var t;return null===e||void 0===e||null===(t=e.assignedTo)||void 0===t?void 0:t.name}}],A=function(){var t=re(ne().mark((function t(n){var i;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g(n),t.next=3,e.getdoorstep({limit:n,state:b});case 3:return i=t.sent,t.next=6,e.get_riders();case 6:c(i),p(n);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),I=t.useMemo((function(){return(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Ha,{onChangeFilter:T,searchValue:o,date:s,showModal:S,download:function(){return Ga((function(){return e.FetchAdmins({date:s,limit:-1,download:!0,cursor:e.lastElement,q:o,enabled:!0})}),"".concat(y>0?y:"all","_users"))}}),(0,fe.jsxs)("select",{name:"gender",onChange:M,className:"bg-transparent border-b border-slate-500 pt-5 pb-5 ",children:[(0,fe.jsx)("option",{value:"",children:"Select State"}),E.map((function(e,t){return(0,fe.jsx)("option",{value:e,onChange:M,children:e},t)}))]})]})}),[o,s,S]),L=function(){var t=re(ne().mark((function t(){var n;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getdoorstep({limit:m,state:b});case 2:n=t.sent,c(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,t.useEffect)((function(){L()}),[]),(0,fe.jsx)("div",{className:" mx-2 my-10",children:(0,fe.jsx)(Wa.ZP,{title:"Door Step Delivery",columns:P,data:e.to_door_packages,pagination:!0,paginationServer:!0,progressPending:e.loading,paginationResetDefaultPage:d,subHeader:!0,subHeaderComponent:I,persistTableHead:!0,paginationTotalRows:y,onChangeRowsPerPage:A})})}));var ms=X((function(e){return{riders:e.ridersDetails.riders,packages:e.PackageDetails.packages,loading:e.PackageDetails.loading,to_door_packages:e.PackageDetails.to_door_packages,rent_shelf:e.PackageDetails.rented_shelf_packages}}),{getParcels:Ba,get_riders:ss,assignRider:ls})((function(e){var n=pe(t.useState(""),2),i=(n[0],n[1]),r=pe((0,t.useState)(""),2),o=r[0],a=(r[1],pe((0,t.useState)(""),2)),s=a[0],l=(a[1],pe((0,t.useState)(""),2)),c=(l[0],l[1]),u=pe(t.useState(!1),2),d=u[0],h=(u[1],pe((0,t.useState)(5),2)),p=(h[0],h[1],pe((0,t.useState)(5),2)),f=p[0],m=(p[1],pe((0,t.useState)(0),2)),g=m[0],v=(m[1],pe((0,t.useState)("all"),2)),y=v[0],x=(v[1],pe(t.useState([]),2)),b=(x[0],x[1],pe((0,t.useState)(!1),2)),_=b[0],w=(b[1],pe((0,t.useState)([]),2)),k=(w[0],w[1],function(e){i(e)}),S=[{sortable:!0,name:"Business Name",wrap:!0,selector:function(e){var t;return null===(t=e.businessId)||void 0===t?void 0:t.name}},{sortable:!0,name:"Reciept",wrap:!0,selector:function(e){return e.receipt_no}},{sortable:!0,name:"Stored At ",wrap:!0,selector:function(e){return hs()(e.createdAt).format("YYYY-MM-DD")}}],C=t.useMemo((function(){return(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)(Ha,{onChangeFilter:k,searchValue:o,date:s,showModal:_,download:function(){return Ga((function(){return e.FetchAdmins({date:s,limit:-1,download:!0,cursor:e.lastElement,q:o,enabled:!0})}),"".concat(g>0?g:"all","_users"))}})})}),[o,s,_]),E=function(){var t=re(ne().mark((function t(){var n;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getParcels({limit:f,state:y});case 2:return n=t.sent,t.next=5,e.get_riders();case 5:c(n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,t.useEffect)((function(){E()}),[]),(0,fe.jsx)("div",{className:" mx-2 my-10",children:(0,fe.jsx)(Wa.ZP,{title:"Rent A shelf Delivery",columns:S,data:e.rent_shelf,pagination:!0,paginationServer:!0,progressPending:e.loading,paginationResetDefaultPage:d,subHeader:!0,subHeaderComponent:C,persistTableHead:!0,paginationTotalRows:g})})}));var gs=X((function(e){return{riders:e.ridersDetails.riders,loading:e.PackageDetails.doorloading,to_door_packages:e.PackageDetails.to_door_packages}}),{geterrands:function(){return function(){var e=re(ne().mark((function e(t){var n,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we.get("/api/web-errand-packages");case 3:return n=e.sent,i=n,e.abrupt("return",i);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},get_riders:ss,assignRider:ls,togglePayment:ja})((function(e){var n=pe(t.useState(""),2),i=(n[0],n[1]),r=pe((0,t.useState)(""),2),o=r[0],a=(r[1],pe((0,t.useState)(""),2)),s=a[0],l=(a[1],pe((0,t.useState)([]),2)),c=l[0],u=l[1],d=pe(t.useState(!1),2),h=(d[0],d[1],pe((0,t.useState)(5),2)),p=(h[0],h[1],pe((0,t.useState)(5),2)),f=p[0],m=(p[1],pe((0,t.useState)(0),2)),g=m[0],v=(m[1],pe((0,t.useState)("all"),2)),y=(v[0],v[1]),x=pe(t.useState([]),2),b=(x[0],x[1],pe((0,t.useState)(!1),2)),_=b[0],w=(b[1],pe((0,t.useState)([]),2)),k=(w[0],w[1],["all","request","delivered","declined","on-transit","fail"]),S=function(e){i(e)},C=function(){var t=re(ne().mark((function t(n){var i,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.target.value,y(i),t.next=4,e.geterrands({limit:f,state:i});case 4:r=t.sent,console.log(r),u(r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=[{sortable:!0,name:"Package",wrap:!0,selector:function(e){return e.packageName}},{sortable:!0,name:"Reciept",wrap:!0,selector:function(e){return e.package_value}},{sortable:!0,name:"Package value",wrap:!0,selector:function(e){return e.receipt_no}},{sortable:!0,name:"payment_status ",wrap:!0,selector:function(t){return(0,fe.jsx)(fe.Fragment,{children:"Not Paid"===t.payment_status?(0,fe.jsx)("div",{className:"p-2 border border-gray-700 bg-primary-500",onClick:re(ne().mark((function n(){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.togglePayment(t._id,"errand"),n.next=3,T();case 3:case"end":return n.stop()}}),n)}))),children:"Pay Now"}):"Paid"})}},{sortable:!0,name:"Business Name",wrap:!0,selector:function(e){var t;return null===(t=e.businessId)||void 0===t?void 0:t.name}},{sortable:!0,name:"Courier",wrap:!0,selector:function(e){var t;return null===(t=e.courier)||void 0===t?void 0:t.name}},{sortable:!0,name:"Sent At ",wrap:!0,selector:function(e){return hs()(e.createdAt).format("YYYY-MM-DD ")}},{sortable:!0,name:"Assigned to ",wrap:!0,selector:function(e){var t;return null===e||void 0===e||null===(t=e.assignedTo)||void 0===t?void 0:t.name}}],T=(t.useMemo((function(){return(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Ha,{onChangeFilter:S,searchValue:o,date:s,showModal:_,download:function(){return Ga((function(){return e.FetchAdmins({date:s,limit:-1,download:!0,cursor:e.lastElement,q:o,enabled:!0})}),"".concat(g>0?g:"all","_users"))}}),(0,fe.jsxs)("select",{name:"gender",onChange:C,className:"bg-transparent border-b border-slate-500 pt-5 pb-5 ",children:[(0,fe.jsx)("option",{value:"",children:"Select State"}),k.map((function(e,t){return(0,fe.jsx)("option",{value:e,onChange:C,children:e},t)}))]})]})}),[o,s,_]),function(){var t=re(ne().mark((function t(){var n;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.geterrands();case 2:n=t.sent,u(n.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}());return(0,t.useEffect)((function(){T()}),[]),(0,fe.jsx)("div",{className:" mx-2 my-10",children:(0,fe.jsx)(Wa.ZP,{title:"Errand Deliveries",columns:E,data:c})})}));var vs=X((function(e){return{loading:e.PackageDetails.loading,rent_shelf:e.PackageDetails.rented_shelf_packages}}),{})((function(e){var n=pe(t.useState(""),2),i=(n[0],n[1],pe((0,t.useState)(""),2)),r=(i[0],i[1],Ft(),pe((0,t.useState)(""),2)),o=(r[0],r[1],pe((0,t.useState)("sent"),2)),a=o[0],s=o[1],l=pe((0,t.useState)([]),2),c=l[0],u=(l[1],pe(t.useState(!1),2)),d=(u[0],u[1],pe((0,t.useState)(5),2)),h=(d[0],d[1],pe((0,t.useState)(5),2)),p=(h[0],h[1],pe((0,t.useState)(0),2)),f=(p[0],p[1],pe((0,t.useState)("all"),2));return f[0],f[1],(0,fe.jsxs)(Aa,{children:[(0,fe.jsxs)("div",{className:"w-full p-2 flex flex-wrap border-b border-slate-400 gap-x-1",children:[(0,fe.jsxs)("div",{className:"md:w-1/6 w-full flex flex-wrap p-2 shadow-md p-2 text-center bg-primary-500 justify-center items-center",onClick:re(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s("sent");case 1:case"end":return e.stop()}}),e)}))),style:{backgroundColor:"sent"===a&&"gray"},children:["Agents Packages ","sent"===a&&c.length]}),(0,fe.jsxs)("div",{className:"md:w-1/6 w-full flex flex-wrap p-2 shadow-md p-2 text-center bg-primary-500 justify-center items-center",onClick:re(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s("collected");case 1:case"end":return e.stop()}}),e)}))),style:{backgroundColor:"collected"===a&&"gray"},children:["Erand Packages ","collected"===a&&c.length]}),(0,fe.jsxs)("div",{className:"md:w-1/6 w-full flex flex-wrap p-2 shadow-md p-2 text-center bg-primary-500 justify-center items-center",onClick:re(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s("shelf");case 1:case"end":return e.stop()}}),e)}))),style:{backgroundColor:"shelf"===a&&"gray"},children:["Door Packages ","shelf"===a&&c.length]}),(0,fe.jsxs)("div",{className:"md:w-1/6 w-full flex flex-wrap p-2 shadow-md p-2 text-center bg-primary-500 justify-center items-center",onClick:re(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s("pending-agent");case 1:case"end":return e.stop()}}),e)}))),style:{backgroundColor:"pending-agent"===a&&"gray"},children:["Rent A Shelf Packages ","sent"===a&&c.length]})]}),"sent"===a&&(0,fe.jsx)("div",{className:" mx-2 my-10",children:(0,fe.jsx)(ps,{})}),"shelf"===a&&(0,fe.jsx)("div",{className:" mx-2 my-10",children:(0,fe.jsx)(fs,{})}),"pending-agent"===a&&(0,fe.jsx)("div",{className:" mx-2 my-10",children:(0,fe.jsx)(ms,{})}),"collected"===a&&(0,fe.jsx)("div",{className:" mx-2 my-10",children:(0,fe.jsx)(gs,{})})]})})),ys=n(3373),xs=n.n(ys);var bs=X((function(e){return{}}),{get_riders:ss,assignRider:ls})((function(e){e.toggle;var n=e.show,i=e.data,r=pe((0,t.useState)(""),2);r[0],r[1],console.log(i[0]);var o=[{sortable:!0,name:"Name",minWidth:"250px",selector:function(e){var t;return null===(t=e.package)||void 0===t?void 0:t.packageName}},{sortable:!0,name:"Value",minWidth:"250px",selector:function(e){var t;return null===(t=e.package)||void 0===t?void 0:t.package_value}},{sortable:!0,name:"Sender",minWidth:"250px",selector:function(e){var t,n,i,r;return(0,fe.jsxs)(fe.Fragment,{children:[null===(t=e.package)||void 0===t||null===(n=t.createdBy)||void 0===n?void 0:n.f_name," ",null===(i=e.package)||void 0===i||null===(r=i.createdBy)||void 0===r?void 0:r.l_name]})}},{sortable:!0,name:"Sender Agent ",minWidth:"250px",selector:function(e){var t,n;return null===(t=e.package)||void 0===t||null===(n=t.senderAgentID)||void 0===n?void 0:n.name}},{sortable:!0,name:"Reciever Agent ",minWidth:"250px",selector:function(e){var t,n;return null===(t=e.package)||void 0===t||null===(n=t.receieverAgentID)||void 0===n?void 0:n.name}}];return(0,fe.jsx)(fe.Fragment,{children:n?(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)("div",{className:"flex justify-center items-center overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none min-width:screen",children:(0,fe.jsx)("div",{className:"relative w-full h-full rounded-sm my-6 mx-auto max-w-5xl  ",children:(0,fe.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[(0,fe.jsxs)("div",{className:"flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t ",children:[(0,fe.jsx)("h3",{className:"text-xl font=bold uppercase",children:"Packages assigned"}),(0,fe.jsx)("button",{className:"bg-transparent border-0 text-black float-right",onClick:e.toggle,children:(0,fe.jsx)("span",{className:"text-black opacity-7 h-6 w-6 text-xl  py-0 rounded-full flex justify-center items-center",children:"x"})})]}),(0,fe.jsx)("div",{className:"relative p-6 flex-auto ",children:(0,fe.jsx)(Wa.ZP,{columns:o,data:e.data,pagination:!0,paginationServer:!0,subHeader:!0,persistTableHead:!0})}),(0,fe.jsx)("div",{className:"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b",children:(0,fe.jsx)("button",{className:"text-green-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1",type:"button",onClick:e.toggle,children:"Ok"})})]})})})}):null})})),_s=function(){return function(){var e=re(ne().mark((function e(t){var n,i,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e(we);case 3:return t({type:"FETCH_AGENTS"}),e.next=6,we.get("/api/agents?location=");case 6:return n=e.sent,i=n.data,[],r=i.agents,t({type:"FETCH_AGENTS_SUCCESSFUL",payload:r}),e.abrupt("return",r);case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),t({type:"FETCH_AGENTS_FAIL"});case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},ws=function(e){return function(){var t=re(ne().mark((function t(n){var i,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e(we);case 3:return t.next=5,we.get("/api/admin/all-employees/".concat(e));case 5:return i=t.sent,r=i.data,t.abrupt("return",r);case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0),n({type:"FETCH_AGENTS_FAIL"});case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},ks=function(){return function(){var e=re(ne().mark((function e(t){var n,i,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e(we);case 3:return t({type:"FETCH_ZONES"}),e.next=6,we.get("/api/zones");case 6:return n=e.sent,i=n.data,[],r=i.Zones,t({type:"FETCH_ZONES_SUCCESSFUL",payload:r}),e.abrupt("return",r);case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),t({type:"FETCH_ZONES_FAIL"});case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},Ss=function(e,t){return function(){var n=re(ne().mark((function n(i){var r,o;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e(we);case 3:return n.next=5,we.put("/api/assign-agent-rider/".concat(e,"/").concat(t));case 5:return r=n.sent,r.data,o=[],n.abrupt("return",o);case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0),i({type:"FETCH_PAYMENTS_FAIL"});case 16:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()},Cs=function(e){return function(){var t=re(ne().mark((function t(n){var i,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e(we);case 3:return t.next=5,we.get("/api/agents/".concat(e));case 5:return i=t.sent,r=i.data,t.abrupt("return",r);case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0),n({type:"FETCH_PAYMENTS_FAIL"});case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},Es=function(e,t,n){return function(){var i=re(ne().mark((function i(r){var o,a;return ne().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,_e(we);case 3:return i.next=5,we.put("/api/door-step/package/".concat(e,"/").concat(t,"?assignedTo=").concat(n));case 5:return o=i.sent,o.data,a=[],i.abrupt("return",a);case 11:i.prev=11,i.t0=i.catch(0),console.log(i.t0),r({type:"FETCH_PAYMENTS_FAIL"});case 16:case"end":return i.stop()}}),i,null,[[0,11]])})));return function(e){return i.apply(this,arguments)}}()},Ts=function(e,t,n){return function(){var i=re(ne().mark((function i(r){var o,a;return ne().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,_e(we);case 3:return i.next=5,we.put("/api/errand/package/".concat(e,"/").concat(t,"?assignedTo=").concat(n));case 5:return o=i.sent,o.data,a=[],i.abrupt("return",a);case 11:i.prev=11,i.t0=i.catch(0),console.log(i.t0),r({type:"FETCH_PAYMENTS_FAIL"});case 16:case"end":return i.stop()}}),i,null,[[0,11]])})));return function(e){return i.apply(this,arguments)}}()},Ms=function(e,t){return function(){var n=re(ne().mark((function n(i){var r,o,a;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e(we);case 3:return i({type:"FETCH_WEBPACKAGES"}),n.next=6,we.get("/api/agent-packages-web?state=".concat(e,"&agent=").concat(t||"all"));case 6:return r=n.sent,o=r.data,[],a=o.packages,i({type:"FETCH_WEBPACKAGES_SUCCESSFUL",payload:a}),n.abrupt("return",a);case 14:n.prev=14,n.t0=n.catch(0),console.log(n.t0),i({type:"FETCH_WEBPACKAGES_FAIL"});case 19:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(e){return n.apply(this,arguments)}}()},Ps=function(e,t){return function(){var n=re(ne().mark((function n(i){var r,o;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e(we);case 3:return i({type:"FETCH_WEBPACKAGES"}),n.next=6,we.get("/api/wh-door-step-packages/".concat(t,"?state=").concat(e));case 6:return r=n.sent,o=r.data,i({type:"FETCH_WEBPACKAGES_SUCCESSFUL",payload:[]}),n.abrupt("return",o);case 13:n.prev=13,n.t0=n.catch(0),console.log(n.t0),i({type:"FETCH_WEBPACKAGES_FAIL"});case 18:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(e){return n.apply(this,arguments)}}()};xs().accessToken="pk.eyJ1Ijoia2VuYXRlIiwiYSI6ImNqdWR0MjVsNzAxeTYzem1sb3FxaHhid28ifQ.ntUj7ZMNwUtKWaBUoUVuhw";var As=X((function(e){return{agents:e.agentsData.agents,riders:e.ridersDetails.riders,loading:e.ridersDetails.loading}}),{get_riders:ss,get_agents:_s,assignAgent:function(e,t){return function(){var n=re(ne().mark((function n(i){var r,o;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e(we);case 3:return n.next=5,we.put("/api/assign-agent-rider/".concat(e,"/").concat(t));case 5:return r=n.sent,r.data,o=[],n.abrupt("return",o);case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0),i({type:"FETCH_PAYMENTS_FAIL"});case 16:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()},fetchpackages:cs})((function(e){var n=pe((0,t.useState)({width:"100vh",height:"800px",latitude:-1.286389,longitude:36.817223,zoom:12}),2),i=(n[0],n[1],pe(t.useState(""),2)),r=(i[0],i[1]),o=pe((0,t.useState)(""),2),a=o[0],s=(o[1],pe((0,t.useState)(""),2)),l=s[0],c=(s[1],pe((0,t.useState)({}),2)),u=(c[0],c[1],pe((0,t.useState)(!1),2)),d=u[0],h=u[1],p=pe(t.useState(!1),2),f=p[0],m=(p[1],pe((0,t.useState)(10),2)),g=(m[0],m[1],(0,t.useRef)(null),(0,t.useRef)(null),pe((0,t.useState)(36.817223),2)),v=(g[0],g[1],pe((0,t.useState)(-1.286389),2)),y=(v[0],v[1],pe((0,t.useState)(9),2)),x=(y[0],y[1],pe((0,t.useState)(0),2)),b=x[0],_=(x[1],pe(t.useState([]),2)),w=_[0],k=(_[1],pe((0,t.useState)(),2)),S=(k[0],k[1],pe((0,t.useState)([]),2)),C=(S[0],S[1],function(e){r(e)}),E=[{sortable:!0,name:" Name",selector:function(e){var t,n,i;return(0,fe.jsx)(on,{to:{pathname:"/track/".concat(null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.name.replace(/\s/g,""))},state:{id:null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n._id},children:null===(i=e.user)||void 0===i?void 0:i.name})}},{sortable:!0,name:"Phone number",wrap:!0,selector:function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.phone_number}},{sortable:!0,name:"Bikes Reg No",wrap:!0,selector:function(e){return e.bike_reg_plate}}],T=t.useMemo((function(){return(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)(Ha,{onChangeFilter:C,searchValue:a,date:l,download:function(){return Ga((function(){return e.FetchAdmins({date:l,limit:-1,download:!0,cursor:e.lastElement,q:a,enabled:!0})}),"".concat(b>0?b:"all","_users"))}})})}),[a,l]);return(0,t.useEffect)((function(){e.get_riders({limit:10}),e.get_agents()}),[]),(0,fe.jsxs)(Aa,{children:[(0,fe.jsx)("div",{className:" mx-2 ",children:(0,fe.jsx)(Wa.ZP,{title:" Riders",columns:E,data:e.riders,pagination:!0,paginationServer:!0,progressPending:e.loading,paginationResetDefaultPage:f,subHeader:!0,subHeaderComponent:T,persistTableHead:!0,paginationTotalRows:b})}),(0,fe.jsx)(bs,{show:d,data:w,riders:e.riders,toggle:function(){return h(!1)}})]})})),Is=[{sortable:!0,name:"Phone number",minWidth:"10px",selector:function(e){return e.phone_number}},{sortable:!0,name:"Transaction Code",minWidth:"100px",wrap:!0,selector:function(e){return e.MpesaReceiptNumber}},{sortable:!0,name:"amount",minWidth:"105px",maxWidth:"50px",selector:function(e){return e.amount}},{sortable:!0,name:"Payment BY",minWidth:"105px",selector:function(e){var t,n;return(0,fe.jsxs)(fe.Fragment,{children:[null===(t=e.user)||void 0===t?void 0:t.name," ",null===(n=e.user)||void 0===n?void 0:n.f_name]})}},{sortable:!0,name:"Customer phone Number",minWidth:"105px",selector:function(e){var t;return(0,fe.jsx)(fe.Fragment,{children:null===(t=e.user)||void 0===t?void 0:t.phone_number})}},{sortable:!0,name:"state",minWidth:"105px",wrap:!0,selector:function(e){return(0,fe.jsx)("div",{className:"flex items-between ",style:{color:"The service request is processed successfully."!==e.ResultDesc?"red":"green"},children:e.ResultDesc})}},{sortable:!0,name:"Date Paid",minWidth:"105px",selector:function(e){return hs()(e.createdAt).format("YYYY-MM-DD HH:mm:ss")}}];var Ls=X((function(e){return{payments:e.ridersDetails.payments,loading:e.ridersDetails.loading}}),{get_payments:function(e){return function(){var t=re(ne().mark((function t(n){var i,r,o;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e(we);case 3:return n({type:"FETCH_PAYMENTS"}),t.next=6,we.get("/api/mpesa-payments?type=".concat(e));case 6:return i=t.sent,r=i.data,[],n({type:"FETCH_PAYMENTS_SUCCESSFUL",payload:o=r}),t.abrupt("return",o);case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0),n({type:"FETCH_PAYMENTS_FAIL"});case 19:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var n=pe(t.useState(""),2),i=n[0],r=n[1],o=pe((0,t.useState)(""),2),a=o[0],s=(o[1],pe((0,t.useState)([]),2)),l=s[0],c=s[1],u=pe((0,t.useState)(""),2),d=u[0],h=(u[1],pe((0,t.useState)("sent"),2)),p=h[0],f=h[1],m=pe(t.useState(!1),2),g=m[0],v=(m[1],pe((0,t.useState)(10),2)),y=(v[0],v[1],pe((0,t.useState)(0),2)),x=y[0],b=(y[1],pe(t.useState([]),2)),_=(b[0],b[1]),w=pe((0,t.useState)(!1),2),k=w[0],S=(w[1],pe((0,t.useState)({name:"",zone:"",rider:""}),2)),C=(S[0],S[1],null===l||void 0===l?void 0:l.filter((function(e){var t;return null===(t=e.collector_name)||void 0===t?void 0:t.toLowerCase().includes(i.toLowerCase())}))),E=function(e){r(e);var t=C.filter((function(e){var t;return e.collector_name&&(null===(t=e.collector_name)||void 0===t?void 0:t.toLowerCase().includes(i.toLowerCase()))}));_(t)},T=t.useMemo((function(){return(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)(Ha,{onChangeFilter:E,searchValue:a,date:d,showModal:k})})}),[a,d,k]),M=function(){var t=re(ne().mark((function t(n){var i;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get_payments(n);case 2:i=t.sent,c(i);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,t.useEffect)((function(){M("agent")}),[]),console.log(null===e||void 0===e?void 0:e.payments[0]),(0,fe.jsxs)(Aa,{children:[(0,fe.jsxs)("div",{className:"w-full p-2 flex flex-wrap border-b border-slate-400 gap-x-1",children:[(0,fe.jsxs)("div",{className:"md:w-1/6 w-full flex flex-wrap p-2 shadow-md p-2 text-center bg-primary-500 justify-center items-center",onClick:re(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M("agent");case 2:f("sent");case 3:case"end":return e.stop()}}),e)}))),style:{backgroundColor:"sent"===p&&"gray"},children:["Agents  ","sent"===p]}),(0,fe.jsxs)("div",{className:"md:w-1/6 w-full flex flex-wrap p-2 shadow-md p-2 text-center bg-primary-500 justify-center items-center",onClick:re(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M("doorstep");case 2:f("collected");case 3:case"end":return e.stop()}}),e)}))),style:{backgroundColor:"collected"===p&&"gray"},children:["Doorstep  ","collected"===p]}),(0,fe.jsxs)("div",{className:"md:w-1/6 w-full flex flex-wrap p-2 shadow-md p-2 text-center bg-primary-500 justify-center items-center",onClick:re(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M("rent");case 2:f("shelf");case 3:case"end":return e.stop()}}),e)}))),style:{backgroundColor:"shelf"===p&&"gray"},children:["Rent  ","shelf"===p]}),(0,fe.jsxs)("div",{className:"md:w-1/6 w-full flex flex-wrap p-2 shadow-md p-2 text-center bg-primary-500 justify-center items-center",onClick:re(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M("courier");case 2:f("errand");case 3:case"end":return e.stop()}}),e)}))),style:{backgroundColor:"errand"===p&&"gray"},children:["errand ","errand"===p]}),(0,fe.jsxs)("div",{className:"md:w-1/6 w-full flex flex-wrap p-2 shadow-md p-2 text-center bg-primary-500 justify-center items-center",onClick:re(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M("sale");case 2:f("sales");case 3:case"end":return e.stop()}}),e)}))),style:{backgroundColor:"sales"===p&&"gray"},children:["Sales ","sales"===p]})]}),(0,fe.jsx)("div",{className:" mx-2",children:(0,fe.jsx)(Wa.ZP,{columns:Is,data:e.payments,pagination:!0,paginationServer:!0,paginationResetDefaultPage:g,subHeader:!0,subHeaderComponent:T,persistTableHead:!0,paginationTotalRows:x})})]})})),Ds=X((function(e){return{agents:e.agentsData.agents,packages:e.agentsData.packs,loading:e.agentsData.loading}}),{get_agents:_s,get_zones:ks,assign:Ss,fetchpackages:Ms,fetchdoorpackages:Ps})((function(e){var n=pe((0,t.useState)([]),2),i=n[0],r=(n[1],pe((0,t.useState)([]),2)),o=(r[0],r[1],pe((0,t.useState)({dropped:0,transit:0,recieved:0}),2)),a=o[0],s=o[1],l=pe((0,t.useState)({dropped:0,transit:0,recieved:0}),2),c=l[0],u=l[1],d=function(){var t=re(ne().mark((function t(){var n,i,r,o,a,l;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchpackages("on-transit");case 2:return n=t.sent,t.next=5,e.fetchpackages("dropped");case 5:return i=t.sent,t.next=8,e.fetchdoorpackages("on-transit");case 8:return r=t.sent,t.next=11,e.fetchdoorpackages("dropped");case 11:return o=t.sent,t.next=14,e.fetchdoorpackages("recieved-warehouse");case 14:return a=t.sent,t.next=17,e.fetchpackages("recieved-warehouse");case 17:l=t.sent,s({dropped:parseInt(n.length),transit:parseInt(i.length),recieved:parseInt(l.length)}),u({dropped:parseInt(r.length),transit:parseInt(o.length),recieved:parseInt(a.length)});case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,t.useEffect)((function(){d()}),[]),(0,fe.jsx)(Aa,{children:(0,fe.jsxs)("div",{className:"flex w-full gap-x-20 ",children:[(0,fe.jsx)(La,{noCount:!1,obj:{title:"DOOR STEP PACKAGES",pathname:"/wahehouse/doorstep/packages",value:c,state:"on-transit",data:i}}),(0,fe.jsx)(La,{noCount:!1,obj:{title:"AGENT PACKAGES",pathname:"/wahehouse/agent-agent/packages",value:a,state:"recieved-warehouse",data:i}}),(0,fe.jsx)(La,{noCount:!1,obj:{title:"ERRAND PACKAGES",pathname:"/wahehouse/errand/packages",value:c,state:"on-transit",data:i}})]})})})),Os=function(e){e.toggleModal;var t=e.show,n=e.setShow,i=e.Submit;e.changeInput,e.loading;return(0,fe.jsx)(fe.Fragment,{children:t?(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)("div",{className:"flex justify-center items-center overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:(0,fe.jsx)("div",{className:"relative w-full my-6 mx-auto max-w-xl",children:(0,fe.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[(0,fe.jsx)("div",{className:"flex items-start justify-between p-5 rounded-t "}),(0,fe.jsx)("div",{className:"relative p-6 flex-auto",children:(0,fe.jsx)("div",{className:"flex text-black",children:(0,fe.jsxs)("h1",{children:[e.msg," ?"]})})}),(0,fe.jsxs)("div",{className:"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b",children:[(0,fe.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1",type:"button",onClick:function(){return n(!1)},children:"Cancel"}),(0,fe.jsx)("button",{className:"text-white bg-yellow-500 active:bg-yellow-700 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1",type:"button",onClick:function(){return i()},children:"Ok"})]})]})})})}):null})};var Rs=X((function(e){return{agents:e.agentsData.agents,packages:e.agentsData.packs,loading:e.agentsData.loading,riders:e.ridersDetails.riders}}),{get_agents:_s,fetchrecieved:function(e,t){return function(){var n=re(ne().mark((function n(i){var r,o,a;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e(we);case 3:return i({type:"FETCH_WEBPACKAGES"}),n.next=6,we.get("/api/agents-wh-recieved-warehouse-package?agent=".concat(t,"&rider=").concat(e));case 6:return r=n.sent,o=r.data,[],i({type:"FETCH_WEBPACKAGES_SUCCESSFUL",payload:a=o}),n.abrupt("return",a);case 14:n.prev=14,n.t0=n.catch(0),console.log(n.t0),i({type:"FETCH_WEBPACKAGES_FAIL"});case 19:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(e){return n.apply(this,arguments)}}()},packstoassign:function(e,t){return function(){var e=re(ne().mark((function e(t){var n,i,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e(we);case 3:return t({type:"FETCH_WEBPACKAGES"}),e.next=6,we.get("/api/agent-packages-web-recieved-warehouse");case 6:return n=e.sent,i=n.data,[],r=i.packages,t({type:"FETCH_WEBPACKAGES_SUCCESSFUL",payload:r}),e.abrupt("return",r);case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),t({type:"FETCH_WEBPACKAGES_FAIL"});case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},get_zones:ks,assign:Ss,CollectDoorStep:Es,get_riders:ss,fetchAgentpack:function(e){return function(){var t=re(ne().mark((function t(n){var i,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e(we);case 3:return n({type:"FETCH_WEBPACKAGES"}),t.next=6,we.get("/api/agents-packages-recieved-warehouse?agent=".concat(e));case 6:return i=t.sent,r=i.data,n({type:"FETCH_WEBPACKAGES_SUCCESSFUL",payload:[]}),t.abrupt("return",r);case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0),n({type:"FETCH_WEBPACKAGES_FAIL"});case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},assignwarehouse:Na})((function(e){var n,i=Ft(),r=pe((0,t.useState)([]),2),o=r[0],a=r[1],s=pe((0,t.useState)([]),2),l=(s[0],s[1],pe((0,t.useState)(!1),2)),c=l[0],u=l[1],d=pe((0,t.useState)(null),2),h=d[0],p=d[1],f=pe((0,t.useState)(null),2),m=f[0],g=f[1],v=function(){var t=re(ne().mark((function t(n,i){var r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.packstoassign(n,i);case 2:r=t.sent,a(r);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();(0,t.useEffect)((function(){var e,t;console.log(i.state),v(),v(null===i||void 0===i||null===(e=i.state)||void 0===e?void 0:e.rider,null===i||void 0===i||null===(t=i.state)||void 0===t?void 0:t.agent)}),[]);var y=function(){var t=re(ne().mark((function t(n,i,r){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.assignwarehouse(n,i,r);case 2:return t.next=4,v();case 4:case"end":return t.stop()}}),t)})));return function(e,n,i){return t.apply(this,arguments)}}(),x=[{sortable:!0,name:"Name",minWidth:"250px",selector:function(e){return e.packageName}},{sortable:!0,name:"Receipt",minWidth:"250px",selector:function(e){return e.receipt_no}},{sortable:!0,name:"Business",minWidth:"250px",selector:function(e){var t;return null===(t=e.receieverAgentID.rider)||void 0===t?void 0:t.name}},{sortable:!0,name:"Action",minWidth:"150px",selector:function(e){var t;return(0,fe.jsx)(fe.Fragment,{children:null!==(t=e.receieverAgentID)&&void 0!==t&&t.rider?(0,fe.jsx)("div",{className:" p-2 bg-slate-200 border",onClick:function(){var t;return b(e,null===(t=e.receieverAgentID)||void 0===t?void 0:t.rider)},children:" Assign "}):(0,fe.jsxs)(fe.Fragment,{children:["Kindly assign ",e.receieverAgentID.business_name," a rider"]})})}}],b=function(e,t){console.log(t),g(e._id),p(t),u(!0)};return(0,fe.jsxs)(Aa,{children:[(0,fe.jsx)(Os,{msg:"Assign this package ",show:c,Submit:re(ne().mark((function e(){var t,n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(m,"assigned-warehouse",h);case 2:return e.next=4,v(null===i||void 0===i||null===(t=i.state)||void 0===t?void 0:t.rider,null===i||void 0===i||null===(n=i.state)||void 0===n?void 0:n.agent);case 4:u(!1);case 5:case"end":return e.stop()}}),e)})))}),(0,fe.jsx)("div",{className:" mx-2",children:(0,fe.jsx)(Wa.ZP,{title:null===i||void 0===i||null===(n=i.state)||void 0===n?void 0:n.title,columns:x,data:o,pagination:!0,paginationServer:!0,subHeader:!0,persistTableHead:!0})})]})})),zs=n(7440);var Fs=function(e){e.toggle;var t=e.show;return(0,fe.jsx)(fe.Fragment,{children:t?(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)("div",{className:"flex justify-center items-center overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none min-width:screen",children:(0,fe.jsx)("div",{className:"relative w-1/3 rounded-sm my-6 mx-auto max-w-3xl  ",children:(0,fe.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[(0,fe.jsxs)("div",{className:"flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t ",children:[(0,fe.jsx)("h3",{className:"text-xl font=bold uppercase",children:"ADD EMPLOYEE"}),(0,fe.jsx)("button",{className:"bg-transparent border-0 text-black float-right",onClick:e.toggle,children:(0,fe.jsx)("span",{className:"text-black opacity-7 h-6 w-6 text-xl  py-0 rounded-full flex justify-center items-center",children:"x"})})]}),(0,fe.jsx)("div",{className:"relative p-6 flex-auto",children:(0,fe.jsxs)("div",{className:"w-full flex flex-col gap-y-2 ",children:[(0,fe.jsxs)("div",{className:"flex  gap-x-10",children:[(0,fe.jsx)("div",{className:"w-24",children:"Name"}),(0,fe.jsx)("input",{type:"text",value:e.item.name,className:" px-2 border border-slate-200 w-full py-2 rounded-md",onChange:e.changeInput,placeholder:" Name",name:"name"})]}),(0,fe.jsxs)("div",{className:"flex  gap-x-10",children:[(0,fe.jsx)("div",{className:"w-24",children:"Phone"}),(0,fe.jsx)("input",{type:"text",className:" px-2 border border-slate-200 w-full py-2 rounded-md",onChange:e.changeInput,placeholder:" phone number",value:e.item.phone_number,name:"phone_number"})]}),(0,fe.jsxs)("div",{className:"flex  gap-x-10",children:[(0,fe.jsx)("div",{className:"w-24",children:"Email"}),(0,fe.jsx)("input",{type:"email",value:e.item.email,autoComplete:"off",className:" px-2 border border-slate-200 w-full py-2 rounded-md",onChange:e.changeInput,placeholder:" email",name:"email"})]}),(0,fe.jsxs)("div",{className:"flex  gap-x-10",children:[(0,fe.jsx)("div",{className:"w-24",children:"Role"}),(0,fe.jsxs)("select",{className:" px-2 border border-slate-200 w-full py-2 rounded-md",name:"role",onChange:e.changeInput,children:[(0,fe.jsx)("option",{value:"",children:"select role"}),(0,fe.jsx)("option",{value:"agent",children:"Agent"}),(0,fe.jsx)("option",{value:"rider",children:"Rider"}),(0,fe.jsx)("option",{value:"seller",children:"Seller"})]})]}),(0,fe.jsxs)("div",{className:"flex  gap-x-10",children:[(0,fe.jsx)("div",{className:"w-24",children:"Password"}),(0,fe.jsx)("input",{type:"password",autoComplete:"off",className:" px-2 border border-slate-200 w-full py-2 rounded-md",onChange:e.changeInput,placeholder:"password",name:"password"})]})]})}),(0,fe.jsxs)("div",{className:"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b",children:[(0,fe.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1",type:"button",onClick:e.toggle,children:"Close"}),(0,fe.jsx)("button",{className:"text-white bg-yellow-500 active:bg-yellow-700 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1",type:"button",onClick:""===e.item.id?e.submit:console.log("first"),children:""===e.item.id?"Submit":"Update"})]})]})})})}):null})};var Bs=function(e){e.toggle;var n,i,r,o=e.show,a={name:"",email:"",phone_number:"",password:"",id:"",role:""},s=pe((0,t.useState)(a),2),l=s[0],c=s[1],u=pe((0,t.useState)(!1),2),d=u[0],h=u[1],p=function(){var t=re(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.add_employee(e.agent,l,l.role);case 2:return t.next=4,e.get_agents_employees(e.agent);case 4:c(a),h(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,fe.jsxs)(fe.Fragment,{children:[o?(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)("div",{className:"flex justify-center items-center overflow-x-hidden overflow-y-auto fixed top-0 right-0  left-80 z-50 outline-none focus:outline-none min-width:screen",children:(0,fe.jsx)("div",{className:"relative w-full rounded-sm my-6 mx-10 max-w-full  ",children:(0,fe.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[(0,fe.jsxs)("div",{className:"flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t ",children:[(0,fe.jsx)("h3",{className:"text-xl font=bold uppercase",children:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.business_name}),(0,fe.jsx)("button",{className:"bg-transparent border-0 text-black float-right",onClick:e.toggle,children:(0,fe.jsx)("span",{className:"text-black opacity-7 h-6 w-6 text-xl  py-0 rounded-full flex justify-center items-center",children:"x"})})]}),(0,fe.jsx)("div",{className:"relative p-6 flex-auto",children:(0,fe.jsx)("div",{className:"bg-slate-100 w-full h-full flex",children:(0,fe.jsx)("div",{className:"bg-slate-100 w-full p-10 h-full",children:(0,fe.jsxs)("div",{className:"p-5",children:[(0,fe.jsx)("h2",{className:"text-center py-5 text-2xl tuppercase",children:"ATTENDANTS"}),(0,fe.jsx)("div",{className:"bg-primary-500 w-38 mb-2 rounded-md float-right h-10 flex justify-center items-center px-2",onClick:function(){return h(!0)},children:" Add an attendant"}),(0,fe.jsx)("div",{className:"bg-primary-500 w-38 mb-2 rounded-md float-right h-10 flex justify-center items-center px-2",onClick:re(ne().mark((function t(){var n;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.activate_agents(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n._id);case 2:return t.next=4,e.props.toggle();case 4:case"end":return t.stop()}}),t)}))),children:"Activate Super Attendant"}),(0,fe.jsxs)("select",{className:" bg-primary-500 w-38 mb-2 mx-2 rounded-md float-right h-10 flex justify-center items-center px-2 border-none",onChange:function(){var t=re(ne().mark((function t(n){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.assign(n.target.value,e.agent);case 2:return t.next=4,e.toggle();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:[(0,fe.jsx)("option",{value:"",children:"Assign a Rider"}),null===(i=e.riders)||void 0===i?void 0:i.map((function(e,t){var n,i;return(0,fe.jsx)("option",{value:null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n._id,children:null===e||void 0===e||null===(i=e.user)||void 0===i?void 0:i.name},t)}))]}),(0,fe.jsxs)("table",{className:"w-full color-red-100",children:[(0,fe.jsxs)("thead",{className:"border-b-2 border-slate-200",children:[(0,fe.jsx)("th",{className:"border px-2 border-slate-300",children:"Name"}),(0,fe.jsx)("th",{className:"border px-2 border-slate-300",children:"Phone Number"}),(0,fe.jsx)("th",{className:"border px-2 border-slate-300",children:"Email"}),(0,fe.jsx)("th",{className:"border px-2 border-slate-300",children:"Role"}),(0,fe.jsx)("th",{className:"border px-2 border-slate-300",children:"Action"})]}),(0,fe.jsx)("tbody",{children:null===e||void 0===e||null===(r=e.employees)||void 0===r?void 0:r.map((function(e,t){var n,i,r;return(0,fe.jsxs)("tr",{children:[(0,fe.jsx)("td",{className:"border px-2 border-slate-300",children:null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.name}),(0,fe.jsx)("td",{className:"border px-2 border-slate-300",children:null===e||void 0===e||null===(i=e.user)||void 0===i?void 0:i.phone_number}),(0,fe.jsx)("td",{className:"border px-2 border-slate-300",children:null===e||void 0===e||null===(r=e.user)||void 0===r?void 0:r.email}),(0,fe.jsx)("td",{className:"border px-2 border-slate-300",children:null===e||void 0===e?void 0:e.role}),(0,fe.jsx)("td",{className:"border px-2 border-slate-300",children:(0,fe.jsx)("div",{className:"flex gap-x-2"})})]},t)}))})]})]})})})}),(0,fe.jsx)("div",{className:"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b",children:(0,fe.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1",type:"button",onClick:e.toggle,children:"Close"})})]})})})}):null,(0,fe.jsx)(Fs,{show:d,changeInput:function(e){return function(e){var t=void 0!==e.target?e.target:e,n=t.name,i=t.value;c((function(e){return le(le({},e),{},ae({},n,i))}))}(e)},item:l,submit:function(){return p()},toggle:function(){h(!1),c(a)}})]})};var Ns=function(e){e.toggle;var t,n,i,r=e.show;return(0,fe.jsx)(fe.Fragment,{children:r?(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)("div",{className:"flex justify-center items-center overflow-x-hidden overflow-y-auto fixed top-0 right-0  left-0 z-50 outline-none focus:outline-none min-width:screen",children:(0,fe.jsx)("div",{className:"relative w-full rounded-sm my-6 mx-10 max-w-full  ",children:(0,fe.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[(0,fe.jsxs)("div",{className:"flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t ",children:[(0,fe.jsx)("h3",{className:"text-xl font=bold uppercase",children:"Edit Agent"}),(0,fe.jsx)("button",{className:"bg-transparent border-0 text-black float-right",onClick:e.toggle,children:(0,fe.jsx)("span",{className:"text-black opacity-7 h-6 w-6 text-xl  py-0 rounded-full flex justify-center items-center",children:"x"})})]}),(0,fe.jsx)("div",{className:"relative p-6 flex-auto",children:(0,fe.jsxs)("div",{className:"bg-slate-100 w-full h-full flex",children:[(0,fe.jsx)("div",{className:"bg-slate-100 w-1/2 p-10 h-full",children:(0,fe.jsxs)("div",{className:"w-full flex flex-col gap-y-2 ",children:[(0,fe.jsxs)("div",{className:"flex  gap-x-10",children:[(0,fe.jsx)("div",{className:"w-24",children:"Name"}),(0,fe.jsx)("input",{type:"text",value:e.item.business_name,className:" px-2 border border-slate-200 w-full py-2 rounded-md",onChange:e.changeInput,placeholder:" Name",name:"name"})]}),(0,fe.jsxs)("div",{className:"flex  gap-x-10",children:[(0,fe.jsx)("div",{className:"w-24",children:"Contact"}),(0,fe.jsx)("input",{type:"text",className:" px-2 border border-slate-200 w-full py-2 rounded-md",onChange:e.changeInput,placeholder:" phone number",value:null===(t=e.item.user)||void 0===t?void 0:t.phone_number,name:"phone_number"})]}),(0,fe.jsxs)("div",{className:"flex  gap-x-10",children:[(0,fe.jsx)("div",{className:"w-24",children:"Description"}),(0,fe.jsx)("input",{type:"agent_description",value:e.item.agent_description,autoComplete:"off",className:" px-2 border border-slate-200 w-full py-2 rounded-md",onChange:e.changeInput,placeholder:" email",name:"email"})]}),(0,fe.jsxs)("div",{className:"flex  gap-x-10",children:[(0,fe.jsx)("div",{className:"w-24",children:"Mpesa No"}),(0,fe.jsx)("input",{type:"text",autoComplete:"off",className:" px-2 border border-slate-200 w-full py-2 rounded-md",onChange:e.changeInput,placeholder:"Mpesa No",value:e.item.mpesa_number,name:"mpesa_number"})]}),(0,fe.jsxs)("div",{className:"flex  gap-x-10",children:[(0,fe.jsx)("div",{className:"w-24",children:"Riders"}),(0,fe.jsxs)("select",{className:" px-2 border border-slate-200 w-full py-2 rounded-md",onChange:e.changeInput,children:[(0,fe.jsxs)("option",{value:"",children:[" ",e.item.riderName?e.item.riderName:"Select a rider"]}),null===(n=e.riders)||void 0===n?void 0:n.map((function(e,t){var n,i;return(0,fe.jsx)("option",{value:null===(n=e.user)||void 0===n?void 0:n._id,children:null===e||void 0===e||null===(i=e.user)||void 0===i?void 0:i.name},t)}))]})]})]})}),(0,fe.jsx)("div",{className:"bg-slate-100 w-1/2 h-full p-10 ",children:(0,fe.jsxs)("div",{className:"w-full flex flex-col gap-y-2 ",children:[(0,fe.jsxs)("div",{className:"flex  gap-x-10",children:[(0,fe.jsx)("div",{className:"w-24",children:"Location "}),(0,fe.jsxs)("select",{className:" px-2 border border-slate-200 w-full py-2 rounded-md",onChange:e.changeInput,children:[(0,fe.jsxs)("option",{value:e.item.location_id._id,children:[" ",e.item.locationName]}),null===(i=e.locations)||void 0===i?void 0:i.map((function(e,t){return(0,fe.jsx)("option",{value:e._id,children:null===e||void 0===e?void 0:e.name},t)}))]})]}),(0,fe.jsxs)("div",{className:"flex  gap-x-10",children:[(0,fe.jsx)("div",{className:"w-24",children:"Opening Hours"}),(0,fe.jsx)("input",{type:"text",className:" px-2 border border-slate-200 w-full py-2 rounded-md",onChange:e.changeInput,placeholder:" phone number",value:e.item.opening_hours,name:"opning hours"})]}),(0,fe.jsxs)("div",{className:"flex  gap-x-10",children:[(0,fe.jsx)("div",{className:"w-24",children:"Clossing Hours"}),(0,fe.jsx)("input",{type:"text",className:" px-2 border border-slate-200 w-full py-2 rounded-md",onChange:e.changeInput,placeholder:" phone number",value:e.item.closing_hours,name:"cloasing hours"})]}),(0,fe.jsxs)("div",{className:"w-full flex align-end justify-between",children:[(0,fe.jsx)("div",{className:"w-24",children:"Super Agent"}),(0,fe.jsxs)("div",{className:"flex  gap-x-10",children:[(0,fe.jsx)("div",{className:"w-24",children:"Super Agent"}),(0,fe.jsx)("input",{type:"radio",autoComplete:"off",className:"",onChange:e.changeInput,value:e.item.isSuperAgent})]}),(0,fe.jsxs)("div",{className:"flex  gap-x-10",children:[(0,fe.jsx)("div",{className:"w-24",children:"Activate"}),(0,fe.jsx)("input",{type:"radio",autoComplete:"off",className:"",onChange:e.changeInput,value:e.item.isSuperAgent})]})]}),(0,fe.jsxs)("div",{className:"w-full flex align-end justify-between",children:[(0,fe.jsx)("div",{className:"w-24",children:"Location"}),(0,fe.jsxs)("div",{className:"flex  gap-x-10",children:[(0,fe.jsx)("div",{className:"w-24",children:"Location"}),(0,fe.jsx)("input",{type:"radio",autoComplete:"off",className:"",onChange:e.changeInput,value:e.item.isSuperAgent})]}),(0,fe.jsxs)("div",{className:"flex  gap-x-10",children:[(0,fe.jsx)("div",{className:"w-24",children:"Activate"}),(0,fe.jsx)("input",{type:"radio",autoComplete:"off",className:"",onChange:e.changeInput,value:e.item.isSuperAgent})]})]})]})})]})}),(0,fe.jsxs)("div",{className:"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b",children:[(0,fe.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1",type:"button",onClick:e.toggle,children:"Close"}),(0,fe.jsx)("button",{className:"text-white bg-yellow-500 active:bg-yellow-700 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1",type:"button",onClick:""===e.item.id?e.submit:console.log("first"),children:""===e.item.id?"Submit":"Update"})]})]})})})}):null})};var js=X((function(e){return{agents:e.agentsData.agents,riders:e.ridersDetails.riders,loading:e.agentsData.loading,locations:e.LocationDetail.locations}}),{get_agents:_s,make_super:function(e){return function(){var t=re(ne().mark((function t(n){var i,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e(we);case 3:return t.next=5,we.put("/api/user/make-super/".concat(e));case 5:return i=t.sent,r=i.data,t.abrupt("return",r);case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0),n({type:"FETCH_AGENTS_FAIL"});case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},delete_agents:function(e){return function(){var t=re(ne().mark((function t(n){var i;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e(we);case 3:return t.next=5,we.delete("/api/delete-agent/".concat(e));case 5:return i=t.sent,t.abrupt("return",i);case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),n({type:"FETCH_AGENTS_FAIL"});case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},get_agents_employees:ws,getagentlocations:zs.getagentlocations,activate_user:function(e){return function(){var t=re(ne().mark((function t(n){var i,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e(we);case 3:return t.next=5,we.put("/api/user/".concat(e,"/activate-user"));case 5:return i=t.sent,r=i.data,t.abrupt("return",r);case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0),n({type:"FETCH_AGENTS_FAIL"});case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},activate_agents:function(e){return function(){var t=re(ne().mark((function t(n){var i,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e(we);case 3:return t.next=5,we.put("/api/activate_agent/".concat(e));case 5:return i=t.sent,r=i.data,t.abrupt("return",r);case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0),n({type:"FETCH_AGENTS_FAIL"});case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},get_riders:ss,add_employee:function(e,t,n){return function(){var i=re(ne().mark((function i(r){return ne().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,_e(we);case 3:return i.next=5,we.post("/api/admin/add-user-to-agent/".concat(e,"?role=").concat(n),t);case 5:return i.abrupt("return");case 8:i.prev=8,i.t0=i.catch(0),console.log(i.t0),r({type:"FETCH_PAYMENTS_FAIL"});case 13:case"end":return i.stop()}}),i,null,[[0,8]])})));return function(e){return i.apply(this,arguments)}}()},get_routes:function(){return function(){var e=re(ne().mark((function e(t){var n,i,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e(we);case 3:return t({type:"FETCH_ROUTES_SUCCESSFUL"}),e.next=6,we.get("/api/collectors");case 6:return n=e.sent,i=n.data,[],console.log(i),t({type:"FETCH_ROUTES_SUCCESSFUL",payload:r=i}),e.abrupt("return",r);case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0),t({type:"FETCH_RIDERS_FAIL"});case 20:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()},get_zones:ks,assign:Ss,fetchpackages:Ms})((function(e){var n,i={name:"",email:"",phone_number:"",password:"",id:""},r=(ae(n={business_name:"",opening_hours:"",closing_hours:"",prefix:"",isOpen:"",isSuperAgent:"",images:""},"closing_hours",""),ae(n,"working_hours",""),ae(n,"location_id",""),ae(n,"rider",""),ae(n,"zone",""),ae(n,"mpesa_number",""),ae(n,"loc",""),ae(n,"location_id",""),ae(n,"agent_description",""),n),o=pe((0,t.useState)(""),2),a=(o[0],o[1],pe((0,t.useState)(""),2)),s=a[0],l=a[1],c=pe((0,t.useState)(r),2),u=c[0],d=(c[1],pe((0,t.useState)(""),2)),h=d[0],p=d[1],f=pe((0,t.useState)(!1),2),m=f[0],g=f[1],v=pe((0,t.useState)([]),2),y=v[0],x=v[1],b=pe((0,t.useState)(i),2),_=b[0],w=b[1],k=function(){var t=re(ne().mark((function t(n){var i;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get_agents_employees(n._id);case 2:i=t.sent,x(i),F(!0),p(n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),S=[{sortable:!0,name:"Name",minWidth:"10px",selector:function(e){var t,n,i;return(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)(on,{to:{pathname:"/agent/".concat(null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.name.replace(/\s/g,""))},state:{agent:null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.name,id:null===e||void 0===e||null===(i=e.user)||void 0===i?void 0:i._id},children:e.business_name})})}},{sortable:!0,name:"Phone number",minWidth:"10px",selector:function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.phone_number}},{sortable:!0,name:"location",minWidth:"30px",wrap:!0,selector:function(e){var t;return null===(t=e.location_id)||void 0===t?void 0:t.name}},{sortable:!0,name:"Action",minWidth:"400px",selector:function(e){return(0,fe.jsx)("div",{className:"flex gap-x-2",children:(0,fe.jsx)("div",{className:"px-2 bg-slate-300 my-1 rounded-md py-2",onClick:function(){k(e),l(e._id),V(),console.log(JSON.stringify(e))},children:"Manage Attendants"})})}}],C=function(e){var t=void 0!==e.target?e.target:e,n=t.name,i=t.value;w((function(e){return le(le({},e),{},ae({},n,i))}))},E=function(){var t=re(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.add_employee(s,_);case 2:return t.next=4,V();case 4:w(i);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),T=pe((0,t.useState)(""),2),M=T[0],P=(T[1],pe(t.useState(!1),2)),A=P[0],I=(P[1],pe((0,t.useState)(10),2)),L=(I[0],I[1],pe((0,t.useState)(0),2)),D=L[0],O=(L[1],pe(t.useState([]),2)),R=(O[0],O[1],pe((0,t.useState)(!1),2)),z=R[0],F=R[1],B=pe((0,t.useState)([]),2),N=(B[0],B[1],function(e){}),j=t.useMemo((function(){return(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)(Ha,{onChangeFilter:N,searchValue:M,download:function(){return Ga((function(){return e.FetchAdmins({limit:-1,download:!0,cursor:e.lastElement,q:M,enabled:!0})}),"".concat(D>0?D:"all","_users"))}})})}),[M]),V=function(){var t=re(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get_agents();case 2:return t.next=4,e.get_riders();case 4:return t.next=6,e.getagentlocations();case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,t.useEffect)((function(){V()}),[]),(0,fe.jsxs)(Aa,{children:[(0,fe.jsx)("div",{className:" mx-2",children:(0,fe.jsx)(Wa.ZP,{columns:S,data:e.agents,pagination:!0,paginationServer:!0,progressPending:e.loading,paginationResetDefaultPage:A,subHeader:!0,subHeaderComponent:j,persistTableHead:!0,paginationTotalRows:D})}),(0,fe.jsx)(Ns,{show:m,changeInput:function(e){return C(e)},item:u,riders:e.riders,locations:e.locations,submit:function(){return E()},toggle:function(){g(!1),w(i)}}),(0,fe.jsx)(Bs,{show:z,changeInput:function(e){return C(e)},add_employee:e.add_employee,data:h,make_super:e.make_super,activate:e.activate_user,assign:e.assign,agent:s,activate_agents:e.activate_agents,toggleManage:k,get_agents_employees:ws,riders:e.riders,locations:e.riders,employees:y,submit:function(){return E()},toggle:function(){return F(!1)}})]})})),Vs=X((function(e){return{agents:e.agentsData.agents,packages:e.agentsData.packs,loading:e.agentsData.loading}}),{get_agents:_s,get_zones:ks,assign:Ss,fetchdoorpackages:Ps})((function(e){var n=pe((0,t.useState)([]),2),i=(n[0],n[1]),r=pe((0,t.useState)([]),2),o=(r[0],r[1]),a=pe((0,t.useState)([]),2),s=(a[0],a[1]),l=pe((0,t.useState)([]),2),c=(l[0],l[1]),u=(Ft(),function(){var t=re(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=i,t.next=3,e.fetchdoorpackages("dropped");case 3:return t.t1=t.sent,(0,t.t0)(t.t1),t.t2=o,t.next=8,e.fetchdoorpackages("recieved-warehouse");case 8:return t.t3=t.sent,(0,t.t2)(t.t3),t.t4=s,t.next=13,e.fetchdoorpackages("assigned");case 13:return t.t5=t.sent,(0,t.t4)(t.t5),t.t6=c,t.next=18,e.fetchdoorpackages("assigned");case 18:t.t7=t.sent,(0,t.t6)(t.t7);case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}());(0,t.useEffect)((function(){u()}),[]);return(0,fe.jsx)(Aa,{children:(0,fe.jsxs)("div",{className:"flex w-full gap-x-20 ",children:[(0,fe.jsx)("div",{className:"bg-white  w-1/2  ",children:(0,fe.jsxs)(on,{to:{pathname:"/wahehouse/doorstep/pick-packages"},children:[" ",(0,fe.jsx)("div",{className:"bg-white h-40  w-full  rounded-xl shadow-sm flex",children:(0,fe.jsx)("div",{className:"h-full w-4/6 ",children:(0,fe.jsx)("div",{className:" w-full flex flex-col p-3",children:(0,fe.jsx)("h1",{className:"font-bold text-gray-400 text-xl",children:"Pick From Rider"})})})})]})}),(0,fe.jsx)("div",{className:"flex w-full gap-x-20 ",children:(0,fe.jsx)("div",{className:"bg-white  w-1/2  ",children:(0,fe.jsxs)(on,{to:{pathname:"/wahehouse/doorstep/assign-rider"},children:[" ",(0,fe.jsx)("div",{className:"bg-white h-40  w-full  rounded-xl shadow-sm flex",children:(0,fe.jsx)("div",{className:"h-full w-4/6 ",children:(0,fe.jsx)("div",{className:" w-full flex flex-col p-3",children:(0,fe.jsx)("h1",{className:"font-bold text-gray-400 text-xl",children:"Assign to Rider"})})})})]})})})]})})})),Ws=X((function(e){return{agents:e.agentsData.agents,packages:e.agentsData.packs,riders:e.ridersDetails.riders,loading:e.agentsData.loading}}),{get_riders:ss,get_zones:ks,assign:Ss,fetchdoorpackages:Ps})((function(e){var n=pe((0,t.useState)([]),2),i=(n[0],n[1]),r=pe((0,t.useState)([]),2),o=(r[0],r[1]),a=pe((0,t.useState)([]),2),s=(a[0],a[1]),l=pe((0,t.useState)([]),2),c=(l[0],l[1]),u=(Ft(),function(){var t=re(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get_riders();case 2:return t.t0=i,t.next=5,e.fetchdoorpackages("dropped");case 5:return t.t1=t.sent,(0,t.t0)(t.t1),t.t2=o,t.next=10,e.fetchdoorpackages("recieved-warehouse");case 10:return t.t3=t.sent,(0,t.t2)(t.t3),t.t4=s,t.next=15,e.fetchdoorpackages("assigned");case 15:return t.t5=t.sent,(0,t.t4)(t.t5),t.t6=c,t.next=20,e.fetchdoorpackages("assigned");case 20:t.t7=t.sent,(0,t.t6)(t.t7);case 22:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}());return(0,t.useEffect)((function(){u()}),[]),(0,fe.jsx)(Aa,{children:(0,fe.jsx)("div",{className:"w-full p-2 flex flex-wrap",children:e.riders.map((function(e,t){var n,i,r;return(0,fe.jsx)("div",{className:"w-1/4 p-2",children:(0,fe.jsx)(on,{to:{pathname:"/wahehouse/doorstep/pick-packages-from/".concat(null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.name.replace(/\s/g,""))},state:{id:null===(i=e.user)||void 0===i?void 0:i._id},children:(0,fe.jsx)("div",{className:"m-1 w-full h-60 bg-red-100 flex justify-center items-center",children:(0,fe.jsxs)("div",{className:"text-center justify-center items-center flex flex-col",children:[(0,fe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-12 h-12",children:(0,fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})}),null===e||void 0===e||null===(r=e.user)||void 0===r?void 0:r.name]})})})},t)}))})})}));var Us=X((function(e){return{agents:e.agentsData.agents,packages:e.agentsData.packs,loading:e.agentsData.loading}}),{get_agents:_s,get_zones:ks,assign:Ss,CollectDoorStep:Es,fetchdoorpackages:Ps,assignwarehouse:Na})((function(e){var n,i=Ft(),r=pe((0,t.useState)([]),2),o=r[0],a=r[1],s=pe((0,t.useState)(!1),2),l=s[0],c=s[1],u=pe((0,t.useState)([]),2),d=u[0],h=u[1],p=function(){var t=re(ne().mark((function t(n,r){var o,s;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchdoorpackages("dropped",null===i||void 0===i||null===(o=i.state)||void 0===o?void 0:o.id);case 2:s=t.sent,a(s);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();(0,t.useEffect)((function(){var e;p("dropped",null===i||void 0===i||null===(e=i.state)||void 0===e?void 0:e.agent)}),[]);var f=[{sortable:!0,name:"Name",minWidth:"250px",selector:function(e){return e.packageName}},{sortable:!0,name:"Business",minWidth:"250px",selector:function(e){var t;return null===(t=e.businessId)||void 0===t?void 0:t.name}},{sortable:!0,name:"Action",minWidth:"150px",selector:function(e){return(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)("button",{onClick:function(){return function(e){h(e._id),c(!0)}(e)},children:"Recieve package"})})}}];return(0,fe.jsxs)(Aa,{children:[(0,fe.jsx)("div",{className:" mx-2",children:(0,fe.jsx)(Wa.ZP,{title:null===i||void 0===i||null===(n=i.state)||void 0===n?void 0:n.title,columns:f,data:o,pagination:!0,paginationServer:!0,subHeader:!0,persistTableHead:!0})}),(0,fe.jsx)(Os,{msg:" Recieve this package",show:l,Submit:re(ne().mark((function t(){var n;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.CollectDoorStep(d,"recieved-warehouse");case 2:c(!1),p("dropped",null===i||void 0===i||null===(n=i.state)||void 0===n?void 0:n.agent);case 4:case"end":return t.stop()}}),t)})))})]})}));var Hs=X((function(e){return{agents:e.agentsData.agents,packages:e.agentsData.packs,loading:e.agentsData.loading}}),{get_agents:_s,get_zones:ks,Rideagents:Cs,assign:Ss,fetchpackages:Ms,fetchdropped:function(e,t){return function(){var n=re(ne().mark((function n(i){var r,o,a;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e(we);case 3:return i({type:"FETCH_WEBPACKAGES"}),n.next=6,we.get("/api/agents-wh-droped-package?agent=".concat(t,"&rider=").concat(e));case 6:return r=n.sent,o=r.data,[],i({type:"FETCH_WEBPACKAGES_SUCCESSFUL",payload:a=o}),n.abrupt("return",a);case 14:n.prev=14,n.t0=n.catch(0),console.log(n.t0),i({type:"FETCH_WEBPACKAGES_FAIL"});case 19:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(e){return n.apply(this,arguments)}}()},fetchdoorpackages:Ps,pickrehouse:function(e,t,n){return function(){var n=re(ne().mark((function n(i){var r,o,a;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e(we);case 3:return i({type:"FETCH_DOORSTEP"}),r=[],n.next=7,we.put("/api/wh-agent-pick-package/".concat(e,"/").concat(t));case 7:return o=n.sent,a=o.data,i({type:"FETCH_DOORSTEP_SUCCESSFUL",payload:r=a}),n.abrupt("return",r);case 14:n.prev=14,n.t0=n.catch(0),console.log(n.t0);case 17:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var n,i,r=Ft(),o=pe((0,t.useState)([]),2),a=o[0],s=o[1],l=pe((0,t.useState)([]),2),c=l[0],u=l[1],d=pe((0,t.useState)([]),2),h=(d[0],d[1]),p=pe((0,t.useState)(null),2),f=p[0],m=p[1],g=pe((0,t.useState)(!1),2),v=g[0],y=g[1],x=function(){var t=re(ne().mark((function t(n,i){var o,a,l,c;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchdropped(n,i);case 2:return a=t.sent,t.next=5,e.Rideagents(null===r||void 0===r||null===(o=r.state)||void 0===o?void 0:o.rider);case 5:return l=t.sent,u(l),t.next=9,e.fetchpackages("recieved-warehouse",i);case 9:c=t.sent,s(a),h(c);case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),b=function(){var t=re(ne().mark((function t(n,i,o){var a,l;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.pickrehouse(n,i,o);case 2:return t.t0=s,t.next=5,e.fetchdropped(null===r||void 0===r||null===(a=r.state)||void 0===a?void 0:a.rider,null===r||void 0===r||null===(l=r.state)||void 0===l?void 0:l.agent);case 5:t.t1=t.sent,(0,t.t0)(t.t1);case 7:case"end":return t.stop()}}),t)})));return function(e,n,i){return t.apply(this,arguments)}}();(0,t.useEffect)((function(){var e,t;x(null===r||void 0===r||null===(e=r.state)||void 0===e?void 0:e.rider,null===r||void 0===r||null===(t=r.state)||void 0===t?void 0:t.agent)}),[]);var _=[{sortable:!0,name:"Name",minWidth:"250px",selector:function(e){return e.packageName}},{sortable:!0,name:"Business",minWidth:"250px",selector:function(e){var t;return null===(t=e.businessId)||void 0===t?void 0:t.name}},{sortable:!0,name:"Action",minWidth:"150px",selector:function(e){return(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)("button",{onClick:function(){return function(e){m(e._id),y(!0)}(e)},children:"Recieve package "})})}}];return(0,fe.jsx)(Aa,{children:"Collect From Riders"===(null===r||void 0===r||null===(n=r.state)||void 0===n?void 0:n.title)?(0,fe.jsxs)("div",{className:" mx-2",children:[(0,fe.jsx)(Wa.ZP,{title:null===r||void 0===r||null===(i=r.state)||void 0===i?void 0:i.title,columns:_,data:a,pagination:!0,paginationServer:!0,subHeader:!0,persistTableHead:!0}),(0,fe.jsx)(Os,{msg:" Recieve this package",show:v,Submit:re(ne().mark((function e(){var t,n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(f,"recieved-warehouse",null===r||void 0===r||null===(t=r.state)||void 0===t?void 0:t.id);case 2:y(!1),x("dropped",null===r||void 0===r||null===(n=r.state)||void 0===n?void 0:n.agent);case 4:case"end":return e.stop()}}),e)})))})]}):(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)("div",{className:"w-full p-2 flex flex-wrap ",children:null===c||void 0===c?void 0:c.map((function(e,t){var n,i;return(0,fe.jsx)("div",{className:"w-1/4 p-2",children:(0,fe.jsx)(on,{to:{pathname:"/wahehouse/agent-agent/assign-rider"},state:{agent:null===e||void 0===e||null===(n=e.agent)||void 0===n?void 0:n._id,rider:r.state.rider},children:(0,fe.jsx)("div",{className:"m-1 w-full h-60 bg-red-100 flex justify-center items-center",children:(0,fe.jsxs)("div",{className:"text-center justify-center items-center flex flex-col",children:[(0,fe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-12 h-12",children:(0,fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})}),null===e||void 0===e||null===(i=e.agent)||void 0===i?void 0:i.business_name]})})})},t)}))})})})}));var Xs=X((function(e){return{riders:e.ridersDetails.riders,loading:e.ridersDetails.loading}}),{get_agents:function(e,t){return function(){var n=re(ne().mark((function n(i){var r,o,a;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e(we);case 3:return i({type:"FETCH_RIDERS"}),n.next=6,we.get("/api/riders-agents-package-count/".concat(e,"?state=").concat(t));case 6:return r=n.sent,o=r.data,[],i({type:"FETCH_RIDERS_SUCCESSFUL",payload:a=o}),n.abrupt("return",a);case 14:n.prev=14,n.t0=n.catch(0),console.log(n.t0),i({type:"FETCH_RIDERS_FAIL"});case 19:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(e){return n.apply(this,arguments)}}()},fetchpackages:cs})((function(e){var n,i=Ft(),r=pe((0,t.useState)([]),2),o=r[0],a=r[1],s=function(){var t=re(ne().mark((function t(){var n,r,o,s,l;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Collect From Riders"!==(null===(n=i.state)||void 0===n?void 0:n.title)){t.next=7;break}return t.next=3,e.get_agents(null===i||void 0===i||null===(r=i.state)||void 0===r?void 0:r.id,"dropped");case 3:o=t.sent,a(o.sender_agents_count),t.next=11;break;case 7:return t.next=9,e.get_agents(null===i||void 0===i||null===(s=i.state)||void 0===s?void 0:s.id,"recieved-warehouse");case 9:l=t.sent,a(l.reciever_agents_count);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,t.useEffect)((function(){s()}),[]),console.log(i),(0,fe.jsxs)(Aa,{children:[(0,fe.jsx)("div",{className:"flex justify-center items-center py-10",children:(0,fe.jsx)("h2",{className:"text-uppercase text-3xl underline",children:null===i||void 0===i||null===(n=i.state)||void 0===n?void 0:n.title})}),(0,fe.jsx)("h2",{className:"text-center p-10 text-xl ",children:" "}),(0,fe.jsx)("div",{className:"flex  w-full",children:(0,fe.jsx)("div",{className:"flex flex-wrap gap-1  w-full",children:o.map((function(e,t){var n,r,o,a,s;return(0,fe.jsx)(Oa,{agent:e,count:e.count,rider:null===i||void 0===i||null===(n=i.state)||void 0===n?void 0:n.id,id:null===e||void 0===e||null===(r=e.agent)||void 0===r?void 0:r._id,title:null===i||void 0===i||null===(o=i.state)||void 0===o?void 0:o.title,path:null===i||void 0===i||null===(a=i.state)||void 0===a?void 0:a.lis,name:null===e||void 0===e||null===(s=e.agent)||void 0===s?void 0:s.business_name},t)}))})})]})})),Gs=X((function(e){return{agents:e.agentsData.agents,packages:e.agentsData.packs,riders:e.ridersDetails.riders,loading:e.agentsData.loading}}),{agents:function(){return function(){var e=re(ne().mark((function e(t){var n,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e(we);case 3:return e.next=5,we.get("/api/agents_routes");case 5:return n=e.sent,i=n.data,e.abrupt("return",i);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),t({type:"FETCH_PAYMENTS_FAIL"});case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},get_zones:ks,assign:Ss,fetchdoorpackages:Ps})((function(e){var n=pe((0,t.useState)([]),2),i=(n[0],n[1],pe((0,t.useState)([]),2)),r=i[0],o=i[1],a=pe((0,t.useState)([]),2),s=(a[0],a[1],pe((0,t.useState)([]),2)),l=(s[0],s[1],Ft(),function(){var t=re(ne().mark((function t(){var n;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.agents();case 2:n=t.sent,o(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}());return(0,t.useEffect)((function(){l()}),[]),(0,fe.jsx)(Aa,{children:(0,fe.jsx)("div",{className:"w-full p-2 flex flex-wrap ",children:r.map((function(e,t){var n;return(0,fe.jsx)("div",{className:"w-1/4 p-2",children:(0,fe.jsx)(on,{to:{pathname:"/wahehouse/doorstep/assign-rider"},state:{id:null===(n=e.user)||void 0===n?void 0:n._id},children:(0,fe.jsx)("div",{className:"m-1 w-full h-60 bg-red-100 flex justify-center items-center",children:(0,fe.jsxs)("div",{className:"text-center justify-center items-center flex flex-col",children:[(0,fe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-12 h-12",children:(0,fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})}),null===e||void 0===e?void 0:e.business_name]})})})},t)}))})})}));var Ys=X((function(e){return{agents:e.agentsData.agents,packages:e.agentsData.packs,loading:e.agentsData.loading,riders:e.ridersDetails.riders}}),{get_agents:_s,get_zones:ks,assign:Ss,CollectDoorStep:Es,get_riders:ss,fetchdoorpack:function(e){return function(){var t=re(ne().mark((function t(n){var i,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e(we);case 3:return n({type:"FETCH_WEBPACKAGES"}),t.next=6,we.get("/api/wh-door-step-packages?state=".concat(e));case 6:return i=t.sent,r=i.data,n({type:"FETCH_WEBPACKAGES_SUCCESSFUL",payload:[]}),t.abrupt("return",r);case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0),n({type:"FETCH_WEBPACKAGES_FAIL"});case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},assignwarehouse:Na})((function(e){var n,i=Ft(),r=pe((0,t.useState)([]),2),o=r[0],a=r[1],s=pe((0,t.useState)([]),2),l=s[0],c=s[1],u=pe((0,t.useState)(!1),2),d=u[0],h=u[1],p=pe((0,t.useState)(""),2),f=p[0],m=p[1],g=function(){var t=re(ne().mark((function t(n,i){var r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchdoorpack("recieved-warehouse");case 2:return r=t.sent,t.next=5,e.get_riders();case 5:a(r);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();(0,t.useEffect)((function(){g()}),[]);var v=[{sortable:!0,name:"Name",minWidth:"250px",selector:function(e){return e.packageName}},{sortable:!0,name:"Reciept",minWidth:"250px",selector:function(e){return e.receipt_no}},{sortable:!0,name:"From",minWidth:"250px",selector:function(e){var t;return null===(t=e.businessId)||void 0===t?void 0:t.name}},{sortable:!0,name:"To",minWidth:"250px",selector:function(e){return e.customerName}},{sortable:!0,name:"Created on",minWidth:"250px",selector:function(e){return e.createdAt}},{sortable:!0,name:"Action",minWidth:"150px",selector:function(t){var n;return(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsxs)("select",{className:" bg-primary-500 w-38 mb-2 mx-2 rounded-md float-right h-10 flex justify-center items-center px-2 border-none",onChange:function(e){h(!0),m(t._id),c(e.target.value)},children:[(0,fe.jsx)("option",{value:"",children:"Assign a new Rider"}),null===(n=e.riders)||void 0===n?void 0:n.map((function(e,t){var n,i;return(0,fe.jsx)("option",{value:null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n._id,children:null===e||void 0===e||null===(i=e.user)||void 0===i?void 0:i.name},t)}))]})})}}];return(0,fe.jsxs)(Aa,{children:[(0,fe.jsx)("div",{className:" mx-2",children:(0,fe.jsx)(Wa.ZP,{title:null===i||void 0===i||null===(n=i.state)||void 0===n?void 0:n.title,columns:v,data:o,pagination:!0,paginationServer:!0,subHeader:!0,persistTableHead:!0})}),(0,fe.jsx)(Os,{msg:" Assign this package",show:d,Submit:re(ne().mark((function t(){var n;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.CollectDoorStep(f,"assigned-warehouse",l);case 2:h(!1),g("dropped",null===i||void 0===i||null===(n=i.state)||void 0===n?void 0:n.agent);case 4:case"end":return t.stop()}}),t)})))})]})})),qs=X((function(e){return{agents:e.agentsData.agents,packages:e.agentsData.packs,loading:e.agentsData.loading}}),{get_agents:_s,get_zones:ks,assign:Ss,fetchdoorpackages:Ps})((function(e){return(0,fe.jsx)(Aa,{children:(0,fe.jsxs)("div",{className:"flex w-full gap-x-20 ",children:[(0,fe.jsx)("div",{className:"bg-white  w-1/2  ",children:(0,fe.jsxs)(on,{to:{pathname:"/wahehouse/errand/pick-packages"},children:[" ",(0,fe.jsx)("div",{className:"bg-white h-40  w-full  rounded-xl shadow-sm flex",children:(0,fe.jsx)("div",{className:"h-full w-4/6 ",children:(0,fe.jsx)("div",{className:" w-full flex flex-col p-3",children:(0,fe.jsx)("h1",{className:"font-bold text-gray-400 text-xl",children:"Pick From Rider"})})})})]})}),(0,fe.jsx)("div",{className:"flex w-full gap-x-20 ",children:(0,fe.jsx)("div",{className:"bg-white  w-1/2  ",children:(0,fe.jsxs)(on,{to:{pathname:"/wahehouse/errand/assign-rider"},children:[" ",(0,fe.jsx)("div",{className:"bg-white h-40  w-full  rounded-xl shadow-sm flex",children:(0,fe.jsx)("div",{className:"h-full w-4/6 ",children:(0,fe.jsx)("div",{className:" w-full flex flex-col p-3",children:(0,fe.jsx)("h1",{className:"font-bold text-gray-400 text-xl",children:"Assign to Rider"})})})})]})})})]})})})),Ks=X((function(e){return{agents:e.agentsData.agents,packages:e.agentsData.packs,riders:e.ridersDetails.riders,loading:e.agentsData.loading}}),{get_riders:ss,get_zones:ks,assign:Ss,fetchdoorpackages:Ps})((function(e){var n=pe((0,t.useState)([]),2),i=(n[0],n[1]),r=pe((0,t.useState)([]),2),o=(r[0],r[1]),a=pe((0,t.useState)([]),2),s=(a[0],a[1]),l=pe((0,t.useState)([]),2),c=(l[0],l[1]),u=(Ft(),function(){var t=re(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get_riders();case 2:return t.t0=i,t.next=5,e.fetchdoorpackages("dropped");case 5:return t.t1=t.sent,(0,t.t0)(t.t1),t.t2=o,t.next=10,e.fetchdoorpackages("recieved-warehouse");case 10:return t.t3=t.sent,(0,t.t2)(t.t3),t.t4=s,t.next=15,e.fetchdoorpackages("assigned");case 15:return t.t5=t.sent,(0,t.t4)(t.t5),t.t6=c,t.next=20,e.fetchdoorpackages("assigned");case 20:t.t7=t.sent,(0,t.t6)(t.t7);case 22:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}());return(0,t.useEffect)((function(){u()}),[]),(0,fe.jsx)(Aa,{children:(0,fe.jsx)("div",{className:"w-full p-2 flex flex-wrap",children:e.riders.map((function(e,t){var n,i,r;return(0,fe.jsx)("div",{className:"w-1/4 p-2",children:(0,fe.jsx)(on,{to:{pathname:"/wahehouse/errand/pick-packages-from/".concat(null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.name.replace(/\s/g,""))},state:{id:null===(i=e.user)||void 0===i?void 0:i._id},children:(0,fe.jsx)("div",{className:"m-1 w-full h-60 bg-red-100 flex justify-center items-center",children:(0,fe.jsxs)("div",{className:"text-center justify-center items-center flex flex-col",children:[(0,fe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-12 h-12",children:(0,fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})}),null===e||void 0===e||null===(r=e.user)||void 0===r?void 0:r.name]})})})},t)}))})})}));var $s=X((function(e){return{agents:e.agentsData.agents,packages:e.agentsData.packs,loading:e.agentsData.loading}}),{get_agents:_s,get_zones:ks,assign:Ss,CollectErrand:Ts,fetcherrandpackages:function(e,t){return function(){var n=re(ne().mark((function n(i){var r,o;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e(we);case 3:return i({type:"FETCH_WEBPACKAGES"}),n.next=6,we.get("/api/wh-errands-packages/".concat(t,"?state=").concat(e));case 6:return r=n.sent,o=r.data,i({type:"FETCH_WEBPACKAGES_SUCCESSFUL",payload:[]}),n.abrupt("return",o);case 13:n.prev=13,n.t0=n.catch(0),console.log(n.t0),i({type:"FETCH_WEBPACKAGES_FAIL"});case 18:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(e){return n.apply(this,arguments)}}()},assignwarehouse:Na})((function(e){var n,i=Ft(),r=pe((0,t.useState)([]),2),o=r[0],a=r[1],s=pe((0,t.useState)(!1),2),l=s[0],c=s[1],u=pe((0,t.useState)([]),2),d=u[0],h=u[1],p=function(){var t=re(ne().mark((function t(n,r){var o,s;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetcherrandpackages("dropped",null===i||void 0===i||null===(o=i.state)||void 0===o?void 0:o.id);case 2:s=t.sent,a(s);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();(0,t.useEffect)((function(){var e;p("dropped",null===i||void 0===i||null===(e=i.state)||void 0===e?void 0:e.agent)}),[]);var f=[{sortable:!0,name:"Name",minWidth:"250px",selector:function(e){return e.packageName}},{sortable:!0,name:"Business",minWidth:"250px",selector:function(e){var t;return null===(t=e.businessId)||void 0===t?void 0:t.name}},{sortable:!0,name:"Action",minWidth:"150px",selector:function(e){return(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)("button",{onClick:function(){return function(e){h(e._id),c(!0)}(e)},children:"Recieve package"})})}}];return(0,fe.jsxs)(Aa,{children:[(0,fe.jsx)("div",{className:" mx-2",children:(0,fe.jsx)(Wa.ZP,{title:null===i||void 0===i||null===(n=i.state)||void 0===n?void 0:n.title,columns:f,data:o,pagination:!0,paginationServer:!0,subHeader:!0,persistTableHead:!0})}),(0,fe.jsx)(Os,{msg:" Recieve this package",show:l,Submit:re(ne().mark((function t(){var n;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.CollectErrand(d,"recieved-warehouse",i.state.id);case 2:c(!1),p("dropped",null===i||void 0===i||null===(n=i.state)||void 0===n?void 0:n.agent);case 4:case"end":return t.stop()}}),t)})))})]})}));var Zs=X((function(e){return{agents:e.agentsData.agents,packages:e.agentsData.packs,loading:e.agentsData.loading,riders:e.ridersDetails.riders}}),{get_agents:_s,get_zones:ks,assign:Ss,CollectErrand:Ts,get_riders:ss,fetcherrandpack:function(e){return function(){var t=re(ne().mark((function t(n){var i,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e(we);case 3:return n({type:"FETCH_WEBPACKAGES"}),t.next=6,we.get("/api/wh-errand-packages?state=".concat(e));case 6:return i=t.sent,r=i.data,n({type:"FETCH_WEBPACKAGES_SUCCESSFUL",payload:[]}),t.abrupt("return",r);case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0),n({type:"FETCH_WEBPACKAGES_FAIL"});case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},assignwarehouse:Na})((function(e){var n,i=Ft(),r=pe((0,t.useState)([]),2),o=r[0],a=r[1],s=pe((0,t.useState)([]),2),l=s[0],c=s[1],u=pe((0,t.useState)(!1),2),d=u[0],h=u[1],p=pe((0,t.useState)(""),2),f=p[0],m=p[1],g=function(){var t=re(ne().mark((function t(n,i){var r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetcherrandpack("recieved-warehouse");case 2:return r=t.sent,t.next=5,e.get_riders();case 5:a(r);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();(0,t.useEffect)((function(){g()}),[]);var v=[{sortable:!0,name:"Name",minWidth:"250px",selector:function(e){return e.packageName}},{sortable:!0,name:"Reciept",minWidth:"250px",selector:function(e){return e.receipt_no}},{sortable:!0,name:"From",minWidth:"250px",selector:function(e){var t;return null===(t=e.businessId)||void 0===t?void 0:t.name}},{sortable:!0,name:"To",minWidth:"250px",selector:function(e){return e.customerName}},{sortable:!0,name:"Action",minWidth:"150px",selector:function(t){var n;return(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsxs)("select",{className:" bg-primary-500 w-38 mb-2 mx-2 rounded-md float-right h-10 flex justify-center items-center px-2 border-none",onChange:function(e){h(!0),m(t._id),c(e.target.value)},children:[(0,fe.jsx)("option",{value:"",children:"Assign a new Rider"}),null===(n=e.riders)||void 0===n?void 0:n.map((function(e,t){var n,i;return(0,fe.jsx)("option",{value:null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n._id,children:null===e||void 0===e||null===(i=e.user)||void 0===i?void 0:i.name},t)}))]})})}}];return(0,fe.jsxs)(Aa,{children:[(0,fe.jsx)("div",{className:" mx-2",children:(0,fe.jsx)(Wa.ZP,{title:null===i||void 0===i||null===(n=i.state)||void 0===n?void 0:n.title,columns:v,data:o,pagination:!0,paginationServer:!0,subHeader:!0,persistTableHead:!0})}),(0,fe.jsx)(Os,{msg:" Assign this package",show:d,Submit:re(ne().mark((function t(){var n;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.CollectErrand(f,"assigned-warehouse",l);case 2:return t.next=4,g("dropped",null===i||void 0===i||null===(n=i.state)||void 0===n?void 0:n.agent);case 4:h(!1);case 5:case"end":return t.stop()}}),t)})))})]})})),Js=X((function(e){return{agents:e.agentsData.agents,packages:e.agentsData.packs,loading:e.agentsData.loading}}),{get_agents:_s,get_zones:ks,assign:Ss,fetchpackages:Ms})((function(e){var t,n,i,r,o=Ft();return(0,fe.jsx)(Aa,{children:(0,fe.jsxs)("div",{className:"flex w-full gap-x-20 ",children:[(0,fe.jsx)(Ia,{obj:{title:"Collect From Riders",type:"agents",value:null===o||void 0===o||null===(t=o.state)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.dropped,state:"on-transit"}}),(0,fe.jsx)(Ia,{obj:{title:"Assign to Riders",value:null===o||void 0===o||null===(i=o.state)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.recieved,state:"recieved-warehouse"}})]})})})),Qs=[{sortable:!0,name:"Package",selector:function(e){var t;return null===e||void 0===e||null===(t=e.package)||void 0===t?void 0:t.packageName}},{sortable:!0,name:"Package",selector:function(e){var t;return null===e||void 0===e||null===(t=e.package)||void 0===t?void 0:t.receipt_no}},{sortable:!0,name:"Time",selector:function(e){return e.createdAt}},{sortable:!0,name:" Name",selector:function(e){return e.collector_name}},{sortable:!0,name:"Phone Numner",selector:function(e){return e.collector_phone_number}},{sortable:!0,name:"Signature",selector:function(e){return(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)("img",{src:"data:image/png;base64,".concat(e.collector_signature),height:60,width:60,alt:""})})}}],el=[{sortable:!0,name:"Package",selector:function(e){var t;return null===e||void 0===e||null===(t=e.package2)||void 0===t?void 0:t.packageName}},{sortable:!0,name:"Reciept",selector:function(e){var t;return null===e||void 0===e||null===(t=e.package2)||void 0===t?void 0:t.receipt_no}},{sortable:!0,name:"Time",selector:function(e){return e.createdAt}},{sortable:!0,name:" Name",selector:function(e){return e.collector_name}},{sortable:!0,name:"Phone Numner",selector:function(e){return e.collector_phone_number}},{sortable:!0,name:"Signature",selector:function(e){return(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)("img",{src:"data:image/png;base64,".concat(e.collector_signature),height:60,width:60,alt:""})})}}],tl=[{sortable:!0,name:"Package",selector:function(e){var t;return null===e||void 0===e||null===(t=e.package3)||void 0===t?void 0:t.packageName}},{sortable:!0,name:"Reciept",selector:function(e){var t;return null===e||void 0===e||null===(t=e.package3)||void 0===t?void 0:t.receipt_no}},{sortable:!0,name:"Time",selector:function(e){return e.createdAt}},{sortable:!0,name:" Name",selector:function(e){return e.collector_name}},{sortable:!0,name:"Phone Numner",selector:function(e){return e.collector_phone_number}},{sortable:!0,name:"Signature",selector:function(e){return(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)("img",{src:"data:image/png;base64,".concat(e.collector_signature),height:60,width:60,alt:""})})}}];var nl=X((function(e){return{}}),{get_signatures:function(e){return function(){var t=re(ne().mark((function t(n){var i,r,o;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e(we);case 3:return n({type:"FETCH_ROUTES_SUCCESSFUL"}),t.next=6,we.get("/api/collectors?type=".concat(e));case 6:return i=t.sent,r=i.data,[],console.log(r),n({type:"FETCH_ROUTES_SUCCESSFUL",payload:o=r}),t.abrupt("return",o);case 15:t.prev=15,t.t0=t.catch(0),console.log(t.t0),n({type:"FETCH_RIDERS_FAIL"});case 20:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}()},Post:function(e){return function(){var t=re(ne().mark((function t(n){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e(we);case 3:return t.next=5,we.post("/api/routes",e);case 5:return t.sent,t.abrupt("return");case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),n({type:"FETCH_RIDERS_FAIL"});case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var n=pe(t.useState(""),2),i=n[0],r=n[1],o=pe((0,t.useState)(""),2),a=o[0],s=(o[1],pe((0,t.useState)([]),2)),l=s[0],c=s[1],u=pe((0,t.useState)(""),2),d=u[0],h=(u[1],pe((0,t.useState)("sent"),2)),p=h[0],f=h[1],m=pe(t.useState(!1),2),g=m[0],v=(m[1],pe((0,t.useState)(10),2)),y=(v[0],v[1],pe((0,t.useState)(0),2)),x=y[0],b=(y[1],pe(t.useState([]),2)),_=(b[0],b[1]),w=pe((0,t.useState)(!1),2),k=w[0],S=(w[1],pe((0,t.useState)({name:"",zone:"",rider:""}),2)),C=(S[0],S[1],null===l||void 0===l?void 0:l.filter((function(e){return e.collector_name.toLowerCase().includes(i.toLowerCase())}))),E=function(e){r(e);var t=C.filter((function(e){return e.collector_name&&e.collector_name.toLowerCase().includes(i.toLowerCase())}));_(t)},T=t.useMemo((function(){return(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)(Ha,{onChangeFilter:E,searchValue:a,date:d,showModal:k})})}),[a,d,k]),M=function(){var t=re(ne().mark((function t(n){var i;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get_signatures(n);case 2:i=t.sent,c(i);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,t.useEffect)((function(){M("agent")}),[]),(0,fe.jsxs)(Aa,{children:[(0,fe.jsxs)("div",{className:"w-full p-2 flex flex-wrap border-b border-slate-400 gap-x-1",children:[(0,fe.jsxs)("div",{className:"md:w-1/4 w-full flex flex-wrap p-2 shadow-md p-2 text-center bg-primary-500 justify-center items-center",onClick:re(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M("agent");case 2:f("sent");case 3:case"end":return e.stop()}}),e)}))),style:{backgroundColor:"sent"===p&&"gray"},children:["Agents Packages Collectors ","sent"===p]}),(0,fe.jsxs)("div",{className:"md:w-1/4 w-full flex flex-wrap p-2 shadow-md p-2 text-center bg-primary-500 justify-center items-center",onClick:re(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M("doorstep");case 2:f("collected");case 3:case"end":return e.stop()}}),e)}))),style:{backgroundColor:"collected"===p&&"gray"},children:["Doorstep Packages collectors ","collected"===p]}),(0,fe.jsxs)("div",{className:"md:w-1/4 w-full flex flex-wrap p-2 shadow-md p-2 text-center bg-primary-500 justify-center items-center",onClick:re(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M("rent");case 2:f("shelf");case 3:case"end":return e.stop()}}),e)}))),style:{backgroundColor:"shelf"===p&&"gray"},children:["Rent Shelf Packages Collection ","shelf"===p]})]}),(0,fe.jsx)("div",{className:" mx-2",children:(0,fe.jsx)(Wa.ZP,{columns:"sent"===p?Qs:"collected"===p?tl:el,data:l,pagination:!0,paginationServer:!0,progressPending:e.loading,paginationResetDefaultPage:g,subHeader:!0,subHeaderComponent:T,persistTableHead:!0,paginationTotalRows:x})})]})}));var il=X((function(e){return{riders:e.ridersDetails.riders,loading:e.ridersDetails.loading}}),{get_riders:ss,fetchpackages:cs})((function(e){var n,i,r=Ft();return(0,t.useEffect)((function(){e.get_riders({limit:1e3})}),[]),(0,fe.jsxs)(Aa,{children:[(0,fe.jsx)("div",{className:"flex justify-center items-center py-10",children:(0,fe.jsx)("h2",{className:"text-uppercase text-3xl underline",children:null===r||void 0===r||null===(n=r.state)||void 0===n?void 0:n.title})}),(0,fe.jsx)("div",{className:"flex  w-full",children:(0,fe.jsx)("div",{className:"flex flex-wrap gap-1  w-full",children:null===e||void 0===e||null===(i=e.riders)||void 0===i?void 0:i.map((function(e,t){var n,i,o,a;return(0,fe.jsx)(Da,{rider:e,id:null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n._id,title:null===r||void 0===r||null===(i=r.state)||void 0===i?void 0:i.title,path:null===r||void 0===r||null===(o=r.state)||void 0===o?void 0:o.lis,name:null===e||void 0===e||null===(a=e.user)||void 0===a?void 0:a.name},t)}))})})]})}));var rl=X((function(e){return{agents:e.agentsData.agents,packages:e.agentsData.packs,loading:e.agentsData.loading}}),{get_agents:_s,get_zones:ks,Rideagents:Cs,assign:Ss,fetchpackages:Ms,fetchdoorpackages:Ps,assignwarehouse:Na})((function(e){var n,i,r=Ft(),o=pe((0,t.useState)([]),2),a=o[0],s=o[1],l=pe((0,t.useState)([]),2),c=l[0],u=l[1],d=pe((0,t.useState)([]),2),h=(d[0],d[1]),p=function(){var t=re(ne().mark((function t(n,i){var o,a,l,c;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchpackages("dropped",i);case 2:return a=t.sent,t.next=5,e.Rideagents(null===r||void 0===r||null===(o=r.state)||void 0===o?void 0:o.id);case 5:return l=t.sent,u(l),t.next=9,e.fetchpackages("recieved-warehouse",i);case 9:c=t.sent,s(a),h(c);case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),f=function(){var t=re(ne().mark((function t(n,i,o){var a,l;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.assignwarehouse(n,i,o);case 2:return t.t0=s,t.next=5,e.fetchpackages("dropped",null===r||void 0===r||null===(a=r.state)||void 0===a?void 0:a.agent);case 5:return t.t1=t.sent,(0,t.t0)(t.t1),t.next=9,p("dropped",null===r||void 0===r||null===(l=r.state)||void 0===l?void 0:l.agent);case 9:case"end":return t.stop()}}),t)})));return function(e,n,i){return t.apply(this,arguments)}}();(0,t.useEffect)((function(){var e;p("dropped",null===r||void 0===r||null===(e=r.state)||void 0===e?void 0:e.agent)}),[]);var m=[{sortable:!0,name:"Name",minWidth:"250px",selector:function(e){return e.packageName}},{sortable:!0,name:"Business",minWidth:"250px",selector:function(e){var t;return null===(t=e.businessId)||void 0===t?void 0:t.name}},{sortable:!0,name:"Action",minWidth:"150px",selector:function(e){var t,n;return(0,fe.jsx)(fe.Fragment,{children:"on-transit"===(null===r||void 0===r||null===(t=r.state)||void 0===t?void 0:t.lis)?(0,fe.jsx)("button",{onClick:function(){var t;return f(e._id,"recieved-warehouse",null===r||void 0===r||null===(t=r.state)||void 0===t?void 0:t.id)},children:"Recieve package "}):"recieved-warehouse"===(null===r||void 0===r||null===(n=r.state)||void 0===n?void 0:n.lis)?(0,fe.jsx)("button",{onClick:function(){var t;return f(e._id,"assigned-warehouse",null===r||void 0===r||null===(t=r.state)||void 0===t?void 0:t.id)},children:"Assign Package  "}):null})}}];return(0,fe.jsx)(Aa,{children:"Collect From Riders"===(null===r||void 0===r||null===(n=r.state)||void 0===n?void 0:n.title)?(0,fe.jsx)("div",{className:" mx-2",children:(0,fe.jsx)(Wa.ZP,{title:null===r||void 0===r||null===(i=r.state)||void 0===i?void 0:i.title,columns:m,data:a,pagination:!0,paginationServer:!0,subHeader:!0,persistTableHead:!0})}):(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)("div",{className:"w-full p-2 flex flex-wrap ",children:null===c||void 0===c?void 0:c.map((function(e,t){var n,i;return(0,fe.jsx)("div",{className:"w-1/4 p-2",children:(0,fe.jsx)(on,{to:{pathname:"/wahehouse/agent-agent/assign-rider"},state:{agent:null===e||void 0===e||null===(n=e.agent)||void 0===n?void 0:n._id,rider:r.state.id},children:(0,fe.jsx)("div",{className:"m-1 w-full h-60 bg-red-100 flex justify-center items-center",children:(0,fe.jsxs)("div",{className:"text-center justify-center items-center flex flex-col",children:[(0,fe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-12 h-12",children:(0,fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})}),null===e||void 0===e||null===(i=e.agent)||void 0===i?void 0:i.business_name]})})})},t)}))})})})}));var ol=X((function(e){return{packages:e.agentsData.packs,loading:e.agentsData.loading}}),{getagentPackage:function(e){return function(){var t=re(ne().mark((function t(n){var i,r,o;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"FETCH_AGENTS_PACK"}),i=[],t.next=5,we.get("/api/packages/agent/".concat(e));case 5:return r=t.sent,o=r.data,i=o.packages,n({type:"FETCH_AGENTS_PACK_SUCCESSFUL",payload:i}),t.abrupt("return",i);case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},get_riders:ss,assignRider:ls})((function(e){var n,i=Ft(),r=pe(t.useState(""),2),o=(r[0],r[1]),a=pe((0,t.useState)(""),2),s=a[0],l=(a[1],pe((0,t.useState)(""),2)),c=l[0],u=(l[1],pe((0,t.useState)(""),2)),d=(u[0],u[1]),h=pe(t.useState(!1),2),p=h[0],f=(h[1],pe((0,t.useState)(5),2)),m=(f[0],f[1]),g=pe((0,t.useState)(5),2),v=(g[0],g[1]),y=pe((0,t.useState)(0),2),x=y[0],b=(y[1],pe((0,t.useState)("all"),2)),_=b[0],w=b[1],k=pe(t.useState([]),2),S=(k[0],k[1],pe((0,t.useState)(!1),2)),C=S[0],E=S[1],T=pe((0,t.useState)([]),2),M=(T[0],T[1]),P=["all","request","delivered","cancelled","on-transit","assigned","dropped","picked","unavailable","dropped","assigned-warehouse","warehouse-transit"],A=function(e){o(e)},I=function(){var t=re(ne().mark((function t(n){var r,o,a;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.target.value,w(o),t.next=4,e.getagentPackage(null===i||void 0===i||null===(r=i.state)||void 0===r?void 0:r.agent);case 4:return a=t.sent,t.next=7,e.get_riders();case 7:d(a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),L=[{sortable:!0,name:"Name",minWidth:"250px",defaultExpanded:!0,selector:function(e){return e.packageName}},{sortable:!0,name:"Value",minWidth:"250px",selector:function(e){return e.package_value}},{sortable:!0,name:"Reciept",minWidth:"250px",selector:function(e){return e.receipt_no}},{sortable:!0,name:"Customer",minWidth:"250px",selector:function(e){return e.customerName}},{sortable:!0,name:"Customer Phone",minWidth:"250px",selector:function(e){return e.customerPhoneNumber}},{sortable:!0,name:"Delivery Fee",minWidth:"250px",selector:function(e){return e.delivery_fee}},{sortable:!0,name:"Payment Status",minWidth:"250px",selector:function(e){return e.payment_status}},{sortable:!0,name:"Total Fee Paid",minWidth:"250px",selector:function(e){return e.total_fee}},{sortable:!0,name:"Sent At ",minWidth:"250px",selector:function(e){return hs()(e.createdAt).format("YYYY-MM-DD HH:mm:ss")}},{sortable:!0,name:"Assign Rider",minWidth:"150px",selector:function(e){var t,n;return(0,fe.jsx)(fe.Fragment,{children:"assigned"!==e.state?(0,fe.jsx)("div",{className:"px-2 py-10 ",children:(0,fe.jsxs)("button",{style:{backgroundColor:"assigned"!==e.state?"green":"red",padding:5},onClick:function(){E(!0),M(e)},children:["assigned"!==e.state?"Assign":"Already Assigned"," "]})}):"".concat(null===e||void 0===e||null===(t=e.assignedTo)||void 0===t?void 0:t.name,"(").concat(null===e||void 0===e||null===(n=e.assignedTo)||void 0===n?void 0:n.phone_number,")")})}}],D=function(){var t=re(ne().mark((function t(n){var i;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v(n),t.next=3,e.getagentPackage({limit:n,state:_});case 3:return i=t.sent,t.next=6,e.get_riders();case 6:d(i),m(n);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=t.useMemo((function(){return(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Ha,{onChangeFilter:A,searchValue:s,date:c,showModal:C,download:function(){return Ga((function(){return e.FetchAdmins({date:c,limit:-1,download:!0,cursor:e.lastElement,q:s,enabled:!0})}),"".concat(x>0?x:"all","_users"))}}),(0,fe.jsxs)("select",{name:"gender",onChange:I,className:"bg-transparent border-b border-slate-500 pt-5 pb-5 ",children:[(0,fe.jsx)("option",{value:"",children:"Select State"}),P.map((function(e,t){return(0,fe.jsx)("option",{value:e,onChange:I,children:e},t)}))]})]})}),[s,c,C]),R=function(){var t=re(ne().mark((function t(){var n,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getagentPackage(null===i||void 0===i||null===(n=i.state)||void 0===n?void 0:n.id);case 2:r=t.sent,d(r);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,t.useEffect)((function(){R()}),[]),(0,fe.jsx)(Aa,{children:(0,fe.jsx)("div",{className:" mx-2",children:(0,fe.jsx)(Wa.ZP,{title:"".concat(null===i||void 0===i||null===(n=i.state)||void 0===n?void 0:n.agent,"  Packages"),columns:L,data:null===e||void 0===e?void 0:e.packages,pagination:!0,paginationServer:!0,progressPending:e.loading,conditionalRowStyles:[{when:function(e){return"cancelled"===e.state},style:{backgroundColor:"pink",color:"white","&:hover":{cursor:"pointer"}}},{when:function(e){return"unavailable"===e.state},style:{backgroundColor:"cyan",color:"white","&:hover":{cursor:"pointer"}}}],paginationResetDefaultPage:p,subHeader:!0,subHeaderComponent:O,persistTableHead:!0,expandableRowExpanded:function(e){return e.defaultExpanded},paginationTotalRows:x,onChangeRowsPerPage:D})})})}));var al=function(e){e.toggle;var t=e.show;return(0,fe.jsx)(fe.Fragment,{children:t?(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)("div",{className:"flex justify-center items-center overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none min-width:screen",children:(0,fe.jsx)("div",{className:"relative w-1/3 rounded-sm my-6 mx-auto max-w-3xl  ",children:(0,fe.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[(0,fe.jsxs)("div",{className:"flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t ",children:[(0,fe.jsx)("h3",{className:"text-xl font=bold uppercase",children:e.title}),(0,fe.jsx)("button",{className:"bg-transparent border-0 text-black float-right",onClick:e.toggle,children:(0,fe.jsx)("span",{className:"text-black opacity-7 h-6 w-6 text-xl  py-0 rounded-full flex justify-center items-center",children:"x"})})]}),(0,fe.jsx)("div",{className:"relative p-6 flex-auto",children:e.component}),(0,fe.jsxs)("div",{className:"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b",children:[(0,fe.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1",type:"button",onClick:e.toggle,children:"Close"}),(0,fe.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1",type:"button",onClick:e.submit,children:"Update"})]})]})})})}):null})};var sl=X((function(e){return{riders:e.ridersDetails.riders,packages:e.PackageDetails.packages,loading:e.PackageDetails.agentloading}}),{get_riders:ss})((function(e){var n,i=pe((0,t.useState)(!1),2),r=i[0],o=i[1],a=pe((0,t.useState)(!1),2),s=(a[0],a[1],pe((0,t.useState)(!1),2)),l=(s[0],s[1],pe((0,t.useState)((0,fe.jsx)("div",{})),2)),c=l[0],u=l[1],d=e.fetch,h=pe((0,t.useState)(""),2),p=h[0],f=h[1];return(0,t.useEffect)((function(){e.get_riders({limit:10})}),[]),console.log(e.riders),(0,fe.jsxs)("div",{children:[(0,fe.jsxs)("table",{children:[(0,fe.jsx)("thead",{children:(0,fe.jsxs)("tr",{className:"gap-x-2 p-y-10",style:{backgroundColor:"#00E676"},children:[(0,fe.jsx)("th",{className:"border text-sm text-bold p-5",children:"Sender Details"}),(0,fe.jsx)("th",{className:"border text-sm text-bold p-5",children:"Reciever Details"}),(0,fe.jsx)("th",{className:"border text-sm text-bold p-5 ",children:"Package Details"}),(0,fe.jsx)("th",{className:"border text-sm text-bold p-5",children:"Created"}),(0,fe.jsx)("th",{className:"border text-sm text-bold p-5",children:"picked from Sender"}),(0,fe.jsx)("th",{className:"border text-sm text-bold p-5",children:"assign rider"}),(0,fe.jsx)("th",{className:"border text-sm text-bold p-5",children:"rider accepted"}),(0,fe.jsx)("th",{className:"border text-sm text-bold p-5",children:"Dropped warehouse"}),(0,fe.jsx)("th",{className:"border text-sm text-bold p-5",children:"Warehouse  Rider"}),(0,fe.jsx)("th",{className:"border text-sm text-bold p-5",children:"Rider Dropped at Destination agent"}),(0,fe.jsx)("th",{className:"border text-sm text-bold p-5",children:"Collected"})]})}),(0,fe.jsx)("tbody",{children:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.map((function(t,n){var i,r,a,s,l,c,h,p,m,g,v,y,x,b,_,w,k,S,C,E,T,M,P,A,I,L,D,O,R,z,F,B,N,j,V,W,U,H,X,G,Y,q,K,$,Z,J,Q,ee,te,ie,oe,ae;return(0,fe.jsxs)("tr",{className:"gap-x-2 p-y-10",children:[(0,fe.jsxs)("td",{className:"border text-sm text-bold p-5",style:{backgroundColor:"#00E676"},children:[(0,fe.jsxs)("div",{children:[" ",null===t||void 0===t||null===(i=t.package)||void 0===i||null===(r=i.senderAgentID)||void 0===r?void 0:r.business_name]}),(0,fe.jsxs)("div",{children:[" ",null===t||void 0===t||null===(a=t.package)||void 0===a||null===(s=a.senderAgentID)||void 0===s?void 0:s.location_id.name]}),(0,fe.jsx)("div",{className:"bg-primary-500 p-1 text-center rounded-sm shadow-5",onClick:function(){return function(t){var n;f("Edit ".concat(t.packageName,"'s sender Agent")),o(!0),u((0,fe.jsx)("div",{className:"w-full flex flex-col gap-y-2 ",children:(0,fe.jsx)("div",{className:"flex  gap-x-10",children:(0,fe.jsxs)("select",{className:" px-2 border border-slate-200 w-full py-2 rounded-md",onChange:function(){var n=re(ne().mark((function n(i){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.update(t._id,{senderAgentID:i.target.value});case 2:return n.next=4,d();case 4:o(!1);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),children:[(0,fe.jsx)("option",{value:t.senderAgentID._id,children:t.senderAgentID.business_name}),null===e||void 0===e||null===(n=e.agents)||void 0===n?void 0:n.map((function(e,t){return(0,fe.jsx)("option",{value:e._id,children:e.business_name},t)}))]})})}))}(t.package)},children:"Edit"})]}),(0,fe.jsxs)("td",{className:"border text-sm text-bold p-5",style:{backgroundColor:"#00E676"},children:[(0,fe.jsx)("div",{children:null===t||void 0===t||null===(l=t.package)||void 0===l?void 0:l.customerName}),(0,fe.jsx)("div",{children:null===t||void 0===t||null===(c=t.package)||void 0===c?void 0:c.customerPhoneNumber}),(0,fe.jsx)("div",{className:"bg-primary-500 p-1 text-center rounded-sm shadow-5",onClick:function(){return e=t.package,f("Update Customer Details  "),o(!0),void u((0,fe.jsxs)("div",{className:"w-full flex flex-col gap-y-2 ",children:[(0,fe.jsxs)("div",{className:"flex  gap-x-10",children:[(0,fe.jsx)("div",{className:"w-24",children:"Name"}),(0,fe.jsx)("input",{type:"text",disabled:!0,className:" px-2 border border-slate-200 w-full py-2 rounded-md",value:e.customerName,name:"name"})]}),(0,fe.jsxs)("div",{className:"flex  gap-x-10",children:[(0,fe.jsx)("div",{className:"w-24",children:"Phone Number"}),(0,fe.jsx)("input",{type:"text",disabled:!0,className:" px-2 border border-slate-200 w-full py-2 rounded-md",value:e.customerPhoneNumber,name:"phone_number"})]})]}));var e},children:"Edit"})]}),(0,fe.jsxs)("td",{className:"border text-sm p-5",style:{backgroundColor:"#00E676"},children:[(0,fe.jsx)("div",{className:"text-bold ",children:null===t||void 0===t||null===(h=t.package)||void 0===h?void 0:h.receipt_no}),(0,fe.jsxs)("div",{children:["Ksh",null===t||void 0===t||null===(p=t.package)||void 0===p?void 0:p.package_value]}),(0,fe.jsxs)("div",{children:[" ",null===t||void 0===t||null===(m=t.package)||void 0===m?void 0:m.color]})]}),(0,fe.jsx)("td",{className:"border text-sm text-bold p-5",style:{backgroundColor:"#00E676"},children:(null===t||void 0===t?void 0:t.created)&&hs()(null===t||void 0===t||null===(g=t.created)||void 0===g?void 0:g.createdAt).format("yyyy-MM-dd HH:mm:ss")}),(0,fe.jsx)("td",{className:"border text-sm text-bold p-5",style:{backgroundColor:null!==t&&void 0!==t&&null!==(v=t.dropped)&&void 0!==v&&v.droppedAt?"#00E676":null},children:(null===t||void 0===t||null===(y=t.dropped)||void 0===y?void 0:y.droppedAt)&&(0,fe.jsxs)("div",{children:[(0,fe.jsxs)("div",{children:["Dropped at: ",hs()(null===t||void 0===t||null===(x=t.dropped)||void 0===x?void 0:x.droppedAt).format("yyyy-MM-dd HH:mm:ss")]}),(0,fe.jsxs)("div",{children:["Delivered to:",null===t||void 0===t||null===(b=t.package)||void 0===b||null===(_=b.senderAgentID)||void 0===_?void 0:_.business_name]})]})}),(0,fe.jsx)("td",{className:"border text-sm text-bold p-5",style:{backgroundColor:null!==(w=t.assigned)&&void 0!==w&&w.assignedAt?"#00E676":null},children:(null===t||void 0===t||null===(k=t.assigned)||void 0===k?void 0:k.assignedAt)&&(0,fe.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,fe.jsxs)("div",{children:["Assigned At: ",hs()(null===t||void 0===t?void 0:t.assignedAt).format("yyyy-MM-dd HH:mm:ss")]}),(0,fe.jsxs)("div",{children:["Rider:",null===t||void 0===t||null===(S=t.package)||void 0===S||null===(C=S.assignedTo)||void 0===C?void 0:C.name]}),(0,fe.jsxs)("div",{children:["Rider Phone :",null===t||void 0===t||null===(E=t.package)||void 0===E||null===(T=E.assignedTo)||void 0===T?void 0:T.phone_number]}),(0,fe.jsx)("div",{className:"bg-primary-500 p-1 text-center rounded-sm shadow-5",onClick:function(){return function(t){var n;f("Edit ".concat(t.packageName,"'s Assigned Rider")),o(!0),u((0,fe.jsx)("div",{className:"w-full flex flex-col gap-y-2 ",children:(0,fe.jsx)("div",{className:"flex  gap-x-10",children:(0,fe.jsxs)("select",{className:" px-2 border border-slate-200 w-full py-2 rounded-md",onChange:function(){var n=re(ne().mark((function n(i){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.update(t._id,{assignedTo:i.target.value});case 2:return n.next=4,d();case 4:o(!1);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),children:[(0,fe.jsx)("option",{value:t.senderAgentID._id,children:t.assignedTo.name}),null===e||void 0===e||null===(n=e.riders)||void 0===n?void 0:n.map((function(e,t){var n,i;return(0,fe.jsx)("option",{value:null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n._id,children:null===e||void 0===e||null===(i=e.user)||void 0===i?void 0:i.name},t)}))]})})}))}(t.package)},children:"Edit"})]})}),(0,fe.jsx)("td",{className:"border text-sm text-bold p-5",style:{backgroundColor:null!==(M=t.accepted)&&void 0!==M&&M.acceptedAt?"#00E676":null},children:null!==t&&void 0!==t&&null!==(P=t.accepted)&&void 0!==P&&P.acceptedAt?(0,fe.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,fe.jsxs)("div",{children:["Confirmed At: ",hs()(null===t||void 0===t?void 0:t.acceptedacceptedAt).format("yyyy-MM-dd HH:mm:ss")]}),(0,fe.jsxs)("div",{children:["Rider:",null===t||void 0===t||null===(A=t.package)||void 0===A||null===(I=A.assignedTo)||void 0===I?void 0:I.name]})]}):(0,fe.jsxs)("div",{className:"bg-red-400 p-1 text-center rounded-sm shadow-5",style:{backgroundColor:void 0===(null===t||void 0===t||null===(L=t.package)||void 0===L?void 0:L.assignedTo)&&"transparent",color:void 0===(null===t||void 0===t||null===(D=t.package)||void 0===D?void 0:D.assignedTo)&&"transparent"},onClick:re(ne().mark((function n(){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.changeState(t.package._id,"on-transit");case 2:return n.next=4,d();case 4:case"end":return n.stop()}}),n)}))),children:["Rider ",null===t||void 0===t||null===(O=t.package)||void 0===O||null===(R=O.assignedTo)||void 0===R?void 0:R.name," accepted"]})}),(0,fe.jsx)("td",{className:"border text-sm text-bold p-5",style:{backgroundColor:null!==t&&void 0!==t&&null!==(z=t.warehouse)&&void 0!==z&&z.warehouseAt?"#00E676":null},children:(null===t||void 0===t||null===(F=t.warehouse)||void 0===F?void 0:F.warehouseAt)&&(0,fe.jsx)("div",{style:{display:null!==t&&void 0!==t&&null!==(B=t.warehouse)&&void 0!==B&&B.warehouseAt?"flex":"none",justifyContent:"center",alignItems:"center",alignContent:"center"},children:hs()(null===t||void 0===t||null===(N=t.warehouse)||void 0===N?void 0:N.warehouseAt).format("yyyy-MM-dd HH:mm:ss")})}),(0,fe.jsx)("td",{className:"border text-sm text-bold p-5",style:{backgroundColor:null!==t&&void 0!==t&&null!==(j=t.reAssigned)&&void 0!==j&&j.reAssignedAt?"#00E676":null},children:(null===t||void 0===t||null===(V=t.reAssigned)||void 0===V?void 0:V.reAssignedAt)&&(0,fe.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,fe.jsxs)("div",{children:["Re Assigned at: ",hs()(null===t||void 0===t||null===(W=t.reAssigned)||void 0===W?void 0:W.reAssignedAt).format("yyyy-MM-dd HH:mm:ss")]}),(0,fe.jsxs)("div",{children:["Rider:",null===t||void 0===t||null===(U=t.package)||void 0===U||null===(H=U.assignedTo)||void 0===H?void 0:H.name]}),(0,fe.jsxs)("div",{children:["Rider Phone :",null===t||void 0===t||null===(X=t.package)||void 0===X||null===(G=X.assignedTo)||void 0===G?void 0:G.phone_number]})]})}),(0,fe.jsx)("td",{className:"border text-sm text-bold p-5",style:{backgroundColor:null!==t&&void 0!==t&&null!==(Y=t.droppedToagent)&&void 0!==Y&&Y.recievedAt?"#00E676":null},children:(null===t||void 0===t||null===(q=t.droppedToagent)||void 0===q?void 0:q.recievedAt)&&(0,fe.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,fe.jsxs)("div",{children:["Delivered at: ",hs()(null===t||void 0===t||null===(K=t.droppedToagent)||void 0===K?void 0:K.recievedAt).format("yyyy-MM-dd HH:mm:ss")]}),(0,fe.jsxs)("div",{children:["Delivered to:",null===t||void 0===t||null===($=t.package)||void 0===$||null===(Z=$.receieverAgentID)||void 0===Z?void 0:Z.business_name]})]})}),(0,fe.jsx)("td",{className:"border text-sm text-bold p-5",style:{backgroundColor:null!==t&&void 0!==t&&null!==(J=t.collected)&&void 0!==J&&J.collectedAt?"#00E676":null},children:(null===t||void 0===t||null===(Q=t.collected)||void 0===Q?void 0:Q.collectedAt)&&(0,fe.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,fe.jsxs)("div",{children:["Collected: ",hs()(null===t||void 0===t||null===(ee=t.collected)||void 0===ee?void 0:ee.collectedAt).format("yyyy-MM-dd HH:mm:ss")]}),(0,fe.jsxs)("div",{children:["Collected By:",null===t||void 0===t||null===(te=t.collected)||void 0===te||null===(ie=te.collectedby)||void 0===ie?void 0:ie.collector_name]}),(0,fe.jsxs)("div",{children:["Collector's Phone :",null===t||void 0===t||null===(oe=t.collected)||void 0===oe||null===(ae=oe.collectedby)||void 0===ae?void 0:ae.collector_phone_number]})]})})]})}))})]}),(0,fe.jsx)(al,{show:r,component:c,title:p,toggle:function(){return o(!1)}})]})}));var ll=X((function(e){return{riders:e.ridersDetails.riders,packages:e.PackageDetails.packages,loading:e.PackageDetails.agentloading}}),{})((function(e){var n,i=pe((0,t.useState)(!1),2),r=i[0],o=i[1],a=pe((0,t.useState)((0,fe.jsx)(fe.Fragment,{})),2),s=a[0],l=(a[1],pe((0,t.useState)(""),2)),c=l[0];return l[1],(0,fe.jsxs)("div",{children:[(0,fe.jsxs)("table",{children:[(0,fe.jsx)("thead",{children:(0,fe.jsxs)("tr",{className:"gap-x-2 p-y-10",style:{backgroundColor:"#00E676"},children:[(0,fe.jsx)("th",{className:"border text-sm text-bold p-5",children:"Reciever Details"}),(0,fe.jsx)("th",{className:"border text-sm text-bold p-5",children:"Package Details"}),(0,fe.jsx)("th",{className:"border text-sm text-bold p-5",children:"Created"}),(0,fe.jsx)("th",{className:"border text-sm text-bold p-5",children:"Dropped"}),(0,fe.jsx)("th",{className:"border text-sm text-bold p-5",children:"Collected"})]})}),(0,fe.jsx)("tbody",{children:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.map((function(e,t){var n,i,r,o,a,s,l,c;return(0,fe.jsxs)("tr",{className:"gap-x-2 p-y-10",children:[(0,fe.jsxs)("td",{className:"border text-sm text-bold p-5",style:{backgroundColor:"#00E676"},children:[(0,fe.jsxs)("div",{children:["Name:",null===e||void 0===e||null===(n=e.package)||void 0===n?void 0:n.customerName]}),(0,fe.jsxs)("div",{children:["No: ",null===e||void 0===e||null===(i=e.package)||void 0===i?void 0:i.customerPhoneNumber]})]}),(0,fe.jsxs)("td",{className:"border text-sm text-bold p-5",style:{backgroundColor:"#00E676"},children:[(0,fe.jsxs)("div",{children:["Reciept:",null===e||void 0===e||null===(r=e.package)||void 0===r?void 0:r.receipt_no]}),(0,fe.jsxs)("div",{children:["Value: ",null===e||void 0===e||null===(o=e.package)||void 0===o?void 0:o.package_value]})]}),(0,fe.jsx)("td",{className:"border text-sm text-bold p-5",style:{backgroundColor:"#00E676"},children:(null===e||void 0===e?void 0:e.created)&&hs()(null===e||void 0===e?void 0:e.created).format("yyyy-MM-dd HH:mm:ss")}),(0,fe.jsx)("td",{className:"border text-sm text-bold p-5",style:{backgroundColor:null!==e&&void 0!==e&&e.droppedAt?"#00E676":null},children:(null===e||void 0===e?void 0:e.droppedAt)&&(0,fe.jsxs)("div",{children:[(0,fe.jsxs)("div",{children:["Dropped at: ",hs()(null===e||void 0===e?void 0:e.droppedAt).format("yyyy-MM-dd HH:mm:ss")]}),(0,fe.jsxs)("div",{children:["Delivered to:",null===e||void 0===e||null===(a=e.package)||void 0===a||null===(s=a.senderAgentID)||void 0===s?void 0:s.business_name]})]})}),(0,fe.jsx)("td",{className:"border text-sm text-bold p-5",style:{backgroundColor:null!==e&&void 0!==e&&e.collectedAt?"#00E676":null},children:(null===e||void 0===e?void 0:e.collectedAt)&&(0,fe.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,fe.jsxs)("div",{children:["Collected: ",hs()(null===e||void 0===e?void 0:e.collectedAt).format("yyyy-MM-dd HH:mm:ss")]}),(0,fe.jsxs)("div",{children:["Collected By:",null===e||void 0===e||null===(l=e.collectedby)||void 0===l?void 0:l.collector_name]}),(0,fe.jsxs)("div",{children:["Collector's Phone :",null===e||void 0===e||null===(c=e.collectedby)||void 0===c?void 0:c.collector_phone_number]})]})})]})}))})]}),(0,fe.jsx)(al,{show:r,component:s,title:c,toggle:function(){return o(!1)}})]})}));var cl=X((function(e){return{riders:e.ridersDetails.riders,packages:e.PackageDetails.packages,loading:e.PackageDetails.agentloading}}),{})((function(e){var n,i=pe((0,t.useState)(!1),2),r=i[0],o=i[1],a=pe((0,t.useState)((0,fe.jsx)(fe.Fragment,{})),2),s=a[0],l=(a[1],pe((0,t.useState)(""),2)),c=l[0];return l[1],(0,fe.jsxs)("div",{children:[(0,fe.jsxs)("table",{children:[(0,fe.jsx)("thead",{children:(0,fe.jsxs)("tr",{className:"gap-x-2 p-y-10",style:{backgroundColor:"#00E676"},children:[(0,fe.jsx)("th",{className:"border text-sm text-bold p-5",children:"Sender Details"}),(0,fe.jsx)("th",{className:"border text-sm text-bold p-5",children:"Reciever Details"}),(0,fe.jsx)("th",{className:"border text-sm text-bold p-5",children:"Package Details"}),(0,fe.jsx)("th",{className:"border text-sm text-bold p-5",children:"Created"}),(0,fe.jsx)("th",{className:"border text-sm text-bold p-5",children:"Agent Rider"}),(0,fe.jsx)("th",{className:"border text-sm text-bold p-5",children:"Rider Picked"}),(0,fe.jsx)("th",{className:"border text-sm text-bold p-5",children:"Dropped warehouse"}),(0,fe.jsx)("th",{className:"border text-sm text-bold p-5",children:"Warehouse  Rider"}),(0,fe.jsx)("th",{className:"border text-sm text-bold p-5",children:"Rider Dropped at Destination agent"}),(0,fe.jsx)("th",{className:"border text-sm text-bold p-5",children:"Collected"})]})}),(0,fe.jsx)("tbody",{children:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.map((function(e,t){var n,i,r,o,a,s,l,c,u,d,h,p,f,m,g,v,y,x,b,_,w,k,S,C,E,T;return(0,fe.jsxs)("tr",{className:"gap-x-2 p-y-10",children:[(0,fe.jsx)("td",{className:"border text-sm text-bold p-5",style:{backgroundColor:"#00E676"},children:"Sender Details"}),(0,fe.jsxs)("td",{className:"border text-sm text-bold p-5",style:{backgroundColor:"#00E676"},children:[(0,fe.jsxs)("div",{children:["Name:",null===e||void 0===e||null===(n=e.package)||void 0===n?void 0:n.customerName]}),(0,fe.jsxs)("div",{children:["No: ",null===e||void 0===e||null===(i=e.package)||void 0===i?void 0:i.customerPhoneNumber]})]}),(0,fe.jsxs)("td",{className:"border text-sm text-bold p-5",style:{backgroundColor:"#00E676"},children:[(0,fe.jsxs)("div",{children:["Name:",null===e||void 0===e||null===(r=e.package)||void 0===r?void 0:r.packageName]}),(0,fe.jsxs)("div",{children:["Reciept:",null===e||void 0===e||null===(o=e.package)||void 0===o?void 0:o.receipt_no]}),(0,fe.jsxs)("div",{children:["Value: ",null===e||void 0===e||null===(a=e.package)||void 0===a?void 0:a.package_value]}),(0,fe.jsxs)("div",{children:["Color: ",null===e||void 0===e||null===(s=e.package)||void 0===s?void 0:s.color]}),(0,fe.jsxs)("div",{children:["Business:",null===e||void 0===e||null===(l=e.package)||void 0===l||null===(c=l.businessId)||void 0===c?void 0:c.name]}),(0,fe.jsxs)("div",{children:["Payment: ",null===e||void 0===e||null===(u=e.package)||void 0===u?void 0:u.payment_status]}),(0,fe.jsxs)("div",{children:["Sent From: ",null===e||void 0===e||null===(d=e.package)||void 0===d||null===(h=d.senderAgentID)||void 0===h?void 0:h.business_name]}),(0,fe.jsxs)("div",{children:["Sent To: ",null===e||void 0===e||null===(p=e.package)||void 0===p||null===(f=p.receieverAgentID)||void 0===f?void 0:f.business_name]})]}),(0,fe.jsx)("td",{className:"border text-sm text-bold p-5",style:{backgroundColor:"#00E676"},children:(null===e||void 0===e?void 0:e.created)&&hs()(null===e||void 0===e?void 0:e.created).format("yyyy-mm-ddd HH:mm:ss")}),(0,fe.jsx)("td",{className:"border text-sm text-bold p-5",style:{backgroundColor:null!==e&&void 0!==e&&e.droppedAt?"#00E676":null},children:(null===e||void 0===e?void 0:e.droppedAt)&&(0,fe.jsxs)("div",{children:[(0,fe.jsxs)("div",{children:["Dropped at: ",hs()(null===e||void 0===e?void 0:e.droppedAt).format("yyyy-MM-dd HH:mm:ss")]}),(0,fe.jsxs)("div",{children:["Delivered to:",null===e||void 0===e||null===(m=e.package)||void 0===m||null===(g=m.senderAgentID)||void 0===g?void 0:g.business_name]})]})}),(0,fe.jsx)("td",{className:"border text-sm text-bold p-5",style:{backgroundColor:null!==e&&void 0!==e&&e.assignedAt?"#00E676":null},children:(null===e||void 0===e?void 0:e.assignedAt)&&(0,fe.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,fe.jsxs)("div",{children:["Dispatched: ",hs()(null===e||void 0===e?void 0:e.assignedAt).format("yyyy-MM-dd HH:mm:ss")]}),(0,fe.jsxs)("div",{children:["Rider:",null===e||void 0===e||null===(v=e.package)||void 0===v||null===(y=v.assignedTo)||void 0===y?void 0:y.name]}),(0,fe.jsxs)("div",{children:["Rider Phone :",null===e||void 0===e||null===(x=e.package)||void 0===x?void 0:x.assignedTo.phone_number]})]})}),(0,fe.jsx)("td",{className:"border text-sm text-bold p-5",style:{backgroundColor:null!==e&&void 0!==e&&e.droppedAt?"#00E676":null},children:(null===e||void 0===e?void 0:e.warehouseAt)&&(0,fe.jsx)("div",{style:{display:null!==e&&void 0!==e&&e.droppedAt?"flex":"none",justifyContent:"center",alignItems:"center",alignContent:"center"},children:hs()(null===e||void 0===e?void 0:e.warehouseAt).format("yyyy-MM-dd HH:mm:ss")})}),(0,fe.jsx)("td",{className:"border text-sm text-bold p-5",style:{backgroundColor:null!==e&&void 0!==e&&e.reassignedAt?"#00E676":null},children:(null===e||void 0===e?void 0:e.reassignedAt)&&(0,fe.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,fe.jsxs)("div",{children:["Re Assigned at: ",hs()(null===e||void 0===e?void 0:e.reassignedAt).format("yyyy-MM-dd HH:mm:ss")]}),(0,fe.jsxs)("div",{children:["Rider:",null===e||void 0===e||null===(b=e.package)||void 0===b||null===(_=b.assignedTo)||void 0===_?void 0:_.name]}),(0,fe.jsxs)("div",{children:["Rider Phone :",null===e||void 0===e||null===(w=e.package)||void 0===w||null===(k=w.assignedTo)||void 0===k?void 0:k.phone_number]})]})}),(0,fe.jsx)("td",{className:"border text-sm text-bold p-5",style:{backgroundColor:null!==e&&void 0!==e&&e.droppedToagentAt?"#00E676":null},children:(null===e||void 0===e?void 0:e.droppedToagentAt)&&(0,fe.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,fe.jsxs)("div",{children:["Delivered at: ",hs()(null===e||void 0===e?void 0:e.droppedToagentAt).format("yyyy-MM-dd HH:mm:ss")]}),(0,fe.jsxs)("div",{children:["Delivered to:",null===e||void 0===e||null===(S=e.package)||void 0===S||null===(C=S.receieverAgentID)||void 0===C?void 0:C.business_name]})]})}),(0,fe.jsx)("td",{className:"border text-sm text-bold p-5",style:{backgroundColor:null!==e&&void 0!==e&&e.collectedAt?"#00E676":null},children:(null===e||void 0===e?void 0:e.collectedAt)&&(0,fe.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,fe.jsxs)("div",{children:["Collected: ",hs()(null===e||void 0===e?void 0:e.collectedAt).format("yyyy-MM-dd HH:mm:ss")]}),(0,fe.jsxs)("div",{children:["Collected By:",null===e||void 0===e||null===(E=e.collectedby)||void 0===E?void 0:E.collector_name]}),(0,fe.jsxs)("div",{children:["Collector's Phone :",null===e||void 0===e||null===(T=e.collectedby)||void 0===T?void 0:T.collector_phone_number]})]})})]})}))})]}),(0,fe.jsx)(al,{show:r,component:s,title:c,toggle:function(){return o(!1)}})]})}));function ul(){return ul="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ae(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},ul.apply(this,arguments)}var dl=Object.create(null);dl.open="0",dl.close="1",dl.ping="2",dl.pong="3",dl.message="4",dl.upgrade="5",dl.noop="6";var hl=Object.create(null);Object.keys(dl).forEach((function(e){hl[dl[e]]=e}));for(var pl={type:"error",data:"parser error"},fl="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),ml="function"===typeof ArrayBuffer,gl=function(e,t){var n=new FileReader;return n.onload=function(){var e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)},vl=function(e,t,n){var i,r=e.type,o=e.data;return fl&&o instanceof Blob?t?n(o):gl(o,n):ml&&(o instanceof ArrayBuffer||(i=o,"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer))?t?n(o):gl(new Blob([o]),n):n(dl[r]+(o||""))},yl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xl="undefined"===typeof Uint8Array?[]:new Uint8Array(256),bl=0;bl<yl.length;bl++)xl[yl.charCodeAt(bl)]=bl;var _l="function"===typeof ArrayBuffer,wl=function(e,t){if(_l){var n=function(e){var t,n,i,r,o,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),u=new Uint8Array(c);for(t=0;t<s;t+=4)n=xl[e.charCodeAt(t)],i=xl[e.charCodeAt(t+1)],r=xl[e.charCodeAt(t+2)],o=xl[e.charCodeAt(t+3)],u[l++]=n<<2|i>>4,u[l++]=(15&i)<<4|r>>2,u[l++]=(3&r)<<6|63&o;return c}(e);return kl(n,t)}return{base64:!0,data:e}},kl=function(e,t){return"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e},Sl=function(e,t){if("string"!==typeof e)return{type:"message",data:kl(e,t)};var n=e.charAt(0);return"b"===n?{type:"message",data:wl(e.substring(1),t)}:hl[n]?e.length>1?{type:hl[n],data:e.substring(1)}:{type:hl[n]}:pl},Cl=String.fromCharCode(30);function El(e){if(e)return function(e){for(var t in El.prototype)e[t]=El.prototype[t];return e}(e)}El.prototype.on=El.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},El.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},El.prototype.off=El.prototype.removeListener=El.prototype.removeAllListeners=El.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<i.length;r++)if((n=i[r])===t||n.fn===t){i.splice(r,1);break}return 0===i.length&&delete this._callbacks["$"+e],this},El.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(n){i=0;for(var r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,t)}return this},El.prototype.emitReserved=El.prototype.emit,El.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},El.prototype.hasListeners=function(e){return!!this.listeners(e).length};var Tl="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function Ml(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.reduce((function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{})}var Pl=Tl.setTimeout,Al=Tl.clearTimeout;function Il(e,t){t.useNativeTimers?(e.setTimeoutFn=Pl.bind(Tl),e.clearTimeoutFn=Al.bind(Tl)):(e.setTimeoutFn=Tl.setTimeout.bind(Tl),e.clearTimeoutFn=Tl.clearTimeout.bind(Tl))}var Ll=1.33;var Dl,Ol=function(e){Pe(n,e);var t=De(n);function n(e,i,r){var o;return Ce(this,n),(o=t.call(this,e)).description=i,o.context=r,o.type="TransportError",o}return Te(n)}(Re(Error)),Rl=function(e){Pe(n,e);var t=De(n);function n(e){var i;return Ce(this,n),(i=t.call(this)).writable=!1,Il(Le(i),e),i.opts=e,i.query=e.query,i.socket=e.socket,i}return Te(n,[{key:"onError",value:function(e,t,i){return ul(Ae(n.prototype),"emitReserved",this).call(this,"error",new Ol(e,t,i)),this}},{key:"open",value:function(){return this.readyState="opening",this.doOpen(),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(e){"open"===this.readyState&&this.write(e)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,ul(Ae(n.prototype),"emitReserved",this).call(this,"open")}},{key:"onData",value:function(e){var t=Sl(e,this.socket.binaryType);this.onPacket(t)}},{key:"onPacket",value:function(e){ul(Ae(n.prototype),"emitReserved",this).call(this,"packet",e)}},{key:"onClose",value:function(e){this.readyState="closed",ul(Ae(n.prototype),"emitReserved",this).call(this,"close",e)}},{key:"pause",value:function(e){}}]),n}(El),zl="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Fl=64,Bl={},Nl=0,jl=0;function Vl(e){var t="";do{t=zl[e%Fl]+t,e=Math.floor(e/Fl)}while(e>0);return t}function Wl(){var e=Vl(+new Date);return e!==Dl?(Nl=0,Dl=e):e+"."+Vl(Nl++)}for(;jl<Fl;jl++)Bl[zl[jl]]=jl;function Ul(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}var Hl=!1;try{Hl="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(bF){}var Xl=Hl;function Gl(e){var t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||Xl))return new XMLHttpRequest}catch(n){}if(!t)try{return new(Tl[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}function Yl(){}var ql=null!=new Gl({xdomain:!1}).responseType,Kl=function(e){Pe(n,e);var t=De(n);function n(e){var i;if(Ce(this,n),(i=t.call(this,e)).polling=!1,"undefined"!==typeof location){var r="https:"===location.protocol,o=location.port;o||(o=r?"443":"80"),i.xd="undefined"!==typeof location&&e.hostname!==location.hostname||o!==e.port,i.xs=e.secure!==r}var a=e&&e.forceBase64;return i.supportsBinary=ql&&!a,i}return Te(n,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(e){var t=this;this.readyState="pausing";var n=function(){t.readyState="paused",e()};if(this.polling||!this.writable){var i=0;this.polling&&(i++,this.once("pollComplete",(function(){--i||n()}))),this.writable||(i++,this.once("drain",(function(){--i||n()})))}else n()}},{key:"poll",value:function(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}},{key:"onData",value:function(e){var t=this;(function(e,t){for(var n=e.split(Cl),i=[],r=0;r<n.length;r++){var o=Sl(n[r],t);if(i.push(o),"error"===o.type)break}return i})(e,this.socket.binaryType).forEach((function(e){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose({description:"transport closed by the server"}),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}},{key:"doClose",value:function(){var e=this,t=function(){e.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}},{key:"write",value:function(e){var t=this;this.writable=!1,function(e,t){var n=e.length,i=new Array(n),r=0;e.forEach((function(e,o){vl(e,!1,(function(e){i[o]=e,++r===n&&t(i.join(Cl))}))}))}(e,(function(e){t.doWrite(e,(function(){t.writable=!0,t.emitReserved("drain")}))}))}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"https":"http",n="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=Wl()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);var i=Ul(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}},{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new $l(this.uri(),e)}},{key:"doWrite",value:function(e,t){var n=this,i=this.request({method:"POST",data:e});i.on("success",t),i.on("error",(function(e,t){n.onError("xhr post error",e,t)}))}},{key:"doPoll",value:function(){var e=this,t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(function(t,n){e.onError("xhr poll error",t,n)})),this.pollXhr=t}}]),n}(Rl),$l=function(e){Pe(n,e);var t=De(n);function n(e,i){var r;return Ce(this,n),Il(Le(r=t.call(this)),i),r.opts=i,r.method=i.method||"GET",r.uri=e,r.async=!1!==i.async,r.data=void 0!==i.data?i.data:null,r.create(),r}return Te(n,[{key:"create",value:function(){var e=this,t=Ml(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;var i=this.xhr=new Gl(t);try{i.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var r in i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&i.setRequestHeader(r,this.opts.extraHeaders[r])}catch(o){}if("POST"===this.method)try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}try{i.setRequestHeader("Accept","*/*")}catch(o){}"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=function(){4===i.readyState&&(200===i.status||1223===i.status?e.onLoad():e.setTimeoutFn((function(){e.onError("number"===typeof i.status?i.status:0)}),0))},i.send(this.data)}catch(o){return void this.setTimeoutFn((function(){e.onError(o)}),0)}"undefined"!==typeof document&&(this.index=n.requestsCount++,n.requests[this.index]=this)}},{key:"onError",value:function(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}},{key:"cleanup",value:function(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=Yl,e)try{this.xhr.abort()}catch(t){}"undefined"!==typeof document&&delete n.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}},{key:"abort",value:function(){this.cleanup()}}]),n}(El);if($l.requestsCount=0,$l.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",Zl);else if("function"===typeof addEventListener){addEventListener("onpagehide"in Tl?"pagehide":"unload",Zl,!1)}function Zl(){for(var e in $l.requests)$l.requests.hasOwnProperty(e)&&$l.requests[e].abort()}var Jl="function"===typeof Promise&&"function"===typeof Promise.resolve?function(e){return Promise.resolve().then(e)}:function(e,t){return t(e,0)},Ql=Tl.WebSocket||Tl.MozWebSocket,ec="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),tc=function(e){Pe(n,e);var t=De(n);function n(e){var i;return Ce(this,n),(i=t.call(this,e)).supportsBinary=!e.forceBase64,i}return Te(n,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(this.check()){var e=this.uri(),t=this.opts.protocols,n=ec?{}:Ml(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=ec?new Ql(e,t,n):t?new Ql(e,t):new Ql(e)}catch(bF){return this.emitReserved("error",bF)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}}},{key:"addEventListeners",value:function(){var e=this;this.ws.onopen=function(){e.opts.autoUnref&&e.ws._socket.unref(),e.onOpen()},this.ws.onclose=function(t){return e.onClose({description:"websocket connection closed",context:t})},this.ws.onmessage=function(t){return e.onData(t.data)},this.ws.onerror=function(t){return e.onError("websocket error",t)}}},{key:"write",value:function(e){var t=this;this.writable=!1;for(var n=function(){var n=e[i],r=i===e.length-1;vl(n,t.supportsBinary,(function(e){try{t.ws.send(e)}catch(n){}r&&Jl((function(){t.writable=!0,t.emitReserved("drain")}),t.setTimeoutFn)}))},i=0;i<e.length;i++)n()}},{key:"doClose",value:function(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"wss":"ws",n="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=Wl()),this.supportsBinary||(e.b64=1);var i=Ul(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}},{key:"check",value:function(){return!!Ql}}]),n}(Rl),nc={websocket:tc,polling:Kl},ic=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,rc=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function oc(e){var t=e,n=e.indexOf("["),i=e.indexOf("]");-1!=n&&-1!=i&&(e=e.substring(0,n)+e.substring(n,i).replace(/:/g,";")+e.substring(i,e.length));for(var r=ic.exec(e||""),o={},a=14;a--;)o[rc[a]]=r[a]||"";return-1!=n&&-1!=i&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(e,t){var n=/\/{2,9}/g,i=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||i.splice(0,1);"/"==t.slice(-1)&&i.splice(i.length-1,1);return i}(0,o.path),o.queryKey=function(e,t){var n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,i){t&&(n[t]=i)})),n}(0,o.query),o}var ac=function(e){Pe(n,e);var t=De(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ce(this,n),(i=t.call(this)).writeBuffer=[],e&&"object"===typeof e&&(r=e,e=null),e?(e=oc(e),r.hostname=e.host,r.secure="https"===e.protocol||"wss"===e.protocol,r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=oc(r.host).host),Il(Le(i),r),i.secure=null!=r.secure?r.secure:"undefined"!==typeof location&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=i.secure?"443":"80"),i.hostname=r.hostname||("undefined"!==typeof location?location.hostname:"localhost"),i.port=r.port||("undefined"!==typeof location&&location.port?location.port:i.secure?"443":"80"),i.transports=r.transports||["polling","websocket"],i.writeBuffer=[],i.prevBufferLen=0,i.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},r),i.opts.path=i.opts.path.replace(/\/$/,"")+(i.opts.addTrailingSlash?"/":""),"string"===typeof i.opts.query&&(i.opts.query=function(e){for(var t={},n=e.split("&"),i=0,r=n.length;i<r;i++){var o=n[i].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}(i.opts.query)),i.id=null,i.upgrades=null,i.pingInterval=null,i.pingTimeout=null,i.pingTimeoutTimer=null,"function"===typeof addEventListener&&(i.opts.closeOnBeforeunload&&(i.beforeunloadEventListener=function(){i.transport&&(i.transport.removeAllListeners(),i.transport.close())},addEventListener("beforeunload",i.beforeunloadEventListener,!1)),"localhost"!==i.hostname&&(i.offlineEventListener=function(){i.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",i.offlineEventListener,!1))),i.open(),i}return Te(n,[{key:"createTransport",value:function(e){var t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);var n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new nc[e](n)}},{key:"open",value:function(){var e,t=this;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((function(){t.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(i){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}},{key:"setTransport",value:function(e){var t=this;this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(function(e){return t.onClose("transport close",e)}))}},{key:"probe",value:function(e){var t=this,i=this.createTransport(e),r=!1;n.priorWebsocketSuccess=!1;var o=function(){r||(i.send([{type:"ping",data:"probe"}]),i.once("packet",(function(e){if(!r)if("pong"===e.type&&"probe"===e.data){if(t.upgrading=!0,t.emitReserved("upgrading",i),!i)return;n.priorWebsocketSuccess="websocket"===i.name,t.transport.pause((function(){r||"closed"!==t.readyState&&(d(),t.setTransport(i),i.send([{type:"upgrade"}]),t.emitReserved("upgrade",i),i=null,t.upgrading=!1,t.flush())}))}else{var o=new Error("probe error");o.transport=i.name,t.emitReserved("upgradeError",o)}})))};function a(){r||(r=!0,d(),i.close(),i=null)}var s=function(e){var n=new Error("probe error: "+e);n.transport=i.name,a(),t.emitReserved("upgradeError",n)};function l(){s("transport closed")}function c(){s("socket closed")}function u(e){i&&e.name!==i.name&&a()}var d=function(){i.removeListener("open",o),i.removeListener("error",s),i.removeListener("close",l),t.off("close",c),t.off("upgrading",u)};i.once("open",o),i.once("error",s),i.once("close",l),this.once("close",c),this.once("upgrading",u),i.open()}},{key:"onOpen",value:function(){if(this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade)for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},{key:"onPacket",value:function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}},{key:"onHandshake",value:function(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var e=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((function(){e.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}},{key:"getWritablePackets",value:function(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;for(var e,t=1,n=0;n<this.writeBuffer.length;n++){var i=this.writeBuffer[n].data;if(i&&(t+="string"===typeof(e=i)?function(e){for(var t=0,n=0,i=0,r=e.length;i<r;i++)(t=e.charCodeAt(i))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(i++,n+=4);return n}(e):Math.ceil((e.byteLength||e.size)*Ll)),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}},{key:"write",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"send",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"sendPacket",value:function(e,t,n,i){if("function"===typeof t&&(i=t,t=void 0),"function"===typeof n&&(i=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var r={type:e,data:t,options:n};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}}},{key:"close",value:function(){var e=this,t=function(){e.onClose("forced close"),e.transport.close()},n=function n(){e.off("upgrade",n),e.off("upgradeError",n),t()},i=function(){e.once("upgrade",n),e.once("upgradeError",n)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){e.upgrading?i():t()})):this.upgrading?i():t()),this}},{key:"onError",value:function(e){n.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}},{key:"onClose",value:function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(e){for(var t=[],n=0,i=e.length;n<i;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}]),n}(El);ac.protocol=4;ac.protocol;var sc="function"===typeof ArrayBuffer,lc=function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer},cc=Object.prototype.toString,uc="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===cc.call(Blob),dc="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===cc.call(File);function hc(e){return sc&&(e instanceof ArrayBuffer||lc(e))||uc&&e instanceof Blob||dc&&e instanceof File}function pc(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(var n=0,i=e.length;n<i;n++)if(pc(e[n]))return!0;return!1}if(hc(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return pc(e.toJSON(),!0);for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&pc(e[r]))return!0;return!1}function fc(e){var t=[],n=e.data,i=e;return i.data=mc(n,t),i.attachments=t.length,{packet:i,buffers:t}}function mc(e,t){if(!e)return e;if(hc(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){for(var i=new Array(e.length),r=0;r<e.length;r++)i[r]=mc(e[r],t);return i}if("object"===typeof e&&!(e instanceof Date)){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(o[a]=mc(e[a],t));return o}return e}function gc(e,t){return e.data=vc(e.data,t),delete e.attachments,e}function vc(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]=vc(e[n],t);else if("object"===typeof e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(e[i]=vc(e[i],t));return e}var yc,xc=5;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(yc||(yc={}));var bc=function(){function e(t){Ce(this,e),this.replacer=t}return Te(e,[{key:"encode",value:function(e){return e.type!==yc.EVENT&&e.type!==yc.ACK||!pc(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===yc.EVENT?yc.BINARY_EVENT:yc.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}},{key:"encodeAsString",value:function(e){var t=""+e.type;return e.type!==yc.BINARY_EVENT&&e.type!==yc.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}},{key:"encodeAsBinary",value:function(e){var t=fc(e),n=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(n),i}}]),e}(),_c=function(e){Pe(n,e);var t=De(n);function n(e){var i;return Ce(this,n),(i=t.call(this)).reviver=e,i}return Te(n,[{key:"add",value:function(e){var t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");var i=(t=this.decodeString(e)).type===yc.BINARY_EVENT;i||t.type===yc.BINARY_ACK?(t.type=i?yc.EVENT:yc.ACK,this.reconstructor=new wc(t),0===t.attachments&&ul(Ae(n.prototype),"emitReserved",this).call(this,"decoded",t)):ul(Ae(n.prototype),"emitReserved",this).call(this,"decoded",t)}else{if(!hc(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,ul(Ae(n.prototype),"emitReserved",this).call(this,"decoded",t))}}},{key:"decodeString",value:function(e){var t=0,i={type:Number(e.charAt(0))};if(void 0===yc[i.type])throw new Error("unknown packet type "+i.type);if(i.type===yc.BINARY_EVENT||i.type===yc.BINARY_ACK){for(var r=t+1;"-"!==e.charAt(++t)&&t!=e.length;);var o=e.substring(r,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");i.attachments=Number(o)}if("/"===e.charAt(t+1)){for(var a=t+1;++t;){if(","===e.charAt(t))break;if(t===e.length)break}i.nsp=e.substring(a,t)}else i.nsp="/";var s=e.charAt(t+1);if(""!==s&&Number(s)==s){for(var l=t+1;++t;){var c=e.charAt(t);if(null==c||Number(c)!=c){--t;break}if(t===e.length)break}i.id=Number(e.substring(l,t+1))}if(e.charAt(++t)){var u=this.tryParse(e.substr(t));if(!n.isPayloadValid(i.type,u))throw new Error("invalid payload");i.data=u}return i}},{key:"tryParse",value:function(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}},{key:"destroy",value:function(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}],[{key:"isPayloadValid",value:function(e,t){switch(e){case yc.CONNECT:return"object"===typeof t;case yc.DISCONNECT:return void 0===t;case yc.CONNECT_ERROR:return"string"===typeof t||"object"===typeof t;case yc.EVENT:case yc.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case yc.ACK:case yc.BINARY_ACK:return Array.isArray(t)}}}]),n}(El),wc=function(){function e(t){Ce(this,e),this.packet=t,this.buffers=[],this.reconPack=t}return Te(e,[{key:"takeBinaryData",value:function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=gc(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),e}();function kc(e,t,n){return e.on(t,n),function(){e.off(t,n)}}var Sc=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Cc=function(e){Pe(n,e);var t=De(n);function n(e,i,r){var o;return Ce(this,n),(o=t.call(this)).connected=!1,o.recovered=!1,o.receiveBuffer=[],o.sendBuffer=[],o._queue=[],o.ids=0,o.acks={},o.flags={},o.io=e,o.nsp=i,r&&r.auth&&(o.auth=r.auth),o._opts=Object.assign({},r),o.io._autoConnect&&o.open(),o}return Te(n,[{key:"disconnected",get:function(){return!this.connected}},{key:"subEvents",value:function(){if(!this.subs){var e=this.io;this.subs=[kc(e,"open",this.onopen.bind(this)),kc(e,"packet",this.onpacket.bind(this)),kc(e,"error",this.onerror.bind(this)),kc(e,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}},{key:"emit",value:function(e){if(Sc.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;var r={type:yc.EVENT,data:n,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"===typeof n[n.length-1]){var o=this.ids++,a=n.pop();this._registerAckCallback(o,a),r.id=o}var s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}},{key:"_registerAckCallback",value:function(e,t){var n,i=this,r=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0!==r){var o=this.io.setTimeoutFn((function(){delete i.acks[e];for(var n=0;n<i.sendBuffer.length;n++)i.sendBuffer[n].id===e&&i.sendBuffer.splice(n,1);t.call(i,new Error("operation has timed out"))}),r);this.acks[e]=function(){i.io.clearTimeoutFn(o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(i,[null].concat(n))}}else this.acks[e]=t}},{key:"emitWithAck",value:function(e){for(var t=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise((function(n,r){i.push((function(e,t){return o?e?r(e):n(t):n(e)})),t.emit.apply(t,[e].concat(i))}))}},{key:"_addToQueue",value:function(e){var t,n=this;"function"===typeof e[e.length-1]&&(t=e.pop());var i={id:this.ids++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(i===n._queue[0]){if(null!==e)i.tryCount>n._opts.retries&&(n._queue.shift(),t&&t(e));else if(n._queue.shift(),t){for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];t.apply(void 0,[null].concat(o))}return i.pending=!1,n._drainQueue()}})),this._queue.push(i),this._drainQueue()}},{key:"_drainQueue",value:function(){if(0!==this._queue.length){var e=this._queue[0];if(!e.pending){e.pending=!0,e.tryCount++;var t=this.ids;this.ids=e.id,this.flags=e.flags,this.emit.apply(this,e.args),this.ids=t}}}},{key:"packet",value:function(e){e.nsp=this.nsp,this.io._packet(e)}},{key:"onopen",value:function(){var e=this;"function"==typeof this.auth?this.auth((function(t){e._sendConnectPacket(t)})):this._sendConnectPacket(this.auth)}},{key:"_sendConnectPacket",value:function(e){this.packet({type:yc.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}},{key:"onerror",value:function(e){this.connected||this.emitReserved("connect_error",e)}},{key:"onclose",value:function(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}},{key:"onpacket",value:function(e){if(e.nsp===this.nsp)switch(e.type){case yc.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case yc.EVENT:case yc.BINARY_EVENT:this.onevent(e);break;case yc.ACK:case yc.BINARY_ACK:this.onack(e);break;case yc.DISCONNECT:this.ondisconnect();break;case yc.CONNECT_ERROR:this.destroy();var t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}},{key:"onevent",value:function(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}},{key:"emitEvent",value:function(e){if(this._anyListeners&&this._anyListeners.length){var t,i=Be(this._anyListeners.slice());try{for(i.s();!(t=i.n()).done;){t.value.apply(this,e)}}catch(bF){i.e(bF)}finally{i.f()}}ul(Ae(n.prototype),"emit",this).apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}},{key:"ack",value:function(e){var t=this,n=!1;return function(){if(!n){n=!0;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];t.packet({type:yc.ACK,id:e,data:r})}}}},{key:"onack",value:function(e){var t=this.acks[e.id];"function"===typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}},{key:"onconnect",value:function(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}},{key:"emitBuffered",value:function(){var e=this;this.receiveBuffer.forEach((function(t){return e.emitEvent(t)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(t){e.notifyOutgoingListeners(t),e.packet(t)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(e){return e()})),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:yc.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(e){return this.flags.compress=e,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"timeout",value:function(e){return this.flags.timeout=e,this}},{key:"onAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}},{key:"prependAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}},{key:"offAny",value:function(e){if(!this._anyListeners)return this;if(e){for(var t=this._anyListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}},{key:"onAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}},{key:"prependAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}},{key:"offAnyOutgoing",value:function(e){if(!this._anyOutgoingListeners)return this;if(e){for(var t=this._anyOutgoingListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}},{key:"listenersAnyOutgoing",value:function(){return this._anyOutgoingListeners||[]}},{key:"notifyOutgoingListeners",value:function(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){var t,n=Be(this._anyOutgoingListeners.slice());try{for(n.s();!(t=n.n()).done;){t.value.apply(this,e.data)}}catch(bF){n.e(bF)}finally{n.f()}}}}]),n}(El);function Ec(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ec.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Ec.prototype.reset=function(){this.attempts=0},Ec.prototype.setMin=function(e){this.ms=e},Ec.prototype.setMax=function(e){this.max=e},Ec.prototype.setJitter=function(e){this.jitter=e};var Tc=function(t){Pe(i,t);var n=De(i);function i(t,r){var o,a;Ce(this,i),(o=n.call(this)).nsps={},o.subs=[],t&&"object"===typeof t&&(r=t,t=void 0),(r=r||{}).path=r.path||"/socket.io",o.opts=r,Il(Le(o),r),o.reconnection(!1!==r.reconnection),o.reconnectionAttempts(r.reconnectionAttempts||1/0),o.reconnectionDelay(r.reconnectionDelay||1e3),o.reconnectionDelayMax(r.reconnectionDelayMax||5e3),o.randomizationFactor(null!==(a=r.randomizationFactor)&&void 0!==a?a:.5),o.backoff=new Ec({min:o.reconnectionDelay(),max:o.reconnectionDelayMax(),jitter:o.randomizationFactor()}),o.timeout(null==r.timeout?2e4:r.timeout),o._readyState="closed",o.uri=t;var s=r.parser||e;return o.encoder=new s.Encoder,o.decoder=new s.Decoder,o._autoConnect=!1!==r.autoConnect,o._autoConnect&&o.open(),o}return Te(i,[{key:"reconnection",value:function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}},{key:"reconnectionAttempts",value:function(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}},{key:"reconnectionDelay",value:function(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}},{key:"randomizationFactor",value:function(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}},{key:"reconnectionDelayMax",value:function(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}},{key:"timeout",value:function(e){return arguments.length?(this._timeout=e,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(e){var t=this;if(~this._readyState.indexOf("open"))return this;this.engine=new ac(this.uri,this.opts);var n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;var r=kc(n,"open",(function(){i.onopen(),e&&e()})),o=kc(n,"error",(function(n){i.cleanup(),i._readyState="closed",t.emitReserved("error",n),e?e(n):i.maybeReconnectOnOpen()}));if(!1!==this._timeout){var a=this._timeout;0===a&&r();var s=this.setTimeoutFn((function(){r(),n.close(),n.emit("error",new Error("timeout"))}),a);this.opts.autoUnref&&s.unref(),this.subs.push((function(){clearTimeout(s)}))}return this.subs.push(r),this.subs.push(o),this}},{key:"connect",value:function(e){return this.open(e)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var e=this.engine;this.subs.push(kc(e,"ping",this.onping.bind(this)),kc(e,"data",this.ondata.bind(this)),kc(e,"error",this.onerror.bind(this)),kc(e,"close",this.onclose.bind(this)),kc(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}},{key:"ondecoded",value:function(e){var t=this;Jl((function(){t.emitReserved("packet",e)}),this.setTimeoutFn)}},{key:"onerror",value:function(e){this.emitReserved("error",e)}},{key:"socket",value:function(e,t){var n=this.nsps[e];return n||(n=new Cc(this,e,t),this.nsps[e]=n),this._autoConnect&&n.connect(),n}},{key:"_destroy",value:function(e){for(var t=0,n=Object.keys(this.nsps);t<n.length;t++){var i=n[t];if(this.nsps[i].active)return}this._close()}},{key:"_packet",value:function(e){for(var t=this.encoder.encode(e),n=0;n<t.length;n++)this.engine.write(t[n],e.options)}},{key:"cleanup",value:function(){this.subs.forEach((function(e){return e()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var e=this;if(this._reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();this._reconnecting=!0;var i=this.setTimeoutFn((function(){t.skipReconnect||(e.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((function(n){n?(t._reconnecting=!1,t.reconnect(),e.emitReserved("reconnect_error",n)):t.onreconnect()})))}),n);this.opts.autoUnref&&i.unref(),this.subs.push((function(){clearTimeout(i)}))}}},{key:"onreconnect",value:function(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}]),i}(El),Mc={};function Pc(e,t){"object"===typeof e&&(t=e,e=void 0);var n,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),i=oc(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";var r=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port+t,i.href=i.protocol+"://"+r+(n&&n.port===i.port?"":":"+i.port),i}(e,(t=t||{}).path||"/socket.io"),r=i.source,o=i.id,a=i.path,s=Mc[o]&&a in Mc[o].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?n=new Tc(r,t):(Mc[o]||(Mc[o]=new Tc(r,t)),n=Mc[o]),i.query&&!t.query&&(t.query=i.queryKey),n.socket(i.path,t)}Object.assign(Pc,{Manager:Tc,Socket:Cc,io:Pc,connect:Pc});Pc({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BASE_URL);var Ac=X((function(e){return{riders:e.ridersDetails.riders,agents:e.agentsData.agents,packages:e.PackageDetails.packages,rentTracks:e.switchboard.shelf_packages_tracks,agentTracks:e.switchboard.agent_packages_tracks,doorTacks:e.switchboard.door_packages_tracks,loading:e.PackageDetails.indexloading}}),{get_rent_shelf_tracks:function(e){return function(){var e=re(ne().mark((function e(t){var n,i,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e(we);case 3:return t({type:"FETCH_RENT_SHELF"}),e.next=6,we.get("/api/rent-shelf/track/packages");case 6:return n=e.sent,i=n.data,[],t({type:"FETCH_RENT_SHELF_SUCCESSFUL",payload:r=i}),e.abrupt("return",r);case 14:e.prev=14,e.t0=e.catch(0),t({type:"FETCH_RENT_SHELF_FAIL"});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},search_agent_package_details:function(e,t){return function(){var n=re(ne().mark((function n(i){var r,o,a;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e(we);case 3:return i({type:"FETCH_AGENT"}),n.next=6,we.get("/api/".concat(t,"/switchboard-search?searchKey=").concat(e));case 6:return r=n.sent,o=r.data,[],a=o,"agent"===t?i({type:"FETCH_AGENT_SUCCESSFUL",payload:a}):"door"===t&&i({type:"FETCH_DOOR_STEP_SUCCESSFUL",payload:a}),n.abrupt("return",a);case 14:n.prev=14,n.t0=n.catch(0),i({type:"FETCH_AGENT_FAIL"});case 18:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(e){return n.apply(this,arguments)}}()},update_agent_state_change:function(e,t){return function(){var n=re(ne().mark((function n(i){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e(we);case 3:return n.next=5,we.put("/api/agent/package/".concat(e,"/").concat(t));case 5:return n.sent,n.abrupt("return");case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},update_agent_package_details:function(e,t){return function(){var n=re(ne().mark((function n(i){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,console.log(t),n.next=4,_e(we);case 4:return n.next=6,we.put("/api/agent/package-update/".concat(e),t);case 6:return n.sent,n.abrupt("return");case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},get_agents:_s,get_door_step_tracks:function(e){return function(){var e=re(ne().mark((function e(t){var n,i,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e(we);case 3:return t({type:"FETCH_DOOR_STEP"}),e.next=6,we.get("/api/door-step/track/packages");case 6:return n=e.sent,i=n.data,[],t({type:"FETCH_DOOR_STEP_SUCCESSFUL",payload:r=i}),e.abrupt("return",r);case 14:e.prev=14,e.t0=e.catch(0),t({type:"FETCH_DOOR_STEP_FAIL"});case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},get_agent_tracks:function(e){return function(){var e=re(ne().mark((function e(t){var n,i,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e(we);case 3:return t({type:"FETCH_AGENT"}),e.next=6,we.get("/api/agent/track/packages");case 6:return n=e.sent,i=n.data,[],t({type:"FETCH_AGENT_SUCCESSFUL",payload:r=i}),e.abrupt("return",r);case 14:e.prev=14,e.t0=e.catch(0),t({type:"FETCH_AGENT_FAIL"});case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var n,i=pe((0,t.useState)("agent"),2),r=i[0],o=i[1],a=pe((0,t.useState)(""),2),s=a[0],l=a[1],c=function(){var t=re(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get_agent_tracks();case 2:return t.next=4,e.get_agents();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,t.useEffect)((function(){c()}),[]),(0,fe.jsxs)(Aa,{children:[(0,fe.jsx)("div",{className:"bg-slate-200 w-full text-center text-bold text-2xl uppercase",children:(0,fe.jsxs)("h1",{children:["SwicthBoard ",hs()().format("YY - MM - DD")]})}),(0,fe.jsxs)("div",{className:"bg-slate-200 w-full mt-3 flex gap-x-2",children:[(0,fe.jsx)("div",{className:"w-1/3",children:(0,fe.jsxs)("select",{className:"h-8 w-full",onChange:function(e){return l(e.target.value)},children:[(0,fe.jsx)("option",{value:"",children:"all"}),null===e||void 0===e||null===(n=e.agents)||void 0===n?void 0:n.map((function(e,t){return(0,fe.jsx)("option",{value:e._id,children:e.business_name},t)}))]})}),(0,fe.jsx)("div",{className:"w-1/3",children:(0,fe.jsx)("input",{type:"text",className:"h-8 w-full pl-2",placeholder:"Search",onChange:function(t){e.search_agent_package_details(t.target.value,r)}})})]}),(0,fe.jsxs)("div",{className:"w-full p-2 flex flex-wrap border-b border-slate-400 gap-x-1",children:[(0,fe.jsxs)("div",{className:"md:w-1/4 w-full flex flex-wrap p-2 shadow-md p-2 text-center bg-primary-500 justify-center items-center",onClick:re(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get_agent_tracks();case 2:o("agent");case 3:case"end":return t.stop()}}),t)}))),style:{backgroundColor:"agent"===r&&"gray"},children:["Agents to Agent ","agent"===r]}),(0,fe.jsxs)("div",{className:"md:w-1/4 w-full flex flex-wrap p-2 shadow-md p-2 text-center bg-primary-500 justify-center items-center",onClick:re(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get_rent_shelf_tracks();case 2:o("rent");case 3:case"end":return t.stop()}}),t)}))),style:{backgroundColor:"rent"===r&&"gray"},children:["Rent A Shelf ","rent"===r]}),(0,fe.jsxs)("div",{className:"md:w-1/4 w-full flex flex-wrap p-2 shadow-md p-2 text-center bg-primary-500 justify-center items-center",onClick:re(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get_door_step_tracks();case 2:o("door");case 3:case"end":return t.stop()}}),t)}))),style:{backgroundColor:"door"===r&&"gray"},children:["Door Step ","door"===r]})]}),(0,fe.jsxs)("h3",{style:{textAlign:"center",textTransform:"uppercase",textDecoration:"underline"},children:[r,"'s SwitchBoard"]}),"agent"===r?(0,fe.jsx)(sl,{data:e.agentTracks,update:e.update_agent_package_details,agent:s,fetch:function(){return c()},agents:e.agents,changeState:e.update_agent_state_change}):"rent"===r?(0,fe.jsx)(ll,{data:e.rentTracks,agent:s}):(0,fe.jsx)(cl,{data:e.doorTacks,agent:s})]})})),Ic=("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self&&self,function(e,t,n,i,r,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,r,o,a,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}),Lc=(0,t.createContext)(null);function Dc(e,t,n,i){var r,o,a={};return r=e,o=function(e,r){var o=n[r];o!==t[r]&&(a[r]=o,e(i,o))},Object.keys(r).forEach((function(e){return o(r[e],e)})),a}function Oc(e,t,n){var i,r,o,a=(i=n,r=function(n,i,r){return"function"===typeof e[r]&&n.push(google.maps.event.addListener(t,i,e[r])),n},o=[],Object.keys(i).reduce((function(e,t){return r(e,i[t],t)}),o));return a}function Rc(e){google.maps.event.removeListener(e)}function zc(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(Rc)}function Fc(e){var t=e.updaterMap,n=e.eventMap,i=e.prevProps,r=e.nextProps,o=e.instance,a=Oc(r,o,n);return Dc(t,i,r,o),a}var Bc={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},Nc={extraMapTypes:function(e,t){t.forEach((function(t,n){e.mapTypes.set(String(n),t)}))},center:function(e,t){e.setCenter(t)},clickableIcons:function(e,t){e.setClickableIcons(t)},heading:function(e,t){e.setHeading(t)},mapTypeId:function(e,t){e.setMapTypeId(t)},options:function(e,t){e.setOptions(t)},streetView:function(e,t){e.setStreetView(t)},tilt:function(e,t){e.setTilt(t)},zoom:function(e,t){e.setZoom(t)}};(0,t.memo)((function(e){var n=e.children,i=e.options,r=e.id,o=e.mapContainerStyle,a=e.mapContainerClassName,s=e.center,l=e.onClick,c=e.onDblClick,u=e.onDrag,d=e.onDragEnd,h=e.onDragStart,p=e.onMouseMove,f=e.onMouseOut,m=e.onMouseOver,g=e.onMouseDown,v=e.onMouseUp,y=e.onRightClick,x=e.onCenterChanged,b=e.onLoad,_=e.onUnmount,w=pe((0,t.useState)(null),2),k=w[0],S=w[1],C=(0,t.useRef)(null),E=pe((0,t.useState)(null),2),T=E[0],M=E[1],P=pe((0,t.useState)(null),2),A=P[0],I=P[1],L=pe((0,t.useState)(null),2),D=L[0],O=L[1],R=pe((0,t.useState)(null),2),z=R[0],F=R[1],B=pe((0,t.useState)(null),2),N=B[0],j=B[1],V=pe((0,t.useState)(null),2),W=V[0],U=V[1],H=pe((0,t.useState)(null),2),X=H[0],G=H[1],Y=pe((0,t.useState)(null),2),q=Y[0],K=Y[1],$=pe((0,t.useState)(null),2),Z=$[0],J=$[1],Q=pe((0,t.useState)(null),2),ee=Q[0],te=Q[1],ne=pe((0,t.useState)(null),2),ie=ne[0],re=ne[1],oe=pe((0,t.useState)(null),2),ae=oe[0],se=oe[1];return(0,t.useEffect)((function(){i&&null!==k&&k.setOptions(i)}),[k,i]),(0,t.useEffect)((function(){null!==k&&"undefined"!==typeof s&&k.setCenter(s)}),[k,s]),(0,t.useEffect)((function(){k&&c&&(null!==A&&google.maps.event.removeListener(A),I(google.maps.event.addListener(k,"dblclick",c)))}),[c]),(0,t.useEffect)((function(){k&&d&&(null!==D&&google.maps.event.removeListener(D),O(google.maps.event.addListener(k,"dragend",d)))}),[d]),(0,t.useEffect)((function(){k&&h&&(null!==z&&google.maps.event.removeListener(z),F(google.maps.event.addListener(k,"dragstart",h)))}),[h]),(0,t.useEffect)((function(){k&&g&&(null!==N&&google.maps.event.removeListener(N),j(google.maps.event.addListener(k,"mousedown",g)))}),[g]),(0,t.useEffect)((function(){k&&p&&(null!==W&&google.maps.event.removeListener(W),U(google.maps.event.addListener(k,"mousemove",p)))}),[p]),(0,t.useEffect)((function(){k&&f&&(null!==X&&google.maps.event.removeListener(X),G(google.maps.event.addListener(k,"mouseout",f)))}),[f]),(0,t.useEffect)((function(){k&&m&&(null!==q&&google.maps.event.removeListener(q),K(google.maps.event.addListener(k,"mouseover",m)))}),[m]),(0,t.useEffect)((function(){k&&v&&(null!==Z&&google.maps.event.removeListener(Z),J(google.maps.event.addListener(k,"mouseup",v)))}),[v]),(0,t.useEffect)((function(){k&&y&&(null!==ee&&google.maps.event.removeListener(ee),te(google.maps.event.addListener(k,"rightclick",y)))}),[y]),(0,t.useEffect)((function(){k&&l&&(null!==ie&&google.maps.event.removeListener(ie),re(google.maps.event.addListener(k,"click",l)))}),[l]),(0,t.useEffect)((function(){k&&u&&(null!==ae&&google.maps.event.removeListener(ae),se(google.maps.event.addListener(k,"drag",u)))}),[u]),(0,t.useEffect)((function(){k&&x&&(null!==T&&google.maps.event.removeListener(T),M(google.maps.event.addListener(k,"center_changed",x)))}),[l]),(0,t.useEffect)((function(){var e=null===C.current?null:new google.maps.Map(C.current,i);return S(e),null!==e&&b&&b(e),function(){null!==e&&_&&_(e)}}),[]),(0,fe.jsx)("div",Object.assign({id:r,ref:C,style:o,className:a},{children:(0,fe.jsx)(Lc.Provider,Object.assign({value:k},{children:null!==k?n:(0,fe.jsx)(fe.Fragment,{})}))}))}));var jc=function(e){Pe(n,e);var t=De(n);function n(){var e;return Ce(this,n),(e=t.apply(this,arguments)).state={map:null},e.registeredEvents=[],e.mapRef=null,e.getInstance=function(){return null===e.mapRef?null:new google.maps.Map(e.mapRef,e.props.options)},e.panTo=function(t){var n=e.getInstance();n&&n.panTo(t)},e.setMapCallback=function(){null!==e.state.map&&e.props.onLoad&&e.props.onLoad(e.state.map)},e.getRef=function(t){e.mapRef=t},e}return Te(n,[{key:"componentDidMount",value:function(){var e=this.getInstance();this.registeredEvents=Fc({updaterMap:Nc,eventMap:Bc,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{map:e}}),this.setMapCallback)}},{key:"componentDidUpdate",value:function(e){null!==this.state.map&&(zc(this.registeredEvents),this.registeredEvents=Fc({updaterMap:Nc,eventMap:Bc,prevProps:e,nextProps:this.props,instance:this.state.map}))}},{key:"componentWillUnmount",value:function(){null!==this.state.map&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),zc(this.registeredEvents))}},{key:"render",value:function(){return(0,fe.jsx)("div",Object.assign({id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName},{children:(0,fe.jsx)(Lc.Provider,Object.assign({value:this.state.map},{children:null!==this.state.map?this.props.children:(0,fe.jsx)(fe.Fragment,{})}))}))}}]),n}(t.PureComponent);function Vc(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function Wc(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{l(i.next(e))}catch(t){o(t)}}function s(e){try{l(i.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}l((i=i.apply(e,t||[])).next())}))}var Uc="undefined"!==typeof document;function Hc(e){var t=e.url,n=e.id,i=e.nonce;return Uc?new Promise((function(e,r){var o=document.getElementById(n),a=window;if(o){var s=o.getAttribute("data-state");if(o.src===t&&"error"!==s){if("ready"===s)return e(n);var l=a.initMap,c=o.onerror;return a.initMap=function(){l&&l(),e(n)},void(o.onerror=function(e){c&&c(e),r(e)})}o.remove()}var u=document.createElement("script");u.type="text/javascript",u.src=t,u.id=n,u.async=!0,u.nonce=i,u.onerror=function(e){u.setAttribute("data-state","error"),r(e)},a.initMap=function(){u.setAttribute("data-state","ready"),e(n)},document.head.appendChild(u)})).catch((function(e){throw console.error("injectScript error: ",e),e})):Promise.reject(new Error("document is undefined"))}function Xc(e){var t=e.href;return!(!t||0!==t.indexOf("https://fonts.googleapis.com/css?family=Roboto")&&0!==t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text"))||("style"===e.tagName.toLowerCase()&&e.styleSheet&&e.styleSheet.cssText&&0===e.styleSheet.cssText.replace("\r\n","").indexOf(".gm-style")?(e.styleSheet.cssText="",!0):"style"===e.tagName.toLowerCase()&&e.innerHTML&&0===e.innerHTML.replace("\r\n","").indexOf(".gm-style")?(e.innerHTML="",!0):"style"===e.tagName.toLowerCase()&&!e.styleSheet&&!e.innerHTML)}function Gc(){var e=document.getElementsByTagName("head")[0],t=e.insertBefore.bind(e);e.insertBefore=function(n,i){Xc(n)||Reflect.apply(t,e,[n,i])};var n=e.appendChild.bind(e);e.appendChild=function(t){Xc(t)||Reflect.apply(n,e,[t])}}function Yc(e){var t=e.googleMapsApiKey,n=e.googleMapsClientId,i=e.version,r=void 0===i?"weekly":i,o=e.language,a=e.region,s=e.libraries,l=e.channel,c=e.mapIds,u=e.authReferrerPolicy,d=[];return Ic(t&&n||!(t&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?d.push("key=".concat(t)):n&&d.push("client=".concat(n)),r&&d.push("v=".concat(r)),o&&d.push("language=".concat(o)),a&&d.push("region=".concat(a)),s&&s.length&&d.push("libraries=".concat(s.sort().join(","))),l&&d.push("channel=".concat(l)),c&&c.length&&d.push("map_ids=".concat(c.join(","))),u&&d.push("auth_referrer_policy=".concat(u)),d.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(d.join("&"))}var qc=!1;function Kc(){return(0,fe.jsx)("div",{children:"Loading..."})}var $c,Zc={id:"script-loader",version:"weekly"},Jc=function(e){Pe(i,e);var n=De(i);function i(){var e;return Ce(this,i),(e=n.apply(this,arguments)).check=(0,t.createRef)(),e.state={loaded:!1},e.cleanupCallback=function(){delete window.google.maps,e.injectScript()},e.isCleaningUp=function(){return Wc(Le(e),void 0,void 0,ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){if(qc){if(Uc)var t=window.setInterval((function(){qc||(window.clearInterval(t),e())}),1)}else e()},e.abrupt("return",new Promise(t));case 2:case"end":return e.stop()}}),e)})))},e.cleanup=function(){qc=!0;var t=document.getElementById(e.props.id);t&&t.parentNode&&t.parentNode.removeChild(t),Array.prototype.slice.call(document.getElementsByTagName("script")).filter((function(e){return"string"===typeof e.src&&e.src.includes("maps.googleapis")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("link")).filter((function(e){return"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"===e.href})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("style")).filter((function(e){return void 0!==e.innerText&&e.innerText.length>0&&e.innerText.includes(".gm-")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))},e.injectScript=function(){e.props.preventGoogleFontsLoading&&Gc(),Ic(!!e.props.id,'LoadScript requires "id" prop to be a string: %s',e.props.id),Hc({id:e.props.id,nonce:e.props.nonce,url:Yc(e.props)}).then((function(){e.props.onLoad&&e.props.onLoad(),e.setState((function(){return{loaded:!0}}))})).catch((function(t){e.props.onError&&e.props.onError(t),console.error("\n          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(e.props.googleMapsApiKey||"-",") or Client ID (").concat(e.props.googleMapsClientId||"-",") to <LoadScript />\n          Otherwise it is a Network issue.\n        "))}))},e}return Te(i,[{key:"componentDidMount",value:function(){if(Uc){if(window.google&&window.google.maps&&!qc)return void console.error("google api is already presented");this.isCleaningUp().then(this.injectScript).catch((function(e){console.error("Error at injecting script after cleaning up: ",e)}))}}},{key:"componentDidUpdate",value:function(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Uc&&e.language!==this.props.language&&(this.cleanup(),this.setState((function(){return{loaded:!1}}),this.cleanupCallback))}},{key:"componentWillUnmount",value:function(){var e=this;if(Uc){this.cleanup();window.setTimeout((function(){e.check.current||(delete window.google,qc=!1)}),1),this.props.onUnmount&&this.props.onUnmount()}}},{key:"render",value:function(){return(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||(0,fe.jsx)(Kc,{})]})}}]),i}(t.PureComponent);function Qc(e){var n=e.id,i=void 0===n?Zc.id:n,r=e.version,o=void 0===r?Zc.version:r,a=e.nonce,s=e.googleMapsApiKey,l=e.googleMapsClientId,c=e.language,u=e.region,d=e.libraries,h=e.preventGoogleFontsLoading,p=e.channel,f=e.mapIds,m=e.authReferrerPolicy,g=(0,t.useRef)(!1),v=pe((0,t.useState)(!1),2),y=v[0],x=v[1],b=pe((0,t.useState)(void 0),2),_=b[0],w=b[1];(0,t.useEffect)((function(){return g.current=!0,function(){g.current=!1}}),[]),(0,t.useEffect)((function(){Uc&&h&&Gc()}),[h]),(0,t.useEffect)((function(){y&&Ic(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")}),[y]);var k=Yc({version:o,googleMapsApiKey:s,googleMapsClientId:l,language:c,region:u,libraries:d,channel:p,mapIds:f,authReferrerPolicy:m});(0,t.useEffect)((function(){function e(){g.current&&(x(!0),$c=k)}Uc&&(window.google&&window.google.maps&&$c===k?e():Hc({id:i,url:k,nonce:a}).then(e).catch((function(e){g.current&&w(e),console.warn("\n        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(s||"-",") or Client ID (").concat(l||"-",")\n        Otherwise it is a Network issue.\n      ")),console.error(e)})))}),[i,k,a]);var S=(0,t.useRef)();return(0,t.useEffect)((function(){S.current&&d!==S.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),S.current=d}),[d]),{isLoaded:y,loadError:_,url:k}}Jc.defaultProps=Zc;var eu=(0,fe.jsx)(Kc,{});var tu;(0,t.memo)((function(e){var n=e.loadingElement,i=e.onLoad,r=e.onError,o=e.onUnmount,a=e.children,s=Qc(Vc(e,["loadingElement","onLoad","onError","onUnmount","children"])),l=s.isLoaded,c=s.loadError;return(0,t.useEffect)((function(){l&&"function"===typeof i&&i()}),[l,i]),(0,t.useEffect)((function(){c&&"function"===typeof r&&r(c)}),[c,r]),(0,t.useEffect)((function(){return function(){o&&o()}}),[o]),l?a:n||eu}));!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(tu||(tu={}));var nu={},iu={options:function(e,t){e.setOptions(t)}};(0,t.memo)((function(e){var n=e.options,i=e.onLoad,r=e.onUnmount,o=(0,t.useContext)(Lc),a=pe((0,t.useState)(null),2),s=a[0],l=a[1];return(0,t.useEffect)((function(){null!==s&&s.setMap(o)}),[o]),(0,t.useEffect)((function(){n&&null!==s&&s.setOptions(n)}),[s,n]),(0,t.useEffect)((function(){var e=new google.maps.TrafficLayer(Object.assign(Object.assign({},n||{}),{map:o}));return l(e),i&&i(e),function(){null!==s&&(r&&r(s),s.setMap(null))}}),[]),null}));var ru=function(e){Pe(n,e);var t=De(n);function n(){var e;return Ce(this,n),(e=t.apply(this,arguments)).state={trafficLayer:null},e.setTrafficLayerCallback=function(){null!==e.state.trafficLayer&&e.props.onLoad&&e.props.onLoad(e.state.trafficLayer)},e.registeredEvents=[],e}return Te(n,[{key:"componentDidMount",value:function(){var e=new google.maps.TrafficLayer(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=Fc({updaterMap:iu,eventMap:nu,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{trafficLayer:e}}),this.setTrafficLayerCallback)}},{key:"componentDidUpdate",value:function(e){null!==this.state.trafficLayer&&(zc(this.registeredEvents),this.registeredEvents=Fc({updaterMap:iu,eventMap:nu,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}},{key:"componentWillUnmount",value:function(){null!==this.state.trafficLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),zc(this.registeredEvents),this.state.trafficLayer.setMap(null))}},{key:"render",value:function(){return null}}]),n}(t.PureComponent);ru.contextType=Lc;(0,t.memo)((function(e){var n=e.onLoad,i=e.onUnmount,r=(0,t.useContext)(Lc),o=pe((0,t.useState)(null),2),a=o[0],s=o[1];return(0,t.useEffect)((function(){null!==a&&a.setMap(r)}),[r]),(0,t.useEffect)((function(){var e=new google.maps.BicyclingLayer;return s(e),e.setMap(r),n&&n(e),function(){null!==e&&(i&&i(e),e.setMap(null))}}),[]),null}));var ou=function(e){Pe(n,e);var t=De(n);function n(){var e;return Ce(this,n),(e=t.apply(this,arguments)).state={bicyclingLayer:null},e.setBicyclingLayerCallback=function(){null!==e.state.bicyclingLayer&&(e.state.bicyclingLayer.setMap(e.context),e.props.onLoad&&e.props.onLoad(e.state.bicyclingLayer))},e}return Te(n,[{key:"componentDidMount",value:function(){var e=new google.maps.BicyclingLayer;this.setState((function(){return{bicyclingLayer:e}}),this.setBicyclingLayerCallback)}},{key:"componentWillUnmount",value:function(){null!==this.state.bicyclingLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}},{key:"render",value:function(){return null}}]),n}(t.PureComponent);ou.contextType=Lc;(0,t.memo)((function(e){var n=this,i=e.onLoad,r=e.onUnmount,o=(0,t.useContext)(Lc),a=pe((0,t.useState)(null),2),s=a[0],l=a[1];return(0,t.useEffect)((function(){null!==s&&s.setMap(o)}),[o]),(0,t.useEffect)((function(){var e=new google.maps.TransitLayer;return l(e),e.setMap(o),i&&i(e),function(){null!==s&&(r&&r(s),n.state.transitLayer.setMap(null))}}),[]),null}));var au=function(e){Pe(n,e);var t=De(n);function n(){var e;return Ce(this,n),(e=t.apply(this,arguments)).state={transitLayer:null},e.setTransitLayerCallback=function(){null!==e.state.transitLayer&&(e.state.transitLayer.setMap(e.context),e.props.onLoad&&e.props.onLoad(e.state.transitLayer))},e}return Te(n,[{key:"componentDidMount",value:function(){var e=new google.maps.TransitLayer;this.setState((function(){return{transitLayer:e}}),this.setTransitLayerCallback)}},{key:"componentWillUnmount",value:function(){null!==this.state.transitLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}},{key:"render",value:function(){return null}}]),n}(t.PureComponent);au.contextType=Lc;var su={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},lu={drawingMode:function(e,t){e.setDrawingMode(t)},options:function(e,t){e.setOptions(t)}};(0,t.memo)((function(e){var n=e.options,i=e.drawingMode,r=e.onCircleComplete,o=e.onMarkerComplete,a=e.onOverlayComplete,s=e.onPolygonComplete,l=e.onPolylineComplete,c=e.onRectangleComplete,u=e.onLoad,d=e.onUnmount,h=(0,t.useContext)(Lc),p=pe((0,t.useState)(null),2),f=p[0],m=p[1],g=pe((0,t.useState)(null),2),v=g[0],y=g[1],x=pe((0,t.useState)(null),2),b=x[0],_=x[1],w=pe((0,t.useState)(null),2),k=w[0],S=w[1],C=pe((0,t.useState)(null),2),E=C[0],T=C[1],M=pe((0,t.useState)(null),2),P=M[0],A=M[1],I=pe((0,t.useState)(null),2),L=I[0],D=I[1];return(0,t.useEffect)((function(){null!==f&&f.setMap(h)}),[h]),(0,t.useEffect)((function(){n&&null!==f&&f.setOptions(n)}),[f,n]),(0,t.useEffect)((function(){i&&null!==f&&f.setDrawingMode(i)}),[f,i]),(0,t.useEffect)((function(){f&&r&&(null!==v&&google.maps.event.removeListener(v),y(google.maps.event.addListener(f,"circlecomplete",r)))}),[f,r]),(0,t.useEffect)((function(){f&&o&&(null!==b&&google.maps.event.removeListener(b),_(google.maps.event.addListener(f,"markercomplete",o)))}),[f,o]),(0,t.useEffect)((function(){f&&a&&(null!==k&&google.maps.event.removeListener(k),S(google.maps.event.addListener(f,"overlaycomplete",a)))}),[f,a]),(0,t.useEffect)((function(){f&&s&&(null!==E&&google.maps.event.removeListener(E),T(google.maps.event.addListener(f,"polygoncomplete",s)))}),[f,s]),(0,t.useEffect)((function(){f&&l&&(null!==P&&google.maps.event.removeListener(P),A(google.maps.event.addListener(f,"polylinecomplete",l)))}),[f,l]),(0,t.useEffect)((function(){f&&c&&(null!==L&&google.maps.event.removeListener(L),D(google.maps.event.addListener(f,"rectanglecomplete",c)))}),[f,c]),(0,t.useEffect)((function(){Ic(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var e=new google.maps.drawing.DrawingManager(Object.assign(Object.assign({},n||{}),{map:h}));return i&&e.setDrawingMode(i),r&&y(google.maps.event.addListener(e,"circlecomplete",r)),o&&_(google.maps.event.addListener(e,"markercomplete",o)),a&&S(google.maps.event.addListener(e,"overlaycomplete",a)),s&&T(google.maps.event.addListener(e,"polygoncomplete",s)),l&&A(google.maps.event.addListener(e,"polylinecomplete",l)),c&&D(google.maps.event.addListener(e,"rectanglecomplete",c)),m(e),u&&u(e),function(){null!==f&&(v&&google.maps.event.removeListener(v),b&&google.maps.event.removeListener(b),k&&google.maps.event.removeListener(k),E&&google.maps.event.removeListener(E),P&&google.maps.event.removeListener(P),L&&google.maps.event.removeListener(L),d&&d(f),f.setMap(null))}}),[]),null}));(function(e){Pe(n,e);var t=De(n);function n(e){var i;return Ce(this,n),(i=t.call(this,e)).registeredEvents=[],i.state={drawingManager:null},i.setDrawingManagerCallback=function(){null!==i.state.drawingManager&&i.props.onLoad&&i.props.onLoad(i.state.drawingManager)},Ic(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing),i}return Te(n,[{key:"componentDidMount",value:function(){var e=new google.maps.drawing.DrawingManager(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=Fc({updaterMap:lu,eventMap:su,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{drawingManager:e}}),this.setDrawingManagerCallback)}},{key:"componentDidUpdate",value:function(e){null!==this.state.drawingManager&&(zc(this.registeredEvents),this.registeredEvents=Fc({updaterMap:lu,eventMap:su,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}},{key:"componentWillUnmount",value:function(){null!==this.state.drawingManager&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),zc(this.registeredEvents),this.state.drawingManager.setMap(null))}},{key:"render",value:function(){return null}}]),n}(t.PureComponent)).contextType=Lc;var cu={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},uu={animation:function(e,t){e.setAnimation(t)},clickable:function(e,t){e.setClickable(t)},cursor:function(e,t){e.setCursor(t)},draggable:function(e,t){e.setDraggable(t)},icon:function(e,t){e.setIcon(t)},label:function(e,t){e.setLabel(t)},map:function(e,t){e.setMap(t)},opacity:function(e,t){e.setOpacity(t)},options:function(e,t){e.setOptions(t)},position:function(e,t){e.setPosition(t)},shape:function(e,t){e.setShape(t)},title:function(e,t){e.setTitle(t)},visible:function(e,t){e.setVisible(t)},zIndex:function(e,t){e.setZIndex(t)}},du={};var hu=(0,t.memo)((function(e){var n=e.position,i=e.options,r=e.clusterer,o=e.noClustererRedraw,a=e.children,s=e.draggable,l=e.visible,c=e.animation,u=e.clickable,d=e.cursor,h=e.icon,p=e.label,f=e.opacity,m=e.shape,g=e.title,v=e.zIndex,y=e.onClick,x=e.onDblClick,b=e.onDrag,_=e.onDragEnd,w=e.onDragStart,k=e.onMouseOut,S=e.onMouseOver,C=e.onMouseUp,E=e.onMouseDown,T=e.onRightClick,M=e.onClickableChanged,P=e.onCursorChanged,A=e.onAnimationChanged,I=e.onDraggableChanged,L=e.onFlatChanged,D=e.onIconChanged,O=e.onPositionChanged,R=e.onShapeChanged,z=e.onTitleChanged,F=e.onVisibleChanged,B=e.onZindexChanged,N=e.onLoad,j=e.onUnmount,V=(0,t.useContext)(Lc),W=pe((0,t.useState)(null),2),U=W[0],H=W[1],X=pe((0,t.useState)(null),2),G=X[0],Y=X[1],q=pe((0,t.useState)(null),2),K=q[0],$=q[1],Z=pe((0,t.useState)(null),2),J=Z[0],Q=Z[1],ee=pe((0,t.useState)(null),2),te=ee[0],ne=ee[1],ie=pe((0,t.useState)(null),2),re=ie[0],oe=ie[1],ae=pe((0,t.useState)(null),2),se=ae[0],le=ae[1],ce=pe((0,t.useState)(null),2),ue=ce[0],de=ce[1],he=pe((0,t.useState)(null),2),me=he[0],ge=he[1],ve=pe((0,t.useState)(null),2),ye=ve[0],xe=ve[1],be=pe((0,t.useState)(null),2),_e=be[0],we=be[1],ke=pe((0,t.useState)(null),2),Se=ke[0],Ce=ke[1],Ee=pe((0,t.useState)(null),2),Te=Ee[0],Me=Ee[1],Pe=pe((0,t.useState)(null),2),Ae=Pe[0],Ie=Pe[1],Le=pe((0,t.useState)(null),2),De=Le[0],Oe=Le[1],Re=pe((0,t.useState)(null),2),ze=Re[0],Fe=Re[1],Be=pe((0,t.useState)(null),2),Ne=Be[0],je=Be[1],Ve=pe((0,t.useState)(null),2),We=Ve[0],Ue=Ve[1],He=pe((0,t.useState)(null),2),Xe=He[0],Ge=He[1],Ye=pe((0,t.useState)(null),2),qe=Ye[0],Ke=Ye[1],$e=pe((0,t.useState)(null),2),Ze=$e[0],Je=$e[1],Qe=pe((0,t.useState)(null),2),et=Qe[0],tt=Qe[1];(0,t.useEffect)((function(){null!==U&&U.setMap(V)}),[V]),(0,t.useEffect)((function(){"undefined"!==typeof i&&null!==U&&U.setOptions(i)}),[U,i]),(0,t.useEffect)((function(){"undefined"!==typeof s&&null!==U&&U.setDraggable(s)}),[U,s]),(0,t.useEffect)((function(){n&&null!==U&&U.setPosition(n)}),[U,n]),(0,t.useEffect)((function(){"undefined"!==typeof l&&null!==U&&U.setVisible(l)}),[U,l]),(0,t.useEffect)((function(){c&&null!==U&&U.setAnimation(c)}),[U,c]),(0,t.useEffect)((function(){U&&x&&(null!==G&&google.maps.event.removeListener(G),Y(google.maps.event.addListener(U,"dblclick",x)))}),[x]),(0,t.useEffect)((function(){U&&_&&(null!==K&&google.maps.event.removeListener(K),$(google.maps.event.addListener(U,"dragend",_)))}),[_]),(0,t.useEffect)((function(){U&&w&&(null!==J&&google.maps.event.removeListener(J),Q(google.maps.event.addListener(U,"dragstart",w)))}),[w]),(0,t.useEffect)((function(){U&&E&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(U,"mousedown",E)))}),[E]),(0,t.useEffect)((function(){U&&k&&(null!==re&&google.maps.event.removeListener(re),oe(google.maps.event.addListener(U,"mouseout",k)))}),[k]),(0,t.useEffect)((function(){U&&S&&(null!==se&&google.maps.event.removeListener(se),le(google.maps.event.addListener(U,"mouseover",S)))}),[S]),(0,t.useEffect)((function(){U&&C&&(null!==ue&&google.maps.event.removeListener(ue),de(google.maps.event.addListener(U,"mouseup",C)))}),[C]),(0,t.useEffect)((function(){U&&T&&(null!==me&&google.maps.event.removeListener(me),ge(google.maps.event.addListener(U,"rightclick",T)))}),[T]),(0,t.useEffect)((function(){U&&y&&(null!==ye&&google.maps.event.removeListener(ye),xe(google.maps.event.addListener(U,"click",y)))}),[y]),(0,t.useEffect)((function(){U&&b&&(null!==_e&&google.maps.event.removeListener(_e),we(google.maps.event.addListener(U,"drag",b)))}),[b]),(0,t.useEffect)((function(){U&&M&&(null!==Se&&google.maps.event.removeListener(Se),Ce(google.maps.event.addListener(U,"clickable_changed",M)))}),[M]),(0,t.useEffect)((function(){U&&P&&(null!==Te&&google.maps.event.removeListener(Te),Me(google.maps.event.addListener(U,"cursor_changed",P)))}),[P]),(0,t.useEffect)((function(){U&&A&&(null!==Ae&&google.maps.event.removeListener(Ae),Ie(google.maps.event.addListener(U,"animation_changed",A)))}),[A]),(0,t.useEffect)((function(){U&&I&&(null!==De&&google.maps.event.removeListener(De),Oe(google.maps.event.addListener(U,"draggable_changed",I)))}),[I]),(0,t.useEffect)((function(){U&&L&&(null!==ze&&google.maps.event.removeListener(ze),Fe(google.maps.event.addListener(U,"flat_changed",L)))}),[L]),(0,t.useEffect)((function(){U&&D&&(null!==Ne&&google.maps.event.removeListener(Ne),je(google.maps.event.addListener(U,"icon_changed",D)))}),[D]),(0,t.useEffect)((function(){U&&O&&(null!==We&&google.maps.event.removeListener(We),Ue(google.maps.event.addListener(U,"position_changed",O)))}),[O]),(0,t.useEffect)((function(){U&&R&&(null!==Xe&&google.maps.event.removeListener(Xe),Ge(google.maps.event.addListener(U,"shape_changed",R)))}),[R]),(0,t.useEffect)((function(){U&&z&&(null!==qe&&google.maps.event.removeListener(qe),Ke(google.maps.event.addListener(U,"title_changed",z)))}),[z]),(0,t.useEffect)((function(){U&&F&&(null!==Ze&&google.maps.event.removeListener(Ze),Je(google.maps.event.addListener(U,"visible_changed",F)))}),[F]),(0,t.useEffect)((function(){U&&B&&(null!==et&&google.maps.event.removeListener(et),tt(google.maps.event.addListener(U,"zindex_changed",B)))}),[B]),(0,t.useEffect)((function(){var e=Object.assign(Object.assign(Object.assign({},i||du),r?du:{map:V}),{position:n}),t=new google.maps.Marker(e);return r?r.addMarker(t,!!o):t.setMap(V),n&&t.setPosition(n),"undefined"!==typeof l&&t.setVisible(l),"undefined"!==typeof s&&t.setDraggable(s),"undefined"!==typeof u&&t.setClickable(u),"string"===typeof d&&t.setCursor(d),h&&t.setIcon(h),"undefined"!==typeof p&&t.setLabel(p),"undefined"!==typeof f&&t.setOpacity(f),m&&t.setShape(m),"string"===typeof g&&t.setTitle(g),"number"===typeof v&&t.setZIndex(v),x&&Y(google.maps.event.addListener(t,"dblclick",x)),_&&$(google.maps.event.addListener(t,"dragend",_)),w&&Q(google.maps.event.addListener(t,"dragstart",w)),E&&ne(google.maps.event.addListener(t,"mousedown",E)),k&&oe(google.maps.event.addListener(t,"mouseout",k)),S&&le(google.maps.event.addListener(t,"mouseover",S)),C&&de(google.maps.event.addListener(t,"mouseup",C)),T&&ge(google.maps.event.addListener(t,"rightclick",T)),y&&xe(google.maps.event.addListener(t,"click",y)),b&&we(google.maps.event.addListener(t,"drag",b)),M&&Ce(google.maps.event.addListener(t,"clickable_changed",M)),P&&Me(google.maps.event.addListener(t,"cursor_changed",P)),A&&Ie(google.maps.event.addListener(t,"animation_changed",A)),I&&Oe(google.maps.event.addListener(t,"draggable_changed",I)),L&&Fe(google.maps.event.addListener(t,"flat_changed",L)),D&&je(google.maps.event.addListener(t,"icon_changed",D)),O&&Ue(google.maps.event.addListener(t,"position_changed",O)),R&&Ge(google.maps.event.addListener(t,"shape_changed",R)),z&&Ke(google.maps.event.addListener(t,"title_changed",z)),F&&Je(google.maps.event.addListener(t,"visible_changed",F)),B&&tt(google.maps.event.addListener(t,"zindex_changed",B)),H(t),N&&N(t),function(){null!==G&&google.maps.event.removeListener(G),null!==K&&google.maps.event.removeListener(K),null!==J&&google.maps.event.removeListener(J),null!==te&&google.maps.event.removeListener(te),null!==re&&google.maps.event.removeListener(re),null!==se&&google.maps.event.removeListener(se),null!==ue&&google.maps.event.removeListener(ue),null!==me&&google.maps.event.removeListener(me),null!==ye&&google.maps.event.removeListener(ye),null!==Se&&google.maps.event.removeListener(Se),null!==Te&&google.maps.event.removeListener(Te),null!==Ae&&google.maps.event.removeListener(Ae),null!==De&&google.maps.event.removeListener(De),null!==ze&&google.maps.event.removeListener(ze),null!==Ne&&google.maps.event.removeListener(Ne),null!==We&&google.maps.event.removeListener(We),null!==qe&&google.maps.event.removeListener(qe),null!==Ze&&google.maps.event.removeListener(Ze),null!==et&&google.maps.event.removeListener(et),j&&j(t),r?r.removeMarker(t,!!o):t&&t.setMap(null)}}),[]);var nt=(0,t.useMemo)((function(){return a?t.Children.map(a,(function(e){if(!(0,t.isValidElement)(e))return e;var n=e;return(0,t.cloneElement)(n,{anchor:U})})):null}),[a,U]);return(0,fe.jsx)(fe.Fragment,{children:nt})||null})),pu=function(e){Pe(i,e);var n=De(i);function i(){var e;return Ce(this,i),(e=n.apply(this,arguments)).registeredEvents=[],e}return Te(i,[{key:"componentDidMount",value:function(){var e=Object.assign(Object.assign(Object.assign({},this.props.options||du),this.props.clusterer?du:{map:this.context}),{position:this.props.position});this.marker=new google.maps.Marker(e),this.props.clusterer?this.props.clusterer.addMarker(this.marker,!!this.props.noClustererRedraw):this.marker.setMap(this.context),this.registeredEvents=Fc({updaterMap:uu,eventMap:cu,prevProps:{},nextProps:this.props,instance:this.marker}),this.props.onLoad&&this.props.onLoad(this.marker)}},{key:"componentDidUpdate",value:function(e){this.marker&&(zc(this.registeredEvents),this.registeredEvents=Fc({updaterMap:uu,eventMap:cu,prevProps:e,nextProps:this.props,instance:this.marker}))}},{key:"componentWillUnmount",value:function(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),zc(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}},{key:"render",value:function(){var e=this,n=null;return this.props.children&&(n=t.Children.map(this.props.children,(function(n){if(!(0,t.isValidElement)(n))return n;var i=n;return(0,t.cloneElement)(i,{anchor:e.marker})}))),n||null}}]),i}(t.PureComponent);pu.contextType=Lc;var fu=function(){function e(t,n){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var n=t.getMaxZoom(),i=this.cluster.getBounds(),r=t.getMap();null!==r&&"fitBounds"in r&&r.fitBounds(i),this.timeOut=window.setTimeout((function(){var e=t.getMap();if(null!==e){"fitBounds"in e&&e.fitBounds(i);var r=e.getZoom()||0;null!==n&&r>n&&e.setZoom(n+1)}}),100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),null===(e=this.getPanes())||void 0===e||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();null!==t&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),null!==this.boundsChangedListener&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),null!==this.timeOut&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&null!==this.div&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=null!==e?"".concat(e.y,"px"):"0",this.div.style.left=null!==e?"".concat(e.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var e,t,n,i;if(this.div&&this.center){var r=null===this.sums||"undefined"===typeof this.sums.title||""===this.sums.title?this.cluster.getClusterer().getTitle():this.sums.title,o=this.backgroundPosition.split(" "),a=parseInt(o[0].replace(/^\s+|\s+$/g,""),10),s=parseInt(o[1].replace(/^\s+|\s+$/g,""),10),l=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(null!==l?"".concat(l.y,"px"):"0","; left: ").concat(null!==l?"".concat(l.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var c=document.createElement("img");c.alt=r,c.src=this.url,c.width=this.width,c.height=this.height,c.setAttribute("style","position: absolute; top: ".concat(s,"px; left: ").concat(a,"px")),this.cluster.getClusterer().enableRetinaIcons||(c.style.clip="rect(-".concat(s,"px, -").concat(a+this.width,"px, -").concat(s+this.height,", -").concat(a,")"));var u=document.createElement("div");u.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),(null===(e=this.sums)||void 0===e?void 0:e.text)&&(u.innerText="".concat(null===(t=this.sums)||void 0===t?void 0:t.text)),(null===(n=this.sums)||void 0===n?void 0:n.html)&&(u.innerHTML="".concat(null===(i=this.sums)||void 0===i?void 0:i.html)),this.div.innerHTML="",this.div.appendChild(c),this.div.appendChild(u),this.div.title=r,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),n=t[Math.min(t.length-1,Math.max(0,e.index-1))];this.url=n.url,this.height=n.height,this.width=n.width,n.className&&(this.className="".concat(this.clusterClassName," ").concat(n.className)),this.anchorText=n.anchorText||[0,0],this.anchorIcon=n.anchorIcon||[this.height/2,this.width/2],this.textColor=n.textColor||"black",this.textSize=n.textSize||11,this.textDecoration=n.textDecoration||"none",this.fontWeight=n.fontWeight||"bold",this.fontStyle=n.fontStyle||"normal",this.fontFamily=n.fontFamily||"Arial,sans-serif",this.backgroundPosition=n.backgroundPosition||"0 0"},e.prototype.setCenter=function(e){this.center=e},e.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return null!==t&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},e}(),mu=function(){function e(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new fu(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=this.getMarkers(),n=0;n<t.length;n++){var i=t[n].getPosition();i&&e.extend(i)}return e},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(e){var t,n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter&&(n=e.getPosition())){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+n.lat())/i,(this.center.lng()*(i-1)+n.lng())/i),this.calculateBounds()}}else(n=e.getPosition())&&(this.center=n,this.calculateBounds());e.isAdded=!0,this.markers.push(e);var r=this.markers.length,o=this.markerClusterer.getMaxZoom(),a=null===(t=this.map)||void 0===t?void 0:t.getZoom();if(null!==o&&"undefined"!==typeof a&&a>o)e.getMap()!==this.map&&e.setMap(this.map);else if(r<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(r===this.minClusterSize)for(var s=0;s<r;s++)this.markers[s].setMap(null);else e.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(e){if(null!==this.bounds){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var e,t=this.markers.length,n=this.markerClusterer.getMaxZoom(),i=null===(e=this.map)||void 0===e?void 0:e.getZoom();null!==n&&"undefined"!==typeof i&&i>n||t<this.minClusterSize?this.clusterIcon.hide():(this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show())},e.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},e}();function gu(e,t){var n=e.length,i=n.toString().length,r=Math.min(i,t);return{text:n.toString(),index:r,title:""}}var vu=2e3,yu=500,xu="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",bu="png",_u=[53,56,66,78,90],wu="cluster",ku=function(){function e(t,n,i){void 0===n&&(n=[]),void 0===i&&(i={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.extend=this.extend.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=i.gridSize||60,this.minClusterSize=i.minimumClusterSize||2,this.maxZoom=i.maxZoom||null,this.styles=i.styles||[],this.title=i.title||"",this.zoomOnClick=!0,void 0!==i.zoomOnClick&&(this.zoomOnClick=i.zoomOnClick),this.averageCenter=!1,void 0!==i.averageCenter&&(this.averageCenter=i.averageCenter),this.ignoreHidden=!1,void 0!==i.ignoreHidden&&(this.ignoreHidden=i.ignoreHidden),this.enableRetinaIcons=!1,void 0!==i.enableRetinaIcons&&(this.enableRetinaIcons=i.enableRetinaIcons),this.imagePath=i.imagePath||xu,this.imageExtension=i.imageExtension||bu,this.imageSizes=i.imageSizes||_u,this.calculator=i.calculator||gu,this.batchSize=i.batchSize||vu,this.batchSizeIE=i.batchSizeIE||yu,this.clusterClass=i.clusterClass||wu,-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(null===(e=this.getMap())||void 0===e?void 0:e.getZoom())!==(this.get("minZoom")||0)&&(null===(t=this.getMap())||void 0===t?void 0:t.getZoom())!==this.get("maxZoom")||google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),null!==e&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var e=0;e<this.markers.length;e++)this.markers[e].getMap()!==this.activeMap&&this.markers[e].setMap(this.activeMap);for(e=0;e<this.clusters.length;e++)this.clusters[e].remove();this.clusters=[];for(e=0;e<this.listeners.length;e++)google.maps.event.removeListener(this.listeners[e]);this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e],width:this.imageSizes[e]})},e.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,n=0;n<e.length;n++){var i=e[n].getPosition();i&&t.extend(i)}var r=this.getMap();null!==r&&"fitBounds"in r&&r.fitBounds(t)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(e){this.gridSize=e},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(e){this.maxZoom=e},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(e){this.styles=e},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(e){this.title=e},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(e){this.averageCenter=e},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(e){this.imageExtension=e},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(e){this.imagePath=e},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(e){this.imageSizes=e},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(e){this.calculator=e},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(e){this.clusterClass=e},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},e.prototype.addMarkers=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.pushMarkerTo(e[n]);t||this.redraw()},e.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",(function(){t.ready&&(e.isAdded=!1,t.repaint())})),e.isAdded=!1,this.markers.push(e)},e.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var n=0;n<this.markers.length;n++)if(e===this.markers[n]){t=n;break}return-1!==t&&(e.setMap(null),this.markers.splice(t,1),!0)},e.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!t&&n&&this.repaint(),n},e.prototype.removeMarkers=function(e,t){for(var n=!1,i=0;i<e.length;i++)n=n||this.removeMarker_(e[i]);return!t&&n&&this.repaint(),n},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout((function(){for(var t=0;t<e.length;t++)e[t].remove()}),0)},e.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));null!==n&&(n.x+=this.gridSize,n.y-=this.gridSize);var i=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(null!==i&&(i.x-=this.gridSize,i.y+=this.gridSize),null!==n){var r=t.fromDivPixelToLatLng(n);null!==r&&e.extend(r)}if(null!==i){var o=t.fromDivPixelToLatLng(i);null!==o&&e.extend(o)}return e},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(e){for(var t=0;t<this.clusters.length;t++)this.clusters[t].remove();this.clusters=[];for(t=0;t<this.markers.length;t++){var n=this.markers[t];n.isAdded=!1,e&&n.setMap(null)}},e.prototype.distanceBetweenPoints=function(e,t){var n=(t.lat()-e.lat())*Math.PI/180,i=(t.lng()-e.lng())*Math.PI/180,r=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return 2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r))*6371},e.prototype.isMarkerInBounds=function(e,t){var n=e.getPosition();return!!n&&t.contains(n)},e.prototype.addToClosestCluster=function(e){for(var t,n=4e4,i=null,r=0;r<this.clusters.length;r++){var o=(t=this.clusters[r]).getCenter(),a=e.getPosition();if(o&&a){var s=this.distanceBetweenPoints(o,a);s<n&&(n=s,i=t)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):((t=new mu(this)).addMarker(e),this.clusters.push(t))},e.prototype.createClusters=function(e){var t=this;if(this.ready){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),null!==this.timerRefStatic&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var n=this.getMap(),i=(null!==n&&"getBounds"in n?n.getBounds():null),r=((null===n||void 0===n?void 0:n.getZoom())||0)>3?new google.maps.LatLngBounds(null===i||void 0===i?void 0:i.getSouthWest(),null===i||void 0===i?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),o=this.getExtendedBounds(r),a=Math.min(e+this.batchSize,this.markers.length),s=e;s<a;s++){var l=this.markers[s];!l.isAdded&&this.isMarkerInBounds(l,o)&&(!this.ignoreHidden||this.ignoreHidden&&l.getVisible())&&this.addToClosestCluster(l)}if(a<this.markers.length)this.timerRefStatic=window.setTimeout((function(){t.createClusters(a)}),0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(s=0;s<this.clusters.length;s++)this.clusters[s].updateIcon()}}},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)this.prototype[t]=e.prototype[t];return this}.apply(e,[t])},e}(),Su={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Cu={averageCenter:function(e,t){e.setAverageCenter(t)},batchSizeIE:function(e,t){e.setBatchSizeIE(t)},calculator:function(e,t){e.setCalculator(t)},clusterClass:function(e,t){e.setClusterClass(t)},enableRetinaIcons:function(e,t){e.setEnableRetinaIcons(t)},gridSize:function(e,t){e.setGridSize(t)},ignoreHidden:function(e,t){e.setIgnoreHidden(t)},imageExtension:function(e,t){e.setImageExtension(t)},imagePath:function(e,t){e.setImagePath(t)},imageSizes:function(e,t){e.setImageSizes(t)},maxZoom:function(e,t){e.setMaxZoom(t)},minimumClusterSize:function(e,t){e.setMinimumClusterSize(t)},styles:function(e,t){e.setStyles(t)},title:function(e,t){e.setTitle(t)},zoomOnClick:function(e,t){e.setZoomOnClick(t)}},Eu={};(0,t.memo)((function(e){var n=e.children,i=e.options,r=e.averageCenter,o=e.batchSizeIE,a=e.calculator,s=e.clusterClass,l=e.enableRetinaIcons,c=e.gridSize,u=e.ignoreHidden,d=e.imageExtension,h=e.imagePath,p=e.imageSizes,f=e.maxZoom,m=e.minimumClusterSize,g=e.styles,v=e.title,y=e.zoomOnClick,x=e.onClick,b=e.onClusteringBegin,_=e.onClusteringEnd,w=e.onMouseOver,k=e.onMouseOut,S=e.onLoad,C=e.onUnmount,E=pe((0,t.useState)(null),2),T=E[0],M=E[1],P=(0,t.useContext)(Lc),A=pe((0,t.useState)(null),2),I=A[0],L=A[1],D=pe((0,t.useState)(null),2),O=D[0],R=D[1],z=pe((0,t.useState)(null),2),F=z[0],B=z[1],N=pe((0,t.useState)(null),2),j=N[0],V=N[1],W=pe((0,t.useState)(null),2),U=W[0],H=W[1];return(0,t.useEffect)((function(){T&&k&&(null!==j&&google.maps.event.removeListener(j),V(google.maps.event.addListener(T,Su.onMouseOut,k)))}),[k]),(0,t.useEffect)((function(){T&&w&&(null!==U&&google.maps.event.removeListener(U),H(google.maps.event.addListener(T,Su.onMouseOver,w)))}),[w]),(0,t.useEffect)((function(){T&&x&&(null!==I&&google.maps.event.removeListener(I),L(google.maps.event.addListener(T,Su.onClick,x)))}),[x]),(0,t.useEffect)((function(){T&&b&&(null!==O&&google.maps.event.removeListener(O),R(google.maps.event.addListener(T,Su.onClusteringBegin,b)))}),[b]),(0,t.useEffect)((function(){T&&_&&(null!==F&&google.maps.event.removeListener(F),R(google.maps.event.addListener(T,Su.onClusteringEnd,_)))}),[_]),(0,t.useEffect)((function(){"undefined"!==typeof r&&null!==T&&Cu.averageCenter(T,r)}),[T,r]),(0,t.useEffect)((function(){"undefined"!==typeof o&&null!==T&&Cu.batchSizeIE(T,o)}),[T,o]),(0,t.useEffect)((function(){"undefined"!==typeof a&&null!==T&&Cu.calculator(T,a)}),[T,a]),(0,t.useEffect)((function(){"undefined"!==typeof s&&null!==T&&Cu.clusterClass(T,s)}),[T,s]),(0,t.useEffect)((function(){"undefined"!==typeof l&&null!==T&&Cu.enableRetinaIcons(T,l)}),[T,l]),(0,t.useEffect)((function(){"undefined"!==typeof c&&null!==T&&Cu.gridSize(T,c)}),[T,c]),(0,t.useEffect)((function(){"undefined"!==typeof u&&null!==T&&Cu.ignoreHidden(T,u)}),[T,u]),(0,t.useEffect)((function(){"undefined"!==typeof d&&null!==T&&Cu.imageExtension(T,d)}),[T,d]),(0,t.useEffect)((function(){"undefined"!==typeof h&&null!==T&&Cu.imagePath(T,h)}),[T,h]),(0,t.useEffect)((function(){"undefined"!==typeof p&&null!==T&&Cu.imageSizes(T,p)}),[T,p]),(0,t.useEffect)((function(){"undefined"!==typeof f&&null!==T&&Cu.maxZoom(T,f)}),[T,f]),(0,t.useEffect)((function(){"undefined"!==typeof m&&null!==T&&Cu.minimumClusterSize(T,m)}),[T,m]),(0,t.useEffect)((function(){"undefined"!==typeof g&&null!==T&&Cu.styles(T,g)}),[T,g]),(0,t.useEffect)((function(){"undefined"!==typeof v&&null!==T&&Cu.title(T,v)}),[T,v]),(0,t.useEffect)((function(){"undefined"!==typeof y&&null!==T&&Cu.zoomOnClick(T,y)}),[T,y]),(0,t.useEffect)((function(){if(P){var e=Object.assign({},i||Eu),t=new ku(P,[],e);return r&&Cu.averageCenter(t,r),o&&Cu.batchSizeIE(t,o),a&&Cu.calculator(t,a),s&&Cu.clusterClass(t,s),l&&Cu.enableRetinaIcons(t,l),c&&Cu.gridSize(t,c),u&&Cu.ignoreHidden(t,u),d&&Cu.imageExtension(t,d),h&&Cu.imagePath(t,h),p&&Cu.imageSizes(t,p),f&&Cu.maxZoom(t,f),m&&Cu.minimumClusterSize(t,m),g&&Cu.styles(t,g),v&&Cu.title(t,v),y&&Cu.zoomOnClick(t,y),k&&V(google.maps.event.addListener(t,Su.onMouseOut,k)),w&&H(google.maps.event.addListener(t,Su.onMouseOver,w)),x&&L(google.maps.event.addListener(t,Su.onClick,x)),b&&R(google.maps.event.addListener(t,Su.onClusteringBegin,b)),_&&B(google.maps.event.addListener(t,Su.onClusteringEnd,_)),M(t),S&&S(t),function(){null!==j&&google.maps.event.removeListener(j),null!==U&&google.maps.event.removeListener(U),null!==I&&google.maps.event.removeListener(I),null!==O&&google.maps.event.removeListener(O),null!==F&&google.maps.event.removeListener(F),C&&C(t)}}}),[]),null!==T&&n(T)||null}));var Tu=function(e){Pe(n,e);var t=De(n);function n(){var e;return Ce(this,n),(e=t.apply(this,arguments)).registeredEvents=[],e.state={markerClusterer:null},e.setClustererCallback=function(){null!==e.state.markerClusterer&&e.props.onLoad&&e.props.onLoad(e.state.markerClusterer)},e}return Te(n,[{key:"componentDidMount",value:function(){if(this.context){var e=new ku(this.context,[],this.props.options);this.registeredEvents=Fc({updaterMap:Cu,eventMap:Su,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{markerClusterer:e}}),this.setClustererCallback)}}},{key:"componentDidUpdate",value:function(e){this.state.markerClusterer&&(zc(this.registeredEvents),this.registeredEvents=Fc({updaterMap:Cu,eventMap:Su,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}},{key:"componentWillUnmount",value:function(){null!==this.state.markerClusterer&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),zc(this.registeredEvents),this.state.markerClusterer.setMap(null))}},{key:"render",value:function(){return null!==this.state.markerClusterer?this.props.children(this.state.markerClusterer):null}}]),n}(t.PureComponent);function Mu(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}Tu.contextType=Lc;var Pu=function(){function e(t){void 0===t&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),"undefined"===typeof t.visible&&("undefined"===typeof t.isHidden?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var e=this;if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),"string"===typeof this.content?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var t=this.getPanes();if(null!==t&&t[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(0!==this.maxWidth&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var n=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-n.left-n.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var i=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],r=0;r<i.length;r++)this.eventListeners.push(google.maps.event.addListener(this.div,i[r],Mu));this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",(function(){e.div&&(e.div.style.cursor="default")})))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",(function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),e.enableEventPropagation||Mu(t)})),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var e="";return""!==this.closeBoxURL&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&""!==this.closeBoxURL?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var n=0,i=0,r=t.getBounds();r&&!r.contains(this.position)&&t.setCenter(this.position);var o=t.getDiv(),a=o.offsetWidth,s=o.offsetHeight,l=this.pixelOffset.width,c=this.pixelOffset.height,u=this.div.offsetWidth,d=this.div.offsetHeight,h=this.infoBoxClearance.width,p=this.infoBoxClearance.height,f=this.getProjection().fromLatLngToContainerPixel(this.position);null!==f&&(f.x<-l+h?n=f.x+l-h:f.x+u+l+h>a&&(n=f.x+u+l+h-a),this.alignBottom?f.y<-c+p+d?i=f.y+c-p-d:f.y+c+p>s&&(i=f.y+c+p-s):f.y<-c+p?i=f.y+c-p:f.y+d+c+p>s&&(i=f.y+d+c+p-s)),0===n&&0===i||t.panBy(n,i)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)","undefined"!==typeof this.div.style.opacity&&""!==this.div.style.opacity){var n=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*n+')"',this.div.style.filter="alpha(opacity="+100*n+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",null!==this.zIndex&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,n=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;n&&(e.top=parseInt(n.borderTopWidth||"",10)||0,e.bottom=parseInt(n.borderBottomWidth||"",10)||0,e.left=parseInt(n.borderLeftWidth||"",10)||0,e.right=parseInt(n.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection().fromLatLngToDivPixel(this.position);null!==e&&(this.div.style.left=e.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(e.y+this.pixelOffset.height)+"px":this.div.style.top=e.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(e){void 0===e&&(e={}),"undefined"!==typeof e.boxClass&&(this.boxClass=e.boxClass,this.setBoxStyle()),"undefined"!==typeof e.boxStyle&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),"undefined"!==typeof e.content&&this.setContent(e.content),"undefined"!==typeof e.disableAutoPan&&(this.disableAutoPan=e.disableAutoPan),"undefined"!==typeof e.maxWidth&&(this.maxWidth=e.maxWidth),"undefined"!==typeof e.pixelOffset&&(this.pixelOffset=e.pixelOffset),"undefined"!==typeof e.alignBottom&&(this.alignBottom=e.alignBottom),"undefined"!==typeof e.position&&this.setPosition(e.position),"undefined"!==typeof e.zIndex&&this.setZIndex(e.zIndex),"undefined"!==typeof e.closeBoxMargin&&(this.closeBoxMargin=e.closeBoxMargin),"undefined"!==typeof e.closeBoxURL&&(this.closeBoxURL=e.closeBoxURL),"undefined"!==typeof e.infoBoxClearance&&(this.infoBoxClearance=e.infoBoxClearance),"undefined"!==typeof e.isHidden&&(this.isHidden=e.isHidden),"undefined"!==typeof e.visible&&(this.isHidden=!e.visible),"undefined"!==typeof e.enableEventPropagation&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),"string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px","string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var e=this.getMap();return"undefined"!==typeof e&&null!==e&&!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(e,t){var n=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",(function(){var e=t.getPosition();n.setPosition(e)})),this.mapListener=google.maps.event.addListener(t,"map_changed",(function(){n.setMap(t.map)}))),this.setMap(e),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0;e<this.eventListeners.length;e++)google.maps.event.removeListener(this.eventListeners[e]);this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)Object.prototype.hasOwnProperty.call(this,t)||(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},e}(),Au={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Iu={options:function(e,t){e.setOptions(t)},position:function(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible:function(e,t){e.setVisible(t)},zIndex:function(e,t){e.setZIndex(t)}},Lu={};(0,t.memo)((function(e){var n=e.children,i=e.anchor,o=e.options,a=e.position,s=e.zIndex,l=e.onCloseClick,c=e.onDomReady,u=e.onContentChanged,d=e.onPositionChanged,h=e.onZindexChanged,p=e.onLoad,f=e.onUnmount,m=(0,t.useContext)(Lc),g=pe((0,t.useState)(null),2),v=g[0],y=g[1],x=pe((0,t.useState)(null),2),b=x[0],_=x[1],w=pe((0,t.useState)(null),2),k=w[0],S=w[1],C=pe((0,t.useState)(null),2),E=C[0],T=C[1],M=pe((0,t.useState)(null),2),P=M[0],A=M[1],I=pe((0,t.useState)(null),2),L=I[0],D=I[1],O=(0,t.useRef)(null);return(0,t.useEffect)((function(){m&&null!==v&&(v.close(),i?v.open(m,i):v.getPosition()&&v.open(m))}),[m,v,i]),(0,t.useEffect)((function(){o&&null!==v&&v.setOptions(o)}),[v,o]),(0,t.useEffect)((function(){if(a&&null!==v){var e=a instanceof google.maps.LatLng?a:new google.maps.LatLng(a.lat,a.lng);v.setPosition(e)}}),[a]),(0,t.useEffect)((function(){"number"===typeof s&&null!==v&&v.setZIndex(s)}),[s]),(0,t.useEffect)((function(){v&&l&&(null!==b&&google.maps.event.removeListener(b),_(google.maps.event.addListener(v,"closeclick",l)))}),[l]),(0,t.useEffect)((function(){v&&c&&(null!==k&&google.maps.event.removeListener(k),S(google.maps.event.addListener(v,"domready",c)))}),[c]),(0,t.useEffect)((function(){v&&u&&(null!==E&&google.maps.event.removeListener(E),T(google.maps.event.addListener(v,"content_changed",u)))}),[u]),(0,t.useEffect)((function(){v&&d&&(null!==P&&google.maps.event.removeListener(P),A(google.maps.event.addListener(v,"position_changed",d)))}),[d]),(0,t.useEffect)((function(){v&&h&&(null!==L&&google.maps.event.removeListener(L),D(google.maps.event.addListener(v,"zindex_changed",h)))}),[h]),(0,t.useEffect)((function(){if(m){var e,t=o||Lu,n=t.position,r=Vc(t,["position"]);!n||n instanceof google.maps.LatLng||(e=new google.maps.LatLng(n.lat,n.lng));var a=new Pu(Object.assign(Object.assign({},r),e?{position:e}:{}));O.current=document.createElement("div"),y(a),l&&_(google.maps.event.addListener(a,"closeclick",l)),c&&S(google.maps.event.addListener(a,"domready",c)),u&&T(google.maps.event.addListener(a,"content_changed",u)),d&&A(google.maps.event.addListener(a,"position_changed",d)),h&&D(google.maps.event.addListener(a,"zindex_changed",h)),a.setContent(O.current),i?a.open(m,i):a.getPosition()?a.open(m):Ic(!1,"You must provide either an anchor or a position prop for <InfoBox>."),p&&p(a)}return function(){null!==v&&(b&&google.maps.event.removeListener(b),E&&google.maps.event.removeListener(E),k&&google.maps.event.removeListener(k),P&&google.maps.event.removeListener(P),L&&google.maps.event.removeListener(L),f&&f(v),v.close())}}),[]),O.current?(0,r.createPortal)(t.Children.only(n),O.current):null}));var Du=function(e){Pe(i,e);var n=De(i);function i(){var e;return Ce(this,i),(e=n.apply(this,arguments)).registeredEvents=[],e.containerElement=null,e.state={infoBox:null},e.open=function(t,n){n?t.open(e.context,n):t.getPosition()?t.open(e.context):Ic(!1,"You must provide either an anchor or a position prop for <InfoBox>.")},e.setInfoBoxCallback=function(){null!==e.state.infoBox&&null!==e.containerElement&&(e.state.infoBox.setContent(e.containerElement),e.open(e.state.infoBox,e.props.anchor),e.props.onLoad&&e.props.onLoad(e.state.infoBox))},e}return Te(i,[{key:"componentDidMount",value:function(){var e,t=this.props.options||{},n=t.position,i=Vc(t,["position"]);!n||n instanceof google.maps.LatLng||(e=new google.maps.LatLng(n.lat,n.lng));var r=new Pu(Object.assign(Object.assign({},i),e?{position:e}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Fc({updaterMap:Iu,eventMap:Au,prevProps:{},nextProps:this.props,instance:r}),this.setState({infoBox:r},this.setInfoBoxCallback)}},{key:"componentDidUpdate",value:function(e){var t=this.state.infoBox;null!==t&&(zc(this.registeredEvents),this.registeredEvents=Fc({updaterMap:Iu,eventMap:Au,prevProps:e,nextProps:this.props,instance:t}))}},{key:"componentWillUnmount",value:function(){var e=this.props.onUnmount,t=this.state.infoBox;null!==t&&(e&&e(t),zc(this.registeredEvents),t.close())}},{key:"render",value:function(){return this.containerElement?(0,r.createPortal)(t.Children.only(this.props.children),this.containerElement):null}}]),i}(t.PureComponent);Du.contextType=Lc;var Ou=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,r,o;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(r=i;0!==r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=i;0!==r--;)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=i;0!==r--;){var a=o[r];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n},Ru={exports:{}};!function(e,t){e.exports=function(){function e(n,i,r,o,a,s){if(!(a-o<=r)){var l=o+a>>1;t(n,i,l,o,a,s%2),e(n,i,r,o,l-1,s+1),e(n,i,r,l+1,a,s+1)}}function t(e,i,r,o,a,s){for(;a>o;){if(a-o>600){var l=a-o+1,c=r-o+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1);t(e,i,r,Math.max(o,Math.floor(r-c*d/l+h)),Math.min(a,Math.floor(r+(l-c)*d/l+h)),s)}var p=i[2*r+s],f=o,m=a;for(n(e,i,o,r),i[2*a+s]>p&&n(e,i,o,a);f<m;){for(n(e,i,f,m),f++,m--;i[2*f+s]<p;)f++;for(;i[2*m+s]>p;)m--}i[2*o+s]===p?n(e,i,o,m):n(e,i,++m,a),m<=r&&(o=m+1),r<=m&&(a=m-1)}}function n(e,t,n,r){i(e,n,r),i(t,2*n,2*r),i(t,2*n+1,2*r+1)}function i(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function r(e,t,n,i,r,o,a){for(var s,l,c=[0,e.length-1,0],u=[];c.length;){var d=c.pop(),h=c.pop(),p=c.pop();if(h-p<=a)for(var f=p;f<=h;f++)s=t[2*f],l=t[2*f+1],s>=n&&s<=r&&l>=i&&l<=o&&u.push(e[f]);else{var m=Math.floor((p+h)/2);s=t[2*m],l=t[2*m+1],s>=n&&s<=r&&l>=i&&l<=o&&u.push(e[m]);var g=(d+1)%2;(0===d?n<=s:i<=l)&&(c.push(p),c.push(m-1),c.push(g)),(0===d?r>=s:o>=l)&&(c.push(m+1),c.push(h),c.push(g))}}return u}function o(e,t,n,i,r,o){for(var s=[0,e.length-1,0],l=[],c=r*r;s.length;){var u=s.pop(),d=s.pop(),h=s.pop();if(d-h<=o)for(var p=h;p<=d;p++)a(t[2*p],t[2*p+1],n,i)<=c&&l.push(e[p]);else{var f=Math.floor((h+d)/2),m=t[2*f],g=t[2*f+1];a(m,g,n,i)<=c&&l.push(e[f]);var v=(u+1)%2;(0===u?n-r<=m:i-r<=g)&&(s.push(h),s.push(f-1),s.push(v)),(0===u?n+r>=m:i+r>=g)&&(s.push(f+1),s.push(d),s.push(v))}}return l}function a(e,t,n,i){var r=e-n,o=t-i;return r*r+o*o}var s=function(e){return e[0]},l=function(e){return e[1]},c=function(t,n,i,r,o){void 0===n&&(n=s),void 0===i&&(i=l),void 0===r&&(r=64),void 0===o&&(o=Float64Array),this.nodeSize=r,this.points=t;for(var a=t.length<65536?Uint16Array:Uint32Array,c=this.ids=new a(t.length),u=this.coords=new o(2*t.length),d=0;d<t.length;d++)c[d]=d,u[2*d]=n(t[d]),u[2*d+1]=i(t[d]);e(c,u,r,0,c.length-1,0)};return c.prototype.range=function(e,t,n,i){return r(this.ids,this.coords,e,t,n,i,this.nodeSize)},c.prototype.within=function(e,t,n){return o(this.ids,this.coords,e,t,n,this.nodeSize)},c}()}(Ru);var zu,Fu=Ru.exports,Bu={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},Nu=Math.fround||(zu=new Float32Array(1),function(e){return zu[0]=+e,zu[0]}),ju=function(){function e(t){Ce(this,e),this.options=Ku(Object.create(Bu),t),this.trees=new Array(this.options.maxZoom+1)}return Te(e,[{key:"load",value:function(e){var t=this.options,n=t.log,i=t.minZoom,r=t.maxZoom,o=t.nodeSize;n&&console.time("total time");var a="prepare ".concat(e.length," points");n&&console.time(a),this.points=e;for(var s=[],l=0;l<e.length;l++)e[l].geometry&&s.push(Wu(e[l],l));this.trees[r+1]=new Fu(s,$u,Zu,o,Float32Array),n&&console.timeEnd(a);for(var c=r;c>=i;c--){var u=+Date.now();s=this._cluster(s,c),this.trees[c]=new Fu(s,$u,Zu,o,Float32Array),n&&console.log("z%d: %d clusters in %dms",c,s.length,+Date.now()-u)}return n&&console.timeEnd("total time"),this}},{key:"getClusters",value:function(e,t){var n=((e[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[1])),r=180===e[2]?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,r=180;else if(n>r){var a=this.getClusters([n,i,180,o],t),s=this.getClusters([-180,i,r,o],t);return a.concat(s)}var l,c=this.trees[this._limitZoom(t)],u=[],d=Be(c.range(Xu(n),Gu(o),Xu(r),Gu(i)));try{for(d.s();!(l=d.n()).done;){var h=l.value,p=c.points[h];u.push(p.numPoints?Uu(p):this.points[p.index])}}catch(bF){d.e(bF)}finally{d.f()}return u}},{key:"getChildren",value:function(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),i="No cluster with the specified id.",r=this.trees[n];if(!r)throw new Error(i);var o=r.points[t];if(!o)throw new Error(i);var a,s=this.options.radius/(this.options.extent*Math.pow(2,n-1)),l=[],c=Be(r.within(o.x,o.y,s));try{for(c.s();!(a=c.n()).done;){var u=a.value,d=r.points[u];d.parentId===e&&l.push(d.numPoints?Uu(d):this.points[d.index])}}catch(bF){c.e(bF)}finally{c.f()}if(0===l.length)throw new Error(i);return l}},{key:"getLeaves",value:function(e,t,n){t=t||10,n=n||0;var i=[];return this._appendLeaves(i,e,t,n,0),i}},{key:"getTile",value:function(e,t,n){var i=this.trees[this._limitZoom(e)],r=Math.pow(2,e),o=this.options,a=o.extent,s=o.radius/a,l=(n-s)/r,c=(n+1+s)/r,u={features:[]};return this._addTileFeatures(i.range((t-s)/r,l,(t+1+s)/r,c),i.points,t,n,r,u),0===t&&this._addTileFeatures(i.range(1-s/r,l,1,c),i.points,r,n,r,u),t===r-1&&this._addTileFeatures(i.range(0,l,s/r,c),i.points,-1,n,r,u),u.features.length?u:null}},{key:"getClusterExpansionZoom",value:function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}},{key:"_appendLeaves",value:function(e,t,n,i,r){var o,a=Be(this.getChildren(t));try{for(a.s();!(o=a.n()).done;){var s=o.value,l=s.properties;if(l&&l.cluster?r+l.point_count<=i?r+=l.point_count:r=this._appendLeaves(e,l.cluster_id,n,i,r):r<i?r++:e.push(s),e.length===n)break}}catch(bF){a.e(bF)}finally{a.f()}return r}},{key:"_addTileFeatures",value:function(e,t,n,i,r,o){var a,s=Be(e);try{for(s.s();!(a=s.n()).done;){var l=t[a.value],c=l.numPoints,u=void 0,d=void 0,h=void 0;if(c)u=Hu(l),d=l.x,h=l.y;else{var p=this.points[l.index];u=p.properties,d=Xu(p.geometry.coordinates[0]),h=Gu(p.geometry.coordinates[1])}var f={type:1,geometry:[[Math.round(this.options.extent*(d*r-n)),Math.round(this.options.extent*(h*r-i))]],tags:u},m=void 0;c?m=l.id:this.options.generateId?m=l.index:this.points[l.index].id&&(m=this.points[l.index].id),void 0!==m&&(f.id=m),o.features.push(f)}}catch(bF){s.e(bF)}finally{s.f()}}},{key:"_limitZoom",value:function(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))}},{key:"_cluster",value:function(e,t){for(var n=[],i=this.options,r=i.radius,o=i.extent,a=i.reduce,s=i.minPoints,l=r/(o*Math.pow(2,t)),c=0;c<e.length;c++){var u=e[c];if(!(u.zoom<=t)){u.zoom=t;var d,h=this.trees[t+1],p=h.within(u.x,u.y,l),f=u.numPoints||1,m=f,g=Be(p);try{for(g.s();!(d=g.n()).done;){var v=d.value,y=h.points[v];y.zoom>t&&(m+=y.numPoints||1)}}catch(bF){g.e(bF)}finally{g.f()}if(m>f&&m>=s){var x,b=u.x*f,_=u.y*f,w=a&&f>1?this._map(u,!0):null,k=(c<<5)+(t+1)+this.points.length,S=Be(p);try{for(S.s();!(x=S.n()).done;){var C=x.value,E=h.points[C];if(!(E.zoom<=t)){E.zoom=t;var T=E.numPoints||1;b+=E.x*T,_+=E.y*T,E.parentId=k,a&&(w||(w=this._map(u,!0)),a(w,this._map(E)))}}}catch(bF){S.e(bF)}finally{S.f()}u.parentId=k,n.push(Vu(b/m,_/m,k,m,w))}else if(n.push(u),m>1){var M,P=Be(p);try{for(P.s();!(M=P.n()).done;){var A=M.value,I=h.points[A];I.zoom<=t||(I.zoom=t,n.push(I))}}catch(bF){P.e(bF)}finally{P.f()}}}}return n}},{key:"_getOriginId",value:function(e){return e-this.points.length>>5}},{key:"_getOriginZoom",value:function(e){return(e-this.points.length)%32}},{key:"_map",value:function(e,t){if(e.numPoints)return t?Ku({},e.properties):e.properties;var n=this.points[e.index].properties,i=this.options.map(n);return t&&i===n?Ku({},i):i}}]),e}();function Vu(e,t,n,i,r){return{x:Nu(e),y:Nu(t),zoom:1/0,id:n,parentId:-1,numPoints:i,properties:r}}function Wu(e,t){var n=pe(e.geometry.coordinates,2),i=n[0],r=n[1];return{x:Nu(Xu(i)),y:Nu(Gu(r)),zoom:1/0,index:t,parentId:-1}}function Uu(e){return{type:"Feature",id:e.id,properties:Hu(e),geometry:{type:"Point",coordinates:[Yu(e.x),qu(e.y)]}}}function Hu(e){var t=e.numPoints,n=t>=1e4?"".concat(Math.round(t/1e3),"k"):t>=1e3?"".concat(Math.round(t/100)/10,"k"):t;return Ku(Ku({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function Xu(e){return e/360+.5}function Gu(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function Yu(e){return 360*(e-.5)}function qu(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function Ku(e,t){for(var n in t)e[n]=t[n];return e}function $u(e){return e.x}function Zu(e){return e.y}function Ju(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}var Qu=function(){function e(t){var n=t.markers,i=t.position;Ce(this,e),this.markers=n,i&&(i instanceof google.maps.LatLng?this._position=i:this._position=new google.maps.LatLng(i))}return Te(e,[{key:"bounds",get:function(){if(0!==this.markers.length||this._position)return this.markers.reduce((function(e,t){return e.extend(t.getPosition())}),new google.maps.LatLngBounds(this._position,this._position))}},{key:"position",get:function(){return this._position||this.bounds.getCenter()}},{key:"count",get:function(){return this.markers.filter((function(e){return e.getVisible()})).length}},{key:"push",value:function(e){this.markers.push(e)}},{key:"delete",value:function(){this.marker&&(this.marker.setMap(null),delete this.marker),this.markers.length=0}}]),e}(),ed=function(){function e(t){var n=t.maxZoom,i=void 0===n?16:n;Ce(this,e),this.maxZoom=i}return Te(e,[{key:"noop",value:function(e){var t=e.markers;return td(t)}}]),e}(),td=function(e){return e.map((function(e){return new Qu({position:e.getPosition(),markers:[e]})}))},nd=function(e){Pe(n,e);var t=De(n);function n(e){var i;Ce(this,n);var r=e.maxZoom,o=e.radius,a=void 0===o?60:o,s=Ju(e,["maxZoom","radius"]);return(i=t.call(this,{maxZoom:r})).superCluster=new ju(Object.assign({maxZoom:i.maxZoom,radius:a},s)),i.state={zoom:null},i}return Te(n,[{key:"calculate",value:function(e){var t=!1;if(!Ou(e.markers,this.markers)){t=!0,this.markers=Ne(e.markers);var n=this.markers.map((function(e){return{type:"Feature",geometry:{type:"Point",coordinates:[e.getPosition().lng(),e.getPosition().lat()]},properties:{marker:e}}}));this.superCluster.load(n)}var i={zoom:e.map.getZoom()};return t||this.state.zoom>this.maxZoom&&i.zoom>this.maxZoom||(t=t||!Ou(this.state,i)),this.state=i,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}},{key:"cluster",value:function(e){var t=e.map;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(this.transformCluster.bind(this))}},{key:"transformCluster",value:function(e){var t=pe(e.geometry.coordinates,2),n=t[0],i=t[1],r=e.properties;if(r.cluster)return new Qu({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map((function(e){return e.properties.marker})),position:new google.maps.LatLng({lat:i,lng:n})});var o=r.marker;return new Qu({markers:[o],position:o.getPosition()})}}]),n}(ed),id=Te((function e(t,n){Ce(this,e),this.markers={sum:t.length};var i=n.map((function(e){return e.count})),r=i.reduce((function(e,t){return e+t}),0);this.clusters={count:n.length,markers:{mean:r/n.length,sum:r,min:Math.min.apply(Math,Ne(i)),max:Math.max.apply(Math,Ne(i))}}})),rd=function(){function e(){Ce(this,e)}return Te(e,[{key:"render",value:function(e,t){var n=e.count,i=e.position,r=n>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",o=window.btoa('\n  <svg fill="'.concat(r,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240">\n    <circle cx="120" cy="120" opacity=".6" r="70" />\n    <circle cx="120" cy="120" opacity=".3" r="90" />\n    <circle cx="120" cy="120" opacity=".2" r="110" />\n  </svg>'));return new google.maps.Marker({position:i,icon:{url:"data:image/svg+xml;base64,".concat(o),scaledSize:new google.maps.Size(45,45)},label:{text:String(n),color:"rgba(255,255,255,0.9)",fontSize:"12px"},title:"Cluster of ".concat(n," markers"),zIndex:Number(google.maps.Marker.MAX_ZINDEX)+n})}}]),e}();var od,ad=Te((function e(){Ce(this,e),function(e,t){for(var n in t.prototype)e.prototype[n]=t.prototype[n]}(e,google.maps.OverlayView)}));!function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"}(od||(od={}));var sd=function(e,t,n){n.fitBounds(t.bounds)},ld=function(e){Pe(n,e);var t=De(n);function n(e){var i,r=e.map,o=e.markers,a=void 0===o?[]:o,s=e.algorithm,l=void 0===s?new nd({}):s,c=e.renderer,u=void 0===c?new rd:c,d=e.onClusterClick,h=void 0===d?sd:d;return Ce(this,n),(i=t.call(this)).markers=Ne(a),i.clusters=[],i.algorithm=l,i.renderer=u,i.onClusterClick=h,r&&i.setMap(r),i}return Te(n,[{key:"addMarker",value:function(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}},{key:"addMarkers",value:function(e,t){var n=this;e.forEach((function(e){n.addMarker(e,!0)})),t||this.render()}},{key:"removeMarker",value:function(e,t){var n=this.markers.indexOf(e);return-1!==n&&(e.setMap(null),this.markers.splice(n,1),t||this.render(),!0)}},{key:"removeMarkers",value:function(e,t){var n=this,i=!1;return e.forEach((function(e){i=n.removeMarker(e,!0)||i})),i&&!t&&this.render(),i}},{key:"clearMarkers",value:function(e){this.markers.length=0,e||this.render()}},{key:"render",value:function(){var e=this.getMap();if(e instanceof google.maps.Map&&this.getProjection()){google.maps.event.trigger(this,od.CLUSTERING_BEGIN,this);var t=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()}),n=t.clusters,i=t.changed;(i||void 0==i)&&(this.reset(),this.clusters=n,this.renderClusters()),google.maps.event.trigger(this,od.CLUSTERING_END,this)}}},{key:"onAdd",value:function(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}},{key:"onRemove",value:function(){google.maps.event.removeListener(this.idleListener),this.reset()}},{key:"reset",value:function(){this.markers.forEach((function(e){return e.setMap(null)})),this.clusters.forEach((function(e){return e.delete()})),this.clusters=[]}},{key:"renderClusters",value:function(){var e=this,t=new id(this.markers,this.clusters),n=this.getMap();this.clusters.forEach((function(i){1===i.markers.length?i.marker=i.markers[0]:(i.marker=e.renderer.render(i,t),e.onClusterClick&&i.marker.addListener("click",(function(t){google.maps.event.trigger(e,od.CLUSTER_CLICK,i),e.onClusterClick(t,i,n)}))),i.marker.setMap(n)}))}}]),n}(ad);function cd(e){var n=function(){Ic(!!t.useContext,"useGoogleMap is React hook and requires React version 16.8+");var e=(0,t.useContext)(Lc);return Ic(!!e,"useGoogleMap needs a GoogleMap available up in the tree"),e}(),i=pe((0,t.useState)(null),2),r=i[0],o=i[1];return(0,t.useEffect)((function(){if(n&&null===r){var t=new ld(Object.assign(Object.assign({},e),{map:n}));o(t)}}),[n]),r}(0,t.memo)((function(e){var t=e.children,n=cd(e.options);return null!==n?t(n):null}));var ud={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},dd={options:function(e,t){e.setOptions(t)},position:function(e,t){e.setPosition(t)},zIndex:function(e,t){e.setZIndex(t)}};(0,t.memo)((function(e){var n=e.children,i=e.anchor,o=e.options,a=e.position,s=e.zIndex,l=e.onCloseClick,c=e.onDomReady,u=e.onContentChanged,d=e.onPositionChanged,h=e.onZindexChanged,p=e.onLoad,f=e.onUnmount,m=(0,t.useContext)(Lc),g=pe((0,t.useState)(null),2),v=g[0],y=g[1],x=pe((0,t.useState)(null),2),b=x[0],_=x[1],w=pe((0,t.useState)(null),2),k=w[0],S=w[1],C=pe((0,t.useState)(null),2),E=C[0],T=C[1],M=pe((0,t.useState)(null),2),P=M[0],A=M[1],I=pe((0,t.useState)(null),2),L=I[0],D=I[1],O=(0,t.useRef)(null);return(0,t.useEffect)((function(){null!==v&&(v.close(),i?v.open(m,i):v.getPosition()&&v.open(m))}),[m,v,i]),(0,t.useEffect)((function(){o&&null!==v&&v.setOptions(o)}),[v,o]),(0,t.useEffect)((function(){a&&null!==v&&v.setPosition(a)}),[a]),(0,t.useEffect)((function(){"number"===typeof s&&null!==v&&v.setZIndex(s)}),[s]),(0,t.useEffect)((function(){v&&l&&(null!==b&&google.maps.event.removeListener(b),_(google.maps.event.addListener(v,"closeclick",l)))}),[l]),(0,t.useEffect)((function(){v&&c&&(null!==k&&google.maps.event.removeListener(k),S(google.maps.event.addListener(v,"domready",c)))}),[c]),(0,t.useEffect)((function(){v&&u&&(null!==E&&google.maps.event.removeListener(E),T(google.maps.event.addListener(v,"content_changed",u)))}),[u]),(0,t.useEffect)((function(){v&&d&&(null!==P&&google.maps.event.removeListener(P),A(google.maps.event.addListener(v,"position_changed",d)))}),[d]),(0,t.useEffect)((function(){v&&h&&(null!==L&&google.maps.event.removeListener(L),D(google.maps.event.addListener(v,"zindex_changed",h)))}),[h]),(0,t.useEffect)((function(){var e=new google.maps.InfoWindow(Object.assign({},o||{}));return y(e),O.current=document.createElement("div"),l&&_(google.maps.event.addListener(e,"closeclick",l)),c&&S(google.maps.event.addListener(e,"domready",c)),u&&T(google.maps.event.addListener(e,"content_changed",u)),d&&A(google.maps.event.addListener(e,"position_changed",d)),h&&D(google.maps.event.addListener(e,"zindex_changed",h)),e.setContent(O.current),a&&e.setPosition(a),s&&e.setZIndex(s),i?e.open(m,i):e.getPosition()?e.open(m):Ic(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),p&&p(e),function(){b&&google.maps.event.removeListener(b),E&&google.maps.event.removeListener(E),k&&google.maps.event.removeListener(k),P&&google.maps.event.removeListener(P),L&&google.maps.event.removeListener(L),f&&f(e),e.close()}}),[]),O.current?(0,r.createPortal)(t.Children.only(n),O.current):null}));var hd=function(e){Pe(i,e);var n=De(i);function i(){var e;return Ce(this,i),(e=n.apply(this,arguments)).registeredEvents=[],e.containerElement=null,e.state={infoWindow:null},e.open=function(t,n){n?t.open(e.context,n):t.getPosition()?t.open(e.context):Ic(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")},e.setInfoWindowCallback=function(){null!==e.state.infoWindow&&null!==e.containerElement&&(e.state.infoWindow.setContent(e.containerElement),e.open(e.state.infoWindow,e.props.anchor),e.props.onLoad&&e.props.onLoad(e.state.infoWindow))},e}return Te(i,[{key:"componentDidMount",value:function(){var e=new google.maps.InfoWindow(Object.assign({},this.props.options||{}));this.containerElement=document.createElement("div"),this.registeredEvents=Fc({updaterMap:dd,eventMap:ud,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{infoWindow:e}}),this.setInfoWindowCallback)}},{key:"componentDidUpdate",value:function(e){null!==this.state.infoWindow&&(zc(this.registeredEvents),this.registeredEvents=Fc({updaterMap:dd,eventMap:ud,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}},{key:"componentWillUnmount",value:function(){null!==this.state.infoWindow&&(zc(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}},{key:"render",value:function(){return this.containerElement?(0,r.createPortal)(t.Children.only(this.props.children),this.containerElement):null}}]),i}(t.PureComponent);hd.contextType=Lc;var pd={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},fd={draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},path:function(e,t){e.setPath(t)},visible:function(e,t){e.setVisible(t)}},md={};(0,t.memo)((function(e){var n=e.options,i=e.draggable,r=e.editable,o=e.visible,a=e.path,s=e.onDblClick,l=e.onDragEnd,c=e.onDragStart,u=e.onMouseDown,d=e.onMouseMove,h=e.onMouseOut,p=e.onMouseOver,f=e.onMouseUp,m=e.onRightClick,g=e.onClick,v=e.onDrag,y=e.onLoad,x=e.onUnmount,b=(0,t.useContext)(Lc),_=pe((0,t.useState)(null),2),w=_[0],k=_[1],S=pe((0,t.useState)(null),2),C=S[0],E=S[1],T=pe((0,t.useState)(null),2),M=T[0],P=T[1],A=pe((0,t.useState)(null),2),I=A[0],L=A[1],D=pe((0,t.useState)(null),2),O=D[0],R=D[1],z=pe((0,t.useState)(null),2),F=z[0],B=z[1],N=pe((0,t.useState)(null),2),j=N[0],V=N[1],W=pe((0,t.useState)(null),2),U=W[0],H=W[1],X=pe((0,t.useState)(null),2),G=X[0],Y=X[1],q=pe((0,t.useState)(null),2),K=q[0],$=q[1],Z=pe((0,t.useState)(null),2),J=Z[0],Q=Z[1],ee=pe((0,t.useState)(null),2),te=ee[0],ne=ee[1];return(0,t.useEffect)((function(){null!==w&&w.setMap(b)}),[b]),(0,t.useEffect)((function(){"undefined"!==typeof n&&null!==w&&w.setOptions(n)}),[w,n]),(0,t.useEffect)((function(){"undefined"!==typeof i&&null!==w&&w.setDraggable(i)}),[w,i]),(0,t.useEffect)((function(){"undefined"!==typeof r&&null!==w&&w.setEditable(r)}),[w,r]),(0,t.useEffect)((function(){"undefined"!==typeof o&&null!==w&&w.setVisible(o)}),[w,o]),(0,t.useEffect)((function(){"undefined"!==typeof a&&null!==w&&w.setPath(a)}),[w,a]),(0,t.useEffect)((function(){w&&s&&(null!==C&&google.maps.event.removeListener(C),E(google.maps.event.addListener(w,"dblclick",s)))}),[s]),(0,t.useEffect)((function(){w&&l&&(null!==M&&google.maps.event.removeListener(M),P(google.maps.event.addListener(w,"dragend",l)))}),[l]),(0,t.useEffect)((function(){w&&c&&(null!==I&&google.maps.event.removeListener(I),L(google.maps.event.addListener(w,"dragstart",c)))}),[c]),(0,t.useEffect)((function(){w&&u&&(null!==O&&google.maps.event.removeListener(O),R(google.maps.event.addListener(w,"mousedown",u)))}),[u]),(0,t.useEffect)((function(){w&&d&&(null!==F&&google.maps.event.removeListener(F),B(google.maps.event.addListener(w,"mousemove",d)))}),[d]),(0,t.useEffect)((function(){w&&h&&(null!==j&&google.maps.event.removeListener(j),V(google.maps.event.addListener(w,"mouseout",h)))}),[h]),(0,t.useEffect)((function(){w&&p&&(null!==U&&google.maps.event.removeListener(U),H(google.maps.event.addListener(w,"mouseover",p)))}),[p]),(0,t.useEffect)((function(){w&&f&&(null!==G&&google.maps.event.removeListener(G),Y(google.maps.event.addListener(w,"mouseup",f)))}),[f]),(0,t.useEffect)((function(){w&&m&&(null!==K&&google.maps.event.removeListener(K),$(google.maps.event.addListener(w,"rightclick",m)))}),[m]),(0,t.useEffect)((function(){w&&g&&(null!==J&&google.maps.event.removeListener(J),Q(google.maps.event.addListener(w,"click",g)))}),[g]),(0,t.useEffect)((function(){w&&v&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(w,"drag",v)))}),[v]),(0,t.useEffect)((function(){var e=new google.maps.Polyline(Object.assign(Object.assign({},n||md),{map:b}));return a&&e.setPath(a),"undefined"!==typeof o&&e.setVisible(o),"undefined"!==typeof r&&e.setEditable(r),"undefined"!==typeof i&&e.setDraggable(i),s&&E(google.maps.event.addListener(e,"dblclick",s)),l&&P(google.maps.event.addListener(e,"dragend",l)),c&&L(google.maps.event.addListener(e,"dragstart",c)),u&&R(google.maps.event.addListener(e,"mousedown",u)),d&&B(google.maps.event.addListener(e,"mousemove",d)),h&&V(google.maps.event.addListener(e,"mouseout",h)),p&&H(google.maps.event.addListener(e,"mouseover",p)),f&&Y(google.maps.event.addListener(e,"mouseup",f)),m&&$(google.maps.event.addListener(e,"rightclick",m)),g&&Q(google.maps.event.addListener(e,"click",g)),v&&ne(google.maps.event.addListener(e,"drag",v)),k(e),y&&y(e),function(){null!==C&&google.maps.event.removeListener(C),null!==M&&google.maps.event.removeListener(M),null!==I&&google.maps.event.removeListener(I),null!==O&&google.maps.event.removeListener(O),null!==F&&google.maps.event.removeListener(F),null!==j&&google.maps.event.removeListener(j),null!==U&&google.maps.event.removeListener(U),null!==G&&google.maps.event.removeListener(G),null!==K&&google.maps.event.removeListener(K),null!==J&&google.maps.event.removeListener(J),x&&x(e),e.setMap(null)}}),[]),null}));var gd=function(e){Pe(n,e);var t=De(n);function n(){var e;return Ce(this,n),(e=t.apply(this,arguments)).registeredEvents=[],e.state={polyline:null},e.setPolylineCallback=function(){null!==e.state.polyline&&e.props.onLoad&&e.props.onLoad(e.state.polyline)},e}return Te(n,[{key:"componentDidMount",value:function(){var e=new google.maps.Polyline(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=Fc({updaterMap:fd,eventMap:pd,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{polyline:e}}),this.setPolylineCallback)}},{key:"componentDidUpdate",value:function(e){null!==this.state.polyline&&(zc(this.registeredEvents),this.registeredEvents=Fc({updaterMap:fd,eventMap:pd,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}},{key:"componentWillUnmount",value:function(){null!==this.state.polyline&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),zc(this.registeredEvents),this.state.polyline.setMap(null))}},{key:"render",value:function(){return null}}]),n}(t.PureComponent);gd.contextType=Lc;var vd={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},yd={draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},path:function(e,t){e.setPath(t)},paths:function(e,t){e.setPaths(t)},visible:function(e,t){e.setVisible(t)}};(0,t.memo)((function(e){var n=e.options,i=e.draggable,r=e.editable,o=e.visible,a=e.path,s=e.paths,l=e.onDblClick,c=e.onDragEnd,u=e.onDragStart,d=e.onMouseDown,h=e.onMouseMove,p=e.onMouseOut,f=e.onMouseOver,m=e.onMouseUp,g=e.onRightClick,v=e.onClick,y=e.onDrag,x=e.onLoad,b=e.onUnmount,_=(0,t.useContext)(Lc),w=pe((0,t.useState)(null),2),k=w[0],S=w[1],C=pe((0,t.useState)(null),2),E=C[0],T=C[1],M=pe((0,t.useState)(null),2),P=M[0],A=M[1],I=pe((0,t.useState)(null),2),L=I[0],D=I[1],O=pe((0,t.useState)(null),2),R=O[0],z=O[1],F=pe((0,t.useState)(null),2),B=F[0],N=F[1],j=pe((0,t.useState)(null),2),V=j[0],W=j[1],U=pe((0,t.useState)(null),2),H=U[0],X=U[1],G=pe((0,t.useState)(null),2),Y=G[0],q=G[1],K=pe((0,t.useState)(null),2),$=K[0],Z=K[1],J=pe((0,t.useState)(null),2),Q=J[0],ee=J[1],te=pe((0,t.useState)(null),2),ne=te[0],ie=te[1];return(0,t.useEffect)((function(){null!==k&&k.setMap(_)}),[_]),(0,t.useEffect)((function(){"undefined"!==typeof n&&null!==k&&k.setOptions(n)}),[k,n]),(0,t.useEffect)((function(){"undefined"!==typeof i&&null!==k&&k.setDraggable(i)}),[k,i]),(0,t.useEffect)((function(){"undefined"!==typeof r&&null!==k&&k.setEditable(r)}),[k,r]),(0,t.useEffect)((function(){"undefined"!==typeof o&&null!==k&&k.setVisible(o)}),[k,o]),(0,t.useEffect)((function(){"undefined"!==typeof a&&null!==k&&k.setPath(a)}),[k,a]),(0,t.useEffect)((function(){"undefined"!==typeof s&&null!==k&&k.setPaths(s)}),[k,s]),(0,t.useEffect)((function(){k&&l&&(null!==E&&google.maps.event.removeListener(E),T(google.maps.event.addListener(k,"dblclick",l)))}),[l]),(0,t.useEffect)((function(){k&&c&&(null!==P&&google.maps.event.removeListener(P),A(google.maps.event.addListener(k,"dragend",c)))}),[c]),(0,t.useEffect)((function(){k&&u&&(null!==L&&google.maps.event.removeListener(L),D(google.maps.event.addListener(k,"dragstart",u)))}),[u]),(0,t.useEffect)((function(){k&&d&&(null!==R&&google.maps.event.removeListener(R),z(google.maps.event.addListener(k,"mousedown",d)))}),[d]),(0,t.useEffect)((function(){k&&h&&(null!==B&&google.maps.event.removeListener(B),N(google.maps.event.addListener(k,"mousemove",h)))}),[h]),(0,t.useEffect)((function(){k&&p&&(null!==V&&google.maps.event.removeListener(V),W(google.maps.event.addListener(k,"mouseout",p)))}),[p]),(0,t.useEffect)((function(){k&&f&&(null!==H&&google.maps.event.removeListener(H),X(google.maps.event.addListener(k,"mouseover",f)))}),[f]),(0,t.useEffect)((function(){k&&m&&(null!==Y&&google.maps.event.removeListener(Y),q(google.maps.event.addListener(k,"mouseup",m)))}),[m]),(0,t.useEffect)((function(){k&&g&&(null!==$&&google.maps.event.removeListener($),Z(google.maps.event.addListener(k,"rightclick",g)))}),[g]),(0,t.useEffect)((function(){k&&v&&(null!==Q&&google.maps.event.removeListener(Q),ee(google.maps.event.addListener(k,"click",v)))}),[v]),(0,t.useEffect)((function(){k&&y&&(null!==ne&&google.maps.event.removeListener(ne),ie(google.maps.event.addListener(k,"drag",y)))}),[y]),(0,t.useEffect)((function(){var e=new google.maps.Polygon(Object.assign(Object.assign({},n||{}),{map:_}));return a&&e.setPath(a),s&&e.setPaths(s),"undefined"!==typeof o&&e.setVisible(o),"undefined"!==typeof r&&e.setEditable(r),"undefined"!==typeof i&&e.setDraggable(i),l&&T(google.maps.event.addListener(e,"dblclick",l)),c&&A(google.maps.event.addListener(e,"dragend",c)),u&&D(google.maps.event.addListener(e,"dragstart",u)),d&&z(google.maps.event.addListener(e,"mousedown",d)),h&&N(google.maps.event.addListener(e,"mousemove",h)),p&&W(google.maps.event.addListener(e,"mouseout",p)),f&&X(google.maps.event.addListener(e,"mouseover",f)),m&&q(google.maps.event.addListener(e,"mouseup",m)),g&&Z(google.maps.event.addListener(e,"rightclick",g)),v&&ee(google.maps.event.addListener(e,"click",v)),y&&ie(google.maps.event.addListener(e,"drag",y)),S(e),x&&x(e),function(){null!==E&&google.maps.event.removeListener(E),null!==P&&google.maps.event.removeListener(P),null!==L&&google.maps.event.removeListener(L),null!==R&&google.maps.event.removeListener(R),null!==B&&google.maps.event.removeListener(B),null!==V&&google.maps.event.removeListener(V),null!==H&&google.maps.event.removeListener(H),null!==Y&&google.maps.event.removeListener(Y),null!==$&&google.maps.event.removeListener($),null!==Q&&google.maps.event.removeListener(Q),b&&b(e),e.setMap(null)}}),[]),null}));var xd=function(e){Pe(n,e);var t=De(n);function n(){var e;return Ce(this,n),(e=t.apply(this,arguments)).registeredEvents=[],e.state={polygon:null},e.setPolygonCallback=function(){null!==e.state.polygon&&e.props.onLoad&&e.props.onLoad(e.state.polygon)},e}return Te(n,[{key:"componentDidMount",value:function(){var e=new google.maps.Polygon(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=Fc({updaterMap:yd,eventMap:vd,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{polygon:e}}),this.setPolygonCallback)}},{key:"componentDidUpdate",value:function(e){null!==this.state.polygon&&(zc(this.registeredEvents),this.registeredEvents=Fc({updaterMap:yd,eventMap:vd,prevProps:e,nextProps:this.props,instance:this.state.polygon}))}},{key:"componentWillUnmount",value:function(){null!==this.state.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.state.polygon),zc(this.registeredEvents),this.state.polygon&&this.state.polygon.setMap(null))}},{key:"render",value:function(){return null}}]),n}(t.PureComponent);xd.contextType=Lc;var bd={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},_d={bounds:function(e,t){e.setBounds(t)},draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},visible:function(e,t){e.setVisible(t)}};(0,t.memo)((function(e){var n=e.options,i=e.bounds,r=e.draggable,o=e.editable,a=e.visible,s=e.onDblClick,l=e.onDragEnd,c=e.onDragStart,u=e.onMouseDown,d=e.onMouseMove,h=e.onMouseOut,p=e.onMouseOver,f=e.onMouseUp,m=e.onRightClick,g=e.onClick,v=e.onDrag,y=e.onBoundsChanged,x=e.onLoad,b=e.onUnmount,_=(0,t.useContext)(Lc),w=pe((0,t.useState)(null),2),k=w[0],S=w[1],C=pe((0,t.useState)(null),2),E=C[0],T=C[1],M=pe((0,t.useState)(null),2),P=M[0],A=M[1],I=pe((0,t.useState)(null),2),L=I[0],D=I[1],O=pe((0,t.useState)(null),2),R=O[0],z=O[1],F=pe((0,t.useState)(null),2),B=F[0],N=F[1],j=pe((0,t.useState)(null),2),V=j[0],W=j[1],U=pe((0,t.useState)(null),2),H=U[0],X=U[1],G=pe((0,t.useState)(null),2),Y=G[0],q=G[1],K=pe((0,t.useState)(null),2),$=K[0],Z=K[1],J=pe((0,t.useState)(null),2),Q=J[0],ee=J[1],te=pe((0,t.useState)(null),2),ne=te[0],ie=te[1],re=pe((0,t.useState)(null),2),oe=re[0],ae=re[1];return(0,t.useEffect)((function(){null!==k&&k.setMap(_)}),[_]),(0,t.useEffect)((function(){"undefined"!==typeof n&&null!==k&&k.setOptions(n)}),[k,n]),(0,t.useEffect)((function(){"undefined"!==typeof r&&null!==k&&k.setDraggable(r)}),[k,r]),(0,t.useEffect)((function(){"undefined"!==typeof o&&null!==k&&k.setEditable(o)}),[k,o]),(0,t.useEffect)((function(){"undefined"!==typeof a&&null!==k&&k.setVisible(a)}),[k,a]),(0,t.useEffect)((function(){"undefined"!==typeof i&&null!==k&&k.setBounds(i)}),[k,i]),(0,t.useEffect)((function(){k&&s&&(null!==E&&google.maps.event.removeListener(E),T(google.maps.event.addListener(k,"dblclick",s)))}),[s]),(0,t.useEffect)((function(){k&&l&&(null!==P&&google.maps.event.removeListener(P),A(google.maps.event.addListener(k,"dragend",l)))}),[l]),(0,t.useEffect)((function(){k&&c&&(null!==L&&google.maps.event.removeListener(L),D(google.maps.event.addListener(k,"dragstart",c)))}),[c]),(0,t.useEffect)((function(){k&&u&&(null!==R&&google.maps.event.removeListener(R),z(google.maps.event.addListener(k,"mousedown",u)))}),[u]),(0,t.useEffect)((function(){k&&d&&(null!==B&&google.maps.event.removeListener(B),N(google.maps.event.addListener(k,"mousemove",d)))}),[d]),(0,t.useEffect)((function(){k&&h&&(null!==V&&google.maps.event.removeListener(V),W(google.maps.event.addListener(k,"mouseout",h)))}),[h]),(0,t.useEffect)((function(){k&&p&&(null!==H&&google.maps.event.removeListener(H),X(google.maps.event.addListener(k,"mouseover",p)))}),[p]),(0,t.useEffect)((function(){k&&f&&(null!==Y&&google.maps.event.removeListener(Y),q(google.maps.event.addListener(k,"mouseup",f)))}),[f]),(0,t.useEffect)((function(){k&&m&&(null!==$&&google.maps.event.removeListener($),Z(google.maps.event.addListener(k,"rightclick",m)))}),[m]),(0,t.useEffect)((function(){k&&g&&(null!==Q&&google.maps.event.removeListener(Q),ee(google.maps.event.addListener(k,"click",g)))}),[g]),(0,t.useEffect)((function(){k&&v&&(null!==ne&&google.maps.event.removeListener(ne),ie(google.maps.event.addListener(k,"drag",v)))}),[v]),(0,t.useEffect)((function(){k&&y&&(null!==oe&&google.maps.event.removeListener(oe),ae(google.maps.event.addListener(k,"bounds_changed",y)))}),[y]),(0,t.useEffect)((function(){var e=new google.maps.Rectangle(Object.assign(Object.assign({},n||{}),{map:_}));return"undefined"!==typeof a&&e.setVisible(a),"undefined"!==typeof o&&e.setEditable(o),"undefined"!==typeof r&&e.setDraggable(r),"undefined"!==typeof i&&e.setBounds(i),s&&T(google.maps.event.addListener(e,"dblclick",s)),l&&A(google.maps.event.addListener(e,"dragend",l)),c&&D(google.maps.event.addListener(e,"dragstart",c)),u&&z(google.maps.event.addListener(e,"mousedown",u)),d&&N(google.maps.event.addListener(e,"mousemove",d)),h&&W(google.maps.event.addListener(e,"mouseout",h)),p&&X(google.maps.event.addListener(e,"mouseover",p)),f&&q(google.maps.event.addListener(e,"mouseup",f)),m&&Z(google.maps.event.addListener(e,"rightclick",m)),g&&ee(google.maps.event.addListener(e,"click",g)),v&&ie(google.maps.event.addListener(e,"drag",v)),y&&ae(google.maps.event.addListener(e,"bounds_changed",y)),S(e),x&&x(e),function(){null!==E&&google.maps.event.removeListener(E),null!==P&&google.maps.event.removeListener(P),null!==L&&google.maps.event.removeListener(L),null!==R&&google.maps.event.removeListener(R),null!==B&&google.maps.event.removeListener(B),null!==V&&google.maps.event.removeListener(V),null!==H&&google.maps.event.removeListener(H),null!==Y&&google.maps.event.removeListener(Y),null!==$&&google.maps.event.removeListener($),null!==Q&&google.maps.event.removeListener(Q),null!==ne&&google.maps.event.removeListener(ne),null!==oe&&google.maps.event.removeListener(oe),b&&b(e),e.setMap(null)}}),[]),null}));var wd=function(e){Pe(n,e);var t=De(n);function n(){var e;return Ce(this,n),(e=t.apply(this,arguments)).registeredEvents=[],e.state={rectangle:null},e.setRectangleCallback=function(){null!==e.state.rectangle&&e.props.onLoad&&e.props.onLoad(e.state.rectangle)},e}return Te(n,[{key:"componentDidMount",value:function(){var e=new google.maps.Rectangle(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=Fc({updaterMap:_d,eventMap:bd,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{rectangle:e}}),this.setRectangleCallback)}},{key:"componentDidUpdate",value:function(e){null!==this.state.rectangle&&(zc(this.registeredEvents),this.registeredEvents=Fc({updaterMap:_d,eventMap:bd,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}},{key:"componentWillUnmount",value:function(){null!==this.state.rectangle&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),zc(this.registeredEvents),this.state.rectangle.setMap(null))}},{key:"render",value:function(){return null}}]),n}(t.PureComponent);wd.contextType=Lc;var kd={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Sd={center:function(e,t){e.setCenter(t)},draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},radius:function(e,t){e.setRadius(t)},visible:function(e,t){e.setVisible(t)}},Cd={};(0,t.memo)((function(e){var n=e.options,i=e.center,r=e.radius,o=e.draggable,a=e.editable,s=e.visible,l=e.onDblClick,c=e.onDragEnd,u=e.onDragStart,d=e.onMouseDown,h=e.onMouseMove,p=e.onMouseOut,f=e.onMouseOver,m=e.onMouseUp,g=e.onRightClick,v=e.onClick,y=e.onDrag,x=e.onCenterChanged,b=e.onRadiusChanged,_=e.onLoad,w=e.onUnmount,k=(0,t.useContext)(Lc),S=pe((0,t.useState)(null),2),C=S[0],E=S[1],T=pe((0,t.useState)(null),2),M=T[0],P=T[1],A=pe((0,t.useState)(null),2),I=A[0],L=A[1],D=pe((0,t.useState)(null),2),O=D[0],R=D[1],z=pe((0,t.useState)(null),2),F=z[0],B=z[1],N=pe((0,t.useState)(null),2),j=N[0],V=N[1],W=pe((0,t.useState)(null),2),U=W[0],H=W[1],X=pe((0,t.useState)(null),2),G=X[0],Y=X[1],q=pe((0,t.useState)(null),2),K=q[0],$=q[1],Z=pe((0,t.useState)(null),2),J=Z[0],Q=Z[1],ee=pe((0,t.useState)(null),2),te=ee[0],ne=ee[1],ie=pe((0,t.useState)(null),2),re=ie[0],oe=ie[1],ae=pe((0,t.useState)(null),2),se=ae[0],le=ae[1],ce=pe((0,t.useState)(null),2),ue=ce[0],de=ce[1];return(0,t.useEffect)((function(){null!==C&&C.setMap(k)}),[k]),(0,t.useEffect)((function(){"undefined"!==typeof n&&null!==C&&C.setOptions(n)}),[C,n]),(0,t.useEffect)((function(){"undefined"!==typeof o&&null!==C&&C.setDraggable(o)}),[C,o]),(0,t.useEffect)((function(){"undefined"!==typeof a&&null!==C&&C.setEditable(a)}),[C,a]),(0,t.useEffect)((function(){"undefined"!==typeof s&&null!==C&&C.setVisible(s)}),[C,s]),(0,t.useEffect)((function(){"number"===typeof r&&null!==C&&C.setRadius(r)}),[C,r]),(0,t.useEffect)((function(){"undefined"!==typeof i&&null!==C&&C.setCenter(i)}),[C,i]),(0,t.useEffect)((function(){C&&l&&(null!==M&&google.maps.event.removeListener(M),P(google.maps.event.addListener(C,"dblclick",l)))}),[l]),(0,t.useEffect)((function(){C&&c&&(null!==I&&google.maps.event.removeListener(I),L(google.maps.event.addListener(C,"dragend",c)))}),[c]),(0,t.useEffect)((function(){C&&u&&(null!==O&&google.maps.event.removeListener(O),R(google.maps.event.addListener(C,"dragstart",u)))}),[u]),(0,t.useEffect)((function(){C&&d&&(null!==F&&google.maps.event.removeListener(F),B(google.maps.event.addListener(C,"mousedown",d)))}),[d]),(0,t.useEffect)((function(){C&&h&&(null!==j&&google.maps.event.removeListener(j),V(google.maps.event.addListener(C,"mousemove",h)))}),[h]),(0,t.useEffect)((function(){C&&p&&(null!==U&&google.maps.event.removeListener(U),H(google.maps.event.addListener(C,"mouseout",p)))}),[p]),(0,t.useEffect)((function(){C&&f&&(null!==G&&google.maps.event.removeListener(G),Y(google.maps.event.addListener(C,"mouseover",f)))}),[f]),(0,t.useEffect)((function(){C&&m&&(null!==K&&google.maps.event.removeListener(K),$(google.maps.event.addListener(C,"mouseup",m)))}),[m]),(0,t.useEffect)((function(){C&&g&&(null!==J&&google.maps.event.removeListener(J),Q(google.maps.event.addListener(C,"rightclick",g)))}),[g]),(0,t.useEffect)((function(){C&&v&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(C,"click",v)))}),[v]),(0,t.useEffect)((function(){C&&y&&(null!==re&&google.maps.event.removeListener(re),oe(google.maps.event.addListener(C,"drag",y)))}),[y]),(0,t.useEffect)((function(){C&&x&&(null!==se&&google.maps.event.removeListener(se),le(google.maps.event.addListener(C,"center_changed",x)))}),[v]),(0,t.useEffect)((function(){C&&b&&(null!==ue&&google.maps.event.removeListener(ue),de(google.maps.event.addListener(C,"radius_changed",b)))}),[b]),(0,t.useEffect)((function(){var e=new google.maps.Circle(Object.assign(Object.assign({},n||Cd),{map:k}));return"number"===typeof r&&e.setRadius(r),"undefined"!==typeof i&&e.setCenter(i),"number"===typeof r&&e.setRadius(r),"undefined"!==typeof s&&e.setVisible(s),"undefined"!==typeof a&&e.setEditable(a),"undefined"!==typeof o&&e.setDraggable(o),l&&P(google.maps.event.addListener(e,"dblclick",l)),c&&L(google.maps.event.addListener(e,"dragend",c)),u&&R(google.maps.event.addListener(e,"dragstart",u)),d&&B(google.maps.event.addListener(e,"mousedown",d)),h&&V(google.maps.event.addListener(e,"mousemove",h)),p&&H(google.maps.event.addListener(e,"mouseout",p)),f&&Y(google.maps.event.addListener(e,"mouseover",f)),m&&$(google.maps.event.addListener(e,"mouseup",m)),g&&Q(google.maps.event.addListener(e,"rightclick",g)),v&&ne(google.maps.event.addListener(e,"click",v)),y&&oe(google.maps.event.addListener(e,"drag",y)),x&&le(google.maps.event.addListener(e,"center_changed",x)),b&&de(google.maps.event.addListener(e,"radius_changed",b)),E(e),_&&_(e),function(){null!==M&&google.maps.event.removeListener(M),null!==I&&google.maps.event.removeListener(I),null!==O&&google.maps.event.removeListener(O),null!==F&&google.maps.event.removeListener(F),null!==j&&google.maps.event.removeListener(j),null!==U&&google.maps.event.removeListener(U),null!==G&&google.maps.event.removeListener(G),null!==K&&google.maps.event.removeListener(K),null!==J&&google.maps.event.removeListener(J),null!==te&&google.maps.event.removeListener(te),null!==se&&google.maps.event.removeListener(se),null!==ue&&google.maps.event.removeListener(ue),w&&w(e),e.setMap(null)}}),[]),null}));var Ed=function(e){Pe(n,e);var t=De(n);function n(){var e;return Ce(this,n),(e=t.apply(this,arguments)).registeredEvents=[],e.state={circle:null},e.setCircleCallback=function(){null!==e.state.circle&&e.props.onLoad&&e.props.onLoad(e.state.circle)},e}return Te(n,[{key:"componentDidMount",value:function(){var e=new google.maps.Circle(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=Fc({updaterMap:Sd,eventMap:kd,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{circle:e}}),this.setCircleCallback)}},{key:"componentDidUpdate",value:function(e){null!==this.state.circle&&(zc(this.registeredEvents),this.registeredEvents=Fc({updaterMap:Sd,eventMap:kd,prevProps:e,nextProps:this.props,instance:this.state.circle}))}},{key:"componentWillUnmount",value:function(){null!==this.state.circle&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),zc(this.registeredEvents),this.state.circle&&this.state.circle.setMap(null))}},{key:"render",value:function(){return null}}]),n}(t.PureComponent);Ed.contextType=Lc;var Td={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},Md={add:function(e,t){e.add(t)},addgeojson:function(e,t,n){e.addGeoJson(t,n)},contains:function(e,t){e.contains(t)},foreach:function(e,t){e.forEach(t)},loadgeojson:function(e,t,n,i){e.loadGeoJson(t,n,i)},overridestyle:function(e,t,n){e.overrideStyle(t,n)},remove:function(e,t){e.remove(t)},revertstyle:function(e,t){e.revertStyle(t)},controlposition:function(e,t){e.setControlPosition(t)},controls:function(e,t){e.setControls(t)},drawingmode:function(e,t){e.setDrawingMode(t)},map:function(e,t){e.setMap(t)},style:function(e,t){e.setStyle(t)},togeojson:function(e,t){e.toGeoJson(t)}};(0,t.memo)((function(e){var n=e.options,i=e.onClick,r=e.onDblClick,o=e.onMouseDown,a=e.onMouseMove,s=e.onMouseOut,l=e.onMouseOver,c=e.onMouseUp,u=e.onRightClick,d=e.onAddFeature,h=e.onRemoveFeature,p=e.onRemoveProperty,f=e.onSetGeometry,m=e.onSetProperty,g=e.onLoad,v=e.onUnmount,y=(0,t.useContext)(Lc),x=pe((0,t.useState)(null),2),b=x[0],_=x[1],w=pe((0,t.useState)(null),2),k=w[0],S=w[1],C=pe((0,t.useState)(null),2),E=C[0],T=C[1],M=pe((0,t.useState)(null),2),P=M[0],A=M[1],I=pe((0,t.useState)(null),2),L=I[0],D=I[1],O=pe((0,t.useState)(null),2),R=O[0],z=O[1],F=pe((0,t.useState)(null),2),B=F[0],N=F[1],j=pe((0,t.useState)(null),2),V=j[0],W=j[1],U=pe((0,t.useState)(null),2),H=U[0],X=U[1],G=pe((0,t.useState)(null),2),Y=G[0],q=G[1],K=pe((0,t.useState)(null),2),$=K[0],Z=K[1],J=pe((0,t.useState)(null),2),Q=J[0],ee=J[1],te=pe((0,t.useState)(null),2),ne=te[0],ie=te[1],re=pe((0,t.useState)(null),2),oe=re[0],ae=re[1];return(0,t.useEffect)((function(){null!==b&&b.setMap(y)}),[y]),(0,t.useEffect)((function(){b&&r&&(null!==k&&google.maps.event.removeListener(k),S(google.maps.event.addListener(b,"dblclick",r)))}),[r]),(0,t.useEffect)((function(){b&&o&&(null!==E&&google.maps.event.removeListener(E),T(google.maps.event.addListener(b,"mousedown",o)))}),[o]),(0,t.useEffect)((function(){b&&a&&(null!==P&&google.maps.event.removeListener(P),A(google.maps.event.addListener(b,"mousemove",a)))}),[a]),(0,t.useEffect)((function(){b&&s&&(null!==L&&google.maps.event.removeListener(L),D(google.maps.event.addListener(b,"mouseout",s)))}),[s]),(0,t.useEffect)((function(){b&&l&&(null!==R&&google.maps.event.removeListener(R),z(google.maps.event.addListener(b,"mouseover",l)))}),[l]),(0,t.useEffect)((function(){b&&c&&(null!==B&&google.maps.event.removeListener(B),N(google.maps.event.addListener(b,"mouseup",c)))}),[c]),(0,t.useEffect)((function(){b&&u&&(null!==V&&google.maps.event.removeListener(V),W(google.maps.event.addListener(b,"rightclick",u)))}),[u]),(0,t.useEffect)((function(){b&&i&&(null!==H&&google.maps.event.removeListener(H),X(google.maps.event.addListener(b,"click",i)))}),[i]),(0,t.useEffect)((function(){b&&d&&(null!==Y&&google.maps.event.removeListener(Y),q(google.maps.event.addListener(b,"addfeature",d)))}),[d]),(0,t.useEffect)((function(){b&&h&&(null!==$&&google.maps.event.removeListener($),Z(google.maps.event.addListener(b,"removefeature",h)))}),[h]),(0,t.useEffect)((function(){b&&p&&(null!==Q&&google.maps.event.removeListener(Q),ee(google.maps.event.addListener(b,"removeproperty",p)))}),[p]),(0,t.useEffect)((function(){b&&f&&(null!==ne&&google.maps.event.removeListener(ne),ie(google.maps.event.addListener(b,"setgeometry",f)))}),[f]),(0,t.useEffect)((function(){b&&m&&(null!==oe&&google.maps.event.removeListener(oe),ae(google.maps.event.addListener(b,"setproperty",m)))}),[m]),(0,t.useEffect)((function(){if(null!==y){var e=new google.maps.Data(Object.assign(Object.assign({},n||{}),{map:y}));r&&S(google.maps.event.addListener(e,"dblclick",r)),o&&T(google.maps.event.addListener(e,"mousedown",o)),a&&A(google.maps.event.addListener(e,"mousemove",a)),s&&D(google.maps.event.addListener(e,"mouseout",s)),l&&z(google.maps.event.addListener(e,"mouseover",l)),c&&N(google.maps.event.addListener(e,"mouseup",c)),u&&W(google.maps.event.addListener(e,"rightclick",u)),i&&X(google.maps.event.addListener(e,"click",i)),d&&q(google.maps.event.addListener(e,"addfeature",d)),h&&Z(google.maps.event.addListener(e,"removefeature",h)),p&&ee(google.maps.event.addListener(e,"removeproperty",p)),f&&ie(google.maps.event.addListener(e,"setgeometry",f)),m&&ae(google.maps.event.addListener(e,"setproperty",m)),_(e),g&&g(e)}return function(){b&&(null!==k&&google.maps.event.removeListener(k),null!==E&&google.maps.event.removeListener(E),null!==P&&google.maps.event.removeListener(P),null!==L&&google.maps.event.removeListener(L),null!==R&&google.maps.event.removeListener(R),null!==B&&google.maps.event.removeListener(B),null!==V&&google.maps.event.removeListener(V),null!==H&&google.maps.event.removeListener(H),null!==Y&&google.maps.event.removeListener(Y),null!==$&&google.maps.event.removeListener($),null!==Q&&google.maps.event.removeListener(Q),null!==ne&&google.maps.event.removeListener(ne),null!==oe&&google.maps.event.removeListener(oe),v&&v(b),b.setMap(null))}}),[]),null}));var Pd=function(e){Pe(n,e);var t=De(n);function n(){var e;return Ce(this,n),(e=t.apply(this,arguments)).registeredEvents=[],e.state={data:null},e.setDataCallback=function(){null!==e.state.data&&e.props.onLoad&&e.props.onLoad(e.state.data)},e}return Te(n,[{key:"componentDidMount",value:function(){if(null!==this.context){var e=new google.maps.Data(Object.assign(Object.assign({},this.props.options||{}),{map:this.context}));this.registeredEvents=Fc({updaterMap:Md,eventMap:Td,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{data:e}}),this.setDataCallback)}}},{key:"componentDidUpdate",value:function(e){null!==this.state.data&&(zc(this.registeredEvents),this.registeredEvents=Fc({updaterMap:Md,eventMap:Td,prevProps:e,nextProps:this.props,instance:this.state.data}))}},{key:"componentWillUnmount",value:function(){null!==this.state.data&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),zc(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}},{key:"render",value:function(){return null}}]),n}(t.PureComponent);Pd.contextType=Lc;var Ad={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},Id={options:function(e,t){e.setOptions(t)},url:function(e,t){e.setUrl(t)},zIndex:function(e,t){e.setZIndex(t)}},Ld=function(e){Pe(n,e);var t=De(n);function n(){var e;return Ce(this,n),(e=t.apply(this,arguments)).registeredEvents=[],e.state={kmlLayer:null},e.setKmlLayerCallback=function(){null!==e.state.kmlLayer&&e.props.onLoad&&e.props.onLoad(e.state.kmlLayer)},e}return Te(n,[{key:"componentDidMount",value:function(){var e=new google.maps.KmlLayer(Object.assign(Object.assign({},this.props.options),{map:this.context}));this.registeredEvents=Fc({updaterMap:Id,eventMap:Ad,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{kmlLayer:e}}),this.setKmlLayerCallback)}},{key:"componentDidUpdate",value:function(e){null!==this.state.kmlLayer&&(zc(this.registeredEvents),this.registeredEvents=Fc({updaterMap:Id,eventMap:Ad,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}},{key:"componentWillUnmount",value:function(){null!==this.state.kmlLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),zc(this.registeredEvents),this.state.kmlLayer.setMap(null))}},{key:"render",value:function(){return null}}]),n}(t.PureComponent);function Dd(e,t){return"function"===typeof t?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function Od(e,t){return new t(e.lat,e.lng)}function Rd(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function zd(e,t,n,i){return void 0!==n?function(e,t,n){var i=e&&e.fromLatLngToDivPixel(n.getNorthEast()),r=e&&e.fromLatLngToDivPixel(n.getSouthWest());return i&&r?{left:"".concat(r.x+t.x,"px"),top:"".concat(i.y+t.y,"px"),width:"".concat(i.x-r.x-t.x,"px"),height:"".concat(r.y-i.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,n){return e instanceof t?e:n(e,t)}(n,google.maps.LatLngBounds,Rd)):function(e,t,n){var i=e&&e.fromLatLngToDivPixel(n);if(i){var r=i.x,o=i.y;return{left:"".concat(r+t.x,"px"),top:"".concat(o+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,n){return e instanceof t?e:n(e,t)}(i,google.maps.LatLng,Od))}function Fd(e){return e?(e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng))+"":""}function Bd(e){return e?(e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west)))+"":""}Ld.contextType=Lc;(0,t.memo)((function(e){var n=e.position,i=e.bounds,o=e.mapPaneName,a=e.zIndex,s=e.onLoad,l=e.onUnmount,c=e.getPixelPositionOffset,u=e.children,d=(0,t.useContext)(Lc),h=(0,t.useMemo)((function(){var e=document.createElement("div");return e.style.position="absolute",e}),[]),p=(0,t.useMemo)((function(){return function(e,t,n,i,r){var o=function(e){Pe(n,google.maps.OverlayView);var t=De(n);function n(e,i,r,o){var a;return Ce(this,n),(a=t.call(this)).container=e,a.pane=i,a.position=r,a.bounds=o,a}return Te(n,[{key:"onAdd",value:function(){var e,t=null===(e=this.getPanes())||void 0===e?void 0:e[this.pane];null===t||void 0===t||t.appendChild(this.container)}},{key:"draw",value:function(){for(var e=zd(this.getProjection(),Object.assign({},this.container?Dd(this.container,r):{x:0,y:0}),this.bounds,this.position),t=0,n=Object.entries(e);t<n.length;t++){var i=pe(n[t],2),o=i[0],a=i[1];this.container.style[o]=a}}},{key:"onRemove",value:function(){null!==this.container.parentNode&&this.container.parentNode.removeChild(this.container)}}]),n}();return new o(e,t,n,i)}(h,o,n,i,c)}),[h,o,n,i]);return(0,t.useEffect)((function(){return null===s||void 0===s||s(p),null===p||void 0===p||p.setMap(d),function(){null===l||void 0===l||l(p),null===p||void 0===p||p.setMap(null)}}),[d,p]),(0,t.useEffect)((function(){h.style.zIndex="".concat(a)}),[a,h]),r.createPortal(u,h)}));var Nd=function(e){Pe(i,e);var n=De(i);function i(e){var r;Ce(this,i),(r=n.call(this,e)).state={paneEl:null,containerStyle:{position:"absolute"}},r.updatePane=function(){var e=r.props.mapPaneName,t=r.overlayView.getPanes();Ic(!!e,"OverlayView requires props.mapPaneName but got %s",e),t?r.setState({paneEl:t[e]}):r.setState({paneEl:null})},r.onAdd=function(){var e,t;r.updatePane(),null===(t=(e=r.props).onLoad)||void 0===t||t.call(e,r.overlayView)},r.onPositionElement=function(){var e,t,n=zd(r.overlayView.getProjection(),Object.assign({x:0,y:0},r.containerRef.current?Dd(r.containerRef.current,r.props.getPixelPositionOffset):{}),r.props.bounds,r.props.position),i=r.state.containerStyle,o=i.left,a=i.top,s=i.width,l=i.height;t={left:o,top:a,width:s,height:l},((e=n).left!==t.left||e.top!==t.top||e.width!==t.height||e.height!==t.height)&&r.setState({containerStyle:Object.assign(Object.assign({},n),{position:"absolute"})})},r.draw=function(){r.onPositionElement()},r.onRemove=function(){var e,t;r.setState((function(){return{paneEl:null}})),null===(t=(e=r.props).onUnmount)||void 0===t||t.call(e,r.overlayView)},r.containerRef=(0,t.createRef)();var o=new google.maps.OverlayView;return o.onAdd=r.onAdd,o.draw=r.draw,o.onRemove=r.onRemove,r.overlayView=o,r}return Te(i,[{key:"componentDidMount",value:function(){this.overlayView.setMap(this.context)}},{key:"componentDidUpdate",value:function(e){var t=Fd(e.position),n=Fd(this.props.position),i=Bd(e.bounds),r=Bd(this.props.bounds);t===n&&i===r||this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}},{key:"componentWillUnmount",value:function(){this.overlayView.setMap(null)}},{key:"render",value:function(){var e=this.state.paneEl;return e?r.createPortal((0,fe.jsx)("div",Object.assign({ref:this.containerRef,style:this.state.containerStyle},{children:t.Children.only(this.props.children)})),e):null}}]),i}(t.PureComponent);Nd.FLOAT_PANE="floatPane",Nd.MAP_PANE="mapPane",Nd.MARKER_LAYER="markerLayer",Nd.OVERLAY_LAYER="overlayLayer",Nd.OVERLAY_MOUSE_TARGET="overlayMouseTarget",Nd.contextType=Lc;var jd={onDblClick:"dblclick",onClick:"click"},Vd={opacity:function(e,t){e.setOpacity(t)}};(0,t.memo)((function(e){var n=e.url,i=e.bounds,r=e.options,o=e.visible,a=(0,t.useContext)(Lc),s=new google.maps.LatLngBounds(new google.maps.LatLng(i.south,i.west),new google.maps.LatLng(i.north,i.east)),l=(0,t.useMemo)((function(){return new google.maps.GroundOverlay(n,s,Object.assign({},r))}),[]);return(0,t.useEffect)((function(){null!==l&&l.setMap(a)}),[a]),(0,t.useEffect)((function(){"undefined"!==typeof n&&null!==l&&(l.set("url",n),l.setMap(a))}),[l,n]),(0,t.useEffect)((function(){"undefined"!==typeof o&&null!==l&&l.setOpacity(o?1:0)}),[l,o]),(0,t.useEffect)((function(){var e=new google.maps.LatLngBounds(new google.maps.LatLng(i.south,i.west),new google.maps.LatLng(i.north,i.east));"undefined"!==typeof i&&null!==l&&(l.set("bounds",e),l.setMap(a))}),[l,i]),null}));var Wd=function(e){Pe(n,e);var t=De(n);function n(){var e;return Ce(this,n),(e=t.apply(this,arguments)).registeredEvents=[],e.state={groundOverlay:null},e.setGroundOverlayCallback=function(){null!==e.state.groundOverlay&&e.props.onLoad&&e.props.onLoad(e.state.groundOverlay)},e}return Te(n,[{key:"componentDidMount",value:function(){Ic(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,Object.assign(Object.assign({},this.props.options),{map:this.context}));this.registeredEvents=Fc({updaterMap:Vd,eventMap:jd,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{groundOverlay:e}}),this.setGroundOverlayCallback)}},{key:"componentDidUpdate",value:function(e){null!==this.state.groundOverlay&&(zc(this.registeredEvents),this.registeredEvents=Fc({updaterMap:Vd,eventMap:jd,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}},{key:"componentWillUnmount",value:function(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}},{key:"render",value:function(){return null}}]),n}(t.PureComponent);Wd.defaultProps={onLoad:function(){}},Wd.contextType=Lc;var Ud={},Hd={data:function(e,t){e.setData(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)}};(0,t.memo)((function(e){var n=e.data,i=e.onLoad,r=e.onUnmount,o=e.options,a=(0,t.useContext)(Lc),s=pe((0,t.useState)(null),2),l=s[0],c=s[1];return(0,t.useEffect)((function(){google.maps.visualization||Ic(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)}),[]),(0,t.useEffect)((function(){Ic(!!n,"data property is required in HeatmapLayer %s",n)}),[n]),(0,t.useEffect)((function(){null!==l&&l.setMap(a)}),[a]),(0,t.useEffect)((function(){o&&null!==l&&l.setOptions(o)}),[l,o]),(0,t.useEffect)((function(){var e=new google.maps.visualization.HeatmapLayer(Object.assign(Object.assign({},o||{}),{data:n,map:a}));return c(e),i&&i(e),function(){null!==l&&(r&&r(l),l.setMap(null))}}),[]),null}));var Xd=function(e){Pe(n,e);var t=De(n);function n(){var e;return Ce(this,n),(e=t.apply(this,arguments)).registeredEvents=[],e.state={heatmapLayer:null},e.setHeatmapLayerCallback=function(){null!==e.state.heatmapLayer&&e.props.onLoad&&e.props.onLoad(e.state.heatmapLayer)},e}return Te(n,[{key:"componentDidMount",value:function(){Ic(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Ic(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Object.assign(Object.assign({},this.props.options||{}),{data:this.props.data,map:this.context}));this.registeredEvents=Fc({updaterMap:Hd,eventMap:Ud,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{heatmapLayer:e}}),this.setHeatmapLayerCallback)}},{key:"componentDidUpdate",value:function(e){zc(this.registeredEvents),this.registeredEvents=Fc({updaterMap:Hd,eventMap:Ud,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}},{key:"componentWillUnmount",value:function(){null!==this.state.heatmapLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),zc(this.registeredEvents),this.state.heatmapLayer.setMap(null))}},{key:"render",value:function(){return null}}]),n}(t.PureComponent);Xd.contextType=Lc;var Gd={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},Yd={register:function(e,t,n){e.registerPanoProvider(t,n)},links:function(e,t){e.setLinks(t)},motionTracking:function(e,t){e.setMotionTracking(t)},options:function(e,t){e.setOptions(t)},pano:function(e,t){e.setPano(t)},position:function(e,t){e.setPosition(t)},pov:function(e,t){e.setPov(t)},visible:function(e,t){e.setVisible(t)},zoom:function(e,t){e.setZoom(t)}},qd=function(e){Pe(n,e);var t=De(n);function n(){var e;return Ce(this,n),(e=t.apply(this,arguments)).registeredEvents=[],e.state={streetViewPanorama:null},e.setStreetViewPanoramaCallback=function(){null!==e.state.streetViewPanorama&&e.props.onLoad&&e.props.onLoad(e.state.streetViewPanorama)},e}return Te(n,[{key:"componentDidMount",value:function(){var e=this.context.getStreetView();this.registeredEvents=Fc({updaterMap:Yd,eventMap:Gd,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{streetViewPanorama:e}}),this.setStreetViewPanoramaCallback)}},{key:"componentDidUpdate",value:function(e){null!==this.state.streetViewPanorama&&(zc(this.registeredEvents),this.registeredEvents=Fc({updaterMap:Yd,eventMap:Gd,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}},{key:"componentWillUnmount",value:function(){null!==this.state.streetViewPanorama&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),zc(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}},{key:"render",value:function(){return null}}]),n}(t.PureComponent);qd.contextType=Lc;var Kd=function(e){Pe(n,e);var t=De(n);function n(){var e;return Ce(this,n),(e=t.apply(this,arguments)).state={streetViewService:null},e.setStreetViewServiceCallback=function(){null!==e.state.streetViewService&&e.props.onLoad&&e.props.onLoad(e.state.streetViewService)},e}return Te(n,[{key:"componentDidMount",value:function(){var e=new google.maps.StreetViewService;this.setState((function(){return{streetViewService:e}}),this.setStreetViewServiceCallback)}},{key:"componentWillUnmount",value:function(){null!==this.state.streetViewService&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}},{key:"render",value:function(){return null}}]),n}(t.PureComponent);Kd.contextType=Lc;t.PureComponent;var $d={onDirectionsChanged:"directions_changed"},Zd={directions:function(e,t){e.setDirections(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},panel:function(e,t){e.setPanel(t)},routeIndex:function(e,t){e.setRouteIndex(t)}},Jd=function(e){Pe(n,e);var t=De(n);function n(){var e;return Ce(this,n),(e=t.apply(this,arguments)).registeredEvents=[],e.state={directionsRenderer:null},e.setDirectionsRendererCallback=function(){null!==e.state.directionsRenderer&&(e.state.directionsRenderer.setMap(e.context),e.props.onLoad&&e.props.onLoad(e.state.directionsRenderer))},e}return Te(n,[{key:"componentDidMount",value:function(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Fc({updaterMap:Zd,eventMap:$d,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{directionsRenderer:e}}),this.setDirectionsRendererCallback)}},{key:"componentDidUpdate",value:function(e){null!==this.state.directionsRenderer&&(zc(this.registeredEvents),this.registeredEvents=Fc({updaterMap:Zd,eventMap:$d,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}},{key:"componentWillUnmount",value:function(){null!==this.state.directionsRenderer&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),zc(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}},{key:"render",value:function(){return(0,fe.jsx)(fe.Fragment,{})}}]),n}(t.PureComponent);Jd.contextType=Lc;t.PureComponent;var Qd={onPlacesChanged:"places_changed"},eh={bounds:function(e,t){e.setBounds(t)}},th=function(e){Pe(i,e);var n=De(i);function i(){var e;return Ce(this,i),(e=n.apply(this,arguments)).registeredEvents=[],e.containerElement=(0,t.createRef)(),e.state={searchBox:null},e.setSearchBoxCallback=function(){null!==e.state.searchBox&&e.props.onLoad&&e.props.onLoad(e.state.searchBox)},e}return Te(i,[{key:"componentDidMount",value:function(){if(Ic(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),null!==this.containerElement&&null!==this.containerElement.current){var e=this.containerElement.current.querySelector("input");if(null!==e){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=Fc({updaterMap:eh,eventMap:Qd,prevProps:{},nextProps:this.props,instance:t}),this.setState((function(){return{searchBox:t}}),this.setSearchBoxCallback)}}}},{key:"componentDidUpdate",value:function(e){null!==this.state.searchBox&&(zc(this.registeredEvents),this.registeredEvents=Fc({updaterMap:eh,eventMap:Qd,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}},{key:"componentWillUnmount",value:function(){null!==this.state.searchBox&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),zc(this.registeredEvents))}},{key:"render",value:function(){return(0,fe.jsx)("div",Object.assign({ref:this.containerElement},{children:t.Children.only(this.props.children)}))}}]),i}(t.PureComponent);th.contextType=Lc;var nh={onPlaceChanged:"place_changed"},ih={bounds:function(e,t){e.setBounds(t)},restrictions:function(e,t){e.setComponentRestrictions(t)},fields:function(e,t){e.setFields(t)},options:function(e,t){e.setOptions(t)},types:function(e,t){e.setTypes(t)}},rh=function(e){Pe(i,e);var n=De(i);function i(){var e;return Ce(this,i),(e=n.apply(this,arguments)).registeredEvents=[],e.containerElement=(0,t.createRef)(),e.state={autocomplete:null},e.setAutocompleteCallback=function(){null!==e.state.autocomplete&&e.props.onLoad&&e.props.onLoad(e.state.autocomplete)},e}return Te(i,[{key:"componentDidMount",value:function(){Ic(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var e=this.containerElement.current.querySelector("input");if(e){var t=new google.maps.places.Autocomplete(e,this.props.options);this.registeredEvents=Fc({updaterMap:ih,eventMap:nh,prevProps:{},nextProps:this.props,instance:t}),this.setState((function(){return{autocomplete:t}}),this.setAutocompleteCallback)}}},{key:"componentDidUpdate",value:function(e){zc(this.registeredEvents),this.registeredEvents=Fc({updaterMap:ih,eventMap:nh,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}},{key:"componentWillUnmount",value:function(){null!==this.state.autocomplete&&zc(this.registeredEvents)}},{key:"render",value:function(){return(0,fe.jsx)("div",Object.assign({ref:this.containerElement,className:this.props.className},{children:t.Children.only(this.props.children)}))}}]),i}(t.PureComponent);rh.defaultProps={className:""},rh.contextType=Lc;var oh="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGEAAAAoCAYAAADuUZQHAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAChxJREFUaIHtm2twVdUVx39rn3tzb3Jv3iEGkNiamAQlAQQGdbDGapXwUkFap+3UviyCVmtrlZlO2/Q1Fp06bcUH6nRqO2NbmNGOUImKiq3Tl2KBJJAERXmZhEAw5JLcxzln9UNIjJLHveReC9j/lyRnr7322ud/9lp7r70i/B/Mu/WBSoM1U3CmF8a2zyrp3liSGdsfU+X3ncIPatcRTeX4nlQqP5Vx3c0PF9pp7q2q3ACcB4piaE+bxsH8KqYfeZhxkR135ykAK1Npy8eOhKvuvC+QFgn8MIZ7C0rGUDKKYVdwEeMiO1Dk6xWVU6Z4VL/W0NDQngqbTCqUnqpYcMvqi9MiGVtBvwtDE9CPsKcAAAVH4bKYMXXnzpiRnQq7PjYkzL9t9Q0YeRkojUc+O/YOAJbobxC5BtXJnmi0rqqqKpBs284od1RdXe057CmsFtwlINPV1T2uK9/75JTLL0X1ceL86Hx2p57T+ZTs6Mp9K0TaT5u3bz9WXlX1RVFdG1ZdDXwlmXaf9iSU1tT4AtHAZ1wxiztVrxHVPBAARGR2MDu/WkRzdVQC9N+q8lcx+nLTlpcONPTkbUKkRFQfgvYbRTVfQQzsTfYcJNkKPwrMWLgwI9abXoOri1VYIJA1lJxleSkqnYVlpQ2rS2EtYn7yl18vbxj8vKKycobCZiCI6iOIfE3g+ab6+kWAm8z5xE2C3XLlfJA1wMRkGnAc+1GWecpfeHY4gdk1X8jqiUUXiLIYqGGUwAqQP7GCQHbRkG0CXah8ef3qFX8ern95VdUiVJ9GFaAl5vNdtHvLlq5RZ5MgEnBH8gipIQDgbIRHgOLBDyuuuC7fq9YiRJb0RqNXCvjiVej1BQhknzVkm0AXyNz1q1f8cyQdzdu3P1NeWfkzRL4PZHvAG+/4iSCRmHB2KgwYhEkAF1QvLfIYuVZFlwDVyMnFraz8YoZZ6A7INesfGJmAfjRXVPyovKnpU8BlEovdD3zpZOwZCQm4o89osgf/MC677XyOxloRFI/HR874UvwZuRgrefsHEwLz3olTcVyHWCyKYzsntNnOMVo7NqBqMy7v8nC6b8I2QZ60rPQ1GzfeFhmzTWNVkEx0x94dIKCoZCYZmeOSSgAumKNDf0uWsfD70vGmnRjEPVaA7OAUAN47+oZfVWcr+ivb6flXTc2qMXuIU3KLmjO+FGMl3/2aXgb2NfMu2cklVS3kBKMEMyyMZfFeKEjT23m89FohW3Z88HCcFZxMd++bxOwueiP7yfBPAphqO7qhpubXs8eyIk5JEvwZuSnRK71Qfk4HKxa/iM8bITsriNf7/pef4Q8xoSDEp2ftpfGtHO574gLaO/3HWw1Zgckc6XqNo6GGfhIApsacnm8AD5y0XfEKfhQx4cLlOQAUn1+dEv2zAvu5aeEmjCXk5WRhzMjT7wp5ueuXM9jb1pepUHU40P4UrkaxjH/gp9eTT29oH4z+hhygVZVnReTnzc3b34ZBJJSVVZ5rDCtVqQHGA9bg3o3rh95vJxOpJCFgRbn/+j8iYpOXl4PHii8cHjiYwYp7ZhONGcLRVjoOb0aHPKsJxDQeIvoRAlna3Ly9zgCUlVXWiLBNlZvo24paI/c//XDTpX8HbDL8/rgJAJhY2MP8OfuxnRCHjvxtgIDSkhLqt2xhw9NPM2/uXEDBK4nkIIKgaysqpn3ClJVVnivC2r6HZy7KCw8A4EsfPoUxHD514UGOhhpx3Rhzr7oKyxje2bMH6CPj/nvvpebqqwFN9PPNVHVWGmNYyRlOAIAxfTeUHivxRT6p6BjhyLsA3Lp8OePHj8e2bdra37/jWbFs2fGBElZfY47HgP9jFDhuGIBziovJzMwEIBQKDbSfU1w8ZL84UGSAwrGZd3rA0T43ZA9xIh4N+9oCGJMOwJ69ewmH+wjx+/0DMv3u6STQZoCU3Jueamhu7zvYRiKJF0688sZZpPsmAPDgmjW0trUhIowrKBiQeWjNmr5fEud4o1FlY8LdTkM8/urFIF56esPYTvxvav/BDJ59dSJZwfMxxsvGujrC4TDjCgpIS0ujZdcuvnXnndQ9/zwikigJ3cbY9xhgFRAaTfp0xzE7jcfWXw4YurpCuO7o9zJdIS8/XjOVaMzgsYIU5FyKSF9gP9jRQdXMmSxasmSAAI0mdJ7tFjFLd+7cuce0tNTvBlkKdJ/M5FIBdRNf0/HgP3sn8ss/zaM3mkZnZzexqD2s7PZdudy+ahb72t+/O/L7xmOZvr+NlY6IheUJkuGbhEbiOqg59F2PrjHGrmxq2vYcDDpaVFRM+4SqsxKYB0zgf3hiHnf2FNKzCkaRThyD09hzL97JnKoWsjNjBNMFy+PhSHdfAu+VNybwWsOJRRXhSBsHO1/EMn4mnrWY/tenIt/c9Nzdq0/WroEEXlPT1neAm4cXLUp57qhvUsp7HbvxBbKTnkl1M8B0AQp1/5hM3T8mDykXCYeBE1fJ0WONAGQGyhn0/W7Nzep9dCx2nVL3CRMD0/AYH7FID627X6fnaAfqDu8yEoYBd5SqoWgshu2cOGY42k440oYxaQQzyvsfb3Vse8G6dbVjqlU9pVLZPiuL4uBFxNxeumOtHDnQwiGNJaRDEALeAnLOLsOkn7iSNEvQHkUGxWVVxXVd7GEIUHU40vVvADIDk6OWSdviCk/mZvU+OlYC+myOEx9FKttT9sIH7JmxcGGG3Zt+g6ouB2Ymois9s4Bxk6YM06rPzMw/dF1tbW1cpSsVVVW1qvpDgR2W605vbGxMapV2IiTsI7WX/fs8ZS8Me/afdsXnZjmiy0X1BiB9dHXC+JKZeH1D+x9RfaK74NDXN9fWjujvyqZOnYPrbhYwLlTvqq//6+hjJ4b4Y4KyDNifbAOOYx8qy0YS2Prin16r37T2qxrxTlSRbwMtI6tUOltbGG7fqCI3Bg8Xvr7w9gdnDaehpKqqUFz3SenbKYpRPekE0Ug4LSvw+jH1yqVzQG5T1WsZpiYot+g8MvNGLJdyENkoqk+i7j/fjabt3/LoslhpaanP8vs3ITIH1VcRiQAXWcbM3rFtW2My53Fak9CPC6qXFhkjN4roCj5UQKYibxZPvuwdgSvj0SXqOrn2W3Zp5x919yHH/6+OwlbHeGYZEa86zpuobmpuaJibTPtPqS3qyaJx87q2+pfWrspzOkoQuV6F54FDKK9gnIUuzhLQl+LRpWKsTu95vob8b/inFxzh8+fuqmvZtq1VHWcVIAJjOhMMhTNiJcSDpbVr03oPdzxGAhV0sw//gpzY7rbVTZW/A+5S+E5Lff39ybbtjFgJ8WBd7WejGx645UZxdSHKgfh6KbYrXuAugQdTQQB8jEjox/oHb92Q7lKh6B3AvuHkgnYr2fY+bDV/QOSOpoqK21Nl08fGHQ2F2tpa83pHwWwVmS8iMxW31KPRCXmRXVLRva4r3T7024/iX2j/CyycxXc4i1VqAAAAAElFTkSuQmCC";var ah=function(e){var n=e.dest,i=e.pickUp,r=e.directions,o=e.setDirections,a=(0,t.useRef)(),s=(0,t.useMemo)((function(){return{lat:-1.2878412,lng:36.8278173}}),[]),l=(0,t.useMemo)((function(){return i}),[i]),c=(0,t.useMemo)((function(){return n}),[n]),u=(0,t.useMemo)((function(){return{disableDefaultUI:!1,clickableIcons:!1}}),[]),d=(0,t.useCallback)((function(e){return a.current=e}),[]);return(0,fe.jsx)("div",{className:"w-full h-screen bg-white",children:(0,fe.jsxs)(jc,{zoom:16,center:s,options:u,onLoad:d,mapContainerClassName:"w-full h-screen",children:[r&&(0,fe.jsx)(Jd,{directions:r,options:{suppressMarkers:!0,polylineOptions:{zIndex:50,strokeColor:"#ffc107",strokeWeight:5}}}),(0,fe.jsx)(pu,{position:l,onClick:function(){(new window.google.maps.DirectionsService).route({origin:l,destination:c,travelMode:window.google.maps.TravelMode.DRIVING},(function(e,t){"OK"===t&&e&&o(e)}))}}),(0,fe.jsx)(pu,{position:c,icon:oh})]})})},sh=Pc({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BASE_URL);var lh=X((function(e){return{riders:e.ridersDetails.riders}}),{rider_route:function(e){return function(){var t=re(ne().mark((function t(n){var i,r,o;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e(we);case 3:return n({type:"FETCH_RIDERS"}),t.next=6,we.get("/api/rider-path/".concat(e));case 6:return i=t.sent,r=i.data,[],n({type:"FETCH_RIDERS_SUCCESSFUL",payload:o=r}),t.abrupt("return",o);case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0),n({type:"FETCH_RIDERS_FAIL"});case 19:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()},fetchpackages:cs})((function(e){var n=Ft(),i=pe((0,t.useState)({lat:-1.2850204,lng:36.8259191}),2),r=i[0],o=i[1],a=pe((0,t.useState)(!0),2),s=a[0],l=a[1],c=pe((0,t.useState)({}),2),u=c[0],d=c[1],h=pe((0,t.useState)(),2),p=h[0],f=h[1],m=function(){var t=re(ne().mark((function t(){var i;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.rider_route(n.state.id);case 2:(i=t.sent).length>0&&(o({lat:parseFloat(i[0].lat),lng:parseFloat(i[0].lng)}),d({lat:parseFloat(i[9].lat),lng:parseFloat(i[5].lng)}),l(!1));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();(0,t.useEffect)((function(){sh.on("connection"),sh.emit("track_rider",{rider_id:n.state.id,user_id:"1322"}),sh.on("rider-".concat(n.state.id),(function(e){var t=e.coordinates,n=t.latitude,i=t.longitude;if(n&&i){var r={lat:n,lng:i};o(r),g(r)}})),sh.on("position-changed",(function(e){console.log("E",e.coordinates);var t={lat:e.coordinates.latitude,lng:e.coordinates.longitude};o(t),g(t)})),sh.on("change-coord",(function(e){o(e),g(e)})),sh.on("change-stat",(function(e){console.log(e)}))}),[sh]),(0,t.useEffect)((function(){m(),r.lat&&r.lng&&g(r)}),[r]);var g=function(e){e&&(new window.google.maps.DirectionsService).route({origin:u,destination:e,travelMode:window.google.maps.TravelMode.DRIVING},(function(e,t){"OK"===t&&e&&f(e)}))};return(0,fe.jsx)(Aa,{children:s?(0,fe.jsx)("div",{children:"Loading"}):(0,fe.jsx)(ah,{dest:r,directions:p,pickUp:u,setDirections:f})})}));X((function(e){return{}}),{get_riders:ss,assignRider:ls})((function(e){e.toggle;var n=e.show,i=e.data,r=pe((0,t.useState)(""),2);r[0],r[1],console.log(i[0]);var o=[{sortable:!0,name:"Name",minWidth:"250px",selector:function(e){var t;return null===(t=e.package)||void 0===t?void 0:t.packageName}},{sortable:!0,name:"Value",minWidth:"250px",selector:function(e){var t;return null===(t=e.package)||void 0===t?void 0:t.package_value}},{sortable:!0,name:"Sender",minWidth:"250px",selector:function(e){var t,n,i,r;return(0,fe.jsxs)(fe.Fragment,{children:[null===(t=e.package)||void 0===t||null===(n=t.createdBy)||void 0===n?void 0:n.f_name," ",null===(i=e.package)||void 0===i||null===(r=i.createdBy)||void 0===r?void 0:r.l_name]})}},{sortable:!0,name:"Sender Agent ",minWidth:"250px",selector:function(e){var t,n;return null===(t=e.package)||void 0===t||null===(n=t.senderAgentID)||void 0===n?void 0:n.name}},{sortable:!0,name:"Reciever Agent ",minWidth:"250px",selector:function(e){var t,n;return null===(t=e.package)||void 0===t||null===(n=t.receieverAgentID)||void 0===n?void 0:n.name}}];return(0,fe.jsx)(fe.Fragment,{children:n?(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)("div",{className:"flex justify-center items-center overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none min-width:screen",children:(0,fe.jsx)("div",{className:"relative w-full h-full rounded-sm my-6 mx-auto max-w-5xl  ",children:(0,fe.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[(0,fe.jsxs)("div",{className:"flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t ",children:[(0,fe.jsx)("h3",{className:"text-xl font=bold uppercase",children:"Packages assigned"}),(0,fe.jsx)("button",{className:"bg-transparent border-0 text-black float-right",onClick:e.toggle,children:(0,fe.jsx)("span",{className:"text-black opacity-7 h-6 w-6 text-xl  py-0 rounded-full flex justify-center items-center",children:"x"})})]}),(0,fe.jsx)("div",{className:"relative p-6 flex-auto ",children:(0,fe.jsx)(Wa.ZP,{columns:o,data:e.data,pagination:!0,paginationServer:!0,subHeader:!0,persistTableHead:!0})}),(0,fe.jsx)("div",{className:"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b",children:(0,fe.jsx)("button",{className:"text-green-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1",type:"button",onClick:e.toggle,children:"Ok"})})]})})})}):null})}));var ch=X((function(e){return{agents:e.agentsData.agents,riders:e.ridersDetails.riders,loading:e.ridersDetails.loading}}),{get_business:function(){return function(){var e=re(ne().mark((function e(t){var n,i,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e(we);case 3:return t({type:"FETCH_AGENTS"}),e.next=6,we.get("/api/all-businesses");case 6:return n=e.sent,i=n.data,[],r=i.bussiness,t({type:"FETCH_AGENTS_SUCCESSFUL",payload:r}),e.abrupt("return",r);case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),t({type:"FETCH_AGENTS_FAIL"});case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},activateShelf:function(e){return function(){var t=re(ne().mark((function t(n){var i,r,o;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e(we);case 3:return n({type:"FETCH_AGENTS"}),t.next=6,we.put("/api/activate-shelf/".concat(e));case 6:return i=t.sent,r=i.data,[],o=r.bussiness,n({type:"FETCH_AGENTS_SUCCESSFUL",payload:o}),t.abrupt("return",o);case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0),n({type:"FETCH_AGENTS_FAIL"});case 19:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var n=pe((0,t.useState)({width:"100vh",height:"800px",latitude:-1.286389,longitude:36.817223,zoom:12}),2),i=(n[0],n[1],pe(t.useState(""),2)),r=(i[0],i[1]),o=pe((0,t.useState)(""),2),a=o[0],s=(o[1],pe((0,t.useState)(""),2)),l=s[0],c=(s[1],pe((0,t.useState)(!1),2)),u=c[0],d=c[1],h=pe((0,t.useState)([]),2),p=h[0],f=h[1],m=pe((0,t.useState)({}),2),g=m[0],v=m[1],y=pe((0,t.useState)(!1),2),x=(y[0],y[1],pe(t.useState(!1),2)),b=x[0],_=(x[1],pe((0,t.useState)(10),2)),w=(_[0],_[1],pe((0,t.useState)(0),2)),k=w[0],S=(w[1],pe(t.useState([]),2)),C=(S[0],S[1],pe(t.useState([]),2)),E=C[0],T=C[1],M=pe((0,t.useState)([]),2),P=(M[0],M[1],function(e){r(e)}),A=[{sortable:!0,name:" Name",minWidth:"250px",selector:function(e){return(0,fe.jsx)(fe.Fragment,{children:e.name})}},{sortable:!0,name:"Action",minWidth:"250px",selector:function(e){return(0,fe.jsx)(fe.Fragment,{children:e.request_shelf&&(0,fe.jsx)("div",{onClick:function(){return I(e)},children:"Activate rent a shelf"})})}}],I=function(){var t=re(ne().mark((function t(n){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f(n._id),d(!0),v(n),t.next=5,e.activateShelf(n._id);case 5:return t.next=7,e.get_business();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),L=t.useMemo((function(){return(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)(Ha,{onChangeFilter:P,searchValue:a,date:l,download:function(){return Ga((function(){return e.FetchAdmins({date:l,limit:-1,download:!0,cursor:e.lastElement,q:a,enabled:!0})}),"".concat(k>0?k:"all","_users"))}})})}),[a,l]),D=function(){var t=re(ne().mark((function t(){var n;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get_business();case 2:n=t.sent,T(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,t.useEffect)((function(){D()}),[]),(0,fe.jsxs)(Aa,{children:[(0,fe.jsx)("div",{className:" mx-2 ",children:(0,fe.jsx)(Wa.ZP,{title:"Businesses",columns:A,data:E,pagination:!0,paginationServer:!0,progressPending:e.loading,conditionalRowStyles:[],paginationResetDefaultPage:b,subHeader:!0,subHeaderComponent:L,persistTableHead:!0,paginationTotalRows:k})}),(0,fe.jsx)(Os,{msg:"Approve ".concat(g.name," for Rent a Shelf service"),show:u,setShow:d,Submit:re(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.activateShelf(p);case 2:d(!1),D();case 4:case"end":return t.stop()}}),t)})))})]})}));var uh=X((function(e){return{}}),{shelfLocations:function(){return function(){var e=re(ne().mark((function e(t){var n,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e(we);case 3:return t({type:"FETCH_RS_AGENTS"}),e.next=6,we.get("/api/shelf-locations");case 6:return n=e.sent,i=n.data,t({type:"FETCH_RS_AGENTS_SUCCESSFUL",payload:i}),e.abrupt("return",i);case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),t({type:"FETCH_RS_AGENTS_FAIL"});case 18:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var n=pe((0,t.useState)([]),2),i=n[0],r=n[1],o=function(){var t=re(ne().mark((function t(){var n;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.shelfLocations();case 2:n=t.sent,console.log(n),r(n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,t.useEffect)((function(){o()}),[]),(0,fe.jsx)(Aa,{children:(0,fe.jsx)("div",{className:"flex w-full gap-x-20 ",children:i.map((function(e,t){return(0,fe.jsx)(La,{noCount:!1,obj:{title:"".concat(e.business_name),pathname:"/rent-a-shelf/".concat(e.business_name.replace(/\s/g,""),"/businesses"),id:e._id}})}))})})})),dh=X((function(e){return{agents:e.agentsData.rs_agents,loading:e.agentsData.loading}}),{rentShelfagentBusiness:function(e){return function(){var t=re(ne().mark((function t(n){var i,r,o;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e(we);case 3:return n({type:"FETCH_RS_AGENTS"}),t.next=6,we.get("/api/rent-shelf-business/".concat(e));case 6:return i=t.sent,r=i.data,o=r.bussiness,n({type:"FETCH_RS_AGENTS_SUCCESSFUL",payload:o}),t.abrupt("return",r);case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0),n({type:"FETCH_RS_AGENTS_FAIL"});case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var n,i=Ft(),r=pe((0,t.useState)([]),2),o=(r[0],r[1]),a=function(){var t=re(ne().mark((function t(){var n;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.rentShelfagentBusiness(i.state.id);case 2:n=t.sent,console.log("Packs",n),o(n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,t.useEffect)((function(){a()}),[]),console.log("Agents",null===(n=e.agents[0])||void 0===n?void 0:n.business_name),(0,fe.jsx)(Aa,{children:(0,fe.jsx)("div",{className:"w-full p-2 flex flex-wrap ",children:(0,fe.jsx)("div",{className:"flex  w-full",children:(0,fe.jsx)("div",{className:"flex flex-wrap gap-1  w-full",children:e.agents.map((function(e,t){var n;return(0,fe.jsx)("div",{className:"w-1/4 p-2",children:(0,fe.jsx)(on,{to:{pathname:"/rent-a-shelf/philadelphiahouse/business/".concat(null===e||void 0===e||null===(n=e.name)||void 0===n?void 0:n.replace(/\s/g,""))},state:{id:e._id},children:(0,fe.jsx)("div",{className:"m-1 w-full bg-red-100 flex flex-col pb-2",children:(0,fe.jsx)("div",{className:"m-1 w-full h-20  bg-red-100 flex justify-center items-center",children:(0,fe.jsx)("div",{className:"text-center justify-center items-center flex flex-col ",children:null===e||void 0===e?void 0:e.name})})})})},t)}))})})})})})),hh=[{sortable:!0,name:"Reciept",minWidth:"250px",style:{backgroundColor:"green",color:"white","&:hover":{cursor:"pointer"}},selector:function(e){return e.receipt_no}},{sortable:!0,name:"Name",minWidth:"250px",style:{backgroundColor:"green",color:"white","&:hover":{cursor:"pointer"}},selector:function(e){return e.packageName}},{sortable:!0,name:"Stored At ",minWidth:"250px",style:{backgroundColor:"green",color:"white","&:hover":{cursor:"pointer"}},selector:function(e){return hs()(e.createdAt).format("YYYY-MM-DD HH:mm:ss")}},{sortable:!0,name:"Collected ",minWidth:"250px",style:{backgroundColor:"green",color:"white","&:hover":{cursor:"pointer"}},selector:function(e){return hs()(e.createdAt).format("YYYY-MM-DD HH:mm:ss")}}],ph=[{sortable:!0,name:"Reciept",minWidth:"250px",style:{backgroundColor:"pink",color:"white","&:hover":{cursor:"pointer"}},selector:function(e){return e.receipt_no}},{sortable:!0,name:"Name",minWidth:"250px",style:{backgroundColor:"pink",color:"white","&:hover":{cursor:"pointer"}},selector:function(e){return e.packageName}},{sortable:!0,name:"Stored At ",minWidth:"250px",style:{backgroundColor:"pink",color:"white","&:hover":{cursor:"pointer"}},selector:function(e){return hs()(e.createdAt).format("YYYY-MM-DD HH:mm:ss")}},{sortable:!0,name:"Expected Collections ",minWidth:"250px",style:{backgroundColor:"pink",color:"white","&:hover":{cursor:"pointer"}},selector:function(e){return hs()(e.createdAt).format("YYYY-MM-DD HH:mm:ss")}}],fh=[{sortable:!0,name:"Reciept",minWidth:"250px",style:{backgroundColor:"red",color:"white","&:hover":{cursor:"pointer"}},selector:function(e){return e.receipt_no}},{sortable:!0,name:"Name",minWidth:"250px",style:{backgroundColor:"red",color:"white","&:hover":{cursor:"pointer"}},selector:function(e){return e.packageName}},{sortable:!0,name:"Stored At ",minWidth:"250px",style:{backgroundColor:"red",color:"white","&:hover":{cursor:"pointer"}},selector:function(e){return hs()(e.createdAt).format("YYYY-MM-DD HH:mm:ss")}},{sortable:!0,name:"Reasons",minWidth:"250px",style:{backgroundColor:"red",color:"white","&:hover":{cursor:"pointer"}},selector:function(e){return(0,fe.jsx)(fe.Fragment,{})}}];var mh=X((function(e){return{loading:e.PackageDetails.loading,rent_shelf:e.PackageDetails.rented_shelf_packages}}),{ShelfagentPackages:function(e){return function(){var t=re(ne().mark((function t(n){var i,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e(we);case 3:return n({type:"FETCH_TODOS"}),t.next=6,we.get("/api/rent-package/".concat(e));case 6:return i=t.sent,r=i.data,n({type:"FETCH_TODOS_SUCCESSFUL",payload:r}),t.abrupt("return",r);case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0),n({type:"FETCH_RS_AGENTS_FAIL"});case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},ShelfagentXPackages:function(e){return function(){var t=re(ne().mark((function t(n){var i,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e(we);case 3:return n({type:"FETCH_TODOS"}),t.next=6,we.get("/api/rent-package-expired/".concat(e));case 6:return i=t.sent,r=i.data,n({type:"FETCH_TODOS_SUCCESSFUL",payload:r}),t.abrupt("return",r);case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0),n({type:"FETCH_RS_AGENTS_FAIL"});case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},ShelfstatePackages:function(e,t){return function(){var n=re(ne().mark((function n(i){var r,o;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e(we);case 3:return i({type:"FETCH_TODOS"}),n.next=6,we.get("/api/rent-package/".concat(e,"/").concat(t));case 6:return r=n.sent,o=r.data,i({type:"FETCH_TODOS_SUCCESSFUL",payload:o}),n.abrupt("return",o);case 13:n.prev=13,n.t0=n.catch(0),console.log(n.t0),i({type:"FETCH_RS_AGENTS_FAIL"});case 18:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var n=pe(t.useState(""),2),i=(n[0],n[1]),r=pe((0,t.useState)(""),2),o=r[0],a=(r[1],Ft()),s=pe((0,t.useState)(""),2),l=s[0],c=(s[1],pe((0,t.useState)("sent"),2)),u=c[0],d=c[1],h=pe((0,t.useState)([]),2),p=h[0],f=h[1],m=pe(t.useState(!1),2),g=m[0],v=(m[1],pe((0,t.useState)(5),2)),y=(v[0],v[1],pe((0,t.useState)(5),2)),x=(y[0],y[1],pe((0,t.useState)(0),2)),b=x[0],_=(x[1],pe((0,t.useState)("all"),2)),w=(_[0],_[1],function(e){i(e)}),k=function(){var t=re(ne().mark((function t(){var n;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.ShelfagentPackages(a.state.id);case 2:n=t.sent,console.log("first",n),f(n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),S=function(){var t=re(ne().mark((function t(n){var i;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.ShelfstatePackages(a.state.id,n);case 2:i=t.sent,f(i);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),C=function(){var t=re(ne().mark((function t(){var n;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.ShelfagentXPackages(a.state.id);case 2:n=t.sent,d("expired"),f(n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),E=t.useMemo((function(){return(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)(Ha,{onChangeFilter:w,searchValue:o,date:l,download:function(){return Ga((function(){return e.FetchAdmins({date:l,limit:-1,download:!0,cursor:e.lastElement,q:o,enabled:!0})}),"".concat(b>0?b:"all","_users"))}})})}),[o,l]);return(0,t.useEffect)((function(){k()}),[]),(0,fe.jsxs)(Aa,{children:[(0,fe.jsxs)("div",{className:"w-full p-2 flex flex-wrap border-b border-slate-400 gap-x-1",children:[(0,fe.jsxs)("div",{className:"md:w-1/6 w-full flex flex-wrap p-2 shadow-md p-2 text-center bg-primary-500 justify-center items-center",onClick:re(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:d("sent");case 3:case"end":return e.stop()}}),e)}))),style:{backgroundColor:"sent"===u&&"gray"},children:["All Sent Packages ","sent"===u&&p.count]}),(0,fe.jsxs)("div",{className:"md:w-1/5 w-full flex flex-wrap p-2 shadow-md p-2 text-center bg-primary-500 justify-center items-center",onClick:re(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),style:{backgroundColor:"expired"===u&&"gray"},children:["Expired Packages ","sent"===u&&p.count]}),(0,fe.jsxs)("div",{className:"md:w-1/6 w-full flex flex-wrap p-2 shadow-md p-2 text-center bg-primary-500 justify-center items-center",onClick:re(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("collected");case 2:d("collected");case 3:case"end":return e.stop()}}),e)}))),style:{backgroundColor:"collected"===u&&"gray"},children:["Collected Packages ","collected"===u&&p.count]}),(0,fe.jsxs)("div",{className:"md:w-1/6 w-full flex flex-wrap p-2 shadow-md p-2 text-center bg-primary-500 justify-center items-center",onClick:re(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("pending-doorstep");case 2:d("shelf");case 3:case"end":return e.stop()}}),e)}))),style:{backgroundColor:"shelf"===u&&"gray"},children:["To door step ","sent"===u&&p.count]}),(0,fe.jsxs)("div",{className:"md:w-1/6 w-full flex flex-wrap p-2 shadow-md p-2 text-center bg-primary-500 justify-center items-center",onClick:re(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("pending-agent");case 2:d("pending-agent");case 3:case"end":return e.stop()}}),e)}))),style:{backgroundColor:"pending-agent"===u&&"gray"},children:["To agent Packages ","sent"===u&&p.count]})]}),(0,fe.jsx)("div",{className:" mx-2 my-10",children:(0,fe.jsx)(Wa.ZP,{title:"".concat(u," packages"),columns:"expired"===u?ph:"declined"===u?fh:hh,data:p,pagination:!0,paginationServer:!0,progressPending:e.loading,paginationResetDefaultPage:g,subHeader:!0,subHeaderComponent:E,persistTableHead:!0,paginationTotalRows:b})})]})}));var gh=X((function(e){return{destinations:e.Destination.destinations,loading:e.Destination.loading}}),{get_destinations:function(e){return function(){var e=re(ne().mark((function e(t){var n,i,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e(we);case 3:return t({type:"FETCH_DESTINATIONS_SUCCESSFUL"}),e.next=6,we.get("/api/doorstep-destinations");case 6:return n=e.sent,i=n.data,[],t({type:"FETCH_DESTINATIONS_SUCCESSFUL",payload:r=i}),e.abrupt("return",r);case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),t({type:"FETCH_DESTINATIONS_FAIL"});case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var n={name:"",email:"",phone_number:"",password:"",id:""},i=pe((0,t.useState)(!1),2),r=(i[0],i[1],pe((0,t.useState)(n),2)),o=(r[0],r[1],[{sortable:!0,name:"Name",minWidth:"10px",selector:function(e){var t,n,i;return(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)(on,{to:{pathname:"/agent/".concat(null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.name.replace(/\s/g,""))},state:{agent:null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.name,id:null===e||void 0===e||null===(i=e.user)||void 0===i?void 0:i._id},children:e.name})})}},{sortable:!0,name:"Price",minWidth:"10px",selector:function(e){return e.price}},{sortable:!0,name:"location",minWidth:"30px",wrap:!0,selector:function(e){var t;return null===(t=e.road)||void 0===t?void 0:t.name}},{sortable:!0,name:"Action",minWidth:"400px",selector:function(e){return(0,fe.jsx)("div",{className:"flex gap-x-2"})}}]),a=pe((0,t.useState)(""),2),s=a[0],l=(a[1],pe(t.useState(!1),2)),c=l[0],u=(l[1],pe((0,t.useState)(10),2)),d=(u[0],u[1],pe((0,t.useState)(0),2)),h=d[0],p=(d[1],pe(t.useState([]),2)),f=(p[0],p[1],pe((0,t.useState)(!1),2)),m=(f[0],f[1]),g=pe((0,t.useState)([]),2),v=(g[0],g[1],function(e){}),y=t.useMemo((function(){return(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Ha,{onChangeFilter:v,searchValue:s,download:function(){return Ga((function(){return e.FetchAdmins({limit:-1,download:!0,cursor:e.lastElement,q:s,enabled:!0})}),"".concat(h>0?h:"all","_users"))}}),(0,fe.jsx)("div",{className:"px-2 bg-primary-500 my-1 rounded-md py-1 mx-2",onClick:function(){return m(!0)},children:"Add New Door step Pricing "})]})}),[s]),x=function(){var t=re(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get_destinations();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,t.useEffect)((function(){x()}),[]),console.log(e.destinations),(0,fe.jsx)("div",{className:" mx-2",children:(0,fe.jsx)(Wa.ZP,{columns:o,data:e.destinations,pagination:!0,paginationServer:!0,paginationResetDefaultPage:c,subHeader:!0,subHeaderComponent:y,persistTableHead:!0,paginationTotalRows:h})})}));var vh=function(e){e.toggle;var t,n,i,r,o,a=e.show;return(0,fe.jsx)(fe.Fragment,{children:a?(0,fe.jsx)(fe.Fragment,{children:(0,fe.jsx)("div",{className:"flex justify-center items-center overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none min-width:screen",children:(0,fe.jsx)("div",{className:"relative w-1/2 rounded-sm my-6 mx-auto max-w-3xl  ",children:(0,fe.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[(0,fe.jsxs)("div",{className:"flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t ",children:[(0,fe.jsx)("h3",{className:"text-xl font=bold uppercase",children:"ADD Zone Price"}),(0,fe.jsx)("button",{className:"bg-transparent border-0 text-black float-right",onClick:e.toggle,children:(0,fe.jsx)("span",{className:"text-black opacity-7 h-6 w-6 text-xl  py-0 rounded-full flex justify-center items-center",children:"x"})})]}),(0,fe.jsx)("div",{className:"relative p-6 flex-auto",children:(0,fe.jsxs)("div",{className:"w-full flex flex-col gap-y-2 ",children:[(0,fe.jsxs)("div",{className:"flex  gap-x-10",children:[(0,fe.jsx)("div",{className:"w-24",children:"Name"}),(0,fe.jsx)("input",{type:"text",value:null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.name,disabled:null!==(null===e||void 0===e?void 0:e.item._id),className:" px-2 border border-slate-200 w-full py-2 rounded-md",onChange:e.changeInput,placeholder:" Name",name:"name"})]}),(0,fe.jsxs)("div",{className:"flex  gap-x-10",children:[(0,fe.jsx)("div",{className:"w-24",children:"Price"}),(0,fe.jsx)("input",{type:"number",className:" px-2 border border-slate-200 w-full py-2 rounded-md",onChange:e.changeInput,placeholder:"price",value:null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.price,name:"price"})]}),(0,fe.jsxs)("div",{className:"flex  gap-x-10",children:[(0,fe.jsx)("div",{className:"w-24",children:"Description"}),(0,fe.jsx)("textarea",{value:null===e||void 0===e||null===(i=e.item)||void 0===i?void 0:i.description,autoComplete:"off",className:" px-2 border border-slate-200 w-full py-2 rounded-md",onChange:e.changeInput,placeholder:" email",name:"description"})]})]})}),(0,fe.jsxs)("div",{className:"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b",children:[(0,fe.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1",type:"button",onClick:e.toggle,children:"Close"}),(0,fe.jsx)("button",{className:"text-white bg-yellow-500 active:bg-yellow-700 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1",type:"button",onClick:null===(null===e||void 0===e||null===(r=e.item)||void 0===r?void 0:r._id)?e.submit:e.update,children:null===(null===e||void 0===e||null===(o=e.item)||void 0===o?void 0:o._id)?"Submit":"Update"})]})]})})})}):null})};var yh=X((function(e){return{zone_pricing:e.Destination.zone_pricing,loading:e.Destination.loading}}),{get_zone_prices:function(e){return function(){var e=re(ne().mark((function e(t){var n,i,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e(we);case 3:return t({type:"FETCH_ZONE_PRICING_SUCCESSFUL"}),e.next=6,we.get("/api/zone_price");case 6:return n=e.sent,i=n.data,[],t({type:"FETCH_ZONE_PRICING_SUCCESSFUL",payload:r=i}),e.abrupt("return",r);case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),t({type:"FETCH_ZONE_PRICING_FAIL"});case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},update_zone_prices:function(e,t){return function(){var n=re(ne().mark((function n(i){var r;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e(we);case 3:return n.next=5,we.put("/api/zone_price/".concat(t),e);case 5:return r=[],n.abrupt("return",r);case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},create_zone_prices:function(e){return function(){var t=re(ne().mark((function t(n){var i;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e(we);case 3:return t.next=5,we.post("/api/zone_price",e);case 5:return i=[],t.abrupt("return",i);case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},delete_zone_prices:function(e){return function(){var t=re(ne().mark((function t(n){var i;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e(we);case 3:return t.next=5,we.put("/api/zone_price/soft_delete/".concat(e));case 5:return i=[],t.abrupt("return",i);case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var n={name:"",description:"",price:"",_id:null},i=pe((0,t.useState)(n),2),r=i[0],o=i[1],a=pe((0,t.useState)(!1),2),s=a[0],l=a[1],c=[{sortable:!0,name:"Name",minWidth:"10px",selector:function(e){return e.name}},{sortable:!0,name:"description",minWidth:"30px",wrap:!0,selector:function(e){return e.description}},{sortable:!0,name:"Price",minWidth:"10px",selector:function(e){return e.price}},{sortable:!0,name:"Action",minWidth:"400px",selector:function(e){return(0,fe.jsxs)("div",{className:"flex gap-x-2",children:[(0,fe.jsx)("div",{className:"px-2 bg-slate-300 my-1 rounded-md py-2",onClick:function(){o({name:e.name,description:e.description,price:e.price,_id:e._id}),w(!0)},children:"Edit"}),(0,fe.jsx)("div",{className:"px-2 bg-slate-300 my-1 rounded-md py-2",onClick:function(){l(!0),o({name:e.name,description:e.description,price:e.price,_id:e._id}),l(!0)},children:"Delete"})]})}}],u=function(){var t=re(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.create_zone_prices(r);case 2:return t.next=4,E();case 4:o(n),w(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d=function(){var t=re(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.update_zone_prices(r,r._id);case 2:return t.next=4,E();case 4:o(n),w(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=pe((0,t.useState)(""),2),p=h[0],f=(h[1],pe(t.useState(!1),2)),m=f[0],g=(f[1],pe((0,t.useState)(10),2)),v=(g[0],g[1],pe((0,t.useState)(0),2)),y=v[0],x=(v[1],pe(t.useState([]),2)),b=(x[0],x[1],pe((0,t.useState)(!1),2)),_=b[0],w=b[1],k=pe((0,t.useState)([]),2),S=(k[0],k[1],function(e){}),C=t.useMemo((function(){return(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Ha,{onChangeFilter:S,searchValue:p,download:function(){return Ga((function(){return E({limit:-1,download:!0,cursor:e.lastElement,q:p,enabled:!0})}),"".concat(y>0?y:"all","_users"))}}),(0,fe.jsx)("div",{className:"px-2 bg-primary-500 my-1 rounded-md py-1 mx-2",onClick:function(){return w(!0)},children:"Add New Zone Price "})]})}),[p]),E=function(){var t=re(ne().mark((function t(){var n;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get_zone_prices();case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,t.useEffect)((function(){E()}),[]),(0,fe.jsxs)("div",{className:" mx-2",children:[(0,fe.jsx)(Os,{msg:"Are you sure you want to Delete ".concat(r.name),show:s,Submit:re(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.delete_zone_prices(r._id);case 2:return t.next=4,E();case 4:l(!1);case 5:case"end":return t.stop()}}),t)})))}),(0,fe.jsx)(Wa.ZP,{columns:c,data:e.zone_pricing,pagination:!0,paginationServer:!0,paginationResetDefaultPage:m,subHeader:!0,subHeaderComponent:C,persistTableHead:!0,paginationTotalRows:y}),(0,fe.jsx)(vh,{show:_,changeInput:function(e){return function(e){var t=void 0!==e.target?e.target:e,n=t.name,i=t.value;o((function(e){return le(le({},e),{},ae({},n,i))}))}(e)},item:r,submit:function(){return u()},update:function(){return d()},toggle:function(){w(!1),o(n)}})]})}));var xh=function(e){var n=pe((0,t.useState)("sent"),2),i=n[0],r=n[1],o=pe((0,t.useState)([]),2);return o[0],o[1],(0,fe.jsxs)(Aa,{children:[(0,fe.jsxs)("div",{className:"w-full p-2 flex flex-wrap border-b border-slate-400 gap-x-1",children:[(0,fe.jsx)("div",{className:"md:w-1/6 w-full flex flex-wrap p-2 shadow-md p-2 text-center bg-primary-500 justify-center items-center",onClick:re(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r("sent");case 1:case"end":return e.stop()}}),e)}))),style:{backgroundColor:"sent"===i&&"gray"},children:"Doorstep Pricing"}),(0,fe.jsx)("div",{className:"md:w-1/6 w-full flex flex-wrap p-2 shadow-md p-2 text-center bg-primary-500 justify-center items-center",onClick:re(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r("shelf");case 1:case"end":return e.stop()}}),e)}))),style:{backgroundColor:"shelf"===i&&"gray"},children:"Agent-zones pricing"}),(0,fe.jsx)("div",{className:"md:w-1/6 w-full flex flex-wrap p-2 shadow-md p-2 text-center bg-primary-500 justify-center items-center",onClick:re(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r("pending-agent");case 1:case"end":return e.stop()}}),e)}))),style:{backgroundColor:"pending-agent"===i&&"gray"},children:"Rent A Shelf Packages"})]}),"sent"===i&&(0,fe.jsx)("div",{className:" mx-2 my-10",children:(0,fe.jsx)(gh,{})}),"shelf"===i&&(0,fe.jsx)("div",{className:" mx-2 my-10",children:(0,fe.jsx)(yh,{})}),"pending-agent"===i&&(0,fe.jsx)("div",{className:" mx-2 my-10",children:(0,fe.jsx)(gh,{})}),"collected"===i&&(0,fe.jsx)("div",{className:" mx-2 my-10",children:(0,fe.jsx)(gh,{})})]})},bh={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},_h=n(1694),wh=n.n(_h),kh=(0,t.createContext)({});function Sh(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function Ch(e){return Math.min(1,Math.max(0,e))}function Eh(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Th(e){return e<=1?"".concat(100*Number(e),"%"):e}function Mh(e){return 1===e.length?"0"+e:String(e)}function Ph(e,t,n){e=Sh(e,255),t=Sh(t,255),n=Sh(n,255);var i=Math.max(e,t,n),r=Math.min(e,t,n),o=0,a=0,s=(i+r)/2;if(i===r)a=0,o=0;else{var l=i-r;switch(a=s>.5?l/(2-i-r):l/(i+r),i){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4}o/=6}return{h:o,s:a,l:s}}function Ah(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Ih(e,t,n){e=Sh(e,255),t=Sh(t,255),n=Sh(n,255);var i=Math.max(e,t,n),r=Math.min(e,t,n),o=0,a=i,s=i-r,l=0===i?0:s/i;if(i===r)o=0;else{switch(i){case e:o=(t-n)/s+(t<n?6:0);break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4}o/=6}return{h:o,s:l,v:a}}function Lh(e,t,n,i){var r=[Mh(Math.round(e).toString(16)),Mh(Math.round(t).toString(16)),Mh(Math.round(n).toString(16))];return i&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function Dh(e){return Math.round(255*parseFloat(e)).toString(16)}function Oh(e){return Rh(e)/255}function Rh(e){return parseInt(e,16)}var zh={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Fh(e){var t={r:0,g:0,b:0},n=1,i=null,r=null,o=null,a=!1,s=!1;return"string"===typeof e&&(e=function(e){if(e=e.trim().toLowerCase(),0===e.length)return!1;var t=!1;if(zh[e])e=zh[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=Vh.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=Vh.rgba.exec(e),n)return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=Vh.hsl.exec(e),n)return{h:n[1],s:n[2],l:n[3]};if(n=Vh.hsla.exec(e),n)return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=Vh.hsv.exec(e),n)return{h:n[1],s:n[2],v:n[3]};if(n=Vh.hsva.exec(e),n)return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=Vh.hex8.exec(e),n)return{r:Rh(n[1]),g:Rh(n[2]),b:Rh(n[3]),a:Oh(n[4]),format:t?"name":"hex8"};if(n=Vh.hex6.exec(e),n)return{r:Rh(n[1]),g:Rh(n[2]),b:Rh(n[3]),format:t?"name":"hex"};if(n=Vh.hex4.exec(e),n)return{r:Rh(n[1]+n[1]),g:Rh(n[2]+n[2]),b:Rh(n[3]+n[3]),a:Oh(n[4]+n[4]),format:t?"name":"hex8"};if(n=Vh.hex3.exec(e),n)return{r:Rh(n[1]+n[1]),g:Rh(n[2]+n[2]),b:Rh(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(Wh(e.r)&&Wh(e.g)&&Wh(e.b)?(t=function(e,t,n){return{r:255*Sh(e,255),g:255*Sh(t,255),b:255*Sh(n,255)}}(e.r,e.g,e.b),a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):Wh(e.h)&&Wh(e.s)&&Wh(e.v)?(i=Th(e.s),r=Th(e.v),t=function(e,t,n){e=6*Sh(e,360),t=Sh(t,100),n=Sh(n,100);var i=Math.floor(e),r=e-i,o=n*(1-t),a=n*(1-r*t),s=n*(1-(1-r)*t),l=i%6;return{r:255*[n,a,o,o,s,n][l],g:255*[s,n,n,a,o,o][l],b:255*[o,o,s,n,n,a][l]}}(e.h,i,r),a=!0,s="hsv"):Wh(e.h)&&Wh(e.s)&&Wh(e.l)&&(i=Th(e.s),o=Th(e.l),t=function(e,t,n){var i,r,o;if(e=Sh(e,360),t=Sh(t,100),n=Sh(n,100),0===t)r=n,o=n,i=n;else{var a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;i=Ah(s,a,e+1/3),r=Ah(s,a,e),o=Ah(s,a,e-1/3)}return{r:255*i,g:255*r,b:255*o}}(e.h,i,o),a=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=Eh(n),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var Bh="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),Nh="[\\s|\\(]+(".concat(Bh,")[,|\\s]+(").concat(Bh,")[,|\\s]+(").concat(Bh,")\\s*\\)?"),jh="[\\s|\\(]+(".concat(Bh,")[,|\\s]+(").concat(Bh,")[,|\\s]+(").concat(Bh,")[,|\\s]+(").concat(Bh,")\\s*\\)?"),Vh={CSS_UNIT:new RegExp(Bh),rgb:new RegExp("rgb"+Nh),rgba:new RegExp("rgba"+jh),hsl:new RegExp("hsl"+Nh),hsla:new RegExp("hsla"+jh),hsv:new RegExp("hsv"+Nh),hsva:new RegExp("hsva"+jh),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Wh(e){return Boolean(Vh.CSS_UNIT.exec(String(e)))}var Uh=2,Hh=.16,Xh=.05,Gh=.05,Yh=.15,qh=5,Kh=4,$h=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Zh(e){var t=Ih(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function Jh(e){var t=e.r,n=e.g,i=e.b;return"#".concat(Lh(t,n,i,!1))}function Qh(e,t,n){var i;return(i=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-Uh*t:Math.round(e.h)+Uh*t:n?Math.round(e.h)+Uh*t:Math.round(e.h)-Uh*t)<0?i+=360:i>=360&&(i-=360),i}function ep(e,t,n){return 0===e.h&&0===e.s?e.s:((i=n?e.s-Hh*t:t===Kh?e.s+Hh:e.s+Xh*t)>1&&(i=1),n&&t===qh&&i>.1&&(i=.1),i<.06&&(i=.06),Number(i.toFixed(2)));var i}function tp(e,t,n){var i;return(i=n?e.v+Gh*t:e.v-Yh*t)>1&&(i=1),Number(i.toFixed(2))}function np(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],i=Fh(e),r=qh;r>0;r-=1){var o=Zh(i),a=Jh(Fh({h:Qh(o,r,!0),s:ep(o,r,!0),v:tp(o,r,!0)}));n.push(a)}n.push(Jh(i));for(var s=1;s<=Kh;s+=1){var l=Zh(i),c=Jh(Fh({h:Qh(l,s),s:ep(l,s),v:tp(l,s)}));n.push(c)}return"dark"===t.theme?$h.map((function(e){var i=e.index,r=e.opacity,o=Jh(function(e,t,n){var i=n/100;return{r:(t.r-e.r)*i+e.r,g:(t.g-e.g)*i+e.g,b:(t.b-e.b)*i+e.b}}(Fh(t.backgroundColor||"#141414"),Fh(n[i]),100*r));return o})):n}var ip={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},rp={},op={};Object.keys(ip).forEach((function(e){rp[e]=np(ip[e]),rp[e].primary=rp[e][5],op[e]=np(ip[e],{theme:"dark",backgroundColor:"#141414"}),op[e].primary=op[e][5]}));rp.red,rp.volcano,rp.gold,rp.orange,rp.yellow,rp.lime,rp.green,rp.cyan,rp.blue,rp.geekblue,rp.purple,rp.magenta,rp.grey,rp.grey;var ap={};function sp(e,t){0}function lp(e,t,n){t||ap[n]||(e(!1,n),ap[n]=!0)}var cp=function(e,t){lp(sp,e,t)};function up(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}function dp(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}var hp="data-rc-order",pp="rc-util-key",fp=new Map;function mp(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):pp}function gp(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function vp(e){return Array.from((fp.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function yp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!up())return null;var n=t.csp,i=t.prepend,r=document.createElement("style");r.setAttribute(hp,function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(i)),null!==n&&void 0!==n&&n.nonce&&(r.nonce=null===n||void 0===n?void 0:n.nonce),r.innerHTML=e;var o=gp(t),a=o.firstChild;if(i){if("queue"===i){var s=vp(o).filter((function(e){return["prepend","prependQueue"].includes(e.getAttribute(hp))}));if(s.length)return o.insertBefore(r,s[s.length-1].nextSibling),r}o.insertBefore(r,a)}else o.appendChild(r);return r}function xp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return vp(gp(t)).find((function(n){return n.getAttribute(mp(t))===e}))}function bp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=xp(e,t);n&&gp(t).removeChild(n)}function _p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){var n=fp.get(e);if(!n||!dp(document,n)){var i=yp("",t),r=i.parentNode;fp.set(e,r),e.removeChild(i)}}(gp(n),n);var i=xp(t,n);if(i){var r,o,a;if(null!==(r=n.csp)&&void 0!==r&&r.nonce&&i.nonce!==(null===(o=n.csp)||void 0===o?void 0:o.nonce))i.nonce=null===(a=n.csp)||void 0===a?void 0:a.nonce;return i.innerHTML!==e&&(i.innerHTML=e),i}var s=yp(e,n);return s.setAttribute(mp(n),t),s}function wp(e){return"object"===te(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===te(e.icon)||"function"===typeof e.icon)}function kp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var i=e[n];if("class"===n)t.className=i,delete t.class;else t[n]=i;return t}),{})}function Sp(e,n,i){return i?t.createElement(e.tag,le(le({key:n},kp(e.attrs)),i),(e.children||[]).map((function(t,i){return Sp(t,"".concat(n,"-").concat(e.tag,"-").concat(i))}))):t.createElement(e.tag,le({key:n},kp(e.attrs)),(e.children||[]).map((function(t,i){return Sp(t,"".concat(n,"-").concat(e.tag,"-").concat(i))})))}function Cp(e){return np(e)[0]}function Ep(e){return e?Array.isArray(e)?e:[e]:[]}var Tp="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",Mp=["icon","className","onClick","style","primaryColor","secondaryColor"],Pp={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var Ap=function(e){var n,i,r=e.icon,o=e.className,a=e.onClick,s=e.style,l=e.primaryColor,c=e.secondaryColor,u=ln(e,Mp),d=Pp;if(l&&(d={primaryColor:l,secondaryColor:c||Cp(l)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tp,n=(0,t.useContext)(kh),i=n.csp,r=n.prefixCls,o=e;r&&(o=o.replace(/anticon/g,r)),(0,t.useEffect)((function(){_p(o,"@ant-design-icons",{prepend:!0,csp:i})}),[])}(),n=wp(r),i="icon should be icon definiton, but got ".concat(r),cp(n,"[@ant-design/icons] ".concat(i)),!wp(r))return null;var h=r;return h&&"function"===typeof h.icon&&(h=le(le({},h),{},{icon:h.icon(d.primaryColor,d.secondaryColor)})),Sp(h.icon,"svg-".concat(h.name),le({className:o,onClick:a,style:s,"data-icon":h.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},u))};Ap.displayName="IconReact",Ap.getTwoToneColors=function(){return le({},Pp)},Ap.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;Pp.primaryColor=t,Pp.secondaryColor=n||Cp(t),Pp.calculated=!!n};var Ip=Ap;function Lp(e){var t=pe(Ep(e),2),n=t[0],i=t[1];return Ip.setTwoToneColors({primaryColor:n,secondaryColor:i})}var Dp=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Lp("#1890ff");var Op=t.forwardRef((function(e,n){var i,r=e.className,o=e.icon,a=e.spin,s=e.rotate,l=e.tabIndex,c=e.onClick,u=e.twoToneColor,d=ln(e,Dp),h=t.useContext(kh),p=h.prefixCls,f=void 0===p?"anticon":p,m=h.rootClassName,g=wh()(m,f,(ae(i={},"".concat(f,"-").concat(o.name),!!o.name),ae(i,"".concat(f,"-spin"),!!a||"loading"===o.name),i),r),v=l;void 0===v&&c&&(v=-1);var y=s?{msTransform:"rotate(".concat(s,"deg)"),transform:"rotate(".concat(s,"deg)")}:void 0,x=pe(Ep(u),2),b=x[0],_=x[1];return t.createElement("span",le(le({role:"img","aria-label":o.name},d),{},{ref:n,tabIndex:v,onClick:c,className:g}),t.createElement(Ip,{icon:o,primaryColor:b,secondaryColor:_,style:y}))}));Op.displayName="AntdIcon",Op.getTwoToneColor=function(){var e=Ip.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},Op.setTwoToneColor=Lp;var Rp=Op,zp=function(e,n){return t.createElement(Rp,le(le({},e),{},{ref:n,icon:bh}))};zp.displayName="ExclamationCircleFilled";var Fp=t.forwardRef(zp);function Bp(e){var n=t.useRef();n.current=e;var i=t.useCallback((function(){for(var e,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return null===(e=n.current)||void 0===e?void 0:e.call.apply(e,[n].concat(i))}),[]);return i}var Np=up()?t.useLayoutEffect:t.useEffect,jp=Np,Vp=function(e,n){var i=t.useRef(!0);Np((function(){if(!i.current)return e()}),n),Np((function(){return i.current=!1,function(){i.current=!0}}),[])};function Wp(e){var n=t.useRef(!1),i=pe(t.useState(e),2),r=i[0],o=i[1];return t.useEffect((function(){return n.current=!1,function(){n.current=!0}}),[]),[r,function(e,t){t&&n.current||o(e)}]}function Up(e){return void 0!==e}function Hp(e,t){var n=t||{},i=n.defaultValue,r=n.value,o=n.onChange,a=n.postState,s=pe(Wp((function(){return Up(r)?r:Up(i)?"function"===typeof i?i():i:"function"===typeof e?e():e})),2),l=s[0],c=s[1],u=void 0!==r?r:l,d=a?a(u):u,h=Bp(o),p=pe(Wp([u]),2),f=p[0],m=p[1];return Vp((function(){var e=f[0];l!==e&&h(l,e)}),[f]),Vp((function(){Up(r)||c(r)}),[r]),[d,Bp((function(e,t){c(e,t),m([u],t)}))]}var Xp={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=Xp.F1&&t<=Xp.F12)return!1;switch(t){case Xp.ALT:case Xp.CAPS_LOCK:case Xp.CONTEXT_MENU:case Xp.CTRL:case Xp.DOWN:case Xp.END:case Xp.ESC:case Xp.HOME:case Xp.INSERT:case Xp.LEFT:case Xp.MAC_FF_META:case Xp.META:case Xp.NUMLOCK:case Xp.NUM_CENTER:case Xp.PAGE_DOWN:case Xp.PAGE_UP:case Xp.PAUSE:case Xp.PRINT_SCREEN:case Xp.RIGHT:case Xp.SHIFT:case Xp.UP:case Xp.WIN_KEY:case Xp.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=Xp.ZERO&&e<=Xp.NINE)return!0;if(e>=Xp.NUM_ZERO&&e<=Xp.NUM_MULTIPLY)return!0;if(e>=Xp.A&&e<=Xp.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case Xp.SPACE:case Xp.QUESTION_MARK:case Xp.NUM_PLUS:case Xp.NUM_MINUS:case Xp.NUM_PERIOD:case Xp.NUM_DIVISION:case Xp.SEMICOLON:case Xp.DASH:case Xp.EQUALS:case Xp.COMMA:case Xp.PERIOD:case Xp.SLASH:case Xp.APOSTROPHE:case Xp.SINGLE_QUOTE:case Xp.OPEN_SQUARE_BRACKET:case Xp.BACKSLASH:case Xp.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Gp=Xp;function Yp(e,t){var n=le({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}var qp="anticon",Kp=t.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")},iconPrefixCls:qp}),$p=Kp.Consumer,Zp=function(e){return+setTimeout(e,16)},Jp=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(Zp=function(e){return window.requestAnimationFrame(e)},Jp=function(e){return window.cancelAnimationFrame(e)});var Qp=0,ef=new Map;function tf(e){ef.delete(e)}var nf=function(e){var t=Qp+=1;return function n(i){if(0===i)tf(t),e();else{var r=Zp((function(){n(i-1)}));ef.set(t,r)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};nf.cancel=function(e){var t=ef.get(e);return tf(t),Jp(t)};var rf=nf;function of(e){return e instanceof HTMLElement?e:e instanceof t.Component?r.findDOMNode(e):null}var af=n(3873);function sf(e,n,i){var r=t.useRef({});return"value"in r.current&&!i(r.current.condition,n)||(r.current.value=e(),r.current.condition=n),r.current.value}function lf(e,t){"function"===typeof e?e(t):"object"===te(e)&&e&&"current"in e&&(e.current=t)}function cf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.filter((function(e){return e}));return i.length<=1?i[0]:function(e){t.forEach((function(t){lf(t,e)}))}}function uf(e){var t,n,i=(0,af.isMemo)(e)?e.type.type:e.type;return!!("function"!==typeof i||null!==(t=i.prototype)&&void 0!==t&&t.render)&&!!("function"!==typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render)}function df(e,t,n,i){var o=r.unstable_batchedUpdates?function(e){r.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,o,i),{remove:function(){e.removeEventListener&&e.removeEventListener(t,o,i)}}}var hf=(0,t.forwardRef)((function(e,n){var i=e.didUpdate,o=e.getContainer,a=e.children,s=(0,t.useRef)(),l=(0,t.useRef)();(0,t.useImperativeHandle)(n,(function(){return{}}));var c=(0,t.useRef)(!1);return!c.current&&up()&&(l.current=o(),s.current=l.current.parentNode,c.current=!0),(0,t.useEffect)((function(){null===i||void 0===i||i(e)})),(0,t.useEffect)((function(){return null===l.current.parentNode&&null!==s.current&&s.current.appendChild(l.current),function(){var e,t;null===(e=l.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(l.current)}}),[]),l.current?r.createPortal(a,l.current):null})),pf=hf;function ff(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}var mf=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4))};function gf(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var vf=function(e,t){var n={animationend:gf("Animation","AnimationEnd"),transitionend:gf("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(up(),"undefined"!==typeof window?window:{}),yf={};if(up()){var xf=document.createElement("div");yf=xf.style}var bf={};function _f(e){if(bf[e])return bf[e];var t=vf[e];if(t)for(var n=Object.keys(t),i=n.length,r=0;r<i;r+=1){var o=n[r];if(Object.prototype.hasOwnProperty.call(t,o)&&o in yf)return bf[e]=t[o],bf[e]}return""}var wf=_f("animationend"),kf=_f("transitionend"),Sf=!(!wf||!kf),Cf=wf||"animationend",Ef=kf||"transitionend";function Tf(e,t){return e?"object"===te(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}var Mf="none",Pf="appear",Af="enter",If="leave",Lf="none",Df="prepare",Of="start",Rf="active",zf="end",Ff=up()?t.useLayoutEffect:t.useEffect,Bf=[Df,Of,Rf,zf],Nf=!1,jf=!0;function Vf(e){return e===Rf||e===zf}var Wf=function(e,n){var i=pe(Wp(Lf),2),r=i[0],o=i[1],a=function(){var e=t.useRef(null);function n(){rf.cancel(e.current)}return t.useEffect((function(){return function(){n()}}),[]),[function t(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;n();var o=rf((function(){r<=1?i({isCanceled:function(){return o!==e.current}}):t(i,r-1)}));e.current=o},n]}(),s=pe(a,2),l=s[0],c=s[1];return Ff((function(){if(r!==Lf&&r!==zf){var e=Bf.indexOf(r),t=Bf[e+1],i=n(r);i===Nf?o(t,!0):l((function(e){function n(){e.isCanceled()||o(t,!0)}!0===i?n():Promise.resolve(i).then(n)}))}}),[e,r]),t.useEffect((function(){return function(){c()}}),[]),[function(){o(Df,!0)},r]},Uf=function(e){var n=(0,t.useRef)(),i=(0,t.useRef)(e);i.current=e;var r=t.useCallback((function(e){i.current(e)}),[]);function o(e){e&&(e.removeEventListener(Ef,r),e.removeEventListener(Cf,r))}return t.useEffect((function(){return function(){o(n.current)}}),[]),[function(e){n.current&&n.current!==e&&o(n.current),e&&e!==n.current&&(e.addEventListener(Ef,r),e.addEventListener(Cf,r),n.current=e)},o]};var Hf=function(e){Pe(n,e);var t=De(n);function n(){return Ce(this,n),t.apply(this,arguments)}return Te(n,[{key:"render",value:function(){return this.props.children}}]),n}(t.Component),Xf=Hf;var Gf=function(e){var n=e;function i(e){return!(!e.motionName||!n)}"object"===te(e)&&(n=e.transitionSupport);var r=t.forwardRef((function(e,n){var r=e.visible,o=void 0===r||r,a=e.removeOnLeave,s=void 0===a||a,l=e.forceRender,c=e.children,u=e.motionName,d=e.leavedClassName,h=e.eventProps,p=i(e),f=(0,t.useRef)(),m=(0,t.useRef)();var g=function(e,n,i,r){var o=r.motionEnter,a=void 0===o||o,s=r.motionAppear,l=void 0===s||s,c=r.motionLeave,u=void 0===c||c,d=r.motionDeadline,h=r.motionLeaveImmediately,p=r.onAppearPrepare,f=r.onEnterPrepare,m=r.onLeavePrepare,g=r.onAppearStart,v=r.onEnterStart,y=r.onLeaveStart,x=r.onAppearActive,b=r.onEnterActive,_=r.onLeaveActive,w=r.onAppearEnd,k=r.onEnterEnd,S=r.onLeaveEnd,C=r.onVisibleChanged,E=pe(Wp(),2),T=E[0],M=E[1],P=pe(Wp(Mf),2),A=P[0],I=P[1],L=pe(Wp(null),2),D=L[0],O=L[1],R=(0,t.useRef)(!1),z=(0,t.useRef)(null);function F(){return i()}var B=(0,t.useRef)(!1);function N(e){var t=F();if(!e||e.deadline||e.target===t){var n,i=B.current;A===Pf&&i?n=null===w||void 0===w?void 0:w(t,e):A===Af&&i?n=null===k||void 0===k?void 0:k(t,e):A===If&&i&&(n=null===S||void 0===S?void 0:S(t,e)),A!==Mf&&i&&!1!==n&&(I(Mf,!0),O(null,!0))}}var j=pe(Uf(N),1)[0],V=t.useMemo((function(){var e,t,n;switch(A){case Pf:return ae(e={},Df,p),ae(e,Of,g),ae(e,Rf,x),e;case Af:return ae(t={},Df,f),ae(t,Of,v),ae(t,Rf,b),t;case If:return ae(n={},Df,m),ae(n,Of,y),ae(n,Rf,_),n;default:return{}}}),[A]),W=pe(Wf(A,(function(e){if(e===Df){var t=V[Df];return t?t(F()):Nf}var n;return H in V&&O((null===(n=V[H])||void 0===n?void 0:n.call(V,F(),null))||null),H===Rf&&(j(F()),d>0&&(clearTimeout(z.current),z.current=setTimeout((function(){N({deadline:!0})}),d))),jf})),2),U=W[0],H=W[1],X=Vf(H);B.current=X,Ff((function(){M(n);var t,i=R.current;R.current=!0,e&&(!i&&n&&l&&(t=Pf),i&&n&&a&&(t=Af),(i&&!n&&u||!i&&h&&!n&&u)&&(t=If),t&&(I(t),U()))}),[n]),(0,t.useEffect)((function(){(A===Pf&&!l||A===Af&&!a||A===If&&!u)&&I(Mf)}),[l,a,u]),(0,t.useEffect)((function(){return function(){R.current=!1,clearTimeout(z.current)}}),[]);var G=t.useRef(!1);(0,t.useEffect)((function(){T&&(G.current=!0),void 0!==T&&A===Mf&&((G.current||T)&&(null===C||void 0===C||C(T)),G.current=!0)}),[T,A]);var Y=D;return V[Df]&&H===Of&&(Y=le({transition:"none"},Y)),[A,H,Y,null!==T&&void 0!==T?T:n]}(p,o,(function(){try{return f.current instanceof HTMLElement?f.current:of(m.current)}catch(e){return null}}),e),v=pe(g,4),y=v[0],x=v[1],b=v[2],_=v[3],w=t.useRef(_);_&&(w.current=!0);var k,S=t.useCallback((function(e){f.current=e,lf(n,e)}),[n]),C=le(le({},h),{},{visible:o});if(c)if(y!==Mf&&i(e)){var E,T;x===Df?T="prepare":Vf(x)?T="active":x===Of&&(T="start"),k=c(le(le({},C),{},{className:wh()(Tf(u,y),(E={},ae(E,Tf(u,"".concat(y,"-").concat(T)),T),ae(E,u,"string"===typeof u),E)),style:b}),S)}else k=_?c(le({},C),S):!s&&w.current&&d?c(le(le({},C),{},{className:d}),S):l||!s&&!d?c(le(le({},C),{},{style:{display:"none"}}),S):null;else k=null;t.isValidElement(k)&&uf(k)&&(k.ref||(k=t.cloneElement(k,{ref:S})));return t.createElement(Xf,{ref:m},k)}));return r.displayName="CSSMotion",r}(Sf),Yf="add",qf="keep",Kf="remove",$f="removed";function Zf(e){var t;return le(le({},t=e&&"object"===te(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function Jf(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(Zf)}var Qf=["component","children","onVisibleChanged","onAllRemoved"],em=["status"],tm=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gf,i=function(e){Pe(r,e);var i=De(r);function r(){var e;Ce(this,r);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return ae(Le(e=i.call.apply(i,[this].concat(n))),"state",{keyEntities:[]}),ae(Le(e),"removeKey",(function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:le(le({},e),{},{status:$f})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==$f})).length})),e}return Te(r,[{key:"render",value:function(){var e=this,i=this.state.keyEntities,r=this.props,o=r.component,a=r.children,s=r.onVisibleChanged,l=r.onAllRemoved,c=ln(r,Qf),u=o||t.Fragment,d={};return tm.forEach((function(e){d[e]=c[e],delete c[e]})),delete c.keys,t.createElement(u,c,i.map((function(i){var r=i.status,o=ln(i,em),c=r===Yf||r===qf;return t.createElement(n,p({},d,{key:o.key,visible:c,eventProps:o,onVisibleChanged:function(t){(null===s||void 0===s||s(t,{key:o.key}),t)||0===e.removeKey(o.key)&&l&&l()}}),a)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,i=t.keyEntities,r=Jf(n),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],i=0,r=t.length,o=Jf(e),a=Jf(t);o.forEach((function(e){for(var t=!1,o=i;o<r;o+=1){var s=a[o];if(s.key===e.key){i<o&&(n=n.concat(a.slice(i,o).map((function(e){return le(le({},e),{},{status:Yf})}))),i=o),n.push(le(le({},s),{},{status:qf})),i+=1,t=!0;break}}t||n.push(le(le({},e),{},{status:Kf}))})),i<r&&(n=n.concat(a.slice(i).map((function(e){return le(le({},e),{},{status:Yf})}))));var s={};return n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1})),Object.keys(s).filter((function(e){return s[e]>1})).forEach((function(e){(n=n.filter((function(t){var n=t.key,i=t.status;return n!==e||i!==Kf}))).forEach((function(t){t.key===e&&(t.status=qf)}))})),n}(i,r);return{keyEntities:o.filter((function(e){var t=i.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==$f||e.status!==Kf}))}}}]),r}(t.Component);ae(i,"defaultProps",{component:"div"})}(Sf);var nm,im=Gf;function rm(e){var t=e.prefixCls,n=e.motion,i=e.animation,r=e.transitionName;return n||(i?{motionName:"".concat(t,"-").concat(i)}:r?{motionName:r}:null)}function om(e){var n=e.prefixCls,i=e.visible,r=e.zIndex,o=e.mask,a=e.maskMotion,s=e.maskAnimation,l=e.maskTransitionName;if(!o)return null;var c={};return(a||l||s)&&(c=le({motionAppear:!0},rm({motion:a,prefixCls:n,transitionName:l,animation:s}))),t.createElement(im,p({},c,{visible:i,removeOnLeave:!0}),(function(e){var i=e.className;return t.createElement("div",{style:{zIndex:r},className:wh()("".concat(n,"-mask"),i)})}))}function am(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function sm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?am(Object(n),!0).forEach((function(t){cm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):am(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lm(e){return lm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(e)}function cm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var um={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function dm(){if(void 0!==nm)return nm;nm="";var e=document.createElement("p").style;for(var t in um)t+"Transform"in e&&(nm=t);return nm}function hm(){return dm()?"".concat(dm(),"TransitionProperty"):"transitionProperty"}function pm(){return dm()?"".concat(dm(),"Transform"):"transform"}function fm(e,t){var n=hm();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function mm(e,t){var n=pm();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var gm,vm=/matrix\((.*)\)/,ym=/matrix3d\((.*)\)/;function xm(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function bm(e,t,n){var i=n;if("object"!==lm(t))return"undefined"!==typeof i?("number"===typeof i&&(i="".concat(i,"px")),void(e.style[t]=i)):gm(e,t);for(var r in t)t.hasOwnProperty(r)&&bm(e,r,t[r])}function _m(e,t){var n=e["page".concat(t?"Y":"X","Offset")],i="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var r=e.document;"number"!==typeof(n=r.documentElement[i])&&(n=r.body[i])}return n}function wm(e){return _m(e)}function km(e){return _m(e,!0)}function Sm(e){var t=function(e){var t,n,i,r=e.ownerDocument,o=r.body,a=r&&r.documentElement;return t=e.getBoundingClientRect(),n=Math.floor(t.left),i=Math.floor(t.top),{left:n-=a.clientLeft||o.clientLeft||0,top:i-=a.clientTop||o.clientTop||0}}(e),n=e.ownerDocument,i=n.defaultView||n.parentWindow;return t.left+=wm(i),t.top+=km(i),t}function Cm(e){return null!==e&&void 0!==e&&e==e.window}function Em(e){return Cm(e)?e.document:9===e.nodeType?e:e.ownerDocument}var Tm=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),Mm=/^(top|right|bottom|left)$/,Pm="currentStyle",Am="runtimeStyle",Im="left",Lm="px";function Dm(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function Om(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function Rm(e,t,n){"static"===bm(e,"position")&&(e.style.position="relative");var i=-999,r=-999,o=Dm("left",n),a=Dm("top",n),s=Om(o),l=Om(a);"left"!==o&&(i=999),"top"!==a&&(r=999);var c="",u=Sm(e);("left"in t||"top"in t)&&(c=function(e){return e.style.transitionProperty||e.style[hm()]}(e)||"",fm(e,"none")),"left"in t&&(e.style[s]="",e.style[o]="".concat(i,"px")),"top"in t&&(e.style[l]="",e.style[a]="".concat(r,"px")),xm(e);var d=Sm(e),h={};for(var p in t)if(t.hasOwnProperty(p)){var f=Dm(p,n),m="left"===p?i:r,g=u[p]-d[p];h[f]=f===p?m+g:m-g}bm(e,h),xm(e),("left"in t||"top"in t)&&fm(e,c);var v={};for(var y in t)if(t.hasOwnProperty(y)){var x=Dm(y,n),b=t[y]-u[y];v[x]=y===x?h[x]+b:h[x]-b}bm(e,v)}function zm(e,t){var n=Sm(e),i=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(pm());if(n&&"none"!==n){var i=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(i[12]||i[4],0),y:parseFloat(i[13]||i[5],0)}}return{x:0,y:0}}(e),r={x:i.x,y:i.y};"left"in t&&(r.x=i.x+t.left-n.left),"top"in t&&(r.y=i.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),i=n.getPropertyValue("transform")||n.getPropertyValue(pm());if(i&&"none"!==i){var r,o=i.match(vm);o?((r=(o=o[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,r[5]=t.y,mm(e,"matrix(".concat(r.join(","),")"))):((r=i.match(ym)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,r[13]=t.y,mm(e,"matrix3d(".concat(r.join(","),")")))}else mm(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,r)}function Fm(e,t){for(var n=0;n<e.length;n++)t(e[n])}function Bm(e){return"border-box"===gm(e,"boxSizing")}"undefined"!==typeof window&&(gm=window.getComputedStyle?function(e,t,n){var i=n,r="",o=Em(e);return(i=i||o.defaultView.getComputedStyle(e,null))&&(r=i.getPropertyValue(t)||i[t]),r}:function(e,t){var n=e[Pm]&&e[Pm][t];if(Tm.test(n)&&!Mm.test(t)){var i=e.style,r=i[Im],o=e[Am][Im];e[Am][Im]=e[Pm][Im],i[Im]="fontSize"===t?"1em":n||0,n=i.pixelLeft+Lm,i[Im]=r,e[Am][Im]=o}return""===n?"auto":n});var Nm=["margin","border","padding"],jm=-1,Vm=2,Wm=1;function Um(e,t,n){var i,r,o,a=0;for(r=0;r<t.length;r++)if(i=t[r])for(o=0;o<n.length;o++){var s=void 0;s="border"===i?"".concat(i).concat(n[o],"Width"):i+n[o],a+=parseFloat(gm(e,s))||0}return a}var Hm={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function Xm(e,t,n){var i=n;if(Cm(e))return"width"===t?Hm.viewportWidth(e):Hm.viewportHeight(e);if(9===e.nodeType)return"width"===t?Hm.docWidth(e):Hm.docHeight(e);var r="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),a=Bm(e),s=0;(null===o||void 0===o||o<=0)&&(o=void 0,(null===(s=gm(e,t))||void 0===s||Number(s)<0)&&(s=e.style[t]||0),s=Math.floor(parseFloat(s))||0),void 0===i&&(i=a?Wm:jm);var l=void 0!==o||a,c=o||s;return i===jm?l?c-Um(e,["border","padding"],r):s:l?i===Wm?c:c+(i===Vm?-Um(e,["border"],r):Um(e,["margin"],r)):s+Um(e,Nm.slice(i),r)}Fm(["Width","Height"],(function(e){Hm["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],Hm["viewport".concat(e)](n))},Hm["viewport".concat(e)]=function(t){var n="client".concat(e),i=t.document,r=i.body,o=i.documentElement[n];return"CSS1Compat"===i.compatMode&&o||r&&r[n]||o}}));var Gm={position:"absolute",visibility:"hidden",display:"block"};function Ym(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,r=t[0];return 0!==r.offsetWidth?i=Xm.apply(void 0,t):function(e,t,n){var i,r={},o=e.style;for(i in t)t.hasOwnProperty(i)&&(r[i]=o[i],o[i]=t[i]);for(i in n.call(e),t)t.hasOwnProperty(i)&&(o[i]=r[i])}(r,Gm,(function(){i=Xm.apply(void 0,t)})),i}function qm(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}Fm(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Hm["outer".concat(t)]=function(t,n){return t&&Ym(t,e,n?0:Wm)};var n="width"===e?["Left","Right"]:["Top","Bottom"];Hm[e]=function(t,i){var r=i;return void 0!==r?t?(Bm(t)&&(r+=Um(t,["padding","border"],n)),bm(t,e,r)):void 0:t&&Ym(t,e,jm)}}));var Km={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:Em,offset:function(e,t,n){if("undefined"===typeof t)return Sm(e);!function(e,t,n){if(n.ignoreShake){var i=Sm(e),r=i.left.toFixed(0),o=i.top.toFixed(0),a=t.left.toFixed(0),s=t.top.toFixed(0);if(r===a&&o===s)return}n.useCssRight||n.useCssBottom?Rm(e,t,n):n.useCssTransform&&pm()in document.body.style?zm(e,t):Rm(e,t,n)}(e,t,n||{})},isWindow:Cm,each:Fm,css:bm,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:qm,getWindowScrollLeft:function(e){return wm(e)},getWindowScrollTop:function(e){return km(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)Km.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};qm(Km,Hm);var $m=Km.getParent;function Zm(e){if(Km.isWindow(e)||9===e.nodeType)return null;var t,n=Km.getDocument(e).body,i=Km.css(e,"position");if(!("fixed"===i||"absolute"===i))return"html"===e.nodeName.toLowerCase()?null:$m(e);for(t=$m(e);t&&t!==n&&9!==t.nodeType;t=$m(t))if("static"!==(i=Km.css(t,"position")))return t;return null}var Jm=Km.getParent;function Qm(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},i=Zm(e),r=Km.getDocument(e),o=r.defaultView||r.parentWindow,a=r.body,s=r.documentElement;i;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===i.clientWidth||i===a||i===s||"visible"===Km.css(i,"overflow")){if(i===a||i===s)break}else{var l=Km.offset(i);l.left+=i.clientLeft,l.top+=i.clientTop,n.top=Math.max(n.top,l.top),n.right=Math.min(n.right,l.left+i.clientWidth),n.bottom=Math.min(n.bottom,l.top+i.clientHeight),n.left=Math.max(n.left,l.left)}i=Zm(i)}var c=null;Km.isWindow(e)||9===e.nodeType||(c=e.style.position,"absolute"===Km.css(e,"position")&&(e.style.position="fixed"));var u=Km.getWindowScrollLeft(o),d=Km.getWindowScrollTop(o),h=Km.viewportWidth(o),p=Km.viewportHeight(o),f=s.scrollWidth,m=s.scrollHeight,g=window.getComputedStyle(a);if("hidden"===g.overflowX&&(f=o.innerWidth),"hidden"===g.overflowY&&(m=o.innerHeight),e.style&&(e.style.position=c),t||function(e){if(Km.isWindow(e)||9===e.nodeType)return!1;var t=Km.getDocument(e),n=t.body,i=null;for(i=Jm(e);i&&i!==n&&i!==t;i=Jm(i))if("fixed"===Km.css(i,"position"))return!0;return!1}(e))n.left=Math.max(n.left,u),n.top=Math.max(n.top,d),n.right=Math.min(n.right,u+h),n.bottom=Math.min(n.bottom,d+p);else{var v=Math.max(f,u+h);n.right=Math.min(n.right,v);var y=Math.max(m,d+p);n.bottom=Math.min(n.bottom,y)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function eg(e){var t,n,i;if(Km.isWindow(e)||9===e.nodeType){var r=Km.getWindow(e);t={left:Km.getWindowScrollLeft(r),top:Km.getWindowScrollTop(r)},n=Km.viewportWidth(r),i=Km.viewportHeight(r)}else t=Km.offset(e),n=Km.outerWidth(e),i=Km.outerHeight(e);return t.width=n,t.height=i,t}function tg(e,t){var n=t.charAt(0),i=t.charAt(1),r=e.width,o=e.height,a=e.left,s=e.top;return"c"===n?s+=o/2:"b"===n&&(s+=o),"c"===i?a+=r/2:"r"===i&&(a+=r),{left:a,top:s}}function ng(e,t,n,i,r){var o=tg(t,n[1]),a=tg(e,n[0]),s=[a.left-o.left,a.top-o.top];return{left:Math.round(e.left-s[0]+i[0]-r[0]),top:Math.round(e.top-s[1]+i[1]-r[1])}}function ig(e,t,n){return e.left<n.left||e.left+t.width>n.right}function rg(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function og(e,t,n){var i=[];return Km.each(e,(function(e){i.push(e.replace(t,(function(e){return n[e]})))})),i}function ag(e,t){return e[t]=-e[t],e}function sg(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function lg(e,t){e[0]=sg(e[0],t.width),e[1]=sg(e[1],t.height)}function cg(e,t,n,i){var r=n.points,o=n.offset||[0,0],a=n.targetOffset||[0,0],s=n.overflow,l=n.source||e;o=[].concat(o),a=[].concat(a);var c={},u=0,d=Qm(l,!(!(s=s||{})||!s.alwaysByViewport)),h=eg(l);lg(o,h),lg(a,t);var p=ng(h,t,r,o,a),f=Km.merge(h,p);if(d&&(s.adjustX||s.adjustY)&&i){if(s.adjustX&&ig(p,h,d)){var m=og(r,/[lr]/gi,{l:"r",r:"l"}),g=ag(o,0),v=ag(a,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(ng(h,t,m,g,v),h,d)||(u=1,r=m,o=g,a=v)}if(s.adjustY&&rg(p,h,d)){var y=og(r,/[tb]/gi,{t:"b",b:"t"}),x=ag(o,1),b=ag(a,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(ng(h,t,y,x,b),h,d)||(u=1,r=y,o=x,a=b)}u&&(p=ng(h,t,r,o,a),Km.mix(f,p));var _=ig(p,h,d),w=rg(p,h,d);if(_||w){var k=r;_&&(k=og(r,/[lr]/gi,{l:"r",r:"l"})),w&&(k=og(r,/[tb]/gi,{t:"b",b:"t"})),r=k,o=n.offset||[0,0],a=n.targetOffset||[0,0]}c.adjustX=s.adjustX&&_,c.adjustY=s.adjustY&&w,(c.adjustX||c.adjustY)&&(f=function(e,t,n,i){var r=Km.clone(e),o={width:t.width,height:t.height};return i.adjustX&&r.left<n.left&&(r.left=n.left),i.resizeWidth&&r.left>=n.left&&r.left+o.width>n.right&&(o.width-=r.left+o.width-n.right),i.adjustX&&r.left+o.width>n.right&&(r.left=Math.max(n.right-o.width,n.left)),i.adjustY&&r.top<n.top&&(r.top=n.top),i.resizeHeight&&r.top>=n.top&&r.top+o.height>n.bottom&&(o.height-=r.top+o.height-n.bottom),i.adjustY&&r.top+o.height>n.bottom&&(r.top=Math.max(n.bottom-o.height,n.top)),Km.mix(r,o)}(p,h,d,c))}return f.width!==h.width&&Km.css(l,"width",Km.width(l)+f.width-h.width),f.height!==h.height&&Km.css(l,"height",Km.height(l)+f.height-h.height),Km.offset(l,{left:f.left,top:f.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:r,offset:o,targetOffset:a,overflow:c}}function ug(e,t,n){var i=n.target||t,r=eg(i),o=!function(e,t){var n=Qm(e,t),i=eg(e);return!n||i.left+i.width<=n.left||i.top+i.height<=n.top||i.left>=n.right||i.top>=n.bottom}(i,n.overflow&&n.overflow.alwaysByViewport);return cg(e,r,n,o)}ug.__getOffsetParent=Zm,ug.__getVisibleRectForElement=Qm;var dg=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=new Set;return function e(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=i.has(t);if(cp(!a,"Warning: There may be circular references"),a)return!1;if(t===r)return!0;if(n&&o>1)return!1;i.add(t);var s=o+1;if(Array.isArray(t)){if(!Array.isArray(r)||t.length!==r.length)return!1;for(var l=0;l<t.length;l++)if(!e(t[l],r[l],s))return!1;return!0}if(t&&r&&"object"===te(t)&&"object"===te(r)){var c=Object.keys(t);return c.length===Object.keys(r).length&&c.every((function(n){return e(t[n],r[n],s)}))}return!1}(e,t)},hg=function(e){if(!e)return!1;if(e instanceof HTMLElement&&e.offsetParent)return!0;if(e instanceof SVGGraphicsElement&&e.getBBox){var t=e.getBBox(),n=t.width,i=t.height;if(n||i)return!0}if(e instanceof HTMLElement&&e.getBoundingClientRect){var r=e.getBoundingClientRect(),o=r.width,a=r.height;if(o||a)return!0}return!1},pg=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,i){return e[0]===t&&(n=i,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(t,n){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,i=e(n,t);~i&&n.splice(i,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];e.call(t,r[1],r[0])}},t}()}(),fg="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,mg="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),gg="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(mg):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},vg=2;var yg=20,xg=["top","right","bottom","left","width","height","size","weight"],bg="undefined"!==typeof MutationObserver,_g=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,i=!1,r=0;function o(){n&&(n=!1,e()),i&&s()}function a(){gg(o)}function s(){var e=Date.now();if(n){if(e-r<vg)return;i=!0}else n=!0,i=!1,setTimeout(a,t);r=e}return s}(this.refresh.bind(this),yg)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){fg&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),bg?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){fg&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;xg.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),wg=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},kg=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||mg},Sg=Ag(0,0,0,0);function Cg(e){return parseFloat(e)||0}function Eg(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+Cg(e["border-"+n+"-width"])}),0)}function Tg(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Sg;var i=kg(e).getComputedStyle(e),r=function(e){for(var t={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n],o=e["padding-"+r];t[r]=Cg(o)}return t}(i),o=r.left+r.right,a=r.top+r.bottom,s=Cg(i.width),l=Cg(i.height);if("border-box"===i.boxSizing&&(Math.round(s+o)!==t&&(s-=Eg(i,"left","right")+o),Math.round(l+a)!==n&&(l-=Eg(i,"top","bottom")+a)),!function(e){return e===kg(e).document.documentElement}(e)){var c=Math.round(s+o)-t,u=Math.round(l+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return Ag(r.left,r.top,s,l)}var Mg="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof kg(e).SVGGraphicsElement}:function(e){return e instanceof kg(e).SVGElement&&"function"===typeof e.getBBox};function Pg(e){return fg?Mg(e)?function(e){var t=e.getBBox();return Ag(0,0,t.width,t.height)}(e):Tg(e):Sg}function Ag(e,t,n,i){return{x:e,y:t,width:n,height:i}}var Ig=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Ag(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Pg(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Lg=function(e,t){var n=function(e){var t=e.x,n=e.y,i=e.width,r=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return wg(a,{x:t,y:n,width:i,height:r,top:n,right:t+i,bottom:r+n,left:t}),a}(t);wg(this,{target:e,contentRect:n})},Dg=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new pg,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof kg(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Ig(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof kg(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Lg(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Og="undefined"!==typeof WeakMap?new WeakMap:new pg,Rg=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=_g.getInstance(),i=new Dg(t,n,this);Og.set(this,i)};["observe","unobserve","disconnect"].forEach((function(e){Rg.prototype[e]=function(){var t;return(t=Og.get(this))[e].apply(t,arguments)}}));var zg="undefined"!==typeof mg.ResizeObserver?mg.ResizeObserver:Rg;function Fg(e,t){var n=null,i=null;var r=new zg((function(e){var r=pe(e,1)[0].target;if(document.documentElement.contains(r)){var o=r.getBoundingClientRect(),a=o.width,s=o.height,l=Math.floor(a),c=Math.floor(s);n===l&&i===c||Promise.resolve().then((function(){t({width:l,height:c})})),n=l,i=c}}));return e&&r.observe(e),function(){r.disconnect()}}function Bg(e){return"function"!==typeof e?null:e()}function Ng(e){return"object"===te(e)&&e?e:null}var jg=function(e,n){var i=e.children,r=e.disabled,o=e.target,a=e.align,s=e.onAlign,l=e.monitorWindowResize,c=e.monitorBufferTime,u=void 0===c?0:c,d=t.useRef({}),h=t.useRef(),p=t.Children.only(i),f=t.useRef({});f.current.disabled=r,f.current.target=o,f.current.align=a,f.current.onAlign=s;var m=function(e,n){var i=t.useRef(!1),r=t.useRef(null);function o(){window.clearTimeout(r.current)}return[function t(a){if(o(),i.current&&!0!==a)r.current=window.setTimeout((function(){i.current=!1,t()}),n);else{if(!1===e(a))return;i.current=!0,r.current=window.setTimeout((function(){i.current=!1}),n)}},function(){i.current=!1,o()}]}((function(){var e=f.current,t=e.disabled,n=e.target,i=e.align,r=e.onAlign,o=h.current;if(!t&&n&&o){var a,s=Bg(n),l=Ng(n);d.current.element=s,d.current.point=l,d.current.align=i;var c=document.activeElement;return s&&hg(s)?a=ug(o,s,i):l&&(a=function(e,t,n){var i,r,o=Km.getDocument(e),a=o.defaultView||o.parentWindow,s=Km.getWindowScrollLeft(a),l=Km.getWindowScrollTop(a),c=Km.viewportWidth(a),u=Km.viewportHeight(a),d={left:i="pageX"in t?t.pageX:s+t.clientX,top:r="pageY"in t?t.pageY:l+t.clientY,width:0,height:0},h=i>=0&&i<=s+c&&r>=0&&r<=l+u,p=[n.points[0],"cc"];return cg(e,d,sm(sm({},n),{},{points:p}),h)}(o,l,i)),function(e,t){e!==document.activeElement&&dp(t,e)&&"function"===typeof e.focus&&e.focus()}(c,o),r&&a&&r(o,a),!0}return!1}),u),g=pe(m,2),v=g[0],y=g[1],x=pe(t.useState(),2),b=x[0],_=x[1],w=pe(t.useState(),2),k=w[0],S=w[1];return jp((function(){_(Bg(o)),S(Ng(o))})),t.useEffect((function(){d.current.element===b&&function(e,t){return e===t||!(!e||!t)&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY)}(d.current.point,k)&&dg(d.current.align,a)||v()})),t.useEffect((function(){return Fg(h.current,v)}),[h.current]),t.useEffect((function(){return Fg(b,v)}),[b]),t.useEffect((function(){r?y():v()}),[r]),t.useEffect((function(){if(l)return df(window,"resize",v).remove}),[l]),t.useEffect((function(){return function(){y()}}),[]),t.useImperativeHandle(n,(function(){return{forceAlign:function(){return v(!0)}}})),t.isValidElement(p)&&(p=t.cloneElement(p,{ref:cf(p.ref,h)})),p},Vg=t.forwardRef(jg);Vg.displayName="Align";var Wg=Vg,Ug=["measure","alignPre","align",null,"motion"],Hg=t.forwardRef((function(e,n){var i=e.visible,r=e.prefixCls,o=e.className,a=e.style,s=e.children,l=e.zIndex,c=e.stretch,u=e.destroyPopupOnHide,d=e.forceRender,h=e.align,f=e.point,m=e.getRootDomNode,g=e.getClassNameFromAlign,v=e.onAlign,y=e.onMouseEnter,x=e.onMouseLeave,b=e.onMouseDown,_=e.onTouchStart,w=e.onClick,k=(0,t.useRef)(),S=(0,t.useRef)(),C=pe((0,t.useState)(),2),E=C[0],T=C[1],M=function(e){var n=pe(t.useState({width:0,height:0}),2),i=n[0],r=n[1];return[t.useMemo((function(){var t={};if(e){var n=i.width,r=i.height;-1!==e.indexOf("height")&&r?t.height=r:-1!==e.indexOf("minHeight")&&r&&(t.minHeight=r),-1!==e.indexOf("width")&&n?t.width=n:-1!==e.indexOf("minWidth")&&n&&(t.minWidth=n)}return t}),[e,i]),function(e){var t=e.offsetWidth,n=e.offsetHeight,i=e.getBoundingClientRect(),o=i.width,a=i.height;Math.abs(t-o)<1&&Math.abs(n-a)<1&&(t=o,n=a),r({width:t,height:n})}]}(c),P=pe(M,2),A=P[0],I=P[1];var L=function(e,n){var i=pe(Wp(null),2),r=i[0],o=i[1],a=(0,t.useRef)();function s(e){o(e,!0)}function l(){rf.cancel(a.current)}return(0,t.useEffect)((function(){s("measure")}),[e]),(0,t.useEffect)((function(){"measure"===r&&n(),r&&(a.current=rf(re(ne().mark((function e(){var t,n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Ug.indexOf(r),(n=Ug[t+1])&&-1!==t&&s(n);case 3:case"end":return e.stop()}}),e)})))))}),[r]),(0,t.useEffect)((function(){return function(){l()}}),[]),[r,function(e){l(),a.current=rf((function(){s((function(e){switch(r){case"align":return"motion";case"motion":return"stable"}return e})),null===e||void 0===e||e()}))}]}(i,(function(){c&&I(m())})),D=pe(L,2),O=D[0],R=D[1],z=pe((0,t.useState)(0),2),F=z[0],B=z[1],N=(0,t.useRef)();function j(){var e;null===(e=k.current)||void 0===e||e.forceAlign()}function V(e,t){var n=g(t);E!==n&&T(n),B((function(e){return e+1})),"align"===O&&(null===v||void 0===v||v(e,t))}jp((function(){"alignPre"===O&&B(0)}),[O]),jp((function(){"align"===O&&(F<3?j():R((function(){var e;null===(e=N.current)||void 0===e||e.call(N)})))}),[F]);var W=le({},rm(e));function U(){return new Promise((function(e){N.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=W[e];W[e]=function(e,n){return R(),null===t||void 0===t?void 0:t(e,n)}})),t.useEffect((function(){W.motionName||"motion"!==O||R()}),[W.motionName,O]),t.useImperativeHandle(n,(function(){return{forceAlign:j,getElement:function(){return S.current}}}));var H=le(le({},A),{},{zIndex:l,opacity:"motion"!==O&&"stable"!==O&&i?0:void 0,pointerEvents:i||"stable"===O?void 0:"none"},a),X=!0;null===h||void 0===h||!h.points||"align"!==O&&"stable"!==O||(X=!1);var G=s;return t.Children.count(s)>1&&(G=t.createElement("div",{className:"".concat(r,"-content")},s)),t.createElement(im,p({visible:i,ref:S,leavedClassName:"".concat(r,"-hidden")},W,{onAppearPrepare:U,onEnterPrepare:U,removeOnLeave:u,forceRender:d}),(function(e,n){var i=e.className,a=e.style,s=wh()(r,o,E,i);return t.createElement(Wg,{target:f||m,key:"popup",ref:k,monitorWindowResize:!0,disabled:X,align:h,onAlign:V},t.createElement("div",{ref:n,className:s,onMouseEnter:y,onMouseLeave:x,onMouseDownCapture:b,onTouchStartCapture:_,onClick:w,style:le(le({},a),H)},G))}))}));Hg.displayName="PopupInner";var Xg=Hg,Gg=t.forwardRef((function(e,n){var i=e.prefixCls,r=e.visible,o=e.zIndex,a=e.children,s=e.mobile,l=(s=void 0===s?{}:s).popupClassName,c=s.popupStyle,u=s.popupMotion,d=void 0===u?{}:u,h=s.popupRender,f=e.onClick,m=t.useRef();t.useImperativeHandle(n,(function(){return{forceAlign:function(){},getElement:function(){return m.current}}}));var g=le({zIndex:o},c),v=a;return t.Children.count(a)>1&&(v=t.createElement("div",{className:"".concat(i,"-content")},a)),h&&(v=h(v)),t.createElement(im,p({visible:r,ref:m,removeOnLeave:!0},d),(function(e,n){var r=e.className,o=e.style,a=wh()(i,l,r);return t.createElement("div",{ref:n,className:a,onClick:f,style:le(le({},o),g)},v)}))}));Gg.displayName="MobilePopupInner";var Yg=Gg,qg=["visible","mobile"],Kg=t.forwardRef((function(e,n){var i=e.visible,r=e.mobile,o=ln(e,qg),a=pe((0,t.useState)(i),2),s=a[0],l=a[1],c=pe((0,t.useState)(!1),2),u=c[0],d=c[1],h=le(le({},o),{},{visible:s});(0,t.useEffect)((function(){l(i),i&&r&&d(mf())}),[i,r]);var f=u?t.createElement(Yg,p({},h,{mobile:r,ref:n})):t.createElement(Xg,p({},h,{ref:n}));return t.createElement("div",null,t.createElement(om,h),f)}));Kg.displayName="Popup";var $g=Kg,Zg=t.createContext(null);function Jg(){}function Qg(){return""}function ev(e){return e?e.ownerDocument:window.document}var tv=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var nv=function(e){var n=function(n){Pe(o,n);var i=De(o);function o(e){var n,a;return Ce(this,o),ae(Le(n=i.call(this,e)),"popupRef",t.createRef()),ae(Le(n),"triggerRef",t.createRef()),ae(Le(n),"portalContainer",void 0),ae(Le(n),"attachId",void 0),ae(Le(n),"clickOutsideHandler",void 0),ae(Le(n),"touchOutsideHandler",void 0),ae(Le(n),"contextMenuOutsideHandler1",void 0),ae(Le(n),"contextMenuOutsideHandler2",void 0),ae(Le(n),"mouseDownTimeout",void 0),ae(Le(n),"focusTime",void 0),ae(Le(n),"preClickTime",void 0),ae(Le(n),"preTouchTime",void 0),ae(Le(n),"delayTimer",void 0),ae(Le(n),"hasPopupMouseDown",void 0),ae(Le(n),"onMouseEnter",(function(e){var t=n.props.mouseEnterDelay;n.fireEvents("onMouseEnter",e),n.delaySetPopupVisible(!0,t,t?null:e)})),ae(Le(n),"onMouseMove",(function(e){n.fireEvents("onMouseMove",e),n.setPoint(e)})),ae(Le(n),"onMouseLeave",(function(e){n.fireEvents("onMouseLeave",e),n.delaySetPopupVisible(!1,n.props.mouseLeaveDelay)})),ae(Le(n),"onPopupMouseEnter",(function(){n.clearDelayTimer()})),ae(Le(n),"onPopupMouseLeave",(function(e){var t;e.relatedTarget&&!e.relatedTarget.setTimeout&&dp(null===(t=n.popupRef.current)||void 0===t?void 0:t.getElement(),e.relatedTarget)||n.delaySetPopupVisible(!1,n.props.mouseLeaveDelay)})),ae(Le(n),"onFocus",(function(e){n.fireEvents("onFocus",e),n.clearDelayTimer(),n.isFocusToShow()&&(n.focusTime=Date.now(),n.delaySetPopupVisible(!0,n.props.focusDelay))})),ae(Le(n),"onMouseDown",(function(e){n.fireEvents("onMouseDown",e),n.preClickTime=Date.now()})),ae(Le(n),"onTouchStart",(function(e){n.fireEvents("onTouchStart",e),n.preTouchTime=Date.now()})),ae(Le(n),"onBlur",(function(e){n.fireEvents("onBlur",e),n.clearDelayTimer(),n.isBlurToHide()&&n.delaySetPopupVisible(!1,n.props.blurDelay)})),ae(Le(n),"onContextMenu",(function(e){e.preventDefault(),n.fireEvents("onContextMenu",e),n.setPopupVisible(!0,e)})),ae(Le(n),"onContextMenuClose",(function(){n.isContextMenuToShow()&&n.close()})),ae(Le(n),"onClick",(function(e){if(n.fireEvents("onClick",e),n.focusTime){var t;if(n.preClickTime&&n.preTouchTime?t=Math.min(n.preClickTime,n.preTouchTime):n.preClickTime?t=n.preClickTime:n.preTouchTime&&(t=n.preTouchTime),Math.abs(t-n.focusTime)<20)return;n.focusTime=0}n.preClickTime=0,n.preTouchTime=0,n.isClickToShow()&&(n.isClickToHide()||n.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var i=!n.state.popupVisible;(n.isClickToHide()&&!i||i&&n.isClickToShow())&&n.setPopupVisible(!n.state.popupVisible,e)})),ae(Le(n),"onPopupMouseDown",(function(){var e;(n.hasPopupMouseDown=!0,clearTimeout(n.mouseDownTimeout),n.mouseDownTimeout=window.setTimeout((function(){n.hasPopupMouseDown=!1}),0),n.context)&&(e=n.context).onPopupMouseDown.apply(e,arguments)})),ae(Le(n),"onDocumentClick",(function(e){if(!n.props.mask||n.props.maskClosable){var t=e.target,i=n.getRootDomNode(),r=n.getPopupDomNode();dp(i,t)&&!n.isContextMenuOnly()||dp(r,t)||n.hasPopupMouseDown||n.close()}})),ae(Le(n),"getRootDomNode",(function(){var e=n.props.getTriggerDOMNode;if(e)return e(n.triggerRef.current);try{var t=of(n.triggerRef.current);if(t)return t}catch(bF){}return r.findDOMNode(Le(n))})),ae(Le(n),"getPopupClassNameFromAlign",(function(e){var t=[],i=n.props,r=i.popupPlacement,o=i.builtinPlacements,a=i.prefixCls,s=i.alignPoint,l=i.getPopupClassNameFromAlign;return r&&o&&t.push(function(e,t,n,i){for(var r=n.points,o=Object.keys(e),a=0;a<o.length;a+=1){var s=o[a];if(ff(e[s].points,r,i))return"".concat(t,"-placement-").concat(s)}return""}(o,a,e,s)),l&&t.push(l(e)),t.join(" ")})),ae(Le(n),"getComponent",(function(){var e=n.props,i=e.prefixCls,r=e.destroyPopupOnHide,o=e.popupClassName,a=e.onPopupAlign,s=e.popupMotion,l=e.popupAnimation,c=e.popupTransitionName,u=e.popupStyle,d=e.mask,h=e.maskAnimation,f=e.maskTransitionName,m=e.maskMotion,g=e.zIndex,v=e.popup,y=e.stretch,x=e.alignPoint,b=e.mobile,_=e.forceRender,w=e.onPopupClick,k=n.state,S=k.popupVisible,C=k.point,E=n.getPopupAlign(),T={};return n.isMouseEnterToShow()&&(T.onMouseEnter=n.onPopupMouseEnter),n.isMouseLeaveToHide()&&(T.onMouseLeave=n.onPopupMouseLeave),T.onMouseDown=n.onPopupMouseDown,T.onTouchStart=n.onPopupMouseDown,t.createElement($g,p({prefixCls:i,destroyPopupOnHide:r,visible:S,point:x&&C,className:o,align:E,onAlign:a,animation:l,getClassNameFromAlign:n.getPopupClassNameFromAlign},T,{stretch:y,getRootDomNode:n.getRootDomNode,style:u,mask:d,zIndex:g,transitionName:c,maskAnimation:h,maskTransitionName:f,maskMotion:m,ref:n.popupRef,motion:s,mobile:b,forceRender:_,onClick:w}),"function"===typeof v?v():v)})),ae(Le(n),"attachParent",(function(e){rf.cancel(n.attachId);var t,i=n.props,r=i.getPopupContainer,o=i.getDocument,a=n.getRootDomNode();r?(a||0===r.length)&&(t=r(a)):t=o(n.getRootDomNode()).body,t?t.appendChild(e):n.attachId=rf((function(){n.attachParent(e)}))})),ae(Le(n),"getContainer",(function(){if(!n.portalContainer){var e=(0,n.props.getDocument)(n.getRootDomNode()).createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",n.portalContainer=e}return n.attachParent(n.portalContainer),n.portalContainer})),ae(Le(n),"setPoint",(function(e){n.props.alignPoint&&e&&n.setState({point:{pageX:e.pageX,pageY:e.pageY}})})),ae(Le(n),"handlePortalUpdate",(function(){n.state.prevPopupVisible!==n.state.popupVisible&&n.props.afterPopupVisibleChange(n.state.popupVisible)})),ae(Le(n),"triggerContextValue",{onPopupMouseDown:n.onPopupMouseDown}),a="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,n.state={prevPopupVisible:a,popupVisible:a},tv.forEach((function(e){n["fire".concat(e)]=function(t){n.fireEvents(e,t)}})),n}return Te(o,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=df(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=df(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=df(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=df(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),rf.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,i=e.builtinPlacements;return t&&i?function(e,t,n){return le(le({},e[t]||{}),n)}(i,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,i=this.state.popupVisible;this.clearDelayTimer(),i!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:i}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var i=this,r=1e3*t;if(this.clearDelayTimer(),r){var o=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){i.setPopupVisible(e,o),i.clearDelayTimer()}),r)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var i=this.props[e];i&&i(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var n=this.state.popupVisible,i=this.props,r=i.children,o=i.forceRender,a=i.alignPoint,s=i.className,l=i.autoDestroy,c=t.Children.only(r),u={key:"trigger"};this.isContextMenuToShow()?u.onContextMenu=this.onContextMenu:u.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(u.onClick=this.onClick,u.onMouseDown=this.onMouseDown,u.onTouchStart=this.onTouchStart):(u.onClick=this.createTwoChains("onClick"),u.onMouseDown=this.createTwoChains("onMouseDown"),u.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(u.onMouseEnter=this.onMouseEnter,a&&(u.onMouseMove=this.onMouseMove)):u.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?u.onMouseLeave=this.onMouseLeave:u.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(u.onFocus=this.onFocus,u.onBlur=this.onBlur):(u.onFocus=this.createTwoChains("onFocus"),u.onBlur=this.createTwoChains("onBlur"));var d=wh()(c&&c.props&&c.props.className,s);d&&(u.className=d);var h=le({},u);uf(c)&&(h.ref=cf(this.triggerRef,c.ref));var p,f=t.cloneElement(c,h);return(n||this.popupRef.current||o)&&(p=t.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!n&&l&&(p=null),t.createElement(Zg.Provider,{value:this.triggerContextValue},f,p)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,i={};return void 0!==n&&t.popupVisible!==n&&(i.popupVisible=n,i.prevPopupVisible=t.popupVisible),i}}]),o}(t.Component);return ae(n,"contextType",Zg),ae(n,"defaultProps",{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:Qg,getDocument:ev,onPopupVisibleChange:Jg,afterPopupVisibleChange:Jg,onPopupAlign:Jg,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1}),n}(pf),iv={adjustX:1,adjustY:1},rv=[0,0],ov={left:{points:["cr","cl"],overflow:iv,offset:[-4,0],targetOffset:rv},right:{points:["cl","cr"],overflow:iv,offset:[4,0],targetOffset:rv},top:{points:["bc","tc"],overflow:iv,offset:[0,-4],targetOffset:rv},bottom:{points:["tc","bc"],overflow:iv,offset:[0,4],targetOffset:rv},topLeft:{points:["bl","tl"],overflow:iv,offset:[0,-4],targetOffset:rv},leftTop:{points:["tr","tl"],overflow:iv,offset:[-4,0],targetOffset:rv},topRight:{points:["br","tr"],overflow:iv,offset:[0,-4],targetOffset:rv},rightTop:{points:["tl","tr"],overflow:iv,offset:[4,0],targetOffset:rv},bottomRight:{points:["tr","br"],overflow:iv,offset:[0,4],targetOffset:rv},rightBottom:{points:["bl","br"],overflow:iv,offset:[4,0],targetOffset:rv},bottomLeft:{points:["tl","bl"],overflow:iv,offset:[0,4],targetOffset:rv},leftBottom:{points:["br","bl"],overflow:iv,offset:[-4,0],targetOffset:rv}};function av(e){var n=e.showArrow,i=e.arrowContent,r=e.children,o=e.prefixCls,a=e.id,s=e.overlayInnerStyle,l=e.className,c=e.style;return t.createElement("div",{className:wh()("".concat(o,"-content"),l),style:c},!1!==n&&t.createElement("div",{className:"".concat(o,"-arrow"),key:"arrow"},i),t.createElement("div",{className:"".concat(o,"-inner"),id:a,role:"tooltip",style:s},"function"===typeof r?r():r))}var sv=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],lv=function(e,n){var i=e.overlayClassName,r=e.trigger,o=void 0===r?["hover"]:r,a=e.mouseEnterDelay,s=void 0===a?0:a,l=e.mouseLeaveDelay,c=void 0===l?.1:l,u=e.overlayStyle,d=e.prefixCls,h=void 0===d?"rc-tooltip":d,f=e.children,m=e.onVisibleChange,g=e.afterVisibleChange,v=e.transitionName,y=e.animation,x=e.motion,b=e.placement,_=void 0===b?"right":b,w=e.align,k=void 0===w?{}:w,S=e.destroyTooltipOnHide,C=void 0!==S&&S,E=e.defaultVisible,T=e.getTooltipContainer,M=e.overlayInnerStyle,P=e.arrowContent,A=e.overlay,I=e.id,L=e.showArrow,D=void 0===L||L,O=ln(e,sv),R=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return R.current}));var z=le({},O);"visible"in e&&(z.popupVisible=e.visible);var F=!1,B=!1;if("boolean"===typeof C)F=C;else if(C&&"object"===te(C)){var N=C.keepParent;F=!0===N,B=!1===N}return t.createElement(nv,p({popupClassName:i,prefixCls:h,popup:function(){return t.createElement(av,{showArrow:D,arrowContent:P,key:"content",prefixCls:h,id:I,overlayInnerStyle:M},A)},action:o,builtinPlacements:ov,popupPlacement:_,ref:R,popupAlign:k,getPopupContainer:T,onPopupVisibleChange:m,afterPopupVisibleChange:g,popupTransitionName:v,popupAnimation:y,popupMotion:x,defaultPopupVisible:E,destroyPopupOnHide:F,autoDestroy:B,mouseLeaveDelay:c,popupStyle:u,mouseEnterDelay:s},z),f)},cv=(0,t.forwardRef)(lv),uv=function(){return{height:0,opacity:0}},dv=function(e){return{height:e.scrollHeight,opacity:1}},hv=function(e){return{height:e?e.offsetHeight:0}},pv=function(e,t){return!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName},fv=function(e){return void 0===e||"topLeft"!==e&&"topRight"!==e?"slide-up":"slide-down"},mv=function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)},gv=function(){return{motionName:"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ant","-motion-collapse"),onAppearStart:uv,onEnterStart:uv,onAppearActive:dv,onEnterActive:dv,onLeaveStart:hv,onLeaveActive:uv,onAppearEnd:pv,onEnterEnd:pv,onLeaveEnd:pv,motionDeadline:500}},vv={adjustX:1,adjustY:1},yv={adjustX:0,adjustY:0},xv=[0,0];function bv(e){return"boolean"===typeof e?e?vv:yv:Object.assign(Object.assign({},yv),e)}function _v(e,t,n){switch(e){case"top":case"topLeft":case"topRight":return[0,-(t/2+n)];case"bottom":case"bottomLeft":case"bottomRight":return[0,t/2+n];case"left":case"leftTop":case"leftBottom":return[-(t/2+n),0];case"right":case"rightTop":case"rightBottom":return[t/2+n,0];default:return[0,0]}}function wv(e,t){return[e[0]+t[0],e[1]+t[1]]}function kv(e){var t=e.arrowWidth,n=e.horizontalArrowShift,i=void 0===n?16:n,r=e.verticalArrowShift,o=void 0===r?8:r,a=e.autoAdjustOverflow,s=e.arrowPointAtCenter,l=e.offset,c=t/2,u={left:{points:["cr","cl"],offset:[-l,0]},right:{points:["cl","cr"],offset:[l,0]},top:{points:["bc","tc"],offset:[0,-l]},bottom:{points:["tc","bc"],offset:[0,l]},topLeft:{points:["bl","tc"],offset:[-(i+c),-l]},leftTop:{points:["tr","cl"],offset:[-l,-(o+c)]},topRight:{points:["br","tc"],offset:[i+c,-l]},rightTop:{points:["tl","cr"],offset:[l,-(o+c)]},bottomRight:{points:["tr","bc"],offset:[i+c,l]},rightBottom:{points:["bl","cr"],offset:[l,o+c]},bottomLeft:{points:["tl","bc"],offset:[-(i+c),l]},leftBottom:{points:["br","cl"],offset:[-l,o+c]}};return Object.keys(u).forEach((function(e){u[e]=s?Object.assign(Object.assign({},u[e]),{offset:wv(u[e].offset,_v(e,t,l)),overflow:bv(a),targetOffset:xv}):Object.assign(Object.assign({},ov[e]),{offset:wv(ov[e].offset,_v(e,t,l)),overflow:bv(a)}),u[e].ignoreShake=!0})),u}var Sv=t.isValidElement;function Cv(e){return e&&Sv(e)&&e.type===t.Fragment}function Ev(e,n){return function(e,n,i){return Sv(e)?t.cloneElement(e,"function"===typeof i?i(e.props||{}):i):n}(e,e,n)}var Tv=function(e){for(var t,n=0,i=0,r=e.length;r>=4;++i,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&e.charCodeAt(i+2))<<16;case 2:n^=(255&e.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(i)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},Mv=function(){function e(){Ce(this,e),ae(this,"cache",new Map)}return Te(e,[{key:"get",value:function(e){return this.cache.get(e.join("%"))||null}},{key:"update",value:function(e,t){var n=e.join("%"),i=t(this.cache.get(n));null===i?this.cache.delete(n):this.cache.set(n,i)}}]),e}(),Pv=Mv,Av="data-token-hash",Iv="data-css-hash",Lv="__cssinjs_instance__",Dv=Math.random().toString(12).slice(2);function Ov(){if("undefined"!==typeof document&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(Iv,"]"))||[],t=document.head.firstChild;Array.from(e).forEach((function(e){e[Lv]=e[Lv]||Dv,document.head.insertBefore(e,t)}));var n={};Array.from(document.querySelectorAll("style[".concat(Iv,"]"))).forEach((function(e){var t,i=e.getAttribute(Iv);n[i]?e[Lv]===Dv&&(null===(t=e.parentNode)||void 0===t||t.removeChild(e)):n[i]=!0}))}return new Pv}var Rv=t.createContext({hashPriority:"low",cache:Ov(),defaultCache:!0}),zv=Rv;var Fv=function(){return!1};function Bv(e,n,i,r){var o=t.useContext(zv).cache,a=[e].concat(Ne(n));Fv();return t.useMemo((function(){o.update(a,(function(e){var t=pe(e||[],2),n=t[0];return[(void 0===n?0:n)+1,t[1]||i()]}))}),[a.join("_")]),t.useEffect((function(){return function(){o.update(a,(function(e){var t=pe(e||[],2),n=t[0],i=void 0===n?0:n,o=t[1];return 0===i-1?(null===r||void 0===r||r(o,!1),null):[i-1,o]}))}}),a),o.get(a)[1]}function Nv(e){var t="";return Object.keys(e).forEach((function(n){var i=e[n];t+=n,i&&"object"===te(i)?t+=Nv(i):t+=i})),t}var jv="layer-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),Vv="903px";var Wv=void 0;function Uv(){return void 0===Wv&&(Wv=function(e,t){if(up()){var n;_p(e,jv);var i=document.createElement("div");i.style.position="fixed",i.style.left="0",i.style.top="0",null===t||void 0===t||t(i),document.body.appendChild(i);var r=getComputedStyle(i).width===Vv;return null===(n=i.parentNode)||void 0===n||n.removeChild(i),bp(jv),r}return!1}("@layer ".concat(jv," { .").concat(jv," { width: ").concat(Vv,"!important; } }"),(function(e){e.className=jv}))),Wv}var Hv={},Xv="css",Gv=new Map;function Yv(e){Gv.set(e,(Gv.get(e)||0)-1);var t=Array.from(Gv.keys()),n=t.filter((function(e){return(Gv.get(e)||0)<=0}));n.length<t.length&&n.forEach((function(e){!function(e){"undefined"!==typeof document&&document.querySelectorAll("style[".concat(Av,'="').concat(e,'"]')).forEach((function(e){var t;e[Lv]===Dv&&(null===(t=e.parentNode)||void 0===t||t.removeChild(e))}))}(e),Gv.delete(e)}))}function qv(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i.salt,o=void 0===r?"":r,a=i.override,s=void 0===a?Hv:a,l=i.formatToken,c=t.useMemo((function(){return Object.assign.apply(Object,[{}].concat(Ne(n)))}),[n]),u=t.useMemo((function(){return Nv(c)}),[c]),d=t.useMemo((function(){return Nv(s)}),[s]),h=Bv("token",[o,e.id,u,d],(function(){var t=le(le({},e.getDerivativeToken(c)),s);l&&(t=l(t));var n=function(e,t){return Tv("".concat(t,"_").concat(Nv(e)))}(t,o);t._tokenKey=n,function(e){Gv.set(e,(Gv.get(e)||0)+1)}(n);var i="".concat(Xv,"-").concat(Tv(n));return t._hashId=i,[t,i]}),(function(e){Yv(e[0]._tokenKey)}));return h}var Kv={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var $v=up(),Zv="_skip_check_";function Jv(e){return Br(jr(e),Nr).replace(/\{%%%\:[^;];}/g,";")}var Qv=new Set,ey=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{root:!0,parentSelectors:[]},r=i.root,o=i.injectHash,a=i.parentSelectors,s=n.hashId,l=n.layer,c=(n.path,n.hashPriority),u=n.transformers,d=void 0===u?[]:u,h=(n.linters,""),p={};function f(t){var i=t.getName(s);if(!p[i]){var r=pe(e(t.style,n,{root:!1,parentSelectors:a}),1)[0];p[i]="@keyframes ".concat(t.getName(s)).concat(r)}}var m=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach((function(t){Array.isArray(t)?e(t,n):t&&n.push(t)})),n}(Array.isArray(t)?t:[t]);if(m.forEach((function(t){var i="string"!==typeof t||r?t:{};if("string"===typeof i)h+="".concat(i,"\n");else if(i._keyframe)f(i);else{var l=d.reduce((function(e,t){var n;return(null===t||void 0===t||null===(n=t.visit)||void 0===n?void 0:n.call(t,e))||e}),i);Object.keys(l).forEach((function(t){var i=l[t];if("object"!==te(i)||!i||"animationName"===t&&i._keyframe||function(e){return"object"===te(e)&&e&&Zv in e}(i)){var u,d=null!==(u=null===i||void 0===i?void 0:i.value)&&void 0!==u?u:i;0;var m=t.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())})),g=d;Kv[t]||"number"!==typeof g||0===g||(g="".concat(g,"px")),"animationName"===t&&null!==i&&void 0!==i&&i._keyframe&&(f(i),g=i.getName(s)),h+="".concat(m,":").concat(g,";")}else{var v=!1,y=t.trim(),x=!1;(r||o)&&s?y.startsWith("@")?v=!0:y=function(e,t,n){if(!t)return e;var i=".".concat(t),r="low"===n?":where(".concat(i,")"):i,o=e.split(",").map((function(e){var t,n=e.trim().split(/\s+/),i=n[0]||"",o=(null===(t=i.match(/^\w+/))||void 0===t?void 0:t[0])||"";return[i="".concat(o).concat(r).concat(i.slice(o.length))].concat(Ne(n.slice(1))).join(" ")}));return o.join(",")}(t,s,c):!r||s||"&"!==y&&""!==y||(y="",x=!0);var b=pe(e(i,n,{root:x,injectHash:v,parentSelectors:[].concat(Ne(a),[y])}),2),_=b[0],w=b[1];p=le(le({},p),w),h+="".concat(y).concat(_)}}))}})),r){if(l&&Uv()){var g=l.split(","),v=g[g.length-1].trim();h="@layer ".concat(v," {").concat(h,"}"),g.length>1&&(h="@layer ".concat(l,"{%%%:%}").concat(h))}}else h="{".concat(h,"}");return[h,p]};function ty(){return null}function ny(e,n){var i=e.token,r=e.path,o=e.hashId,a=e.layer,s=t.useContext(zv),l=s.autoClear,c=(s.mock,s.defaultCache),u=s.hashPriority,d=s.container,h=s.ssrInline,f=s.transformers,m=s.linters,g=i._tokenKey,v=[g].concat(Ne(r)),y=$v;var x=Bv("style",v,(function(){var e=n(),t=pe(ey(e,{hashId:o,hashPriority:u,layer:a,path:r.join("-"),transformers:f,linters:m}),2),i=t[0],s=t[1],l=Jv(i),c=function(e,t){return Tv("".concat(e.join("%")).concat(t))}(v,l);if(y){var h=_p(l,c,{mark:Iv,prepend:"queue",attachTo:d});h[Lv]=Dv,h.setAttribute(Av,g),Object.keys(s).forEach((function(e){Qv.has(e)||(Qv.add(e),_p(Jv(s[e]),"_effect-".concat(e),{mark:Iv,prepend:"queue",attachTo:d}))}))}return[l,g,c]}),(function(e,t){var n=pe(e,3)[2];(t||l)&&$v&&bp(n,{mark:Iv})})),b=pe(x,3),_=b[0],w=b[1],k=b[2];return function(e){var n,i;h&&!y&&c?n=t.createElement("style",p({},(ae(i={},Av,w),ae(i,Iv,k),i),{dangerouslySetInnerHTML:{__html:_}})):n=t.createElement(ty,null);return t.createElement(t.Fragment,null,n,e)}}var iy=function(){function e(t,n){Ce(this,e),ae(this,"name",void 0),ae(this,"style",void 0),ae(this,"_keyframe",!0),this.name=t,this.style=n}return Te(e,[{key:"getName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?"".concat(e,"-").concat(this.name):this.name}}]),e}(),ry=iy;var oy=function(){function e(){Ce(this,e),ae(this,"cache",void 0),ae(this,"keys",void 0),ae(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return Te(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={map:this.cache};return e.forEach((function(e){var t,n;r?r=null===(t=r)||void 0===t||null===(n=t.map)||void 0===n?void 0:n.get(e):r=void 0})),null!==(t=r)&&void 0!==t&&t.value&&i&&(r.value[1]=this.cacheCallTimes++),null===(n=r)||void 0===n?void 0:n.value}},{key:"get",value:function(e){var t;return null===(t=this.internalGet(e,!0))||void 0===t?void 0:t[0]}},{key:"has",value:function(e){return!!this.internalGet(e)}},{key:"set",value:function(t,n){var i=this;if(!this.has(t)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var r=this.keys.reduce((function(e,t){var n=pe(e,2)[1];return i.internalGet(t)[1]<n?[t,i.internalGet(t)[1]]:e}),[this.keys[0],this.cacheCallTimes]),o=pe(r,1)[0];this.delete(o)}this.keys.push(t)}var a=this.cache;t.forEach((function(e,r){if(r===t.length-1)a.set(e,{value:[n,i.cacheCallTimes++]});else{var o=a.get(e);o?o.map||(o.map=new Map):a.set(e,{map:new Map}),a=a.get(e).map}}))}},{key:"deleteByPath",value:function(e,t){var n,i=e.get(t[0]);if(1===t.length)return i.map?e.set(t[0],{map:i.map}):e.delete(t[0]),null===(n=i.value)||void 0===n?void 0:n[0];var r=this.deleteByPath(i.map,t.slice(1));return i.map&&0!==i.map.size||i.value||e.delete(t[0]),r}},{key:"delete",value:function(e){if(this.has(e))return this.keys=this.keys.filter((function(t){return!function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,e)})),this.deleteByPath(this.cache,e)}}]),e}();ae(oy,"MAX_CACHE_SIZE",20),ae(oy,"MAX_CACHE_OFFSET",5);var ay=0,sy=function(){function e(t){Ce(this,e),ae(this,"derivatives",void 0),ae(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=ay,0===t.length&&sp(t.length),ay+=1}return Te(e,[{key:"getDerivativeToken",value:function(e){return this.derivatives.reduce((function(t,n){return n(e,t)}),void 0)}}]),e}(),ly=new oy;function cy(e){var t=Array.isArray(e)?e:[e];return ly.has(t)||ly.set(t,new sy(t)),ly.get(t)}function uy(e){return e.notSplit=!0,e}uy(["borderTop","borderBottom"]),uy(["borderTop"]),uy(["borderBottom"]),uy(["borderLeft","borderRight"]),uy(["borderLeft"]),uy(["borderRight"]);var dy=function(e){return{animationDuration:e,animationFillMode:"both"}},hy=function(e){return{animationDuration:e,animationFillMode:"both"}},py=function(e,t,n,i){var r,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4]?"&":"";return ae(r={},"\n      ".concat(o).concat(e,"-enter,\n      ").concat(o).concat(e,"-appear\n    "),Object.assign(Object.assign({},dy(i)),{animationPlayState:"paused"})),ae(r,"".concat(o).concat(e,"-leave"),Object.assign(Object.assign({},hy(i)),{animationPlayState:"paused"})),ae(r,"\n      ".concat(o).concat(e,"-enter").concat(e,"-enter-active,\n      ").concat(o).concat(e,"-appear").concat(e,"-appear-active\n    "),{animationName:t,animationPlayState:"running"}),ae(r,"".concat(o).concat(e,"-leave").concat(e,"-leave-active"),{animationName:n,animationPlayState:"running",pointerEvents:"none"}),r},fy=new ry("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),my=new ry("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),gy=new ry("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),vy=new ry("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),yy=new ry("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),xy=new ry("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),by={zoom:{inKeyframes:fy,outKeyframes:my},"zoom-big":{inKeyframes:gy,outKeyframes:vy},"zoom-big-fast":{inKeyframes:gy,outKeyframes:vy},"zoom-left":{inKeyframes:new ry("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),outKeyframes:new ry("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}})},"zoom-right":{inKeyframes:new ry("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),outKeyframes:new ry("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}})},"zoom-up":{inKeyframes:yy,outKeyframes:xy},"zoom-down":{inKeyframes:new ry("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),outKeyframes:new ry("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}})}},_y=function(e,t){var n,i=e.antCls,r="".concat(i,"-").concat(t),o=by[t],a=o.inKeyframes,s=o.outKeyframes;return[py(r,a,s,"zoom-big-fast"===t?e.motionDurationFast:e.motionDurationMid),(n={},ae(n,"\n        ".concat(r,"-enter,\n        ").concat(r,"-appear\n      "),{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}}),ae(n,"".concat(r,"-leave"),{animationTimingFunction:e.motionEaseInOutCirc}),n)]},wy="undefined"!==typeof CSSINJS_STATISTIC,ky=!0;function Sy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!wy)return Object.assign.apply(Object,[{}].concat(t));ky=!1;var i={};return t.forEach((function(e){Object.keys(e).forEach((function(t){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){return e[t]}})}))})),ky=!0,i}var Cy={};function Ey(){}var Ty={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},My=function(e){return{boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:e.fontFamily}},Py=function(){return{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}},Ay=function(e){var t;return{a:(t={color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:"color ".concat(e.motionDurationSlow),"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive}},ae(t,"&:active,\n  &:hover",{textDecoration:e.linkHoverDecoration,outline:0}),ae(t,"&:focus",{textDecoration:e.linkFocusDecoration,outline:0}),ae(t,"&[disabled]",{color:e.colorTextDisabled,cursor:"not-allowed"}),t)}},Iy=function(e,t){var n=e.fontFamily,i=e.fontSize,r='[class^="'.concat(t,'"], [class*=" ').concat(t,'"]');return ae({},r,ae({fontFamily:n,fontSize:i,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}},r,{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}))},Ly=function(e){return{outline:"".concat(e.lineWidthBold,"px solid ").concat(e.colorPrimaryBorder),outlineOffset:1,transition:"outline-offset 0s, outline 0s"}},Dy=function(e){return{"&:focus-visible":Object.assign({},Ly(e))}},Oy="5.2.0",Ry=function(e){var t=e.controlHeight;return{controlHeightSM:.75*t,controlHeightXS:.5*t,controlHeightLG:1.25*t}};var zy={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Fy=Object.assign(Object.assign({},zy),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorTextBase:"",colorBgBase:"",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1}),By=function(){function e(t,n){var i;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"===typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var r=Fh(t);this.originalInput=t,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(i=n.format)&&void 0!==i?i:r.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,i=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=Eh(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){return 0===this.toHsl().s},e.prototype.toHsv=function(){var e=Ih(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=Ih(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),i=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(i,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=Ph(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=Ph(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),i=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(i,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),Lh(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,n,i,r){var o=[Mh(Math.round(e).toString(16)),Mh(Math.round(t).toString(16)),Mh(Math.round(n).toString(16)),Mh(Dh(i))];return r&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*Sh(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*Sh(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+Lh(this.r,this.g,this.b,!1),t=0,n=Object.entries(zh);t<n.length;t++){var i=n[t],r=i[0];if(e===i[1])return r}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var n=!1,i=this.a<1&&this.a>=0;return t||!i||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=Ch(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=Ch(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=Ch(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=Ch(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),i=(n.h+t)%360;return n.h=i<0?360+i:i,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var i=this.toRgb(),r=new e(t).toRgb(),o=n/100;return new e({r:(r.r-i.r)*o+i.r,g:(r.g-i.g)*o+i.g,b:(r.b-i.b)*o+i.b,a:(r.a-i.a)*o+i.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var i=this.toHsl(),r=360/n,o=[this];for(i.h=(i.h-(r*t>>1)+720)%360;--t;)i.h=(i.h+r)%360,o.push(new e(i));return o},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),i=n.h,r=n.s,o=n.v,a=[],s=1/t;t--;)a.push(new e({h:i,s:r,v:o})),o=(o+s)%1;return a},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),i=new e(t).toRgb();return new e({r:i.r+(n.r-i.r)*n.a,g:i.g+(n.g-i.g)*n.a,b:i.b+(n.b-i.b)*n.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),i=n.h,r=[this],o=360/t,a=1;a<t;a++)r.push(new e({h:(i+a*o)%360,s:n.s,l:n.l}));return r},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function Ny(e,t){var n=t.generateColorPalettes,i=t.generateNeutralColorPalettes,r=e.colorSuccess,o=e.colorWarning,a=e.colorError,s=e.colorInfo,l=e.colorPrimary,c=e.colorBgBase,u=e.colorTextBase,d=n(l),h=n(r),p=n(o),f=n(a),m=n(s),g=i(c,u);return Object.assign(Object.assign({},g),{colorPrimaryBg:d[1],colorPrimaryBgHover:d[2],colorPrimaryBorder:d[3],colorPrimaryBorderHover:d[4],colorPrimaryHover:d[5],colorPrimary:d[6],colorPrimaryActive:d[7],colorPrimaryTextHover:d[8],colorPrimaryText:d[9],colorPrimaryTextActive:d[10],colorSuccessBg:h[1],colorSuccessBgHover:h[2],colorSuccessBorder:h[3],colorSuccessBorderHover:h[4],colorSuccessHover:h[4],colorSuccess:h[6],colorSuccessActive:h[7],colorSuccessTextHover:h[8],colorSuccessText:h[9],colorSuccessTextActive:h[10],colorErrorBg:f[1],colorErrorBgHover:f[2],colorErrorBorder:f[3],colorErrorBorderHover:f[4],colorErrorHover:f[5],colorError:f[6],colorErrorActive:f[7],colorErrorTextHover:f[8],colorErrorText:f[9],colorErrorTextActive:f[10],colorWarningBg:p[1],colorWarningBgHover:p[2],colorWarningBorder:p[3],colorWarningBorderHover:p[4],colorWarningHover:p[4],colorWarning:p[6],colorWarningActive:p[7],colorWarningTextHover:p[8],colorWarningText:p[9],colorWarningTextActive:p[10],colorInfoBg:m[1],colorInfoBgHover:m[2],colorInfoBorder:m[3],colorInfoBorderHover:m[4],colorInfoHover:m[4],colorInfo:m[6],colorInfoActive:m[7],colorInfoTextHover:m[8],colorInfoText:m[9],colorInfoTextActive:m[10],colorBgMask:new By("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}var jy=function(e){var t=e,n=e,i=e,r=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?n=4:e<8&&e>=7?n=5:e<14&&e>=8?n=6:e<16&&e>=14?n=7:e>=16&&(n=8),e<6&&e>=2?i=1:e>=6&&(i=2),e>4&&e<8?r=4:e>=8&&(r=6),{borderRadius:e>16?16:e,borderRadiusXS:i,borderRadiusSM:n,borderRadiusLG:t,borderRadiusOuter:r}};var Vy=function(e,t){return new By(e).setAlpha(t).toRgbString()},Wy=function(e,t){return new By(e).darken(t).toHexString()},Uy=function(e){var t=np(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},Hy=function(e,t){var n=e||"#fff",i=t||"#000";return{colorBgBase:n,colorTextBase:i,colorText:Vy(i,.88),colorTextSecondary:Vy(i,.65),colorTextTertiary:Vy(i,.45),colorTextQuaternary:Vy(i,.25),colorFill:Vy(i,.15),colorFillSecondary:Vy(i,.06),colorFillTertiary:Vy(i,.04),colorFillQuaternary:Vy(i,.02),colorBgLayout:Wy(n,4),colorBgContainer:Wy(n,0),colorBgElevated:Wy(n,0),colorBgSpotlight:Vy(i,.85),colorBorder:Wy(n,15),colorBorderSecondary:Wy(n,6)}};var Xy=function(e){var t=function(e){var t=new Array(10).fill(null).map((function(t,n){var i=n-1,r=e*Math.pow(2.71828,i/5),o=n>1?Math.floor(r):Math.ceil(r);return 2*Math.floor(o/2)}));return t[1]=e,t.map((function(e){return{size:e,lineHeight:(e+8)/e}}))}(e),n=t.map((function(e){return e.size})),i=t.map((function(e){return e.lineHeight}));return{fontSizeSM:n[0],fontSize:n[1],fontSizeLG:n[2],fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:i[1],lineHeightLG:i[2],lineHeightSM:i[0],lineHeightHeading1:i[6],lineHeightHeading2:i[5],lineHeightHeading3:i[4],lineHeightHeading4:i[3],lineHeightHeading5:i[2]}};function Gy(e){var t=Object.keys(zy).map((function(t){var n=np(e[t]);return new Array(10).fill(1).reduce((function(e,i,r){return e["".concat(t,"-").concat(r+1)]=n[r],e}),{})})).reduce((function(e,t){return e=Object.assign(Object.assign({},e),t)}),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),Ny(e,{generateColorPalettes:Uy,generateNeutralColorPalettes:Hy})),Xy(e.fontSize)),function(e){var t=e.sizeUnit,n=e.sizeStep;return{sizeXXL:t*(n+8),sizeXL:t*(n+4),sizeLG:t*(n+2),sizeMD:t*(n+1),sizeMS:t*n,size:t*n,sizeSM:t*(n-1),sizeXS:t*(n-2),sizeXXS:t*(n-3)}}(e)),Ry(e)),function(e){var t=e.motionUnit,n=e.motionBase,i=e.borderRadius,r=e.lineWidth;return Object.assign({motionDurationFast:"".concat((n+t).toFixed(1),"s"),motionDurationMid:"".concat((n+2*t).toFixed(1),"s"),motionDurationSlow:"".concat((n+3*t).toFixed(1),"s"),lineWidthBold:r+1},jy(i))}(e))}function Yy(e){return e>=0&&e<=255}var qy=function(e,t){var n=new By(e).toRgb(),i=n.r,r=n.g,o=n.b;if(n.a<1)return e;for(var a=new By(t).toRgb(),s=a.r,l=a.g,c=a.b,u=.01;u<=1;u+=.01){var d=Math.round((i-s*(1-u))/u),h=Math.round((r-l*(1-u))/u),p=Math.round((o-c*(1-u))/u);if(Yy(d)&&Yy(h)&&Yy(p))return new By({r:d,g:h,b:p,a:Math.round(100*u)/100}).toRgbString()}return new By({r:i,g:r,b:o,a:1}).toRgbString()},Ky=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function $y(e){var t=e.override,n=Ky(e,["override"]),i=Object.assign({},t);Object.keys(Fy).forEach((function(e){delete i[e]}));var r=Object.assign(Object.assign({},n),i),o=1200,a=1600;return Object.assign(Object.assign(Object.assign({},r),{colorLink:r.colorInfoText,colorLinkHover:r.colorInfoHover,colorLinkActive:r.colorInfoActive,colorFillContent:r.colorFillSecondary,colorFillContentHover:r.colorFill,colorFillAlter:r.colorFillQuaternary,colorBgContainerDisabled:r.colorFillTertiary,colorBorderBg:r.colorBgContainer,colorSplit:qy(r.colorBorderSecondary,r.colorBgContainer),colorTextPlaceholder:r.colorTextQuaternary,colorTextDisabled:r.colorTextQuaternary,colorTextHeading:r.colorText,colorTextLabel:r.colorTextSecondary,colorTextDescription:r.colorTextTertiary,colorTextLightSolid:r.colorWhite,colorHighlight:r.colorError,colorBgTextHover:r.colorFillSecondary,colorBgTextActive:r.colorFill,colorIcon:r.colorTextTertiary,colorIconHover:r.colorText,colorErrorOutline:qy(r.colorErrorBg,r.colorBgContainer),colorWarningOutline:qy(r.colorWarningBg,r.colorBgContainer),fontSizeIcon:r.fontSizeSM,lineWidth:r.lineWidth,controlOutlineWidth:2*r.lineWidth,controlInteractiveSize:r.controlHeight/2,controlItemBgHover:r.colorFillTertiary,controlItemBgActive:r.colorPrimaryBg,controlItemBgActiveHover:r.colorPrimaryBgHover,controlItemBgActiveDisabled:r.colorFill,controlTmpOutline:r.colorFillQuaternary,controlOutline:qy(r.colorPrimaryBg,r.colorBgContainer),lineType:r.lineType,borderRadius:r.borderRadius,borderRadiusXS:r.borderRadiusXS,borderRadiusSM:r.borderRadiusSM,borderRadiusLG:r.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:r.sizeXXS,paddingXS:r.sizeXS,paddingSM:r.sizeSM,padding:r.size,paddingMD:r.sizeMD,paddingLG:r.sizeLG,paddingXL:r.sizeXL,paddingContentHorizontalLG:r.sizeLG,paddingContentVerticalLG:r.sizeMS,paddingContentHorizontal:r.sizeMS,paddingContentVertical:r.sizeSM,paddingContentHorizontalSM:r.size,paddingContentVerticalSM:r.sizeXS,marginXXS:r.sizeXXS,marginXS:r.sizeXS,marginSM:r.sizeSM,margin:r.size,marginMD:r.sizeMD,marginLG:r.sizeLG,marginXL:r.sizeXL,marginXXL:r.sizeXXL,boxShadow:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowSecondary:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTertiary:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",screenXS:480,screenXSMin:480,screenXSMax:575,screenSM:576,screenSMMin:576,screenSMMax:767,screenMD:768,screenMDMin:768,screenMDMax:991,screenLG:992,screenLGMin:992,screenLGMax:1199,screenXL:o,screenXLMin:o,screenXLMax:1599,screenXXL:a,screenXXLMin:a,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:"\n      0 1px 2px -2px ".concat(new By("rgba(0, 0, 0, 0.16)").toRgbString(),",\n      0 3px 6px 0 ").concat(new By("rgba(0, 0, 0, 0.12)").toRgbString(),",\n      0 5px 12px 4px ").concat(new By("rgba(0, 0, 0, 0.09)").toRgbString(),"\n    "),boxShadowDrawerRight:"\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerLeft:"\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerUp:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerDown:"\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),i)}var Zy=cy(Gy),Jy={token:Fy,hashed:!0},Qy=t.createContext(Jy);function ex(){var e=t.useContext(Qy),n=e.token,i=e.hashed,r=e.theme,o=e.components,a="".concat(Oy,"-").concat(i||""),s=r||Zy,l=pe(qv(s,[Fy,n],{salt:a,override:Object.assign({override:n},o),formatToken:$y}),2),c=l[0],u=l[1];return[s,c,i?u:""]}function tx(e,n,i){return function(r){var o=pe(ex(),3),a=o[0],s=o[1],l=o[2],c=(0,t.useContext)(Kp),u=c.getPrefixCls,d=c.iconPrefixCls,h=u();return ny({theme:a,token:s,hashId:l,path:["Shared",h]},(function(){return[{"&":Ay(s)}]})),[ny({theme:a,token:s,hashId:l,path:[e,r,d]},(function(){var t=function(e){var t,n=e,i=Ey;return wy&&(t=new Set,n=new Proxy(e,{get:function(e,n){return ky&&t.add(n),e[n]}}),i=function(e,n){Cy[e]={global:Array.from(t),component:n}}),{token:n,keys:t,flush:i}}(s),o=t.token,a=t.flush,c="function"===typeof i?i(o):i,u=Object.assign(Object.assign({},c),s[e]),p=Sy(o,{componentCls:".".concat(r),prefixCls:r,iconCls:".".concat(d),antCls:".".concat(h)},u),f=n(p,{hashId:l,prefixCls:r,rootPrefixCls:h,iconPrefixCls:d,overrideComponentToken:s[e]});return a(e,u),[Iy(s,r),f]})),l]}}var nx=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function ix(e,t){return nx.reduce((function(n,i){var r=e["".concat(i,"-1")],o=e["".concat(i,"-3")],a=e["".concat(i,"-6")],s=e["".concat(i,"-7")];return Object.assign(Object.assign({},n),t(i,{lightColor:r,lightBorderColor:o,darkColor:a,textColor:s}))}),{})}var rx=function(e,t,n,i,r){var o=e/2,a=o,s=1*n/Math.sqrt(2),l=o-n*(1-1/Math.sqrt(2)),c=o-t*(1/Math.sqrt(2)),u=n*(Math.sqrt(2)-1)+t*(1/Math.sqrt(2)),d=2*o-c,h=u,p=2*o-s,f=l,m=2*o-0,g=a,v=o*Math.sqrt(2)+n*(Math.sqrt(2)-2);return{borderRadius:{_skip_check_:!0,value:"0 0 ".concat(t,"px")},pointerEvents:"none",width:e,height:e,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:e,height:e/2,background:i,clipPath:"path('M ".concat(0," ").concat(a," A ").concat(n," ").concat(n," 0 0 0 ").concat(s," ").concat(l," L ").concat(c," ").concat(u," A ").concat(t," ").concat(t," 0 0 1 ").concat(d," ").concat(h," L ").concat(p," ").concat(f," A ").concat(n," ").concat(n," 0 0 0 ").concat(m," ").concat(g," Z')"),content:'""'},"&::after":{content:'""',position:"absolute",width:v,height:v,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:"0 0 ".concat(t,"px 0")},transform:"translateY(50%) rotate(-135deg)",boxShadow:r,zIndex:0,background:"transparent"}}},ox=8;function ax(e){var t=ox,n=e.contentRadius,i=n>12?n+2:12;return{dropdownArrowOffset:i,dropdownArrowOffsetVertical:e.limitVerticalRadius?t:i}}function sx(e,t){return e?t:{}}function lx(e,t){var n,i,r,o,a=e.componentCls,s=e.sizePopupArrow,l=e.borderRadiusXS,c=e.borderRadiusOuter,u=e.boxShadowPopoverArrow,d=t.colorBg,h=t.contentRadius,p=void 0===h?e.borderRadiusLG:h,f=t.limitVerticalRadius,m=t.arrowDistance,g=void 0===m?0:m,v=t.arrowPlacement,y=void 0===v?{left:!0,right:!0,top:!0,bottom:!0}:v,x=ax({contentRadius:p,limitVerticalRadius:f}),b=x.dropdownArrowOffsetVertical,_=x.dropdownArrowOffset;return ae({},a,Object.assign(Object.assign(Object.assign(Object.assign(ae({},"".concat(a,"-arrow"),[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},rx(s,l,c,d,u)),{"&:before":{background:d}})]),sx(!!y.top,(ae(n={},["&-placement-top ".concat(a,"-arrow"),"&-placement-topLeft ".concat(a,"-arrow"),"&-placement-topRight ".concat(a,"-arrow")].join(","),{bottom:g,transform:"translateY(100%) rotate(180deg)"}),ae(n,"&-placement-top ".concat(a,"-arrow"),{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"}),ae(n,"&-placement-topLeft ".concat(a,"-arrow"),{left:{_skip_check_:!0,value:_}}),ae(n,"&-placement-topRight ".concat(a,"-arrow"),{right:{_skip_check_:!0,value:_}}),n))),sx(!!y.bottom,(ae(i={},["&-placement-bottom ".concat(a,"-arrow"),"&-placement-bottomLeft ".concat(a,"-arrow"),"&-placement-bottomRight ".concat(a,"-arrow")].join(","),{top:g,transform:"translateY(-100%)"}),ae(i,"&-placement-bottom ".concat(a,"-arrow"),{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"}),ae(i,"&-placement-bottomLeft ".concat(a,"-arrow"),{left:{_skip_check_:!0,value:_}}),ae(i,"&-placement-bottomRight ".concat(a,"-arrow"),{right:{_skip_check_:!0,value:_}}),i))),sx(!!y.left,(ae(r={},["&-placement-left ".concat(a,"-arrow"),"&-placement-leftTop ".concat(a,"-arrow"),"&-placement-leftBottom ".concat(a,"-arrow")].join(","),{right:{_skip_check_:!0,value:g},transform:"translateX(100%) rotate(90deg)"}),ae(r,"&-placement-left ".concat(a,"-arrow"),{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"}),ae(r,"&-placement-leftTop ".concat(a,"-arrow"),{top:b}),ae(r,"&-placement-leftBottom ".concat(a,"-arrow"),{bottom:b}),r))),sx(!!y.right,(ae(o={},["&-placement-right ".concat(a,"-arrow"),"&-placement-rightTop ".concat(a,"-arrow"),"&-placement-rightBottom ".concat(a,"-arrow")].join(","),{left:{_skip_check_:!0,value:g},transform:"translateX(-100%) rotate(-90deg)"}),ae(o,"&-placement-right ".concat(a,"-arrow"),{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"}),ae(o,"&-placement-rightTop ".concat(a,"-arrow"),{top:b}),ae(o,"&-placement-rightBottom ".concat(a,"-arrow"),{bottom:b}),o))))}var cx=function(e){var t,n=e.componentCls,i=e.tooltipMaxWidth,r=e.tooltipColor,o=e.tooltipBg,a=e.tooltipBorderRadius,s=e.zIndexPopup,l=e.controlHeight,c=e.boxShadowSecondary,u=e.paddingSM,d=e.paddingXS,h=e.tooltipRadiusOuter;return[ae({},n,Object.assign(Object.assign(Object.assign(Object.assign({},My(e)),(t={position:"absolute",zIndex:s,display:"block","&":[{width:"max-content"},{width:"intrinsic"}],maxWidth:i,visibility:"visible","&-hidden":{display:"none"},"--antd-arrow-background-color":o},ae(t,"".concat(n,"-inner"),{minWidth:l,minHeight:l,padding:"".concat(u/2,"px ").concat(d,"px"),color:r,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:o,borderRadius:a,boxShadow:c}),ae(t,["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(","),ae({},"".concat(n,"-inner"),{borderRadius:Math.min(a,ox)})),ae(t,"".concat(n,"-content"),{position:"relative"}),t)),ix(e,(function(e,t){var i,r=t.darkColor;return ae({},"&".concat(n,"-").concat(e),(ae(i={},"".concat(n,"-inner"),{backgroundColor:r}),ae(i,"".concat(n,"-arrow"),{"--antd-arrow-background-color":r}),i))}))),{"&-rtl":{direction:"rtl"}})),lx(Sy(e,{borderRadiusOuter:h}),{colorBg:"var(--antd-arrow-background-color)",contentRadius:a,limitVerticalRadius:!0}),ae({},"".concat(n,"-pure"),{position:"relative",maxWidth:"none"})]},ux=function(e,t){var n=tx("Tooltip",(function(e){if(!1===t)return[];var n=e.borderRadius,i=e.colorTextLightSolid,r=e.colorBgDefault,o=e.borderRadiusOuter,a=Sy(e,{tooltipMaxWidth:250,tooltipColor:i,tooltipBorderRadius:n,tooltipBg:r,tooltipRadiusOuter:o>4?4:o});return[cx(a),_y(e,"zoom-big-fast")]}),(function(e){return{zIndexPopup:e.zIndexPopupBase+70,colorBgDefault:e.colorBgSpotlight}}));return n(e)},dx=nx.map((function(e){return"".concat(e,"-inverse")}));function hx(e,t){var n=function(e){return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?nx.includes(e):[].concat(Ne(dx),Ne(nx)).includes(e)}(t),i=wh()(ae({},"".concat(e,"-").concat(t),t&&n)),r={},o={};return t&&!n&&(r.background=t,o["--antd-arrow-background-color"]=t),{className:i,overlayStyle:r,arrowStyle:o}}var px=function(e,t){return new By(e).setAlpha(t).toRgbString()},fx=function(e,t){return new By(e).lighten(t).toHexString()},mx=function(e){var t=np(e,{theme:"dark"});return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[6],6:t[5],7:t[4],8:t[6],9:t[5],10:t[4]}},gx=function(e,t){var n=e||"#000",i=t||"#fff";return{colorBgBase:n,colorTextBase:i,colorText:px(i,.85),colorTextSecondary:px(i,.65),colorTextTertiary:px(i,.45),colorTextQuaternary:px(i,.25),colorFill:px(i,.18),colorFillSecondary:px(i,.12),colorFillTertiary:px(i,.08),colorFillQuaternary:px(i,.04),colorBgElevated:fx(n,12),colorBgContainer:fx(n,8),colorBgLayout:fx(n,0),colorBgSpotlight:fx(n,26),colorBorder:fx(n,26),colorBorderSecondary:fx(n,19)}},vx=function(e,t){var n=Object.keys(zy).map((function(t){var n=np(e[t],{theme:"dark"});return new Array(10).fill(1).reduce((function(e,i,r){return e["".concat(t,"-").concat(r+1)]=n[r],e}),{})})).reduce((function(e,t){return e=Object.assign(Object.assign({},e),t)}),{}),i=null!==t&&void 0!==t?t:Gy(e);return Object.assign(Object.assign(Object.assign({},i),n),Ny(e,{generateColorPalettes:mx,generateNeutralColorPalettes:gx}))};var yx=function(e,t){var n=null!==t&&void 0!==t?t:Gy(e),i=n.fontSizeSM,r=n.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),function(e){var t=e.sizeUnit,n=e.sizeStep-2;return{sizeXXL:t*(n+10),sizeXL:t*(n+6),sizeLG:t*(n+2),sizeMD:t*(n+2),sizeMS:t*(n+1),size:t*n,sizeSM:t*n,sizeXS:t*(n-1),sizeXXS:t*(n-1)}}(null!==t&&void 0!==t?t:e)),Xy(i)),{controlHeight:r}),Ry(Object.assign(Object.assign({},n),{controlHeight:r})))};var xx={defaultConfig:Jy,defaultSeed:Jy.token,useToken:function(){var e=pe(ex(),3);return{theme:e[0],token:e[1],hashId:e[2]}},defaultAlgorithm:Gy,darkAlgorithm:vx,compactAlgorithm:yx},bx=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},_x=xx.useToken,wx=function(e,t){var n={},i=Object.assign({},e);return t.forEach((function(t){e&&t in e&&(n[t]=e[t],delete i[t])})),{picked:n,omitted:i}};var kx=t.forwardRef((function(e,n){var i,r,o=e.prefixCls,a=e.openClassName,s=e.getTooltipContainer,l=e.overlayClassName,c=e.color,u=e.overlayInnerStyle,d=e.children,h=e.afterOpenChange,p=e.afterVisibleChange,f=e.arrow,m=void 0===f||f,g=!!m,v=_x().token,y=t.useContext(Kp),x=y.getPopupContainer,b=y.getPrefixCls,_=y.direction;var w=pe(Hp(!1,{value:null!==(i=e.open)&&void 0!==i?i:e.visible,defaultValue:null!==(r=e.defaultOpen)&&void 0!==r?r:e.defaultVisible}),2),k=w[0],S=w[1],C=function(){var t=e.title,n=e.overlay;return!t&&!n&&0!==t},E=function(){var t,n=e.builtinPlacements,i=e.arrowPointAtCenter,r=void 0!==i&&i,o=e.autoAdjustOverflow,a=void 0===o||o,s=null!==(t="boolean"!==typeof m&&(null===m||void 0===m?void 0:m.arrowPointAtCenter))&&void 0!==t?t:r;return n||kv({arrowPointAtCenter:s,autoAdjustOverflow:a,arrowWidth:g?v.sizePopupArrow:0,offset:v.marginXXS})},T=e.getPopupContainer,M=e.placement,P=void 0===M?"top":M,A=e.mouseEnterDelay,I=void 0===A?.1:A,L=e.mouseLeaveDelay,D=void 0===L?.1:L,O=e.overlayStyle,R=e.rootClassName,z=bx(e,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),F=b("tooltip",o),B=b(),N=e["data-popover-inject"],j=k;"open"in e||"visible"in e||!C()||(j=!1);var V=function(e,n){var i=e.type;if((!0===i.__ANT_BUTTON||"button"===e.type)&&e.props.disabled||!0===i.__ANT_SWITCH&&(e.props.disabled||e.props.loading)||!0===i.__ANT_RADIO&&e.props.disabled){var r=wx(e.props.style,["position","left","right","top","bottom","float","display","zIndex"]),o=r.picked,a=r.omitted,s=Object.assign(Object.assign({display:"inline-block"},o),{cursor:"not-allowed",width:e.props.block?"100%":void 0}),l=Ev(e,{style:Object.assign(Object.assign({},a),{pointerEvents:"none"}),className:null});return t.createElement("span",{style:s,className:wh()(e.props.className,"".concat(n,"-disabled-compatible-wrapper"))},l)}return e}(Sv(d)&&!Cv(d)?d:t.createElement("span",null,d),F),W=V.props,U=W.className&&"string"!==typeof W.className?W.className:wh()(W.className,ae({},a||"".concat(F,"-open"),!0)),H=pe(ux(F,!N),2),X=H[0],G=H[1],Y=hx(F,c),q=Object.assign(Object.assign({},u),Y.overlayStyle),K=Y.arrowStyle,$=wh()(l,ae({},"".concat(F,"-rtl"),"rtl"===_),Y.className,R,G);return X(t.createElement(cv,Object.assign({},z,{showArrow:g,placement:P,mouseEnterDelay:I,mouseLeaveDelay:D,prefixCls:F,overlayClassName:$,overlayStyle:Object.assign(Object.assign({},K),O),getTooltipContainer:T||s||x,ref:n,builtinPlacements:E(),overlay:function(){var t=e.title,n=e.overlay;return 0===t?t:n||t||""}(),visible:j,onVisibleChange:function(t){var n,i;S(!C()&&t),C()||(null===(n=e.onOpenChange)||void 0===n||n.call(e,t),null===(i=e.onVisibleChange)||void 0===i||i.call(e,t))},afterVisibleChange:null!==h&&void 0!==h?h:p,onPopupAlign:function(e,t){var n=E(),i=Object.keys(n).find((function(e){var i,r;return n[e].points[0]===(null===(i=t.points)||void 0===i?void 0:i[0])&&n[e].points[1]===(null===(r=t.points)||void 0===r?void 0:r[1])}));if(i){var r=e.getBoundingClientRect(),o={top:"50%",left:"50%"};/top|Bottom/.test(i)?o.top="".concat(r.height-t.offset[1],"px"):/Top|bottom/.test(i)&&(o.top="".concat(-t.offset[1],"px")),/left|Right/.test(i)?o.left="".concat(r.width-t.offset[0],"px"):/right|Left/.test(i)&&(o.left="".concat(-t.offset[0],"px")),e.style.transformOrigin="".concat(o.left," ").concat(o.top)}},overlayInnerStyle:q,arrowContent:t.createElement("span",{className:"".concat(F,"-arrow-content")}),motion:{motionName:mv(B,"zoom-big-fast",e.transitionName),motionDeadline:1e3}}),j?Ev(V,{className:U}):V))}));kx._InternalPanelDoNotUseOrYouWillBeFired=function(e){var n=e.prefixCls,i=e.className,r=e.placement,o=void 0===r?"top":r,a=e.title,s=e.color,l=e.overlayInnerStyle,c=(0,t.useContext(Kp).getPrefixCls)("tooltip",n),u=pe(ux(c,!0),2),d=u[0],h=u[1],p=hx(c,s),f=Object.assign(Object.assign({},l),p.overlayStyle),m=p.arrowStyle;return d(t.createElement("div",{className:wh()(h,c,"".concat(c,"-pure"),"".concat(c,"-placement-").concat(o),i,p.className),style:m},t.createElement(av,Object.assign({},e,{className:h,prefixCls:c,overlayInnerStyle:f}),a)))};var Sx=kx,Cx=function(e){return e?"function"===typeof e?e():e:null},Ex=function(e){var t,n=e.componentCls,i=e.popoverBg,r=e.popoverColor,o=e.width,a=e.fontWeightStrong,s=e.popoverPadding,l=e.boxShadowSecondary,c=e.colorTextHeading,u=e.borderRadiusLG,d=e.zIndexPopup,h=e.marginXS,p=e.colorBgElevated;return[ae({},n,Object.assign(Object.assign({},My(e)),(t={position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:d,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--antd-arrow-background-color":p,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"}},ae(t,"".concat(n,"-content"),{position:"relative"}),ae(t,"".concat(n,"-inner"),{backgroundColor:i,backgroundClip:"padding-box",borderRadius:u,boxShadow:l,padding:s}),ae(t,"".concat(n,"-title"),{minWidth:o,marginBottom:h,color:c,fontWeight:a}),ae(t,"".concat(n,"-inner-content"),{color:r}),t))),lx(e,{colorBg:"var(--antd-arrow-background-color)"}),ae({},"".concat(n,"-pure"),ae({position:"relative",maxWidth:"none"},"".concat(n,"-content"),{display:"inline-block"}))]},Tx=function(e){var t=e.componentCls;return ae({},t,nx.map((function(n){var i,r=e["".concat(n,"-6")];return ae({},"&".concat(t,"-").concat(n),(ae(i={"--antd-arrow-background-color":r},"".concat(t,"-inner"),{backgroundColor:r}),ae(i,"".concat(t,"-arrow"),{background:"transparent"}),i))})))},Mx=function(e){var t,n=e.componentCls,i=e.lineWidth,r=e.lineType,o=e.colorSplit,a=e.paddingSM,s=e.controlHeight,l=e.fontSize,c=e.lineHeight,u=e.padding,d=s-Math.round(l*c),h=d/2,p=d/2-i,f=u;return ae({},n,(ae(t={},"".concat(n,"-inner"),{padding:0}),ae(t,"".concat(n,"-title"),{margin:0,padding:"".concat(h,"px ").concat(f,"px ").concat(p,"px"),borderBottom:"".concat(i,"px ").concat(r," ").concat(o)}),ae(t,"".concat(n,"-inner-content"),{padding:"".concat(a,"px ").concat(f,"px")}),t))},Px=tx("Popover",(function(e){var t=e.colorBgElevated,n=e.colorText,i=e.wireframe,r=Sy(e,{popoverBg:t,popoverColor:n,popoverPadding:12});return[Ex(r),Tx(r),i&&Mx(r),_y(r,"zoom-big")]}),(function(e){return{zIndexPopup:e.zIndexPopupBase+30,width:177}})),Ax=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},Ix=function(e,n,i){if(n||i)return t.createElement(t.Fragment,null,n&&t.createElement("div",{className:"".concat(e,"-title")},Cx(n)),t.createElement("div",{className:"".concat(e,"-inner-content")},Cx(i)))};function Lx(e){var n=e.hashId,i=e.prefixCls,r=e.className,o=e.style,a=e.placement,s=void 0===a?"top":a,l=e.title,c=e.content,u=e.children;return t.createElement("div",{className:wh()(n,i,"".concat(i,"-pure"),"".concat(i,"-placement-").concat(s),r),style:o},t.createElement(av,Object.assign({},e,{className:n,prefixCls:i}),u||Ix(i,l,c)))}function Dx(e){var n=e.prefixCls,i=Ax(e,["prefixCls"]),r=(0,t.useContext(Kp).getPrefixCls)("popover",n),o=pe(Px(r),2),a=o[0],s=o[1];return a(t.createElement(Lx,Object.assign({},i,{prefixCls:r,hashId:s})))}var Ox=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},Rx=function(e){var n=e.title,i=e.content,r=e.prefixCls;return n||i?t.createElement(t.Fragment,null,n&&t.createElement("div",{className:"".concat(r,"-title")},Cx(n)),t.createElement("div",{className:"".concat(r,"-inner-content")},Cx(i))):null},zx=t.forwardRef((function(e,n){var i,r,o=e.prefixCls,a=e.title,s=e.content,l=e.overlayClassName,c=e.placement,u=void 0===c?"top":c,d=e.trigger,h=void 0===d?"hover":d,p=e.mouseEnterDelay,f=void 0===p?.1:p,m=e.mouseLeaveDelay,g=void 0===m?.1:m,v=e.overlayStyle,y=void 0===v?{}:v,x=e.arrowPointAtCenter,b=e.arrow,_=Ox(e,["prefixCls","title","content","overlayClassName","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","arrowPointAtCenter","arrow"]),w=t.useContext(Kp).getPrefixCls,k=w("popover",o),S=pe(Px(k),2),C=S[0],E=S[1],T=w(),M=wh()(l,E),P=null!==(r=null!==(i="boolean"!==typeof b&&(null===b||void 0===b?void 0:b.arrowPointAtCenter))&&void 0!==i?i:x)&&void 0!==r&&r,A=null!==b&&void 0!==b?b:{arrowPointAtCenter:P};return C(t.createElement(Sx,Object.assign({placement:u,arrow:A,trigger:h,mouseEnterDelay:f,mouseLeaveDelay:g,overlayStyle:y},_,{prefixCls:k,overlayClassName:M,ref:n,overlay:t.createElement(Rx,{prefixCls:k,title:a,content:s}),transitionName:mv(T,"zoom-big",_.transitionName),"data-popover-inject":!0})))}));zx._InternalPanelDoNotUseOrYouWillBeFired=Dx;var Fx,Bx=zx,Nx=function(e){var t=e.componentCls,n=e.colorPrimary;return ae({},t,{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:"var(--wave-color, ".concat(n,")"),boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:["box-shadow 0.4s ".concat(e.motionEaseOutCirc),"opacity 2s ".concat(e.motionEaseOutCirc)].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0}}})},jx=tx("Wave",(function(e){return[Nx(e)]})),Vx=le({},o),Wx=Vx.version,Ux=Vx.render,Hx=Vx.unmountComponentAtNode;try{Number((Wx||"").split(".")[0])>=18&&(Fx=Vx.createRoot)}catch(_F){}function Xx(e){var t=Vx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===te(t)&&(t.usingClientEntryPoint=e)}var Gx="__rc_react_root__";function Yx(e,t){Fx?function(e,t){Xx(!0);var n=t[Gx]||Fx(t);Xx(!1),n.render(e),t[Gx]=n}(e,t):function(e,t){Ux(e,t)}(e,t)}function qx(e){return Kx.apply(this,arguments)}function Kx(){return(Kx=re(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){var e;null===(e=t[Gx])||void 0===e||e.unmount(),delete t[Gx]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $x(e){Hx(e)}function Zx(){return(Zx=re(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===Fx){e.next=2;break}return e.abrupt("return",qx(t));case 2:$x(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jx(e){return e&&"#fff"!==e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&"rgba(255, 255, 255, 1)"!==e&&function(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}(e)&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&"transparent"!==e}function Qx(e){return Number.isNaN(e)?0:e}var eb=function(e){var n=e.className,i=e.target,r=t.useRef(null),o=pe(t.useState(null),2),a=o[0],s=o[1],l=pe(t.useState([]),2),c=l[0],u=l[1],d=pe(t.useState(0),2),h=d[0],p=d[1],f=pe(t.useState(0),2),m=f[0],g=f[1],v=pe(t.useState(0),2),y=v[0],x=v[1],b=pe(t.useState(0),2),_=b[0],w=b[1],k=pe(t.useState(!1),2),S=k[0],C=k[1],E={left:h,top:m,width:y,height:_,borderRadius:c.map((function(e){return"".concat(e,"px")})).join(" ")};function T(){var e=getComputedStyle(i);s(function(e){var t=getComputedStyle(e),n=t.borderTopColor,i=t.borderColor,r=t.backgroundColor;return Jx(n)?n:Jx(i)?i:Jx(r)?r:null}(i));var t="static"===e.position,n=e.borderLeftWidth,r=e.borderTopWidth;p(t?i.offsetLeft:Qx(-parseFloat(n))),g(t?i.offsetTop:Qx(-parseFloat(r))),x(i.offsetWidth),w(i.offsetHeight);var o=e.borderTopLeftRadius,a=e.borderTopRightRadius,l=e.borderBottomLeftRadius,c=e.borderBottomRightRadius;u([o,a,c,l].map((function(e){return Qx(parseFloat(e))})))}return a&&(E["--wave-color"]=a),t.useEffect((function(){if(i){var e,t=rf((function(){T(),C(!0)}));return"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(T)).observe(i),function(){rf.cancel(t),null===e||void 0===e||e.disconnect()}}}),[]),S?t.createElement(im,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:function(e,t){var n;if(t.deadline||"opacity"===t.propertyName){var i=null===(n=r.current)||void 0===n?void 0:n.parentElement;(function(e){return Zx.apply(this,arguments)})(i).then((function(){var e;null===(e=i.parentElement)||void 0===e||e.removeChild(i)}))}return!1}},(function(e){var i=e.className;return t.createElement("div",{ref:r,className:wh()(n,i),style:E})})):null};function tb(e,n){return function(){!function(e,n){var i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.top="0px",null===e||void 0===e||e.insertBefore(i,null===e||void 0===e?void 0:e.firstChild),Yx(t.createElement(eb,{target:e,className:n}),i)}(e.current,n)}}var nb=function(e){var n=e.children,i=e.disabled,r=(0,t.useContext)(Kp).getPrefixCls,o=(0,t.useRef)(null),a=r("wave"),s=pe(jx(a),2)[1],l=tb(o,wh()(a,s));return t.useEffect((function(){var e=o.current;if(e&&1===e.nodeType&&!i){var t=function(t){"INPUT"===t.target.tagName||!hg(t.target)||!e.getAttribute||e.getAttribute("disabled")||e.disabled||e.className.includes("disabled")||e.className.includes("-leave")||l()};return e.addEventListener("click",t,!0),function(){e.removeEventListener("click",t,!0)}}}),[i]),t.isValidElement(n)?Ev(n,{ref:uf(n)?cf(n.ref,o):o}):null!==n&&void 0!==n?n:null},ib=t.createContext(!1),rb=function(e){var n=e.children,i=e.disabled,r=t.useContext(ib);return t.createElement(ib.Provider,{value:null!==i&&void 0!==i?i:r},n)},ob=ib,ab=t.createContext(void 0),sb=function(e){var n=e.children,i=e.size,r=t.useContext(ab);return t.createElement(ab.Provider,{value:i||r},n)},lb=ab;function cb(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[];return t.Children.forEach(e,(function(e){(void 0!==e&&null!==e||n.keepEmpty)&&(Array.isArray(e)?i=i.concat(cb(e)):(0,af.isFragment)(e)&&e.props?i=i.concat(cb(e.props.children,n)):i.push(e))})),i}var ub=function(e){return ae({},e.componentCls,{display:"inline-flex","&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}})},db=function(e){var t=e.componentCls;return ae({},t,ae({display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}}},"".concat(t,"-item"),{"&:empty":{display:"none"}}))},hb=tx("Space",(function(e){return[db(e),ub(e)]})),pb=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},fb=t.createContext(null),mb=function(e,n){var i=t.useContext(fb),r=t.useMemo((function(){var t;if(!i)return"";var r=i.compactDirection,o=i.isFirstItem,a=i.isLastItem,s="vertical"===r?"-vertical-":"-";return wh()((ae(t={},"".concat(e,"-compact").concat(s,"item"),!0),ae(t,"".concat(e,"-compact").concat(s,"first-item"),o),ae(t,"".concat(e,"-compact").concat(s,"last-item"),a),ae(t,"".concat(e,"-compact").concat(s,"item-rtl"),"rtl"===n),t))}),[e,n,i]);return{compactSize:null===i||void 0===i?void 0:i.compactSize,compactDirection:null===i||void 0===i?void 0:i.compactDirection,compactItemClassnames:r}},gb=function(e){var n=e.children;return t.createElement(fb.Provider,{value:null},n)},vb=function(e){var n=e.children,i=pb(e,["children"]);return t.createElement(fb.Provider,{value:i},n)},yb=function(e){var n,i=t.useContext(Kp),r=i.getPrefixCls,o=i.direction,a=e.size,s=void 0===a?"middle":a,l=e.direction,c=e.block,u=e.prefixCls,d=e.className,h=e.rootClassName,p=e.children,f=pb(e,["size","direction","block","prefixCls","className","rootClassName","children"]),m=r("space-compact",u),g=pe(hb(m),2),v=g[0],y=g[1],x=wh()(m,y,(ae(n={},"".concat(m,"-rtl"),"rtl"===o),ae(n,"".concat(m,"-block"),c),ae(n,"".concat(m,"-vertical"),"vertical"===l),n),d,h),b=t.useContext(fb),_=cb(p),w=t.useMemo((function(){return _.map((function(e,n){var i=e&&e.key||"".concat(m,"-item-").concat(n);return t.createElement(vb,{key:i,compactSize:s,compactDirection:l,isFirstItem:0===n&&(!b||(null===b||void 0===b?void 0:b.isFirstItem)),isLastItem:n===_.length-1&&(!b||(null===b||void 0===b?void 0:b.isLastItem))},e)}))}),[s,_,b]);return 0===_.length?null:v(t.createElement("div",Object.assign({className:x},f),w))},xb=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},bb=t.createContext(void 0),_b=function(e){var n,i=t.useContext(Kp),r=i.getPrefixCls,o=i.direction,a=e.prefixCls,s=e.size,l=e.className,c=xb(e,["prefixCls","size","className"]),u=r("btn-group",a),d=pe(ex(),3)[2],h="";switch(s){case"large":h="lg";break;case"small":h="sm"}var p=wh()(u,(ae(n={},"".concat(u,"-").concat(h),h),ae(n,"".concat(u,"-rtl"),"rtl"===o),n),l,d);return t.createElement(bb.Provider,{value:s},t.createElement("div",Object.assign({},c,{className:p})))},wb=/^[\u4e00-\u9fa5]{2}$/,kb=wb.test.bind(wb);function Sb(e){return"text"===e||"link"===e}function Cb(e,n){var i=!1,r=[];return t.Children.forEach(e,(function(e){var t=typeof e,n="string"===t||"number"===t;if(i&&n){var o=r.length-1,a=r[o];r[o]="".concat(a).concat(e)}else r.push(e);i=n})),t.Children.map(r,(function(e){return function(e,n){if(null!==e&&void 0!==e){var i=n?" ":"";return"string"!==typeof e&&"number"!==typeof e&&"string"===typeof e.type&&kb(e.props.children)?Ev(e,{children:e.props.children.split("").join(i)}):"string"===typeof e?kb(e)?t.createElement("span",null,e.split("").join(i)):t.createElement("span",null,e):Cv(e)?t.createElement("span",null,e):e}}(e,n)}))}var Eb={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},Tb=function(e,n){return t.createElement(Rp,le(le({},e),{},{ref:n,icon:Eb}))};Tb.displayName="LoadingOutlined";var Mb=t.forwardRef(Tb),Pb=function(){return{width:0,opacity:0,transform:"scale(0)"}},Ab=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}},Ib=function(e){var n=e.prefixCls,i=!!e.loading;return e.existIcon?t.createElement("span",{className:"".concat(n,"-loading-icon")},t.createElement(Mb,null)):t.createElement(im,{visible:i,motionName:"".concat(n,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:Pb,onAppearActive:Ab,onEnterStart:Pb,onEnterActive:Ab,onLeaveStart:Ab,onLeaveActive:Pb},(function(e,i){var r=e.className,o=e.style;return t.createElement("span",{className:"".concat(n,"-loading-icon"),style:o,ref:i},t.createElement(Mb,{className:r}))}))},Lb=function(e,t){return ae({},"> span, > ".concat(e),{"&:not(:last-child)":ae({},"&, & > ".concat(e),{"&:not(:disabled)":{borderInlineEndColor:t}}),"&:not(:first-child)":ae({},"&, & > ".concat(e),{"&:not(:disabled)":{borderInlineStartColor:t}})})},Db=function(e){var t,n,i=e.componentCls,r=e.fontSize,o=e.lineWidth,a=e.colorPrimaryHover,s=e.colorErrorHover;return ae({},"".concat(i,"-group"),[(n={position:"relative",display:"inline-flex"},ae(n,"> span, > ".concat(i),{"&:not(:last-child)":ae({},"&, & > ".concat(i),{borderStartEndRadius:0,borderEndEndRadius:0}),"&:not(:first-child)":ae({marginInlineStart:-o},"&, & > ".concat(i),{borderStartStartRadius:0,borderEndStartRadius:0})}),ae(n,i,(t={position:"relative",zIndex:1},ae(t,"&:hover,\n          &:focus,\n          &:active",{zIndex:2}),ae(t,"&[disabled]",{zIndex:0}),t)),ae(n,"".concat(i,"-icon-only"),{fontSize:r}),n),Lb("".concat(i,"-primary"),a),Lb("".concat(i,"-danger"),s)])};function Ob(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{focus:!0},n=e.componentCls,i="".concat(n,"-compact");return ae({},i,Object.assign(Object.assign({},function(e,t,n){var i,r=n.focusElCls,o=n.focus,a=n.borderElCls?"> *":"",s=["hover",o?"focus":null,"active"].filter(Boolean).map((function(e){return"&:".concat(e," ").concat(a)})).join(",");return ae(i={},"&-item:not(".concat(t,"-last-item)"),{marginInlineEnd:-e.lineWidth}),ae(i,"&-item",Object.assign(Object.assign(ae({},s,{zIndex:2}),r?ae({},"&".concat(r),{zIndex:2}):{}),ae({},"&[disabled] ".concat(a),{zIndex:0}))),i}(e,i,t)),function(e,t,n){var i,r=n.borderElCls,o=r?"> ".concat(r):"";return ae(i={},"&-item:not(".concat(t,"-first-item):not(").concat(t,"-last-item) ").concat(o),{borderRadius:0}),ae(i,"&-item:not(".concat(t,"-last-item)").concat(t,"-first-item"),ae({},"& ".concat(o,", &").concat(e,"-sm ").concat(o,", &").concat(e,"-lg ").concat(o),{borderStartEndRadius:0,borderEndEndRadius:0})),ae(i,"&-item:not(".concat(t,"-first-item)").concat(t,"-last-item"),ae({},"& ".concat(o,", &").concat(e,"-sm ").concat(o,", &").concat(e,"-lg ").concat(o),{borderStartStartRadius:0,borderEndStartRadius:0})),i}(n,i,t)))}function Rb(e){var t="".concat(e.componentCls,"-compact-vertical");return ae({},t,Object.assign(Object.assign({},function(e,t){var n;return ae(n={},"&-item:not(".concat(t,"-last-item)"),{marginBottom:-e.lineWidth}),ae(n,"&-item",{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}),n}(e,t)),function(e,t){var n;return ae(n={},"&-item:not(".concat(t,"-first-item):not(").concat(t,"-last-item)"),{borderRadius:0}),ae(n,"&-item".concat(t,"-first-item:not(").concat(t,"-last-item)"),ae({},"&, &".concat(e,"-sm, &").concat(e,"-lg"),{borderEndEndRadius:0,borderEndStartRadius:0})),ae(n,"&-item".concat(t,"-last-item:not(").concat(t,"-first-item)"),ae({},"&, &".concat(e,"-sm, &").concat(e,"-lg"),{borderStartStartRadius:0,borderStartEndRadius:0})),n}(e.componentCls,t)))}var zb=function(e){var t,n=e.componentCls,i=e.iconCls;return ae({},n,(ae(t={outline:"none",position:"relative",display:"inline-block",fontWeight:400,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",backgroundColor:"transparent",border:"".concat(e.lineWidth,"px ").concat(e.lineType," transparent"),cursor:"pointer",transition:"all ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut),userSelect:"none",touchAction:"manipulation",lineHeight:e.lineHeight,color:e.colorText,"> span":{display:"inline-block"}},"> ".concat(i," + span, > span + ").concat(i),{marginInlineStart:e.marginXS}),ae(t,"> a",{color:"currentColor"}),ae(t,"&:not(:disabled)",Object.assign({},Dy(e))),ae(t,"&-icon-only".concat(n,"-compact-item"),{flex:"none"}),ae(t,"&-compact-item".concat(n,"-primary"),ae({},"&:not([disabled]) + ".concat(n,"-compact-item").concat(n,"-primary:not([disabled])"),{position:"relative","&:before":{position:"absolute",top:-e.lineWidth,insetInlineStart:-e.lineWidth,display:"inline-block",width:e.lineWidth,height:"calc(100% + ".concat(2*e.lineWidth,"px)"),backgroundColor:e.colorPrimaryHover,content:'""'}})),ae(t,"&-compact-vertical-item",ae({},"&".concat(n,"-primary"),ae({},"&:not([disabled]) + ".concat(n,"-compact-vertical-item").concat(n,"-primary:not([disabled])"),{position:"relative","&:before":{position:"absolute",top:-e.lineWidth,insetInlineStart:-e.lineWidth,display:"inline-block",width:"calc(100% + ".concat(2*e.lineWidth,"px)"),height:e.lineWidth,backgroundColor:e.colorPrimaryHover,content:'""'}}))),t))},Fb=function(e,t){return{"&:not(:disabled)":{"&:hover":e,"&:active":t}}},Bb=function(e){return{minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}},Nb=function(e){return{borderRadius:e.controlHeight,paddingInlineStart:e.controlHeight/2,paddingInlineEnd:e.controlHeight/2}},jb=function(e){return{cursor:"not-allowed",borderColor:e.colorBorder,color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,boxShadow:"none"}},Vb=function(e,t,n,i,r,o,a){return ae({},"&".concat(e,"-background-ghost"),Object.assign(Object.assign({color:t||void 0,backgroundColor:"transparent",borderColor:n||void 0,boxShadow:"none"},Fb(Object.assign({backgroundColor:"transparent"},o),Object.assign({backgroundColor:"transparent"},a))),{"&:disabled":{cursor:"not-allowed",color:i||void 0,borderColor:r||void 0}}))},Wb=function(e){return{"&:disabled":Object.assign({},jb(e))}},Ub=function(e){return Object.assign({},Wb(e))},Hb=function(e){return{"&:disabled":{cursor:"not-allowed",color:e.colorTextDisabled}}},Xb=function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ub(e)),{backgroundColor:e.colorBgContainer,borderColor:e.colorBorder,boxShadow:"0 ".concat(e.controlOutlineWidth,"px 0 ").concat(e.controlTmpOutline)}),Fb({color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),Vb(e.componentCls,e.colorBgContainer,e.colorBgContainer,e.colorTextDisabled,e.colorBorder)),ae({},"&".concat(e.componentCls,"-dangerous"),Object.assign(Object.assign(Object.assign({color:e.colorError,borderColor:e.colorError},Fb({color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),Vb(e.componentCls,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder)),Wb(e))))},Gb=function(e){var t,n=e.componentCls;return ae(t={},"".concat(n,"-default"),Xb(e)),ae(t,"".concat(n,"-primary"),function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ub(e)),{color:e.colorTextLightSolid,backgroundColor:e.colorPrimary,boxShadow:"0 ".concat(e.controlOutlineWidth,"px 0 ").concat(e.controlOutline)}),Fb({color:e.colorTextLightSolid,backgroundColor:e.colorPrimaryHover},{color:e.colorTextLightSolid,backgroundColor:e.colorPrimaryActive})),Vb(e.componentCls,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),ae({},"&".concat(e.componentCls,"-dangerous"),Object.assign(Object.assign(Object.assign({backgroundColor:e.colorError,boxShadow:"0 ".concat(e.controlOutlineWidth,"px 0 ").concat(e.colorErrorOutline)},Fb({backgroundColor:e.colorErrorHover},{backgroundColor:e.colorErrorActive})),Vb(e.componentCls,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),Wb(e))))}(e)),ae(t,"".concat(n,"-dashed"),function(e){return Object.assign(Object.assign({},Xb(e)),{borderStyle:"dashed"})}(e)),ae(t,"".concat(n,"-link"),function(e){return Object.assign(Object.assign(Object.assign({color:e.colorLink},Fb({color:e.colorLinkHover},{color:e.colorLinkActive})),Hb(e)),ae({},"&".concat(e.componentCls,"-dangerous"),Object.assign(Object.assign({color:e.colorError},Fb({color:e.colorErrorHover},{color:e.colorErrorActive})),Hb(e))))}(e)),ae(t,"".concat(n,"-text"),function(e){return Object.assign(Object.assign(Object.assign({},Fb({color:e.colorText,backgroundColor:e.colorBgTextHover},{color:e.colorText,backgroundColor:e.colorBgTextActive})),Hb(e)),ae({},"&".concat(e.componentCls,"-dangerous"),Object.assign(Object.assign({color:e.colorError},Hb(e)),Fb({color:e.colorErrorHover,backgroundColor:e.colorErrorBg},{color:e.colorErrorHover,backgroundColor:e.colorErrorBg}))))}(e)),ae(t,"".concat(n,"-disabled"),function(e){return Object.assign(Object.assign({},jb(e)),ae({},"&".concat(e.componentCls,":hover"),Object.assign({},jb(e))))}(e)),t},Yb=function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.componentCls,o=e.iconCls,a=e.controlHeight,s=e.fontSize,l=e.lineHeight,c=e.lineWidth,u=e.borderRadius,d=e.buttonPaddingHorizontal,h=Math.max(0,(a-s*l)/2-c),p=d-c,f="".concat(r,"-icon-only");return[ae({},"".concat(r).concat(i),(n={fontSize:s,height:a,padding:"".concat(h,"px ").concat(p,"px"),borderRadius:u},ae(n,"&".concat(f),(t={width:a,paddingInlineStart:0,paddingInlineEnd:0},ae(t,"&".concat(r,"-round"),{width:"auto"}),ae(t,"> span",{transform:"scale(1.143)"}),t)),ae(n,"&".concat(r,"-loading"),{opacity:e.opacityLoading,cursor:"default"}),ae(n,"".concat(r,"-loading-icon"),{transition:"width ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOut,", opacity ").concat(e.motionDurationSlow," ").concat(e.motionEaseInOut)}),ae(n,"&:not(".concat(f,") ").concat(r,"-loading-icon > ").concat(o),{marginInlineEnd:e.marginXS}),n)),ae({},"".concat(r).concat(r,"-circle").concat(i),Bb(e)),ae({},"".concat(r).concat(r,"-round").concat(i),Nb(e))]},qb=function(e){return Yb(e)},Kb=function(e){var t=Sy(e,{controlHeight:e.controlHeightSM,padding:e.paddingXS,buttonPaddingHorizontal:8,borderRadius:e.borderRadiusSM});return Yb(t,"".concat(e.componentCls,"-sm"))},$b=function(e){var t=Sy(e,{controlHeight:e.controlHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG});return Yb(t,"".concat(e.componentCls,"-lg"))},Zb=function(e){var t=e.componentCls;return ae({},t,ae({},"&".concat(t,"-block"),{width:"100%"}))},Jb=tx("Button",(function(e){var t=Sy(e,{colorOutlineDefault:e.controlTmpOutline,buttonPaddingHorizontal:e.paddingContentHorizontal});return[zb(t),Kb(t),qb(t),$b(t),Zb(t),Gb(t),Db(t),Ob(e,{focus:!1}),Rb(e)]})),Qb=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function e_(e){return"danger"===e?{danger:!0}:{type:e}}var t_=function(e,n){var i,r=e.loading,o=void 0!==r&&r,a=e.prefixCls,s=e.type,l=void 0===s?"default":s,c=e.danger,u=e.shape,d=void 0===u?"default":u,h=e.size,p=e.disabled,f=e.className,m=e.rootClassName,g=e.children,v=e.icon,y=e.ghost,x=void 0!==y&&y,b=e.block,_=void 0!==b&&b,w=e.htmlType,k=void 0===w?"button":w,S=Qb(e,["loading","prefixCls","type","danger","shape","size","disabled","className","rootClassName","children","icon","ghost","block","htmlType"]),C=t.useContext(Kp),E=C.getPrefixCls,T=C.autoInsertSpaceInButton,M=C.direction,P=E("btn",a),A=pe(Jb(P),2),I=A[0],L=A[1],D=t.useContext(lb),O=t.useContext(ob),R=null!==p&&void 0!==p?p:O,z=t.useContext(bb),F=pe(t.useState(!!o),2),B=F[0],N=F[1],j=pe(t.useState(!1),2),V=j[0],W=j[1],U=n||t.createRef(),H=function(){return 1===t.Children.count(g)&&!v&&!Sb(l)},X="boolean"===typeof o?o:(null===o||void 0===o?void 0:o.delay)||!0;t.useEffect((function(){var e=null;return"number"===typeof X?e=window.setTimeout((function(){e=null,N(X)}),X):N(X),function(){e&&(window.clearTimeout(e),e=null)}}),[X]),t.useEffect((function(){if(U&&U.current&&!1!==T){var e=U.current.textContent;H()&&kb(e)?V||W(!0):V&&W(!1)}}),[U]);var G=function(t){var n=e.onClick;B||R?t.preventDefault():null===n||void 0===n||n(t)},Y=!1!==T,q=mb(P,M),K=q.compactSize,$=q.compactItemClassnames,Z=K||z||h||D,J=Z&&{large:"lg",small:"sm",middle:void 0}[Z]||"",Q=B?"loading":v,ee=Yp(S,["navigate"]),te=void 0!==ee.href&&R,ne=wh()(P,L,(ae(i={},"".concat(P,"-").concat(d),"default"!==d&&d),ae(i,"".concat(P,"-").concat(l),l),ae(i,"".concat(P,"-").concat(J),J),ae(i,"".concat(P,"-icon-only"),!g&&0!==g&&!!Q),ae(i,"".concat(P,"-background-ghost"),x&&!Sb(l)),ae(i,"".concat(P,"-loading"),B),ae(i,"".concat(P,"-two-chinese-chars"),V&&Y&&!B),ae(i,"".concat(P,"-block"),_),ae(i,"".concat(P,"-dangerous"),!!c),ae(i,"".concat(P,"-rtl"),"rtl"===M),ae(i,"".concat(P,"-disabled"),te),i),$,f,m),ie=v&&!B?v:t.createElement(Ib,{existIcon:!!v,prefixCls:P,loading:!!B}),re=g||0===g?Cb(g,H()&&Y):null;if(void 0!==ee.href)return I(t.createElement("a",Object.assign({},ee,{className:ne,onClick:G,ref:U}),ie,re));var oe=t.createElement("button",Object.assign({},S,{type:k,className:ne,onClick:G,disabled:R,ref:U}),ie,re);return Sb(l)||(oe=t.createElement(nb,{disabled:!!B},oe)),I(oe)},n_=t.forwardRef(t_);n_.Group=_b,n_.__ANT_BUTTON=!0;var i_=n_;function r_(e){return!(!e||!e.then)}var o_=function(e){var n=e.type,i=e.children,r=e.prefixCls,o=e.buttonProps,a=e.close,s=e.autoFocus,l=e.emitEvent,c=e.quitOnNullishReturnValue,u=e.actionFn,d=t.useRef(!1),h=t.useRef(null),p=pe(Wp(!1),2),f=p[0],m=p[1],g=function(){null===a||void 0===a||a.apply(void 0,arguments)};t.useEffect((function(){var e=null;return s&&(e=setTimeout((function(){var e;null===(e=h.current)||void 0===e||e.focus()}))),function(){e&&clearTimeout(e)}}),[]);return t.createElement(i_,Object.assign({},e_(n),{onClick:function(e){if(!d.current)if(d.current=!0,u){var t;if(l){if(t=u(e),c&&!r_(t))return d.current=!1,void g(e)}else if(u.length)t=u(a),d.current=!1;else if(!(t=u()))return void g();!function(e){r_(e)&&(m(!0),e.then((function(){m(!1,!0),g.apply(void 0,arguments),d.current=!1}),(function(e){return m(!1,!0),d.current=!1,Promise.reject(e)})))}(t)}else g()},loading:f,prefixCls:r},o,{ref:h}),i)},a_=(0,t.createContext)(void 0),s_={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},l_={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},c_={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},u_={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},l_),timePickerLocale:Object.assign({},c_)},d_="${label} is not a valid ${type}",h_={locale:"en",Pagination:s_,DatePicker:u_,TimePicker:c_,Calendar:u_,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:d_,method:d_,array:d_,object:d_,number:d_,date:d_,boolean:d_,integer:d_,float:d_,regexp:d_,email:d_,url:d_,hex:d_},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh"}},p_=function(e){var n=e.componentName,i=void 0===n?"global":n,r=e.defaultLocale,o=e.children,a=t.useContext(a_),s=t.useMemo((function(){var e,t=r||h_[i],n=null!==(e=null===a||void 0===a?void 0:a[i])&&void 0!==e?e:{};return Object.assign(Object.assign({},t instanceof Function?t():t),n||{})}),[i,r,a]);return o(s,t.useMemo((function(){var e=a&&a.locale;return a&&a.exist&&!e?h_.locale:e}),[a]),a)},f_=tx("Popconfirm",(function(e){return function(e){var t,n,i=e.componentCls,r=e.iconCls,o=e.zIndexPopup,a=e.colorText,s=e.colorWarning,l=e.marginXS,c=e.fontSize,u=e.fontWeightStrong,d=e.lineHeight;return ae({},i,(ae(n={zIndex:o},"".concat(i,"-inner-content"),{color:a}),ae(n,"".concat(i,"-message"),(ae(t={position:"relative",marginBottom:l,color:a,fontSize:c,display:"flex",flexWrap:"nowrap",alignItems:"start"},"> ".concat(i,"-message-icon ").concat(r),{color:s,fontSize:c,flex:"none",lineHeight:1,paddingTop:(Math.round(c*d)-c)/2}),ae(t,"&-title",{flex:"auto",marginInlineStart:l}),ae(t,"&-title-only",{fontWeight:u}),t)),ae(n,"".concat(i,"-description"),{position:"relative",marginInlineStart:c+l,marginBottom:l,color:a,fontSize:c}),ae(n,"".concat(i,"-buttons"),{textAlign:"end",button:{marginInlineStart:l}}),n))}(e)}),(function(e){return{zIndexPopup:e.zIndexPopupBase+60}})),m_=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},g_=function(e){var n=e.prefixCls,i=e.okButtonProps,r=e.cancelButtonProps,o=e.title,a=e.description,s=e.cancelText,l=e.okText,c=e.okType,u=void 0===c?"primary":c,d=e.icon,h=void 0===d?t.createElement(Fp,null):d,p=e.showCancel,f=void 0===p||p,m=e.close,g=e.onConfirm,v=e.onCancel,y=t.useContext(Kp).getPrefixCls;return t.createElement(p_,{componentName:"Popconfirm",defaultLocale:h_.Popconfirm},(function(e){return t.createElement("div",{className:"".concat(n,"-inner-content")},t.createElement("div",{className:"".concat(n,"-message")},h&&t.createElement("span",{className:"".concat(n,"-message-icon")},h),t.createElement("div",{className:wh()("".concat(n,"-message-title"),ae({},"".concat(n,"-message-title-only"),!!a))},Cx(o))),a&&t.createElement("div",{className:"".concat(n,"-description")},Cx(a)),t.createElement("div",{className:"".concat(n,"-buttons")},f&&t.createElement(i_,Object.assign({onClick:v,size:"small"},r),null!==s&&void 0!==s?s:e.cancelText),t.createElement(o_,{buttonProps:Object.assign(Object.assign({size:"small"},e_(u)),i),actionFn:g,close:m,prefixCls:y("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},null!==l&&void 0!==l?l:e.okText)))}))};var v_=void 0,y_=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},x_=t.forwardRef((function(e,n){var i=t.useContext(Kp).getPrefixCls,r=pe(Hp(!1,{value:e.open,defaultValue:e.defaultOpen}),2),o=r[0],a=r[1],s=function(t,n){var i;a(t,!0),null===(i=e.onOpenChange)||void 0===i||i.call(e,t,n)},l=e.prefixCls,c=e.placement,u=void 0===c?"top":c,d=e.trigger,h=void 0===d?"click":d,p=e.okType,f=void 0===p?"primary":p,m=e.icon,g=void 0===m?t.createElement(Fp,null):m,v=e.children,y=e.overlayClassName,x=y_(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName"]),b=i("popconfirm",l),_=wh()(b,y);return(0,pe(f_(b),1)[0])(t.createElement(Bx,Object.assign({},Yp(x,["title"]),{trigger:h,placement:u,onOpenChange:function(t){var n=e.disabled;void 0!==n&&n||s(t)},open:o,ref:n,overlayClassName:_,content:t.createElement(g_,Object.assign({okType:f,icon:g},e,{prefixCls:b,close:function(e){s(!1,e)},onConfirm:function(t){var n;return null===(n=e.onConfirm)||void 0===n?void 0:n.call(v_,t)},onCancel:function(t){var n;s(!1,t),null===(n=e.onCancel)||void 0===n||n.call(v_,t)}})),"data-popover-inject":!0}),Ev(v,{onKeyDown:function(e){var n,i;t.isValidElement(v)&&(null===(i=null===v||void 0===v?void 0:(n=v.props).onKeyDown)||void 0===i||i.call(n,e)),function(e){e.keyCode===Gp.ESC&&o&&s(!1,e)}(e)}})))}));x_._InternalPanelDoNotUseOrYouWillBeFired=function(e){var n=e.prefixCls,i=e.placement,r=e.className,o=e.style,a=m_(e,["prefixCls","placement","className","style"]),s=(0,t.useContext(Kp).getPrefixCls)("popconfirm",n);return(0,pe(f_(s),1)[0])(t.createElement(Dx,{placement:i,className:wh()(s,r),style:o,content:t.createElement(g_,Object.assign({prefixCls:s},a))}))};var b_=x_,__="RC_FORM_INTERNAL_HOOKS",w_=function(){cp(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},k_=t.createContext({getFieldValue:w_,getFieldsValue:w_,getFieldError:w_,getFieldWarning:w_,getFieldsError:w_,isFieldsTouched:w_,isFieldTouched:w_,isFieldValidating:w_,isFieldsValidating:w_,resetFields:w_,setFields:w_,setFieldValue:w_,setFieldsValue:w_,validateFields:w_,submit:w_,getInternalHooks:function(){return w_(),{dispatch:w_,initEntityValue:w_,registerField:w_,useSubscribe:w_,setInitialValues:w_,destroyForm:w_,setCallbacks:w_,registerWatch:w_,getFields:w_,setValidateMessages:w_,setPreserve:w_,getInitialValue:w_}}});function S_(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function C_(){return C_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},C_.apply(this,arguments)}function E_(e){return E_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E_(e)}function T_(e,t){return T_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},T_(e,t)}function M_(e,t,n){return M_=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(_F){return!1}}()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&T_(r,n.prototype),r},M_.apply(null,arguments)}function P_(e){var t="function"===typeof Map?new Map:void 0;return P_=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return M_(e,arguments,E_(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),T_(i,e)},P_(e)}var A_=/%[sdj%]/g;function I_(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function L_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=0,o=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var a=e.replace(A_,(function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(Ua){return"[Circular]"}break;default:return e}}));return a}return e}function D_(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function O_(e,t,n){var i=0,r=e.length;!function o(a){if(a&&a.length)n(a);else{var s=i;i+=1,s<r?t(e[s],o):n([])}}([])}var R_=function(e){var t,n;function i(t,n){var i;return(i=e.call(this,"Async Validation Error")||this).errors=t,i.fields=n,i}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,T_(t,n),i}(P_(Error));function z_(e,t,n,i,r){if(t.first){var o=new Promise((function(t,o){var a=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);O_(a,n,(function(e){return i(e),e.length?o(new R_(e,I_(e))):t(r)}))}));return o.catch((function(e){return e})),o}var a=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),l=s.length,c=0,u=[],d=new Promise((function(t,o){var d=function(e){if(u.push.apply(u,e),++c===l)return i(u),u.length?o(new R_(u,I_(u))):t(r)};s.length||(i(u),t(r)),s.forEach((function(t){var i=e[t];-1!==a.indexOf(t)?O_(i,n,d):function(e,t,n){var i=[],r=0,o=e.length;function a(e){i.push.apply(i,e||[]),++r===o&&n(i)}e.forEach((function(e){t(e,a)}))}(i,n,d)}))}));return d.catch((function(e){return e})),d}function F_(e,t){return function(n){var i,r;return i=e.fullFields?function(e,t){for(var n=e,i=0;i<t.length;i++){if(void 0==n)return n;n=n[t[i]]}return n}(t,e.fullFields):t[n.field||e.fullField],(r=n)&&void 0!==r.message?(n.field=n.field||e.fullField,n.fieldValue=i,n):{message:"function"===typeof n?n():n,fieldValue:i,field:n.field||e.fullField}}}function B_(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];"object"===typeof i&&"object"===typeof e[n]?e[n]=C_({},e[n],i):e[n]=i}return e}var N_,j_=function(e,t,n,i,r,o){!e.required||n.hasOwnProperty(e.field)&&!D_(t,o||e.type)||i.push(L_(r.messages.required,e.fullField))},V_=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,W_=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,U_={integer:function(e){return U_.number(e)&&parseInt(e,10)===e},float:function(e){return U_.number(e)&&!U_.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(_F){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!U_.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(V_)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(function(){if(N_)return N_;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",i="[a-fA-F\\d]{1,4}",r=("\n(?:\n(?:"+i+":){7}(?:"+i+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+i+":){6}(?:"+n+"|:"+i+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+i+":){5}(?::"+n+"|(?::"+i+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+i+":){4}(?:(?::"+i+"){0,1}:"+n+"|(?::"+i+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+i+":){3}(?:(?::"+i+"){0,2}:"+n+"|(?::"+i+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+i+":){2}(?:(?::"+i+"){0,3}:"+n+"|(?::"+i+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+i+":){1}(?:(?::"+i+"){0,4}:"+n+"|(?::"+i+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+i+"){0,5}:"+n+"|(?::"+i+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+r+"$)"),a=new RegExp("^"+n+"$"),s=new RegExp("^"+r+"$"),l=function(e){return e&&e.exact?o:new RegExp("(?:"+t(e)+n+t(e)+")|(?:"+t(e)+r+t(e)+")","g")};l.v4=function(e){return e&&e.exact?a:new RegExp(""+t(e)+n+t(e),"g")},l.v6=function(e){return e&&e.exact?s:new RegExp(""+t(e)+r+t(e),"g")};var c=l.v4().source,u=l.v6().source;return N_=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+c+"|"+u+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(e){return"string"===typeof e&&!!e.match(W_)}},H_="enum",X_={required:j_,whitespace:function(e,t,n,i,r){(/^\s+$/.test(t)||""===t)&&i.push(L_(r.messages.whitespace,e.fullField))},type:function(e,t,n,i,r){if(e.required&&void 0===t)j_(e,t,n,i,r);else{var o=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?U_[o](t)||i.push(L_(r.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&i.push(L_(r.messages.types[o],e.fullField,e.type))}},range:function(e,t,n,i,r){var o="number"===typeof e.len,a="number"===typeof e.min,s="number"===typeof e.max,l=t,c=null,u="number"===typeof t,d="string"===typeof t,h=Array.isArray(t);if(u?c="number":d?c="string":h&&(c="array"),!c)return!1;h&&(l=t.length),d&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?l!==e.len&&i.push(L_(r.messages[c].len,e.fullField,e.len)):a&&!s&&l<e.min?i.push(L_(r.messages[c].min,e.fullField,e.min)):s&&!a&&l>e.max?i.push(L_(r.messages[c].max,e.fullField,e.max)):a&&s&&(l<e.min||l>e.max)&&i.push(L_(r.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,i,r){e[H_]=Array.isArray(e[H_])?e[H_]:[],-1===e[H_].indexOf(t)&&i.push(L_(r.messages[H_],e.fullField,e[H_].join(", ")))},pattern:function(e,t,n,i,r){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||i.push(L_(r.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||i.push(L_(r.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},G_=function(e,t,n,i,r){var o=e.type,a=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(D_(t,o)&&!e.required)return n();X_.required(e,t,i,a,r,o),D_(t,o)||X_.type(e,t,i,a,r)}n(a)},Y_={string:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(D_(t,"string")&&!e.required)return n();X_.required(e,t,i,o,r,"string"),D_(t,"string")||(X_.type(e,t,i,o,r),X_.range(e,t,i,o,r),X_.pattern(e,t,i,o,r),!0===e.whitespace&&X_.whitespace(e,t,i,o,r))}n(o)},method:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(D_(t)&&!e.required)return n();X_.required(e,t,i,o,r),void 0!==t&&X_.type(e,t,i,o,r)}n(o)},number:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(""===t&&(t=void 0),D_(t)&&!e.required)return n();X_.required(e,t,i,o,r),void 0!==t&&(X_.type(e,t,i,o,r),X_.range(e,t,i,o,r))}n(o)},boolean:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(D_(t)&&!e.required)return n();X_.required(e,t,i,o,r),void 0!==t&&X_.type(e,t,i,o,r)}n(o)},regexp:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(D_(t)&&!e.required)return n();X_.required(e,t,i,o,r),D_(t)||X_.type(e,t,i,o,r)}n(o)},integer:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(D_(t)&&!e.required)return n();X_.required(e,t,i,o,r),void 0!==t&&(X_.type(e,t,i,o,r),X_.range(e,t,i,o,r))}n(o)},float:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(D_(t)&&!e.required)return n();X_.required(e,t,i,o,r),void 0!==t&&(X_.type(e,t,i,o,r),X_.range(e,t,i,o,r))}n(o)},array:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();X_.required(e,t,i,o,r,"array"),void 0!==t&&null!==t&&(X_.type(e,t,i,o,r),X_.range(e,t,i,o,r))}n(o)},object:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(D_(t)&&!e.required)return n();X_.required(e,t,i,o,r),void 0!==t&&X_.type(e,t,i,o,r)}n(o)},enum:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(D_(t)&&!e.required)return n();X_.required(e,t,i,o,r),void 0!==t&&X_.enum(e,t,i,o,r)}n(o)},pattern:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(D_(t,"string")&&!e.required)return n();X_.required(e,t,i,o,r),D_(t,"string")||X_.pattern(e,t,i,o,r)}n(o)},date:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(D_(t,"date")&&!e.required)return n();var a;if(X_.required(e,t,i,o,r),!D_(t,"date"))a=t instanceof Date?t:new Date(t),X_.type(e,a,i,o,r),a&&X_.range(e,a.getTime(),i,o,r)}n(o)},url:G_,hex:G_,email:G_,required:function(e,t,n,i,r){var o=[],a=Array.isArray(t)?"array":typeof t;X_.required(e,t,i,o,r,a),n(o)},any:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(D_(t)&&!e.required)return n();X_.required(e,t,i,o,r)}n(o)}};function q_(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var K_=q_(),$_=function(){function e(e){this.rules=null,this._messages=K_,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var i=e[n];t.rules[n]=Array.isArray(i)?i:[i]}))},t.messages=function(e){return e&&(this._messages=B_(q_(),e)),this._messages},t.validate=function(t,n,i){var r=this;void 0===n&&(n={}),void 0===i&&(i=function(){});var o=t,a=n,s=i;if("function"===typeof a&&(s=a,a={}),!this.rules||0===Object.keys(this.rules).length)return s&&s(null,o),Promise.resolve(o);if(a.messages){var l=this.messages();l===K_&&(l=q_()),B_(l,a.messages),a.messages=l}else a.messages=this.messages();var c={};(a.keys||Object.keys(this.rules)).forEach((function(e){var n=r.rules[e],i=o[e];n.forEach((function(n){var a=n;"function"===typeof a.transform&&(o===t&&(o=C_({},o)),i=o[e]=a.transform(i)),(a="function"===typeof a?{validator:a}:C_({},a)).validator=r.getValidationMethod(a),a.validator&&(a.field=e,a.fullField=a.fullField||e,a.type=r.getType(a),c[e]=c[e]||[],c[e].push({rule:a,value:i,source:o,field:e}))}))}));var u={};return z_(c,a,(function(t,n){var i,r=t.rule,s=("object"===r.type||"array"===r.type)&&("object"===typeof r.fields||"object"===typeof r.defaultField);function l(e,t){return C_({},t,{fullField:r.fullField+"."+e,fullFields:r.fullFields?[].concat(r.fullFields,[e]):[e]})}function c(i){void 0===i&&(i=[]);var c=Array.isArray(i)?i:[i];!a.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==r.message&&(c=[].concat(r.message));var d=c.map(F_(r,o));if(a.first&&d.length)return u[r.field]=1,n(d);if(s){if(r.required&&!t.value)return void 0!==r.message?d=[].concat(r.message).map(F_(r,o)):a.error&&(d=[a.error(r,L_(a.messages.required,r.field))]),n(d);var h={};r.defaultField&&Object.keys(t.value).map((function(e){h[e]=r.defaultField})),h=C_({},h,t.rule.fields);var p={};Object.keys(h).forEach((function(e){var t=h[e],n=Array.isArray(t)?t:[t];p[e]=n.map(l.bind(null,e))}));var f=new e(p);f.messages(a.messages),t.rule.options&&(t.rule.options.messages=a.messages,t.rule.options.error=a.error),f.validate(t.value,t.rule.options||a,(function(e){var t=[];d&&d.length&&t.push.apply(t,d),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(d)}if(s=s&&(r.required||!r.required&&t.value),r.field=t.field,r.asyncValidator)i=r.asyncValidator(r,t.value,c,t.source,a);else if(r.validator){try{i=r.validator(r,t.value,c,t.source,a)}catch(d){null==console.error||console.error(d),a.suppressValidatorError||setTimeout((function(){throw d}),0),c(d.message)}!0===i?c():!1===i?c("function"===typeof r.message?r.message(r.fullField||r.field):r.message||(r.fullField||r.field)+" fails"):i instanceof Array?c(i):i instanceof Error&&c(i.message)}i&&i.then&&i.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){var t=[],n={};function i(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var r=0;r<e.length;r++)i(e[r]);t.length?(n=I_(t),s(t,n)):s(null,o)}(e)}),o)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!Y_.hasOwnProperty(e.type))throw new Error(L_("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?Y_.required:Y_[this.getType(e)]||void 0},e}();$_.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");Y_[e]=t},$_.warning=function(){},$_.messages=K_,$_.validators=Y_;var Z_="'${name}' is not a valid ${type}",J_={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Z_,method:Z_,array:Z_,object:Z_,number:Z_,date:Z_,boolean:Z_,integer:Z_,float:Z_,regexp:Z_,email:Z_,url:Z_,hex:Z_},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function Q_(e,t){for(var n=e,i=0;i<t.length;i+=1){if(null===n||void 0===n)return;n=n[t[i]]}return n}function ew(e,t,n,i){if(!t.length)return n;var r,o=Fe(t),a=o[0],s=o.slice(1);return r=e||"number"!==typeof a?Array.isArray(e)?Ne(e):le({},e):[],i&&void 0===n&&1===s.length?delete r[a][s[0]]:r[a]=ew(r[a],s,n,i),r}function tw(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&i&&void 0===n&&!Q_(e,t.slice(0,-1))?e:ew(e,t,n,i)}function nw(e){return Array.isArray(e)?function(e){return e.map((function(e){return nw(e)}))}(e):"object"===te(e)&&null!==e?function(e){if(Object.getPrototypeOf(e)===Object.prototype){var t={};for(var n in e)t[n]=nw(e[n]);return t}return e}(e):e}var iw=nw;function rw(e){return S_(e)}function ow(e,t){return Q_(e,t)}function aw(e,t,n){return tw(e,t,n,arguments.length>3&&void 0!==arguments[3]&&arguments[3])}function sw(e,t){var n={};return t.forEach((function(t){var i=ow(e,t);n=aw(n,t,i)})),n}function lw(e,t){return e&&e.some((function(e){return hw(e,t)}))}function cw(e){return"object"===te(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function uw(e,t){var n=Array.isArray(e)?Ne(e):le({},e);return t?(Object.keys(t).forEach((function(e){var i=n[e],r=t[e],o=cw(i)&&cw(r);n[e]=o?uw(i,r||{}):iw(r)})),n):n}function dw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.reduce((function(e,t){return uw(e,t)}),e)}function hw(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function pw(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===te(t.target)&&e in t.target?t.target[e]:t}function fw(e,t,n){var i=e.length;if(t<0||t>=i||n<0||n>=i)return e;var r=e[t],o=t-n;return o>0?[].concat(Ne(e.slice(0,n)),[r],Ne(e.slice(n,t)),Ne(e.slice(t+1,i))):o<0?[].concat(Ne(e.slice(0,t)),Ne(e.slice(t+1,n+1)),[r],Ne(e.slice(n+1,i))):e}var mw=$_;function gw(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}var vw="CODE_LOGIC_ERROR";function yw(e,t,n,i,r){return xw.apply(this,arguments)}function xw(){return xw=re(ne().mark((function e(n,i,r,o,a){var s,l,c,u,d,h,p,f,m;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(s=le({},r)).ruleIndex,s.validator&&(l=s.validator,s.validator=function(){try{return l.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(vw)}}),c=null,s&&"array"===s.type&&s.defaultField&&(c=s.defaultField,delete s.defaultField),u=new mw(ae({},n,[s])),d=dw({},J_,o.validateMessages),u.messages(d),h=[],e.prev=9,e.next=12,Promise.resolve(u.validate(ae({},n,i),le({},o)));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),e.t0.errors&&(h=e.t0.errors.map((function(e,n){var i=e.message,r=i===vw?d.default:i;return t.isValidElement(r)?t.cloneElement(r,{key:"error_".concat(n)}):r})));case 17:if(h.length||!c){e.next=22;break}return e.next=20,Promise.all(i.map((function(e,t){return yw("".concat(n,".").concat(t),e,c,o,a)})));case 20:return p=e.sent,e.abrupt("return",p.reduce((function(e,t){return[].concat(Ne(e),Ne(t))}),[]));case 22:return f=le(le({},r),{},{name:n,enum:(r.enum||[]).join(", ")},a),m=h.map((function(e){return"string"===typeof e?gw(e,f):e})),e.abrupt("return",m);case 25:case"end":return e.stop()}}),e,null,[[9,14]])}))),xw.apply(this,arguments)}function bw(e,t,n,i,r,o){var a,s=e.join("."),l=n.map((function(e,t){var n=e.validator,i=le(le({},e),{},{ruleIndex:t});return n&&(i.validator=function(e,t,i){var r=!1,o=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){cp(!r,"Your validator function has already return a promise. `callback` will be ignored."),r||i.apply(void 0,t)}))}));r=o&&"function"===typeof o.then&&"function"===typeof o.catch,cp(r,"`callback` is deprecated. Please return a promise instead."),r&&o.then((function(){i()})).catch((function(e){i(e||" ")}))}),i})).sort((function(e,t){var n=e.warningOnly,i=e.ruleIndex,r=t.warningOnly,o=t.ruleIndex;return!!n===!!r?i-o:n?1:-1}));if(!0===r)a=new Promise(function(){var e=re(ne().mark((function e(n,r){var a,c,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<l.length)){e.next=12;break}return c=l[a],e.next=5,yw(s,t,c,i,o);case 5:if(!(u=e.sent).length){e.next=9;break}return r([{errors:u,rule:c}]),e.abrupt("return");case 9:a+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var c=l.map((function(e){return yw(s,t,e,i,o).then((function(t){return{errors:t,rule:e}}))}));a=(r?function(e){return ww.apply(this,arguments)}(c):function(e){return _w.apply(this,arguments)}(c)).then((function(e){return Promise.reject(e)}))}return a.catch((function(e){return e})),a}function _w(){return(_w=re(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,Ne(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ww(){return(ww=re(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(i){i.then((function(i){i.errors.length&&e([i]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var kw=["name"],Sw=[];function Cw(e,t,n,i,r,o){return"function"===typeof e?e(t,n,"source"in o?{source:o.source}:{}):i!==r}var Ew=function(e){Pe(i,e);var n=De(i);function i(e){var r;(Ce(this,i),(r=n.call(this,e)).state={resetCount:0},r.cancelRegisterFunc=null,r.mounted=!1,r.touched=!1,r.dirty=!1,r.validatePromise=null,r.prevValidating=void 0,r.errors=Sw,r.warnings=Sw,r.cancelRegister=function(){var e=r.props,t=e.preserve,n=e.isListField,i=e.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(n,t,rw(i)),r.cancelRegisterFunc=null},r.getNamePath=function(){var e=r.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(Ne(void 0===n?[]:n),Ne(t)):[]},r.getRules=function(){var e=r.props,t=e.rules,n=void 0===t?[]:t,i=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(i):e}))},r.refresh=function(){r.mounted&&r.setState((function(e){return{resetCount:e.resetCount+1}}))},r.triggerMetaEvent=function(e){var t=r.props.onMetaChange;null===t||void 0===t||t(le(le({},r.getMeta()),{},{destroy:e}))},r.onStoreChange=function(e,t,n){var i=r.props,o=i.shouldUpdate,a=i.dependencies,s=void 0===a?[]:a,l=i.onReset,c=n.store,u=r.getNamePath(),d=r.getValue(e),h=r.getValue(c),p=t&&lw(t,u);switch("valueUpdate"===n.type&&"external"===n.source&&d!==h&&(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=Sw,r.warnings=Sw,r.triggerMetaEvent()),n.type){case"reset":if(!t||p)return r.touched=!1,r.dirty=!1,r.validatePromise=null,r.errors=Sw,r.warnings=Sw,r.triggerMetaEvent(),null===l||void 0===l||l(),void r.refresh();break;case"remove":if(o)return void r.reRender();break;case"setField":if(p){var f=n.data;return"touched"in f&&(r.touched=f.touched),"validating"in f&&!("originRCField"in f)&&(r.validatePromise=f.validating?Promise.resolve([]):null),"errors"in f&&(r.errors=f.errors||Sw),"warnings"in f&&(r.warnings=f.warnings||Sw),r.dirty=!0,r.triggerMetaEvent(),void r.reRender()}if(o&&!u.length&&Cw(o,e,c,d,h,n))return void r.reRender();break;case"dependenciesUpdate":if(s.map(rw).some((function(e){return lw(n.relatedFields,e)})))return void r.reRender();break;default:if(p||(!s.length||u.length||o)&&Cw(o,e,c,d,h,n))return void r.reRender()}!0===o&&r.reRender()},r.validateRules=function(e){var t=r.getNamePath(),n=r.getValue(),i=Promise.resolve().then((function(){if(!r.mounted)return[];var o=r.props,a=o.validateFirst,s=void 0!==a&&a,l=o.messageVariables,c=(e||{}).triggerName,u=r.getRules();c&&(u=u.filter((function(e){return e})).filter((function(e){var t=e.validateTrigger;return!t||S_(t).includes(c)})));var d=bw(t,n,u,e,s,l);return d.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sw;if(r.validatePromise===i){var t;r.validatePromise=null;var n=[],o=[];null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,i=e.errors,r=void 0===i?Sw:i;t?o.push.apply(o,Ne(r)):n.push.apply(n,Ne(r))})),r.errors=n,r.warnings=o,r.triggerMetaEvent(),r.reRender()}})),d}));return r.validatePromise=i,r.dirty=!0,r.errors=Sw,r.warnings=Sw,r.triggerMetaEvent(),r.reRender(),i},r.isFieldValidating=function(){return!!r.validatePromise},r.isFieldTouched=function(){return r.touched},r.isFieldDirty=function(){return!(!r.dirty&&void 0===r.props.initialValue)||void 0!==(0,r.props.fieldContext.getInternalHooks(__).getInitialValue)(r.getNamePath())},r.getErrors=function(){return r.errors},r.getWarnings=function(){return r.warnings},r.isListField=function(){return r.props.isListField},r.isList=function(){return r.props.isList},r.isPreserve=function(){return r.props.preserve},r.getMeta=function(){return r.prevValidating=r.isFieldValidating(),{touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath()}},r.getOnlyChild=function(e){if("function"===typeof e){var n=r.getMeta();return le(le({},r.getOnlyChild(e(r.getControlled(),n,r.props.fieldContext))),{},{isFunction:!0})}var i=cb(e);return 1===i.length&&t.isValidElement(i[0])?{child:i[0],isFunction:!1}:{child:i,isFunction:!1}},r.getValue=function(e){var t=r.props.fieldContext.getFieldsValue,n=r.getNamePath();return ow(e||t(!0),n)},r.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.props,n=t.trigger,i=t.validateTrigger,o=t.getValueFromEvent,a=t.normalize,s=t.valuePropName,l=t.getValueProps,c=t.fieldContext,u=void 0!==i?i:c.validateTrigger,d=r.getNamePath(),h=c.getInternalHooks,p=c.getFieldsValue,f=h(__).dispatch,m=r.getValue(),g=l||function(e){return ae({},s,e)},v=e[n],y=le(le({},e),g(m));return y[n]=function(){var e;r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e=o?o.apply(void 0,n):pw.apply(void 0,[s].concat(n)),a&&(e=a(e,m,p(!0))),f({type:"updateValue",namePath:d,value:e}),v&&v.apply(void 0,n)},S_(u||[]).forEach((function(e){var t=y[e];y[e]=function(){t&&t.apply(void 0,arguments);var n=r.props.rules;n&&n.length&&f({type:"validateField",namePath:d,triggerName:e})}})),y},e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(__).initEntityValue)(Le(r));return r}return Te(i,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var i=(0,n.getInternalHooks)(__).registerField;this.cancelRegisterFunc=i(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,n=this.state.resetCount,i=this.props.children,r=this.getOnlyChild(i),o=r.child;return r.isFunction?e=o:t.isValidElement(o)?e=t.cloneElement(o,this.getControlled(o.props)):(cp(!o,"`children` of Field is not validate ReactElement."),e=o),t.createElement(t.Fragment,{key:n},e)}}]),i}(t.Component);Ew.contextType=k_,Ew.defaultProps={trigger:"onChange",valuePropName:"value"};var Tw=function(e){var n=e.name,i=ln(e,kw),r=t.useContext(k_),o=void 0!==n?rw(n):void 0,a="keep";return i.isListField||(a="_".concat((o||[]).join("_"))),t.createElement(Ew,p({key:a,name:o},i,{fieldContext:r}))},Mw=t.createContext(null),Pw=function(e){var n=e.name,i=e.initialValue,r=e.children,o=e.rules,a=e.validateTrigger,s=t.useContext(k_),l=t.useRef({keys:[],id:0}).current,c=t.useMemo((function(){var e=rw(s.prefixName)||[];return[].concat(Ne(e),Ne(rw(n)))}),[s.prefixName,n]),u=t.useMemo((function(){return le(le({},s),{},{prefixName:c})}),[s,c]),d=t.useMemo((function(){return{getKey:function(e){var t=c.length,n=e[t];return[l.keys[n],e.slice(t+1)]}}}),[c]);if("function"!==typeof r)return cp(!1,"Form.List only accepts function as children."),null;return t.createElement(Mw.Provider,{value:d},t.createElement(k_.Provider,{value:u},t.createElement(Tw,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:o,validateTrigger:a,initialValue:i,isList:!0},(function(e,t){var n=e.value,i=void 0===n?[]:n,o=e.onChange,a=s.getFieldValue,u=function(){return a(c||[])||[]},d={add:function(e,t){var n=u();t>=0&&t<=n.length?(l.keys=[].concat(Ne(l.keys.slice(0,t)),[l.id],Ne(l.keys.slice(t))),o([].concat(Ne(n.slice(0,t)),[e],Ne(n.slice(t))))):(l.keys=[].concat(Ne(l.keys),[l.id]),o([].concat(Ne(n),[e]))),l.id+=1},remove:function(e){var t=u(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(l.keys=l.keys.filter((function(e,t){return!n.has(t)})),o(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=u();e<0||e>=n.length||t<0||t>=n.length||(l.keys=fw(l.keys,e,t),o(fw(n,e,t)))}}},h=i||[];return Array.isArray(h)||(h=[]),r(h.map((function(e,t){var n=l.keys[t];return void 0===n&&(l.keys[t]=l.id,n=l.keys[t],l.id+=1),{name:t,key:n,isListField:!0}})),d,t)}))))};var Aw="__@field_split__";function Iw(e){return e.map((function(e){return"".concat(te(e),":").concat(e)})).join(Aw)}var Lw=function(){function e(){Ce(this,e),this.kvs=new Map}return Te(e,[{key:"set",value:function(e,t){this.kvs.set(Iw(e),t)}},{key:"get",value:function(e){return this.kvs.get(Iw(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(Iw(e))}},{key:"map",value:function(e){return Ne(this.kvs.entries()).map((function(t){var n=pe(t,2),i=n[0],r=n[1],o=i.split(Aw);return e({key:o.map((function(e){var t=pe(e.match(/^([^:]*):(.*)$/),3),n=t[1],i=t[2];return"number"===n?Number(i):i})),value:r})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,i=t.value;return e[n.join(".")]=i,null})),e}}]),e}(),Dw=Lw,Ow=["name","errors"],Rw=Te((function e(t){var n=this;Ce(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===__?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(cp(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.prevWithoutPreserves=null,this.setInitialValues=function(e,t){if(n.initialValues=e||{},t){var i,r=dw({},e,n.store);null===(i=n.prevWithoutPreserves)||void 0===i||i.map((function(t){var n=t.key;r=aw(r,n,ow(e,n))})),n.prevWithoutPreserves=null,n.updateStore(r)}},this.destroyForm=function(){var e=new Dw;n.getFieldEntities(!0).forEach((function(t){n.isMergedPreserve(t.isPreserve())||e.set(t.getNamePath(),!0)})),n.prevWithoutPreserves=e},this.getInitialValue=function(e){var t=ow(n.initialValues,e);return e.length?iw(t):t},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.watchList=[],this.registerWatch=function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}},this.notifyWatch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue();n.watchList.forEach((function(n){n(t,e)}))}},this.timeoutId=null,this.warningUnhooked=function(){0},this.updateStore=function(e){n.store=e},this.getFieldEntities=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Dw;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=rw(e);return t.get(n)||{INVALIDATE_NAME_PATH:rw(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var i=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),r=[];return i.forEach((function(n){var i,o="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(i=n.isListField)||void 0===i?void 0:i.call(n)))if(t){var a="getMeta"in n?n.getMeta():null;t(a)&&r.push(o)}else r.push(o)})),sw(n.store,r.map(rw))},this.getFieldValue=function(e){n.warningUnhooked();var t=rw(e);return ow(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:rw(e[n]),errors:[],warnings:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=rw(e);return n.getFieldsError([t])[0].errors},this.getFieldWarning=function(e){n.warningUnhooked();var t=rw(e);return n.getFieldsError([t])[0].warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r,o=t[0],a=t[1],s=!1;0===t.length?r=null:1===t.length?Array.isArray(o)?(r=o.map(rw),s=!1):(r=null,s=o):(r=o.map(rw),s=a);var l=n.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!r)return s?l.every(c):l.some(c);var u=new Dw;r.forEach((function(e){u.set(e,[])})),l.forEach((function(e){var t=e.getNamePath();r.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&u.update(n,(function(t){return[].concat(Ne(t),[e])}))}))}));var d=function(e){return e.some(c)},h=u.map((function(e){return e.value}));return s?h.every(d):h.some(d)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var i=e.map(rw);return t.some((function(e){var t=e.getNamePath();return lw(i,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new Dw,i=n.getFieldEntities(!0);i.forEach((function(e){var n=e.props.initialValue,i=e.getNamePath();if(void 0!==n){var r=t.get(i)||new Set;r.add({entity:e,value:n}),t.set(i,r)}}));var r;e.entities?r=e.entities:e.namePathList?(r=[],e.namePathList.forEach((function(e){var n,i=t.get(e);i&&(n=r).push.apply(n,Ne(Ne(i).map((function(e){return e.entity}))))}))):r=i,r.forEach((function(i){if(void 0!==i.props.initialValue){var r=i.getNamePath();if(void 0!==n.getInitialValue(r))cp(!1,"Form already set 'initialValues' with path '".concat(r.join("."),"'. Field can not overwrite it."));else{var o=t.get(r);if(o&&o.size>1)cp(!1,"Multiple Field with path '".concat(r.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(o){var a=n.getFieldValue(r);e.skipExist&&void 0!==a||n.updateStore(aw(n.store,r,Ne(o)[0].value))}}}}))},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(dw({},n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var i=e.map(rw);i.forEach((function(e){var t=n.getInitialValue(e);n.updateStore(aw(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:i}),n.notifyObservers(t,i,{type:"reset"}),n.notifyWatch(i)},this.setFields=function(e){n.warningUnhooked();var t=n.store,i=[];e.forEach((function(e){var r=e.name,o=(e.errors,ln(e,Ow)),a=rw(r);i.push(a),"value"in o&&n.updateStore(aw(n.store,a,o.value)),n.notifyObservers(t,[a],{type:"setField",data:e})})),n.notifyWatch(i)},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),i=le(le({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(i,"originRCField",{value:!0}),i}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var i=e.getNamePath();void 0===ow(n.store,i)&&n.updateStore(aw(n.store,i,t))}},this.isMergedPreserve=function(e){var t=void 0!==e?e:n.preserve;return null===t||void 0===t||t},this.registerField=function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var i=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(i,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(i,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e})),!n.isMergedPreserve(r)&&(!i||o.length>1)){var a=i?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==a&&n.fieldEntities.every((function(e){return!hw(e.getNamePath(),t)}))){var s=n.store;n.updateStore(aw(s,t,a,!0)),n.notifyObservers(s,[t],{type:"remove"}),n.triggerDependenciesUpdate(s,t)}}n.notifyWatch([t])}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,i=e.value;n.updateValue(t,i);break;case"validateField":var r=e.namePath,o=e.triggerName;n.validateFields([r],{triggerName:o})}},this.notifyObservers=function(e,t,i){if(n.subscribable){var r=le(le({},i),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,r)}))}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(e,t){var i=n.getDependencyChildrenFields(t);return i.length&&n.validateFields(i),n.notifyObservers(e,i,{type:"dependenciesUpdate",relatedFields:[t].concat(Ne(i))}),i},this.updateValue=function(e,t){var i=rw(e),r=n.store;n.updateStore(aw(n.store,i,t)),n.notifyObservers(r,[i],{type:"valueUpdate",source:"internal"}),n.notifyWatch([i]);var o=n.triggerDependenciesUpdate(r,i),a=n.callbacks.onValuesChange;a&&a(sw(n.store,[i]),n.getFieldsValue());n.triggerOnFieldsChange([i].concat(Ne(o)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;if(e){var i=dw(n.store,e);n.updateStore(i)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()},this.setFieldValue=function(e,t){n.setFields([{name:e,value:t}])},this.getDependencyChildrenFields=function(e){var t=new Set,i=[],r=new Dw;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=rw(t);r.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(r.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var r=n.getNamePath();n.isFieldDirty()&&r.length&&(i.push(r),e(r))}}))}(e),i},this.triggerOnFieldsChange=function(e,t){var i=n.callbacks.onFieldsChange;if(i){var r=n.getFields();if(t){var o=new Dw;t.forEach((function(e){var t=e.name,n=e.errors;o.set(t,n)})),r.forEach((function(e){e.errors=o.get(e.name)||e.errors}))}i(r.filter((function(t){var n=t.name;return lw(e,n)})),r)}},this.validateFields=function(e,t){n.warningUnhooked();var i=!!e,r=i?e.map(rw):[],o=[];n.getFieldEntities(!0).forEach((function(a){if(i||r.push(a.getNamePath()),(null===t||void 0===t?void 0:t.recursive)&&i){var s=a.getNamePath();s.every((function(t,n){return e[n]===t||void 0===e[n]}))&&r.push(s)}if(a.props.rules&&a.props.rules.length){var l=a.getNamePath();if(!i||lw(r,l)){var c=a.validateRules(le({validateMessages:le(le({},J_),n.validateMessages)},t));o.push(c.then((function(){return{name:l,errors:[],warnings:[]}})).catch((function(e){var t,n=[],i=[];return null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,r=e.errors;t?i.push.apply(i,Ne(r)):n.push.apply(n,Ne(r))})),n.length?Promise.reject({name:l,errors:n,warnings:i}):{name:l,errors:n,warnings:i}})))}}}));var a=function(e){var t=!1,n=e.length,i=[];return e.length?new Promise((function(r,o){e.forEach((function(e,a){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,i[a]=e,n>0||(t&&o(i),r(i))}))}))})):Promise.resolve([])}(o);n.lastValidatePromise=a,a.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var s=a.then((function(){return n.lastValidatePromise===a?Promise.resolve(n.getFieldsValue(r)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(r),errorFields:t,outOfDate:n.lastValidatePromise!==a})}));return s.catch((function(e){return e})),s},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(bF){console.error(bF)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t}));var zw=function(e){var n=t.useRef(),i=pe(t.useState({}),2)[1];if(!n.current)if(e)n.current=e;else{var r=new Rw((function(){i({})}));n.current=r.getForm()}return[n.current]},Fw=t.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Bw=function(e){var n=e.validateMessages,i=e.onFormChange,r=e.onFormFinish,o=e.children,a=t.useContext(Fw),s=t.useRef({});return t.createElement(Fw.Provider,{value:le(le({},a),{},{validateMessages:le(le({},a.validateMessages),n),triggerFormChange:function(e,t){i&&i(e,{changedFields:t,forms:s.current}),a.triggerFormChange(e,t)},triggerFormFinish:function(e,t){r&&r(e,{values:t,forms:s.current}),a.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(s.current=le(le({},s.current),{},ae({},e,t))),a.registerForm(e,t)},unregisterForm:function(e){var t=le({},s.current);delete t[e],s.current=t,a.unregisterForm(e)}})},o)},Nw=Fw,jw=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],Vw=function(e,n){var i=e.name,r=e.initialValues,o=e.fields,a=e.form,s=e.preserve,l=e.children,c=e.component,u=void 0===c?"form":c,d=e.validateMessages,h=e.validateTrigger,f=void 0===h?"onChange":h,m=e.onValuesChange,g=e.onFieldsChange,v=e.onFinish,y=e.onFinishFailed,x=ln(e,jw),b=t.useContext(Nw),_=pe(zw(a),1)[0],w=_.getInternalHooks(__),k=w.useSubscribe,S=w.setInitialValues,C=w.setCallbacks,E=w.setValidateMessages,T=w.setPreserve,M=w.destroyForm;t.useImperativeHandle(n,(function(){return _})),t.useEffect((function(){return b.registerForm(i,_),function(){b.unregisterForm(i)}}),[b,_,i]),E(le(le({},b.validateMessages),d)),C({onValuesChange:m,onFieldsChange:function(e){if(b.triggerFormChange(i,e),g){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];g.apply(void 0,[e].concat(n))}},onFinish:function(e){b.triggerFormFinish(i,e),v&&v(e)},onFinishFailed:y}),T(s);var P,A=t.useRef(null);S(r,!A.current),A.current||(A.current=!0),t.useEffect((function(){return M}),[]);var I="function"===typeof l;I?P=l(_.getFieldsValue(!0),_):P=l;k(!I);var L=t.useRef();t.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==te(e)||"object"!==te(t))return!1;var n=Object.keys(e),i=Object.keys(t);return Ne(new Set([].concat(n,i))).every((function(n){var i=e[n],r=t[n];return"function"===typeof i&&"function"===typeof r||i===r}))})(L.current||[],o||[])||_.setFields(o||[]),L.current=o}),[o,_]);var D=t.useMemo((function(){return le(le({},_),{},{validateTrigger:f})}),[_,f]),O=t.createElement(k_.Provider,{value:D},P);return!1===u?O:t.createElement(u,p({},x,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),_.submit()},onReset:function(e){var t;e.preventDefault(),_.resetFields(),null===(t=x.onReset)||void 0===t||t.call(x,e)}}),O)};function Ww(e){try{return JSON.stringify(e)}catch(bF){return Math.random()}}var Uw=function(){};var Hw=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=n[0],o=void 0===r?[]:r,a=n[1],s=pe((0,t.useState)(),2),l=s[0],c=s[1],u=(0,t.useMemo)((function(){return Ww(l)}),[l]),d=(0,t.useRef)(u);d.current=u;var h=(0,t.useContext)(k_),p=a||h,f=p&&p._init,m=rw(o),g=(0,t.useRef)(m);return g.current=m,Uw(m),(0,t.useEffect)((function(){if(f){var e=p.getFieldsValue,t=(0,(0,p.getInternalHooks)(__).registerWatch)((function(e){var t=ow(e,g.current),n=Ww(t);d.current!==n&&(d.current=n,c(t))})),n=ow(e(),g.current);return c(n),t}}),[f]),l},Xw=t.forwardRef(Vw);Xw.FormProvider=Bw,Xw.Field=Tw,Xw.List=Pw,Xw.useForm=zw,Xw.useWatch=Hw;var Gw=Object.assign({},h_.Modal);function Yw(e){Gw=e?Object.assign(Object.assign({},Gw),e):Object.assign({},h_.Modal)}var qw=function(e){var n=e.locale,i=void 0===n?{}:n,r=e.children;e._ANT_MARK__;t.useEffect((function(){return Yw(i&&i.Modal),function(){Yw()}}),[i]);var o=t.useMemo((function(){return Object.assign(Object.assign({},i),{exist:!0})}),[i]);return t.createElement(a_.Provider,{value:o},r)},Kw="-ant-".concat(Date.now(),"-").concat(Math.random());function $w(e,t){var n=function(e,t){var n={},i=function(e,t){var n=e.clone();return(n=(null===t||void 0===t?void 0:t(n))||n).toRgbString()},r=function(e,t){var r=new By(e),o=np(r.toRgbString());n["".concat(t,"-color")]=i(r),n["".concat(t,"-color-disabled")]=o[1],n["".concat(t,"-color-hover")]=o[4],n["".concat(t,"-color-active")]=o[6],n["".concat(t,"-color-outline")]=r.clone().setAlpha(.2).toRgbString(),n["".concat(t,"-color-deprecated-bg")]=o[0],n["".concat(t,"-color-deprecated-border")]=o[2]};if(t.primaryColor){r(t.primaryColor,"primary");var o=new By(t.primaryColor),a=np(o.toRgbString());a.forEach((function(e,t){n["primary-".concat(t+1)]=e})),n["primary-color-deprecated-l-35"]=i(o,(function(e){return e.lighten(35)})),n["primary-color-deprecated-l-20"]=i(o,(function(e){return e.lighten(20)})),n["primary-color-deprecated-t-20"]=i(o,(function(e){return e.tint(20)})),n["primary-color-deprecated-t-50"]=i(o,(function(e){return e.tint(50)})),n["primary-color-deprecated-f-12"]=i(o,(function(e){return e.setAlpha(.12*e.getAlpha())}));var s=new By(a[0]);n["primary-color-active-deprecated-f-30"]=i(s,(function(e){return e.setAlpha(.3*e.getAlpha())})),n["primary-color-active-deprecated-d-02"]=i(s,(function(e){return e.darken(2)}))}t.successColor&&r(t.successColor,"success"),t.warningColor&&r(t.warningColor,"warning"),t.errorColor&&r(t.errorColor,"error"),t.infoColor&&r(t.infoColor,"info");var l=Object.keys(n).map((function(t){return"--".concat(e,"-").concat(t,": ").concat(n[t],";")}));return"\n  :root {\n    ".concat(l.join("\n"),"\n  }\n  ").trim()}(e,t);up()&&_p(n,"".concat(Kw,"-dynamic-theme"))}var Zw,Jw=function(e){var t=pe(ex(),2);return ny({theme:t[0],token:t[1],hashId:"",path:["ant-design-icons",e]},(function(){return[ae({},".".concat(e),Object.assign(Object.assign({},Py()),ae({},".".concat(e," .").concat(e,"-icon"),{display:"block"})))]}))},Qw=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},ek=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form","select"],tk="ant";function nk(){return Zw||tk}var ik=function(e){var n,i,r=e.children,o=e.csp,a=e.autoInsertSpaceInButton,s=e.form,l=e.locale,c=e.componentSize,u=e.direction,d=e.space,h=e.virtual,p=e.dropdownMatchSelectWidth,f=e.legacyLocale,m=e.parentContext,g=e.iconPrefixCls,v=e.theme,y=e.componentDisabled,x=t.useCallback((function(t,n){var i=e.prefixCls;if(n)return n;var r=i||m.getPrefixCls("");return t?"".concat(r,"-").concat(t):r}),[m.getPrefixCls,e.prefixCls]),b=g||m.iconPrefixCls||qp,_=b!==m.iconPrefixCls,w=o||m.csp,k=Jw(b),S=function(e,t){var n=e||{},i=!1!==n.inherit&&t?t:Jy,r=sf((function(){if(!e)return t;var r=Object.assign({},i.components);return Object.keys(e.components||{}).forEach((function(t){r[t]=Object.assign(Object.assign({},r[t]),e.components[t])})),Object.assign(Object.assign(Object.assign({},i),n),{token:Object.assign(Object.assign({},i.token),n.token),components:r})}),[n,i],(function(e,t){return e.some((function(e,n){var i=t[n];return!dg(e,i,!0)}))}));return r}(v,m.theme),C={csp:w,autoInsertSpaceInButton:a,locale:l||f,direction:u,space:d,virtual:h,dropdownMatchSelectWidth:p,getPrefixCls:x,iconPrefixCls:b,theme:S},E=Object.assign({},m);Object.keys(C).forEach((function(e){void 0!==C[e]&&(E[e]=C[e])})),ek.forEach((function(t){var n=e[t];n&&(E[t]=n)}));var T=sf((function(){return E}),E,(function(e,t){var n=Object.keys(e),i=Object.keys(t);return n.length!==i.length||n.some((function(n){return e[n]!==t[n]}))})),M=t.useMemo((function(){return{prefixCls:b,csp:w}}),[b,w]),P=_?k(r):r,A={};l&&(A=(null===(n=l.Form)||void 0===n?void 0:n.defaultValidateMessages)||(null===(i=h_.Form)||void 0===i?void 0:i.defaultValidateMessages)||{}),s&&s.validateMessages&&(A=Object.assign(Object.assign({},A),s.validateMessages)),Object.keys(A).length>0&&(P=t.createElement(Bw,{validateMessages:A},r)),l&&(P=t.createElement(qw,{locale:l,_ANT_MARK__:"internalMark"},P)),(b||w)&&(P=t.createElement(kh.Provider,{value:M},P)),c&&(P=t.createElement(sb,{size:c},P));var I=t.useMemo((function(){var e=S||{},t=e.algorithm,n=e.token,i=Qw(e,["algorithm","token"]),r=t&&(!Array.isArray(t)||t.length>0)?cy(t):void 0;return Object.assign(Object.assign({},i),{theme:r,token:Object.assign(Object.assign({},Fy),n)})}),[S]);return v&&(P=t.createElement(Qy.Provider,{value:I},P)),void 0!==y&&(P=t.createElement(rb,{disabled:y},P)),t.createElement(Kp.Provider,{value:T},P)},rk=function(e){return t.createElement(p_,null,(function(n,i,r){return t.createElement($p,null,(function(n){return t.createElement(ik,Object.assign({parentContext:n,legacyLocale:r},e))}))}))};rk.ConfigContext=Kp,rk.SizeContext=lb,rk.config=function(e){var t=e.prefixCls,n=e.iconPrefixCls,i=e.theme;void 0!==t&&(Zw=t),void 0!==n&&n,i&&$w(nk(),i)};var ok=rk,ak={};function sk(e,n){var i=Bp("function"===typeof n?n:function(e){if(void 0===n)return e;if(!Array.isArray(n))return e[n];var t={};return n.forEach((function(n){t[n]=e[n]})),t}),r=t.useContext(null===e||void 0===e?void 0:e.Context),o=r||{},a=o.listeners,s=o.getValue,l=t.useRef();l.current=i(r?s():null===e||void 0===e?void 0:e.defaultValue);var c=pe(t.useState({}),2)[1];return jp((function(){if(r)return a.add(e),function(){a.delete(e)};function e(e){var t=i(e);dg(l.current,t,!0)||c({})}}),[r]),l.current}var lk=t.createContext(0);function ck(){return t.useContext(lk)}function uk(e,n){var i=uf(e),r=function(n,r){var o=i?{ref:r}:{};return ck(),t.createElement(e,p({},n,o))};return i?t.memo(t.forwardRef(r),n):t.memo(r,n)}var dk=function(e){var n=t.createContext(void 0);return{Context:n,Provider:function(e){var i=e.value,o=e.children,a=t.useRef(i);a.current=i;var s=pe(t.useState((function(){return{getValue:function(){return a.current},listeners:new Set}})),1)[0];return jp((function(){(0,r.unstable_batchedUpdates)((function(){s.listeners.forEach((function(e){e(i)}))}))}),[i]),t.createElement(n.Provider,{value:s},o)},defaultValue:e}}(),hk=dk;var pk=t.memo((function(){var e=function(e,n){var i=t.useRef(0);i.current+=1;var r=t.useRef(e),o=[];Object.keys(e||{}).map((function(t){var n;(null===e||void 0===e?void 0:e[t])!==(null===(n=r.current)||void 0===n?void 0:n[t])&&o.push(t)})),r.current=e;var a=t.useRef([]);return o.length&&(a.current=o),t.useDebugValue(i.current),t.useDebugValue(a.current.join(", ")),n&&console.log("".concat(n,":"),i.current,a.current),i.current}();return t.createElement("h1",null,"Render Times: ",e)}));pk.displayName="RenderBlock";var fk=t.createContext({renderWithProps:!1}),mk="RC_TABLE_KEY";function gk(e){var t=[],n={};return e.forEach((function(e){for(var i,r=e||{},o=r.key,a=r.dataIndex,s=o||(i=a,void 0===i||null===i?[]:Array.isArray(i)?i:[i]).join("-")||mk;n[s];)s="".concat(s,"_next");n[s]=!0,t.push(s)})),t}function vk(e){return null!==e&&void 0!==e}function yk(e,n,i,r,o,a){var s=t.useContext(fk),l=sf((function(){if(vk(r))return[r];var a,l=null===n||void 0===n||""===n?[]:Array.isArray(n)?n:[n],c=Q_(e,l),u=c,d=void 0;if(o){var h=o(c,e,i);!(a=h)||"object"!==te(a)||Array.isArray(a)||t.isValidElement(a)?u=h:(u=h.children,d=h.props,s.renderWithProps=!0)}return[u,d]}),[ck(),e,r,n,o,i],(function(e,t){if(a){var n=pe(e,2)[1],i=pe(t,2)[1];return a(i,n)}return!!s.renderWithProps||!dg(e,t,!0)}));return l}var xk=function(e){var n,i=e.ellipsis,r=e.rowType,o=e.children,a=!0===i?{showTitle:!0}:i;return a&&(a.showTitle||"header"===r)&&("string"===typeof o||"number"===typeof o?n=o.toString():t.isValidElement(o)&&"string"===typeof o.props.children&&(n=o.props.children)),n};function bk(e){var n,i,r,o,a,s,l,c;var u=e.component,d=e.children,h=e.ellipsis,f=e.scope,m=e.prefixCls,g=e.className,v=e.align,y=e.record,x=e.render,b=e.dataIndex,_=e.renderIndex,w=e.shouldCellUpdate,k=e.index,S=e.rowType,C=e.colSpan,E=e.rowSpan,T=e.fixLeft,M=e.fixRight,P=e.firstFixLeft,A=e.lastFixLeft,I=e.firstFixRight,L=e.lastFixRight,D=e.appendNode,O=e.additionalProps,R=void 0===O?{}:O,z=e.isSticky,F="".concat(m,"-cell"),B=sk(hk,["supportSticky","allColumnsFixedLeft"]),N=B.supportSticky,j=B.allColumnsFixedLeft,V=pe(yk(y,b,_,d,x,w),2),W=V[0],U=V[1],H={},X="number"===typeof T&&N,G="number"===typeof M&&N;X&&(H.position="sticky",H.left=T),G&&(H.position="sticky",H.right=M);var Y=null!==(n=null!==(i=null!==(r=null===U||void 0===U?void 0:U.colSpan)&&void 0!==r?r:C)&&void 0!==i?i:R.colSpan)&&void 0!==n?n:1,q=null!==(o=null!==(a=null!==(s=null===U||void 0===U?void 0:U.rowSpan)&&void 0!==s?s:E)&&void 0!==a?a:R.rowSpan)&&void 0!==o?o:1,K=function(e,t){return sk(hk,(function(n){var i,r,o,a;return[(i=e,r=t||1,o=n.hoverStartRow,a=n.hoverEndRow,i<=a&&i+r-1>=o),n.onHover]}))}(k,q),$=pe(K,2),Z=$[0],J=$[1];if(0===Y||0===q)return null;var Q=null!==(l=R.title)&&void 0!==l?l:xk({rowType:S,ellipsis:h,children:W}),ee=wh()(F,g,(ae(c={},"".concat(F,"-fix-left"),X&&N),ae(c,"".concat(F,"-fix-left-first"),P&&N),ae(c,"".concat(F,"-fix-left-last"),A&&N),ae(c,"".concat(F,"-fix-left-all"),A&&j&&N),ae(c,"".concat(F,"-fix-right"),G&&N),ae(c,"".concat(F,"-fix-right-first"),I&&N),ae(c,"".concat(F,"-fix-right-last"),L&&N),ae(c,"".concat(F,"-ellipsis"),h),ae(c,"".concat(F,"-with-append"),D),ae(c,"".concat(F,"-fix-sticky"),(X||G)&&z&&N),ae(c,"".concat(F,"-row-hover"),!U&&Z),c),R.className,null===U||void 0===U?void 0:U.className),ne={};v&&(ne.textAlign=v);var ie=le(le(le(le({},R.style),ne),H),null===U||void 0===U?void 0:U.style),re=W;return"object"!==te(re)||Array.isArray(re)||t.isValidElement(re)||(re=null),h&&(A||I)&&(re=t.createElement("span",{className:"".concat(F,"-content")},re)),t.createElement(u,p({},U,R,{className:ee,style:ie,title:Q,scope:f,onMouseEnter:function(e){var t;y&&J(k,k+q-1),null===R||void 0===R||null===(t=R.onMouseEnter)||void 0===t||t.call(R,e)},onMouseLeave:function(e){var t;y&&J(-1,-1),null===R||void 0===R||null===(t=R.onMouseLeave)||void 0===t||t.call(R,e)},colSpan:1!==Y?Y:null,rowSpan:1!==q?q:null}),D,re)}var _k=t.memo(bk);function wk(e,t,n,i,r,o){var a,s,l=n[e]||{},c=n[t]||{};"left"===l.fixed?a=i.left[e]:"right"===c.fixed&&(s=i.right[t]);var u=!1,d=!1,h=!1,p=!1,f=n[t+1],m=n[e-1],g=!(null!==o&&void 0!==o&&o.children);if("rtl"===r){if(void 0!==a)p=!(m&&"left"===m.fixed)&&g;else if(void 0!==s){h=!(f&&"right"===f.fixed)&&g}}else if(void 0!==a){u=!(f&&"left"===f.fixed)&&g}else if(void 0!==s){d=!(m&&"right"===m.fixed)&&g}return{fixLeft:a,fixRight:s,lastFixLeft:u,firstFixRight:d,lastFixRight:h,firstFixLeft:p,isSticky:i.isSticky}}var kk=t.createContext({});var Sk=["children"];function Ck(e){return e.children}Ck.Row=function(e){var n=e.children,i=ln(e,Sk);return t.createElement("tr",i,n)},Ck.Cell=function(e){var n=e.className,i=e.index,r=e.children,o=e.colSpan,a=void 0===o?1:o,s=e.rowSpan,l=e.align,c=sk(hk,["prefixCls","direction"]),u=c.prefixCls,d=c.direction,h=t.useContext(kk),f=h.scrollColumnIndex,m=h.stickyOffsets,g=h.flattenColumns,v=h.columns,y=i+a-1+1===f?a+1:a,x=wk(i,i+y-1,g,m,d,null===v||void 0===v?void 0:v[i]);return t.createElement(_k,p({className:n,index:i,component:"td",prefixCls:u,record:null,dataIndex:null,align:l,colSpan:y,rowSpan:s,render:function(){return r}},x))};var Ek=Ck;var Tk=uk((function(e){var n=e.children,i=e.stickyOffsets,r=e.flattenColumns,o=e.columns,a=sk(hk,"prefixCls"),s=r.length-1,l=r[s],c=t.useMemo((function(){return{stickyOffsets:i,flattenColumns:r,scrollColumnIndex:null!==l&&void 0!==l&&l.scrollbar?s:null,columns:o}}),[l,r,s,i,o]);return t.createElement(kk.Provider,{value:c},t.createElement("tfoot",{className:"".concat(a,"-summary")},n))})),Mk=Ek,Pk=new Map;var Ak=new zg((function(e){e.forEach((function(e){var t,n=e.target;null===(t=Pk.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var Ik=function(e){Pe(n,e);var t=De(n);function n(){return Ce(this,n),t.apply(this,arguments)}return Te(n,[{key:"render",value:function(){return this.props.children}}]),n}(t.Component),Lk=t.createContext(null);function Dk(e,n){var i=e.children,r=e.disabled,o=t.useRef(null),a=t.useRef(null),s=t.useContext(Lk),l="function"===typeof i,c=l?i(o):i,u=t.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),d=!l&&t.isValidElement(c)&&uf(c),h=d?c.ref:null,p=t.useMemo((function(){return cf(h,o)}),[h,o]),f=function(){return of(o.current)||of(a.current)};t.useImperativeHandle(n,(function(){return f()}));var m=t.useRef(e);m.current=e;var g=t.useCallback((function(e){var t=m.current,n=t.onResize,i=t.data,r=e.getBoundingClientRect(),o=r.width,a=r.height,l=e.offsetWidth,c=e.offsetHeight,d=Math.floor(o),h=Math.floor(a);if(u.current.width!==d||u.current.height!==h||u.current.offsetWidth!==l||u.current.offsetHeight!==c){var p={width:d,height:h,offsetWidth:l,offsetHeight:c};u.current=p;var f=l===Math.round(o)?o:l,g=c===Math.round(a)?a:c,v=le(le({},p),{},{offsetWidth:f,offsetHeight:g});null===s||void 0===s||s(v,e,i),n&&Promise.resolve().then((function(){n(v,e)}))}}),[]);return t.useEffect((function(){var e,t,n=f();return n&&!r&&(e=n,t=g,Pk.has(e)||(Pk.set(e,new Set),Ak.observe(e)),Pk.get(e).add(t)),function(){return function(e,t){Pk.has(e)&&(Pk.get(e).delete(t),Pk.get(e).size||(Ak.unobserve(e),Pk.delete(e)))}(n,g)}}),[o.current,r]),t.createElement(Ik,{ref:a},d?t.cloneElement(c,{ref:p}):c)}var Ok=t.forwardRef(Dk),Rk="rc-observer-key";function zk(e,n){var i=e.children;return("function"===typeof i?[i]:cb(i)).map((function(i,r){var o=(null===i||void 0===i?void 0:i.key)||"".concat(Rk,"-").concat(r);return t.createElement(Ok,p({},e,{key:o,ref:0===r?n:void 0}),i)}))}var Fk=t.forwardRef(zk);Fk.Collection=function(e){var n=e.children,i=e.onBatchResize,r=t.useRef(0),o=t.useRef([]),a=t.useContext(Lk),s=t.useCallback((function(e,t,n){r.current+=1;var s=r.current;o.current.push({size:e,element:t,data:n}),Promise.resolve().then((function(){s===r.current&&(null===i||void 0===i||i(o.current),o.current=[])})),null===a||void 0===a||a(e,t,n)}),[i,a]);return t.createElement(Lk.Provider,{value:s},n)};var Bk,Nk=Fk,jk=function(e){if(up()&&window.document.documentElement){var t=Array.isArray(e)?e:[e],n=window.document.documentElement;return t.some((function(e){return e in n.style}))}return!1},Vk=function(e,t){if(!jk(e))return!1;var n=document.createElement("div"),i=n.style[e];return n.style[e]=t,n.style[e]!==i};function Wk(e){if("undefined"===typeof document)return 0;if(e||void 0===Bk){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),i=n.style;i.position="absolute",i.top="0",i.left="0",i.pointerEvents="none",i.visibility="hidden",i.width="200px",i.height="150px",i.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var r=t.offsetWidth;n.style.overflow="scroll";var o=t.offsetWidth;r===o&&(o=n.clientWidth),document.body.removeChild(n),Bk=r-o}return Bk}function Uk(e){var t=e.match(/^(.*)px$/),n=Number(null===t||void 0===t?void 0:t[1]);return Number.isNaN(n)?Wk():n}function Hk(e){if("undefined"===typeof document||!e||!(e instanceof Element))return{width:0,height:0};var t=getComputedStyle(e,"::-webkit-scrollbar"),n=t.width,i=t.height;return{width:Uk(n),height:Uk(i)}}var Xk="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),Gk="aria-",Yk="data-";function qk(e,t){return 0===e.indexOf(t)}function Kk(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:le({},n);var i={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||qk(n,Gk))||t.data&&qk(n,Yk)||t.attr&&Xk.includes(n))&&(i[n]=e[n])})),i}function $k(e,t,n,i,r,o){var a=[];a.push({record:e,indent:t,index:o});var s=r(e),l=null===i||void 0===i?void 0:i.has(s);if(e&&Array.isArray(e[n])&&l)for(var c=0;c<e[n].length;c+=1){var u=$k(e[n][c],t+1,n,i,r,c);a.push.apply(a,Ne(u))}return a}var Zk=function(e){var n=e.prefixCls,i=e.children,r=e.component,o=e.cellComponent,a=e.className,s=e.expanded,l=e.colSpan,c=e.isEmpty,u=sk(hk,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),d=u.scrollbarSize,h=u.fixHeader,p=u.fixColumn,f=u.componentWidth,m=u.horizonScroll,g=i;return(c?m:p)&&(g=t.createElement("div",{style:{width:f-(h?d:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(n,"-expanded-row-fixed")},0!==f&&g)),t.createElement(r,{className:a,style:{display:s?null:"none"}},t.createElement(_k,{component:o,prefixCls:n,colSpan:l},g))};function Jk(e){var n=e.className,i=e.style,r=e.record,o=e.index,a=e.renderIndex,s=e.rowKey,l=e.rowExpandable,c=e.expandedKeys,u=e.onRow,d=e.indent,h=void 0===d?0:d,f=e.rowComponent,m=e.cellComponent,g=e.scopeCellComponent,v=e.childrenColumnName,y=sk(hk,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex"]),x=y.prefixCls,b=y.fixedInfoList,_=y.flattenColumns,w=y.expandableType,k=y.expandRowByClick,S=y.onTriggerExpand,C=y.rowClassName,E=y.expandedRowClassName,T=y.indentSize,M=y.expandIcon,P=y.expandedRowRender,A=y.expandIconColumnIndex,I=pe(t.useState(!1),2),L=I[0],D=I[1];var O=c&&c.has(s);t.useEffect((function(){O&&D(!0)}),[O]);var R="row"===w&&(!l||l(r)),z="nest"===w,F=v&&r&&r[v],B=R||z,N=t.useRef(S);N.current=S;var j,V=function(){N.current.apply(N,arguments)},W=null===u||void 0===u?void 0:u(r,o);"string"===typeof C?j=C:"function"===typeof C&&(j=C(r,o,h));var U,H=gk(_),X=t.createElement(f,p({},W,{"data-row-key":s,className:wh()(n,"".concat(x,"-row"),"".concat(x,"-row-level-").concat(h),j,W&&W.className),style:le(le({},i),W?W.style:null),onClick:function(e){var t;k&&B&&V(r,e);for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];null===W||void 0===W||null===(t=W.onClick)||void 0===t||t.call.apply(t,[W,e].concat(i))}}),_.map((function(e,n){var i,s,l=e.render,c=e.dataIndex,u=e.className,d=H[n],f=b[n];return n===(A||0)&&z&&(i=t.createElement(t.Fragment,null,t.createElement("span",{style:{paddingLeft:"".concat(T*h,"px")},className:"".concat(x,"-row-indent indent-level-").concat(h)}),M({prefixCls:x,expanded:O,expandable:F,record:r,onExpand:V}))),e.onCell&&(s=e.onCell(r,o)),t.createElement(_k,p({className:u,ellipsis:e.ellipsis,align:e.align,scope:e.rowScope,component:e.rowScope?g:m,prefixCls:x,key:d,record:r,index:o,renderIndex:a,dataIndex:c,render:l,shouldCellUpdate:e.shouldCellUpdate,expanded:i&&O},f,{appendNode:i,additionalProps:s}))})));if(R&&(L||O)){var G=P(r,o,h+1,O),Y=E&&E(r,o,h);U=t.createElement(Zk,{expanded:O,className:wh()("".concat(x,"-expanded-row"),"".concat(x,"-expanded-row-level-").concat(h+1),Y),prefixCls:x,component:f,cellComponent:m,colSpan:_.length,isEmpty:!1},G)}return t.createElement(t.Fragment,null,X,U)}Jk.displayName="BodyRow";var Qk=uk(Jk);function eS(e){var n=e.columnKey,i=e.onColumnResize,r=t.useRef();return t.useEffect((function(){r.current&&i(n,r.current.offsetWidth)}),[]),t.createElement(Nk,{data:n},t.createElement("td",{ref:r,style:{padding:0,border:0,height:0}},t.createElement("div",{style:{height:0,overflow:"hidden"}},"\xa0")))}function tS(e){var n=e.prefixCls,i=e.columnsKey,r=e.onColumnResize;return t.createElement("tr",{"aria-hidden":"true",className:"".concat(n,"-measure-row"),style:{height:0,fontSize:0}},t.createElement(Nk.Collection,{onBatchResize:function(e){e.forEach((function(e){var t=e.data,n=e.size;r(t,n.offsetWidth)}))}},i.map((function(e){return t.createElement(eS,{key:e,columnKey:e,onColumnResize:r})}))))}function nS(e){var n,i=e.data,r=e.getRowKey,o=e.measureColumnWidth,a=e.expandedKeys,s=e.onRow,l=e.rowExpandable,c=e.emptyNode,u=e.childrenColumnName,d=sk(hk,["prefixCls","getComponent","onColumnResize","flattenColumns"]),h=d.prefixCls,p=d.getComponent,f=d.onColumnResize,m=d.flattenColumns,g=function(e,n,i,r){var o=t.useMemo((function(){if(null!==i&&void 0!==i&&i.size){for(var t=[],o=0;o<(null===e||void 0===e?void 0:e.length);o+=1){var a=e[o];t.push.apply(t,Ne($k(a,0,n,i,r,o)))}return t}return null===e||void 0===e?void 0:e.map((function(e,t){return{record:e,indent:0,index:t}}))}),[e,n,i,r]);return o}(i,u,a,r),v=t.useRef({renderWithProps:!1}),y=p(["body","wrapper"],"tbody"),x=p(["body","row"],"tr"),b=p(["body","cell"],"td"),_=p(["body","cell"],"th");n=i.length?g.map((function(e,n){var i=e.record,o=e.indent,c=e.index,d=r(i,n);return t.createElement(Qk,{key:d,rowKey:d,record:i,index:n,renderIndex:c,rowComponent:x,cellComponent:b,scopeCellComponent:_,expandedKeys:a,onRow:s,getRowKey:r,rowExpandable:l,childrenColumnName:u,indent:o})})):t.createElement(Zk,{expanded:!0,className:"".concat(h,"-placeholder"),prefixCls:h,component:x,cellComponent:b,colSpan:m.length,isEmpty:!0},c);var w=gk(m);return t.createElement(fk.Provider,{value:v.current},t.createElement(y,{className:"".concat(h,"-tbody")},o&&t.createElement(tS,{prefixCls:h,columnsKey:w,onColumnResize:f}),n))}nS.displayName="Body";var iS=uk(nS),rS=["expandable"],oS="RC_TABLE_INTERNAL_COL_DEFINE";var aS=["columnType"];var sS=function(e){for(var n=e.colWidths,i=e.columns,r=[],o=!1,a=(e.columCount||i.length)-1;a>=0;a-=1){var s=n[a],l=i&&i[a],c=l&&l[oS];if(s||c||o){var u=c||{},d=(u.columnType,ln(u,aS));r.unshift(t.createElement("col",p({key:a,style:{width:s}},d))),o=!0}}return t.createElement("colgroup",null,r)},lS=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];var cS=t.forwardRef((function(e,n){var i=e.className,r=e.noData,o=e.columns,a=e.flattenColumns,s=e.colWidths,l=e.columCount,c=e.stickyOffsets,u=e.direction,d=e.fixHeader,h=e.stickyTopOffset,p=e.stickyBottomOffset,f=e.stickyClassName,m=e.onScroll,g=e.maxContentScroll,v=e.children,y=ln(e,lS),x=sk(hk,["prefixCls","scrollbarSize","isSticky"]),b=x.prefixCls,_=x.scrollbarSize,w=x.isSticky,k=w&&!d?0:_,S=t.useRef(null),C=t.useCallback((function(e){lf(n,e),lf(S,e)}),[]);t.useEffect((function(){var e;function t(e){var t=e,n=t.currentTarget,i=t.deltaX;i&&(m({currentTarget:n,scrollLeft:n.scrollLeft+i}),e.preventDefault())}return null===(e=S.current)||void 0===e||e.addEventListener("wheel",t),function(){var e;null===(e=S.current)||void 0===e||e.removeEventListener("wheel",t)}}),[]);var E=t.useMemo((function(){return a.every((function(e){return e.width>=0}))}),[a]),T=a[a.length-1],M={fixed:T?T.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(b,"-cell-scrollbar")}}},P=(0,t.useMemo)((function(){return k?[].concat(Ne(o),[M]):o}),[k,o]),A=(0,t.useMemo)((function(){return k?[].concat(Ne(a),[M]):a}),[k,a]),I=(0,t.useMemo)((function(){var e=c.right,t=c.left;return le(le({},c),{},{left:"rtl"===u?[].concat(Ne(t.map((function(e){return e+k}))),[0]):t,right:"rtl"===u?e:[].concat(Ne(e.map((function(e){return e+k}))),[0]),isSticky:w})}),[k,c,w]),L=function(e,n){return(0,t.useMemo)((function(){for(var t=[],i=0;i<n;i+=1){var r=e[i];if(void 0===r)return null;t[i]=r}return t}),[e.join("_"),n])}(s,l);return t.createElement("div",{style:le({overflow:"hidden"},w?{top:h,bottom:p}:{}),ref:C,className:wh()(i,ae({},f,!!f))},t.createElement("table",{style:{tableLayout:"fixed",visibility:r||L?null:"hidden"}},(!r||!g||E)&&t.createElement(sS,{colWidths:L?[].concat(Ne(L),[k]):[],columCount:l+1,columns:A}),v(le(le({},y),{},{stickyOffsets:I,columns:P,flattenColumns:A}))))}));cS.displayName="FixedHolder";var uS=t.memo(cS);function dS(e){var n,i=e.cells,r=e.stickyOffsets,o=e.flattenColumns,a=e.rowComponent,s=e.cellComponent,l=e.tdCellComponent,c=e.onHeaderRow,u=e.index,d=sk(hk,["prefixCls","direction"]),h=d.prefixCls,f=d.direction;c&&(n=c(i.map((function(e){return e.column})),u));var m=gk(i.map((function(e){return e.column})));return t.createElement(a,n,i.map((function(e,n){var i,a=e.column,c=wk(e.colStart,e.colEnd,o,r,f,a);return a&&a.onHeaderCell&&(i=e.column.onHeaderCell(a)),t.createElement(_k,p({},e,{scope:a.title?e.colSpan>1?"colgroup":"col":null,ellipsis:a.ellipsis,align:a.align,component:a.title?s:l,prefixCls:h,key:m[n]},c,{additionalProps:i,rowType:"header"}))})))}dS.displayName="HeaderRow";var hS=dS;var pS=uk((function(e){var n=e.stickyOffsets,i=e.columns,r=e.flattenColumns,o=e.onHeaderRow,a=sk(hk,["prefixCls","getComponent"]),s=a.prefixCls,l=a.getComponent,c=t.useMemo((function(){return function(e){var t=[];!function e(n,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t[r]=t[r]||[];var o=i,a=n.filter(Boolean).map((function(n){var i={key:n.key,className:n.className||"",children:n.title,column:n,colStart:o},a=1,s=n.children;return s&&s.length>0&&(a=e(s,o,r+1).reduce((function(e,t){return e+t}),0),i.hasSubColumns=!0),"colSpan"in n&&(a=n.colSpan),"rowSpan"in n&&(i.rowSpan=n.rowSpan),i.colSpan=a,i.colEnd=i.colStart+a-1,t[r].push(i),o+=a,a}));return a}(e,0);for(var n=t.length,i=function(e){t[e].forEach((function(t){"rowSpan"in t||t.hasSubColumns||(t.rowSpan=n-e)}))},r=0;r<n;r+=1)i(r);return t}(i)}),[i]),u=l(["header","wrapper"],"thead"),d=l(["header","row"],"tr"),h=l(["header","cell"],"th"),p=l(["header","cell"],"td");return t.createElement(u,{className:"".concat(s,"-thead")},c.map((function(e,i){return t.createElement(hS,{key:i,flattenColumns:r,cells:e,stickyOffsets:n,rowComponent:d,cellComponent:h,tdCellComponent:p,onHeaderRow:o,index:i})})))})),fS=["children"],mS=["fixed"];function gS(e){return cb(e).filter((function(e){return t.isValidElement(e)})).map((function(e){var t=e.key,n=e.props,i=n.children,r=le({key:t},ln(n,fS));return i&&(r.children=gS(i)),r}))}function vS(e){return e.reduce((function(e,t){var n=t.fixed,i=!0===n?"left":n,r=t.children;return r&&r.length>0?[].concat(Ne(e),Ne(vS(r).map((function(e){return le({fixed:i},e)})))):[].concat(Ne(e),[le(le({},t),{},{fixed:i})])}),[])}var yS=function(e,n){var i=e.prefixCls,r=e.columns,o=e.children,a=e.expandable,s=e.expandedKeys,l=e.columnTitle,c=e.getRowKey,u=e.onTriggerExpand,d=e.expandIcon,h=e.rowExpandable,p=e.expandIconColumnIndex,f=e.direction,m=e.expandRowByClick,g=e.columnWidth,v=e.fixed,y=t.useMemo((function(){return r||gS(o)}),[r,o]),x=t.useMemo((function(){if(a){var e,n=y.slice();if(!n.includes(ak)){var r=p||0;r>=0&&n.splice(r,0,ak)}0;var o=n.indexOf(ak);n=n.filter((function(e,t){return e!==ak||t===o}));var f,x=y[o];f="left"!==v&&!v||p?"right"!==v&&!v||p!==y.length?x?x.fixed:null:"right":"left";var b=(ae(e={},oS,{className:"".concat(i,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),ae(e,"title",l),ae(e,"fixed",f),ae(e,"className","".concat(i,"-row-expand-icon-cell")),ae(e,"width",g),ae(e,"render",(function(e,n,r){var o=c(n,r),a=s.has(o),l=!h||h(n),p=d({prefixCls:i,expanded:a,expandable:l,record:n,onExpand:u});return m?t.createElement("span",{onClick:function(e){return e.stopPropagation()}},p):p})),e);return n.map((function(e){return e===ak?b:e}))}return y.filter((function(e){return e!==ak}))}),[a,y,c,s,d,f]),b=t.useMemo((function(){var e=x;return n&&(e=n(e)),e.length||(e=[{render:function(){return null}}]),e}),[n,x,f]),_=t.useMemo((function(){return"rtl"===f?function(e){return e.map((function(e){var t=e.fixed,n=t;return"left"===t?n="right":"right"===t&&(n="left"),le({fixed:n},ln(e,mS))}))}(vS(b)):vS(b)}),[b,f]);return[b,_]};function xS(e){var n,i=e.prefixCls,r=e.record,o=e.onExpand,a=e.expanded,s=e.expandable,l="".concat(i,"-row-expand-icon");if(!s)return t.createElement("span",{className:wh()(l,"".concat(i,"-row-spaced"))});return t.createElement("span",{className:wh()(l,(n={},ae(n,"".concat(i,"-row-expanded"),a),ae(n,"".concat(i,"-row-collapsed"),!a),n)),onClick:function(e){o(r,e),e.stopPropagation()}})}function bS(e,n,i){var r=function(e){var t,n=e.expandable,i=ln(e,rS);return!1===(t="expandable"in e?le(le({},i),n):i).showExpandColumn&&(t.expandIconColumnIndex=-1),t}(e),o=r.expandIcon,a=r.expandedRowKeys,s=r.defaultExpandedRowKeys,l=r.defaultExpandAllRows,c=r.expandedRowRender,u=r.onExpand,d=r.onExpandedRowsChange,h=o||xS,p=r.childrenColumnName||"children",f=t.useMemo((function(){return c?"row":!!(e.expandable&&e.internalHooks===LS&&e.expandable.__PARENT_RENDER_ICON__||n.some((function(e){return e&&"object"===te(e)&&e[p]})))&&"nest"}),[!!c,n]),m=t.useState((function(){return s||(l?function(e,t,n){var i=[];return function e(r){(r||[]).forEach((function(r,o){i.push(t(r,o)),e(r[n])}))}(e),i}(n,i,p):[])})),g=pe(m,2),v=g[0],y=g[1],x=t.useMemo((function(){return new Set(a||v||[])}),[a,v]),b=t.useCallback((function(e){var t,r=i(e,n.indexOf(e)),o=x.has(r);o?(x.delete(r),t=Ne(x)):t=[].concat(Ne(x),[r]),y(t),u&&u(!o,e),d&&d(t)}),[i,x,n,u,d]);return[r,f,x,h,p,b]}function _S(e){var n=(0,t.useRef)(e),i=pe((0,t.useState)({}),2)[1],r=(0,t.useRef)(null),o=(0,t.useRef)([]);return(0,t.useEffect)((function(){return function(){r.current=null}}),[]),[n.current,function(e){o.current.push(e);var t=Promise.resolve();r.current=t,t.then((function(){if(r.current===t){var e=o.current,a=n.current;o.current=[],e.forEach((function(e){n.current=e(n.current)})),r.current=null,a!==n.current&&i({})}}))}]}var wS=up()?window:null;var kS=function(e,n,i){return(0,t.useMemo)((function(){for(var t=[],r=[],o=0,a=0,s=0;s<n;s+=1)if("rtl"===i){r[s]=a,a+=e[s]||0;var l=n-s-1;t[l]=o,o+=e[l]||0}else{t[s]=o,o+=e[s]||0;var c=n-s-1;r[c]=a,a+=e[c]||0}return{left:t,right:r}}),[e,n,i])};var SS=function(e){var n=e.className,i=e.children;return t.createElement("div",{className:n},i)};function CS(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}var ES=function(e,n){var i,r,o=e.scrollBodyRef,a=e.onScroll,s=e.offsetScroll,l=e.container,c=sk(hk,"prefixCls"),u=(null===(i=o.current)||void 0===i?void 0:i.scrollWidth)||0,d=(null===(r=o.current)||void 0===r?void 0:r.clientWidth)||0,h=u&&d*(d/u),p=t.useRef(),f=pe(_S({scrollLeft:0,isHiddenScrollBar:!1}),2),m=f[0],g=f[1],v=t.useRef({delta:0,x:0}),y=pe(t.useState(!1),2),x=y[0],b=y[1],_=function(){b(!1)},w=function(e){var t,n=(e||(null===(t=window)||void 0===t?void 0:t.event)).buttons;if(x&&0!==n){var i=v.current.x+e.pageX-v.current.x-v.current.delta;i<=0&&(i=0),i+h>=d&&(i=d-h),a({scrollLeft:i/d*(u+2)}),v.current.x=e.pageX}else x&&b(!1)},k=function(){if(o.current){var e=CS(o.current).top,t=e+o.current.offsetHeight,n=l===window?document.documentElement.scrollTop+window.innerHeight:CS(l).top+l.clientHeight;t-Wk()<=n||e>=n-s?g((function(e){return le(le({},e),{},{isHiddenScrollBar:!0})})):g((function(e){return le(le({},e),{},{isHiddenScrollBar:!1})}))}},S=function(e){g((function(t){return le(le({},t),{},{scrollLeft:e/u*d||0})}))};return t.useImperativeHandle(n,(function(){return{setScrollLeft:S}})),t.useEffect((function(){var e=df(document.body,"mouseup",_,!1),t=df(document.body,"mousemove",w,!1);return k(),function(){e.remove(),t.remove()}}),[h,x]),t.useEffect((function(){var e=df(l,"scroll",k,!1),t=df(window,"resize",k,!1);return function(){e.remove(),t.remove()}}),[l]),t.useEffect((function(){m.isHiddenScrollBar||g((function(e){var t=o.current;return t?le(le({},e),{},{scrollLeft:t.scrollLeft/t.scrollWidth*t.clientWidth}):e}))}),[m.isHiddenScrollBar]),u<=d||!h||m.isHiddenScrollBar?null:t.createElement("div",{style:{height:Wk(),width:d,bottom:s},className:"".concat(c,"-sticky-scroll")},t.createElement("div",{onMouseDown:function(e){e.persist(),v.current.delta=e.pageX-m.scrollLeft,v.current.x=0,b(!0),e.preventDefault()},ref:p,className:wh()("".concat(c,"-sticky-scroll-bar"),ae({},"".concat(c,"-sticky-scroll-bar-active"),x)),style:{width:"".concat(h,"px"),transform:"translate3d(".concat(m.scrollLeft,"px, 0, 0)")}}))},TS=t.forwardRef(ES);var MS=function(e){return null};var PS=function(e){return null},AS=[],IS={},LS="rc-table-internal-hook";function DS(){return"No Data"}function OS(e){var n,i=le({rowKey:"key",prefixCls:"rc-table",emptyText:DS},e),r=i.prefixCls,o=i.className,a=i.rowClassName,s=i.style,l=i.data,c=i.rowKey,u=i.scroll,d=i.tableLayout,h=i.direction,f=i.title,m=i.footer,g=i.summary,v=i.caption,y=i.id,x=i.showHeader,b=i.components,_=i.emptyText,w=i.onRow,k=i.onHeaderRow,S=i.internalHooks,C=i.transformColumns,E=i.internalRefs,T=i.sticky,M=l||AS,P=!!M.length;var A,I,L,D=t.useCallback((function(e,t){return Q_(b,e)||t}),[b]),O=t.useMemo((function(){return"function"===typeof c?c:function(e){return e&&e[c]}}),[c]),R=function(){var e=pe(t.useState(-1),2),n=e[0],i=e[1],r=pe(t.useState(-1),2),o=r[0],a=r[1];return[n,o,t.useCallback((function(e,t){i(e),a(t)}),[])]}(),z=pe(R,3),F=z[0],B=z[1],N=z[2],j=pe(bS(i,M,O),6),V=j[0],W=j[1],U=j[2],H=j[3],X=j[4],G=j[5],Y=pe(t.useState(0),2),q=Y[0],K=Y[1],$=pe(yS(le(le(le({},i),V),{},{expandable:!!V.expandedRowRender,columnTitle:V.columnTitle,expandedKeys:U,getRowKey:O,onTriggerExpand:G,expandIcon:H,expandIconColumnIndex:V.expandIconColumnIndex,direction:h}),S===LS?C:null),2),Z=$[0],J=$[1],Q=t.useMemo((function(){return{columns:Z,flattenColumns:J}}),[Z,J]),ee=t.useRef(),ne=t.useRef(),ie=t.useRef(),re=t.useRef(),oe=t.useRef(),se=pe(t.useState(!1),2),ce=se[0],ue=se[1],de=pe(t.useState(!1),2),he=de[0],fe=de[1],me=pe(_S(new Map),2),ge=me[0],ve=me[1],ye=gk(J).map((function(e){return ge.get(e)})),xe=t.useMemo((function(){return ye}),[ye.join("_")]),be=kS(xe,J.length,h),_e=u&&vk(u.y),we=u&&vk(u.x)||Boolean(V.fixed),ke=we&&J.some((function(e){return e.fixed})),Se=t.useRef(),Ce=function(e,n){var i="object"===te(e)?e:{},r=i.offsetHeader,o=void 0===r?0:r,a=i.offsetSummary,s=void 0===a?0:a,l=i.offsetScroll,c=void 0===l?0:l,u=i.getContainer,d=(void 0===u?function(){return wS}:u)()||wS;return t.useMemo((function(){var t=!!e;return{isSticky:t,stickyClassName:t?"".concat(n,"-sticky-holder"):"",offsetHeader:o,offsetSummary:s,offsetScroll:c,container:d}}),[c,o,s,n,d])}(T,r),Ee=Ce.isSticky,Te=Ce.offsetHeader,Me=Ce.offsetSummary,Pe=Ce.offsetScroll,Ae=Ce.stickyClassName,Ie=Ce.container,Le=t.useMemo((function(){return null===g||void 0===g?void 0:g(M)}),[g,M]),De=(_e||Ee)&&t.isValidElement(Le)&&Le.type===Ek&&Le.props.fixed;_e&&(I={overflowY:"scroll",maxHeight:u.y}),we&&(A={overflowX:"auto"},_e||(I={overflowY:"hidden"}),L={width:!0===(null===u||void 0===u?void 0:u.x)?"auto":null===u||void 0===u?void 0:u.x,minWidth:"100%"});var Oe=t.useCallback((function(e,t){hg(ee.current)&&ve((function(n){if(n.get(e)!==t){var i=new Map(n);return i.set(e,t),i}return n}))}),[]),Re=pe(function(e){var n=(0,t.useRef)(e||null),i=(0,t.useRef)();function r(){window.clearTimeout(i.current)}return(0,t.useEffect)((function(){return r}),[]),[function(e){n.current=e,r(),i.current=window.setTimeout((function(){n.current=null,i.current=void 0}),100)},function(){return n.current}]}(null),2),ze=Re[0],Fe=Re[1];function Be(e,t){t&&("function"===typeof t?t(e):t.scrollLeft!==e&&(t.scrollLeft=e,t.scrollLeft!==e&&setTimeout((function(){t.scrollLeft=e}),0)))}var Ne=Bp((function(e){var t,n=e.currentTarget,i=e.scrollLeft,r="rtl"===h,o="number"===typeof i?i:n.scrollLeft,a=n||IS;Fe()&&Fe()!==a||(ze(a),Be(o,ne.current),Be(o,ie.current),Be(o,oe.current),Be(o,null===(t=Se.current)||void 0===t?void 0:t.setScrollLeft));if(n){var s=n.scrollWidth,l=n.clientWidth;if(s===l)return ue(!1),void fe(!1);r?(ue(-o<s-l),fe(-o>0)):(ue(o>0),fe(o<s-l))}})),je=function(){we&&ie.current?Ne({currentTarget:ie.current}):(ue(!1),fe(!1))},Ve=t.useRef(!1);t.useEffect((function(){Ve.current&&je()}),[we,l,Z.length]),t.useEffect((function(){Ve.current=!0}),[]);var We=pe(t.useState(0),2),Ue=We[0],He=We[1],Xe=pe(t.useState(!0),2),Ge=Xe[0],Ye=Xe[1];t.useEffect((function(){var e,t;ie.current instanceof Element?He(Hk(ie.current).width):He(Hk(re.current).width),Ye((e="position",t="sticky",Array.isArray(e)||void 0===t?jk(e):Vk(e,t)))}),[]),t.useEffect((function(){S===LS&&E&&(E.body.current=ie.current)}));var qe,Ke=t.useCallback((function(e){return t.createElement(t.Fragment,null,t.createElement(pS,e),"top"===De&&t.createElement(Tk,e,Le))}),[De,Le]),$e=t.useCallback((function(e){return t.createElement(Tk,e,Le)}),[Le]),Ze=D(["table"],"table"),Je=t.useMemo((function(){return d||(ke?"max-content"===(null===u||void 0===u?void 0:u.x)?"auto":"fixed":_e||Ee||J.some((function(e){return e.ellipsis}))?"fixed":"auto")}),[_e,ke,J,d,Ee]),Qe={colWidths:xe,columCount:J.length,stickyOffsets:be,onHeaderRow:k,fixHeader:_e,scroll:u},et=t.useMemo((function(){return P?null:"function"===typeof _?_():_}),[P,_]),tt=t.createElement(iS,{data:M,measureColumnWidth:_e||we||Ee,expandedKeys:U,rowExpandable:V.rowExpandable,getRowKey:O,onRow:w,emptyNode:et,childrenColumnName:X}),nt=t.createElement(sS,{colWidths:J.map((function(e){return e.width})),columns:J}),it=null!==v&&void 0!==v?t.createElement("caption",{className:"".concat(r,"-caption")},v):void 0,rt=D(["body"]);var ot=Kk(i,{data:!0}),at=Kk(i,{aria:!0});if(_e||Ee){var st;"function"===typeof rt?(st=rt(M,{scrollbarSize:Ue,ref:ie,onScroll:Ne}),Qe.colWidths=J.map((function(e,t){var n=e.width,i=t===Z.length-1?n-Ue:n;return"number"!==typeof i||Number.isNaN(i)?(cp(!1,"When use `components.body` with render props. Each column should have a fixed `width` value."),0):i}))):st=t.createElement("div",{style:le(le({},A),I),onScroll:Ne,ref:ie,className:wh()("".concat(r,"-body"))},t.createElement(Ze,p({style:le(le({},L),{},{tableLayout:Je})},at),it,nt,tt,!De&&Le&&t.createElement(Tk,{stickyOffsets:be,flattenColumns:J,columns:Z},Le)));var lt=le(le(le({noData:!M.length,maxContentScroll:we&&"max-content"===u.x},Qe),Q),{},{direction:h,stickyClassName:Ae,onScroll:Ne});qe=t.createElement(t.Fragment,null,!1!==x&&t.createElement(uS,p({},lt,{stickyTopOffset:Te,className:"".concat(r,"-header"),ref:ne}),Ke),st,De&&"top"!==De&&t.createElement(uS,p({},lt,{stickyBottomOffset:Me,className:"".concat(r,"-summary"),ref:oe}),$e),Ee&&t.createElement(TS,{ref:Se,offsetScroll:Pe,scrollBodyRef:ie,onScroll:Ne,container:Ie}))}else qe=t.createElement("div",{style:le(le({},A),I),className:wh()("".concat(r,"-content")),onScroll:Ne,ref:ie},t.createElement(Ze,p({style:le(le({},L),{},{tableLayout:Je})},at),it,nt,!1!==x&&t.createElement(pS,p({},Qe,Q)),tt,Le&&t.createElement(Tk,{stickyOffsets:be,flattenColumns:J,columns:Z},Le)));var ct=t.createElement("div",p({className:wh()(r,o,(n={},ae(n,"".concat(r,"-rtl"),"rtl"===h),ae(n,"".concat(r,"-ping-left"),ce),ae(n,"".concat(r,"-ping-right"),he),ae(n,"".concat(r,"-layout-fixed"),"fixed"===d),ae(n,"".concat(r,"-fixed-header"),_e),ae(n,"".concat(r,"-fixed-column"),ke),ae(n,"".concat(r,"-scroll-horizontal"),we),ae(n,"".concat(r,"-has-fix-left"),J[0]&&J[0].fixed),ae(n,"".concat(r,"-has-fix-right"),J[J.length-1]&&"right"===J[J.length-1].fixed),n)),style:s,id:y,ref:ee},ot),f&&t.createElement(SS,{className:"".concat(r,"-title")},f(M)),t.createElement("div",{ref:re,className:"".concat(r,"-container")},qe),m&&t.createElement(SS,{className:"".concat(r,"-footer")},m(M)));we&&(ct=t.createElement(Nk,{onResize:function(e){var t=e.width;t!==q&&(je(),K(ee.current?ee.current.offsetWidth:t))}},ct));var ut=function(e,t,n,i){var r=e.map((function(r,o){return wk(o,o,e,t,n,null===i||void 0===i?void 0:i[o])}));return sf((function(){return r}),[r],(function(e,t){return!dg(e,t)}))}(J,be,h,Z),dt=t.useMemo((function(){return{prefixCls:r,getComponent:D,scrollbarSize:Ue,direction:h,fixedInfoList:ut,isSticky:Ee,supportSticky:Ge,componentWidth:q,fixHeader:_e,fixColumn:ke,horizonScroll:we,tableLayout:Je,rowClassName:a,expandedRowClassName:V.expandedRowClassName,expandIcon:H,expandableType:W,expandRowByClick:V.expandRowByClick,expandedRowRender:V.expandedRowRender,onTriggerExpand:G,expandIconColumnIndex:V.expandIconColumnIndex,indentSize:V.indentSize,allColumnsFixedLeft:J.every((function(e){return"left"===e.fixed})),columns:Z,flattenColumns:J,onColumnResize:Oe,hoverStartRow:F,hoverEndRow:B,onHover:N}}),[r,D,Ue,h,ut,Ee,Ge,q,_e,ke,we,Je,a,V.expandedRowClassName,H,W,V.expandRowByClick,V.expandedRowRender,G,V.expandIconColumnIndex,V.indentSize,Z,J,Oe,F,B,N]);return t.createElement(hk.Provider,{value:dt},ct)}function RS(e){return function(e,n){var i=uf(e),r=function(r,o){var a=i?{ref:o}:{},s=t.useRef(0),l=t.useRef(r);return n&&!n(l.current,r)||(s.current+=1),l.current=r,t.createElement(lk.Provider,{value:s.current},t.createElement(e,p({},r,a)))};return i?t.forwardRef(r):r}(OS,e)}var zS=RS();zS.EXPAND_COLUMN=ak,zS.Column=MS,zS.ColumnGroup=PS,zS.Summary=Mk;var FS=function(e){return null};var BS=function(e){return null};var NS=function(){var e=pe(ex(),2)[1],n={};return new By(e.colorBgBase).toHsl().l<.5&&(n={opacity:.65}),t.createElement("svg",{style:n,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},t.createElement("g",{fill:"none",fillRule:"evenodd"},t.createElement("g",{transform:"translate(24 31.67)"},t.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),t.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),t.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),t.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),t.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),t.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),t.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},t.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),t.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},jS=function(){var e=pe(ex(),2)[1],n=e.colorFill,i=e.colorFillTertiary,r=e.colorFillQuaternary,o=e.colorBgContainer,a=(0,t.useMemo)((function(){return{borderColor:new By(n).onBackground(o).toHexString(),shadowColor:new By(i).onBackground(o).toHexString(),contentColor:new By(r).onBackground(o).toHexString()}}),[n,i,r,o]),s=a.borderColor,l=a.shadowColor,c=a.contentColor;return t.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},t.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},t.createElement("ellipse",{fill:l,cx:"32",cy:"33",rx:"32",ry:"7"}),t.createElement("g",{fillRule:"nonzero",stroke:s},t.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),t.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:c}))))},VS=function(e){var t,n,i=e.componentCls,r=e.margin,o=e.marginXS,a=e.marginXL;return ae({},i,(ae(n={marginInline:o,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center"},"".concat(i,"-image"),{height:e.emptyImgHeight,marginBottom:o,opacity:e.opacityImage,img:{height:"100%"},svg:{height:"100%",margin:"auto"}}),ae(n,"".concat(i,"-description"),{color:e.colorText}),ae(n,"".concat(i,"-footer"),{marginTop:r}),ae(n,"&-normal",(ae(t={marginBlock:a,color:e.colorTextDisabled},"".concat(i,"-description"),{color:e.colorTextDisabled}),ae(t,"".concat(i,"-image"),{height:e.emptyImgHeightMD}),t)),ae(n,"&-small",ae({marginBlock:o,color:e.colorTextDisabled},"".concat(i,"-image"),{height:e.emptyImgHeightSM})),n))},WS=tx("Empty",(function(e){var t=e.componentCls,n=e.controlHeightLG,i=Sy(e,{emptyImgCls:"".concat(t,"-img"),emptyImgHeight:2.5*n,emptyImgHeightMD:n,emptyImgHeightSM:.875*n});return[VS(i)]})),US=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},HS=t.createElement(NS,null),XS=t.createElement(jS,null),GS=function(e){var n=e.className,i=e.rootClassName,r=e.prefixCls,o=e.image,a=void 0===o?HS:o,s=e.description,l=e.children,c=e.imageStyle,u=US(e,["className","rootClassName","prefixCls","image","description","children","imageStyle"]),d=t.useContext(Kp),h=d.getPrefixCls,p=d.direction,f=h("empty",r),m=pe(WS(f),2),g=m[0],v=m[1];return g(t.createElement(p_,{componentName:"Empty"},(function(e){var r,o="undefined"!==typeof s?s:e.description,d="string"===typeof o?o:"empty",h=null;return h="string"===typeof a?t.createElement("img",{alt:d,src:a}):a,t.createElement("div",Object.assign({className:wh()(v,f,(r={},ae(r,"".concat(f,"-normal"),a===XS),ae(r,"".concat(f,"-rtl"),"rtl"===p),r),n,i)},u),t.createElement("div",{className:"".concat(f,"-image"),style:c},h),o&&t.createElement("div",{className:"".concat(f,"-description")},o),l&&t.createElement("div",{className:"".concat(f,"-footer")},l))})))};GS.PRESENTED_IMAGE_DEFAULT=HS,GS.PRESENTED_IMAGE_SIMPLE=XS;var YS=GS,qS=function(e){var n=e.componentName,i=(0,(0,t.useContext)(Kp).getPrefixCls)("empty");switch(n){case"Table":case"List":return t.createElement(YS,{image:YS.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return t.createElement(YS,{image:YS.PRESENTED_IMAGE_SIMPLE,className:"".concat(i,"-small")});default:return t.createElement(YS,null)}};function KS(){var e=t.useReducer((function(e){return e+1}),0);return pe(e,2)[1]}var $S=["xxl","xl","lg","md","sm","xs"],ZS=function(e){return{xs:"(max-width: ".concat(e.screenXSMax,"px)"),sm:"(min-width: ".concat(e.screenSM,"px)"),md:"(min-width: ".concat(e.screenMD,"px)"),lg:"(min-width: ".concat(e.screenLG,"px)"),xl:"(min-width: ".concat(e.screenXL,"px)"),xxl:"(min-width: ".concat(e.screenXXL,"px)")}},JS=function(e){var t=e,n=[].concat($S).reverse();return n.forEach((function(e,i){var r=e.toUpperCase(),o="screen".concat(r,"Min"),a="screen".concat(r);if(!(t[o]<=t[a]))throw new Error("".concat(o,"<=").concat(a," fails : !(").concat(t[o],"<=").concat(t[a],")"));if(i<n.length-1){var s="screen".concat(r,"Max");if(!(t[a]<=t[s]))throw new Error("".concat(a,"<=").concat(s," fails : !(").concat(t[a],"<=").concat(t[s],")"));var l=n[i+1].toUpperCase(),c="screen".concat(l,"Min");if(!(t[s]<=t[c]))throw new Error("".concat(s,"<=").concat(c," fails : !(").concat(t[s],"<=").concat(t[c],")"))}})),e};var QS=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=(0,t.useRef)({}),i=KS(),r=function(){var e=pe(ex(),2)[1],n=ZS(JS(e));return t.useMemo((function(){var e=new Map,t=-1,i={};return{matchHandlers:{},dispatch:function(t){return i=t,e.forEach((function(e){return e(i)})),e.size>=1},subscribe:function(n){return e.size||this.register(),t+=1,e.set(t,n),n(i),t},unsubscribe:function(t){e.delete(t),e.size||this.unregister()},unregister:function(){var t=this;Object.keys(n).forEach((function(e){var i=n[e],r=t.matchHandlers[i];null===r||void 0===r||r.mql.removeListener(null===r||void 0===r?void 0:r.listener)})),e.clear()},register:function(){var e=this;Object.keys(n).forEach((function(t){var r=n[t],o=function(n){var r=n.matches;e.dispatch(Object.assign(Object.assign({},i),ae({},t,r)))},a=window.matchMedia(r);a.addListener(o),e.matchHandlers[r]={mql:a,listener:o},o(a)}))},responsiveMap:n}}),[e])}();return(0,t.useEffect)((function(){var t=r.subscribe((function(t){n.current=t,e&&i()}));return function(){return r.unsubscribe(t)}}),[]),n.current},eC={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},tC=function(e,n){return t.createElement(Rp,le(le({},e),{},{ref:n,icon:eC}))};tC.displayName="DoubleLeftOutlined";var nC=t.forwardRef(tC),iC={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},rC=function(e,n){return t.createElement(Rp,le(le({},e),{},{ref:n,icon:iC}))};rC.displayName="DoubleRightOutlined";var oC=t.forwardRef(rC),aC={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},sC=function(e,n){return t.createElement(Rp,le(le({},e),{},{ref:n,icon:aC}))};sC.displayName="LeftOutlined";var lC=t.forwardRef(sC),cC={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},uC=function(e,n){return t.createElement(Rp,le(le({},e),{},{ref:n,icon:cC}))};uC.displayName="RightOutlined";var dC=t.forwardRef(uC),hC=function(e){var n,i="".concat(e.rootPrefixCls,"-item"),r=wh()(i,"".concat(i,"-").concat(e.page),(ae(n={},"".concat(i,"-active"),e.active),ae(n,"".concat(i,"-disabled"),!e.page),ae(n,e.className,!!e.className),n));return t.createElement("li",{title:e.showTitle?e.page:null,className:r,onClick:function(){e.onClick(e.page)},onKeyPress:function(t){e.onKeyPress(t,e.onClick,e.page)},tabIndex:"0"},e.itemRender(e.page,"page",t.createElement("a",{rel:"nofollow"},e.page)))},pC={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40},fC=function(e){Pe(i,e);var n=De(i);function i(){var e;Ce(this,i);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).state={goInputText:""},e.buildOptionText=function(t){return"".concat(t," ").concat(e.props.locale.items_per_page)},e.changeSize=function(t){e.props.changeSize(Number(t))},e.handleChange=function(t){e.setState({goInputText:t.target.value})},e.handleBlur=function(t){var n=e.props,i=n.goButton,r=n.quickGo,o=n.rootPrefixCls,a=e.state.goInputText;i||""===a||(e.setState({goInputText:""}),t.relatedTarget&&(t.relatedTarget.className.indexOf("".concat(o,"-item-link"))>=0||t.relatedTarget.className.indexOf("".concat(o,"-item"))>=0)||r(e.getValidValue()))},e.go=function(t){""!==e.state.goInputText&&(t.keyCode!==pC.ENTER&&"click"!==t.type||(e.setState({goInputText:""}),e.props.quickGo(e.getValidValue())))},e}return Te(i,[{key:"getValidValue",value:function(){var e=this.state.goInputText;return!e||isNaN(e)?void 0:Number(e)}},{key:"getPageSizeOptions",value:function(){var e=this.props,t=e.pageSize,n=e.pageSizeOptions;return n.some((function(e){return e.toString()===t.toString()}))?n:n.concat([t.toString()]).sort((function(e,t){return(isNaN(Number(e))?0:Number(e))-(isNaN(Number(t))?0:Number(t))}))}},{key:"render",value:function(){var e=this,n=this.props,i=n.pageSize,r=n.locale,o=n.rootPrefixCls,a=n.changeSize,s=n.quickGo,l=n.goButton,c=n.selectComponentClass,u=n.buildOptionText,d=n.selectPrefixCls,h=n.disabled,p=this.state.goInputText,f="".concat(o,"-options"),m=c,g=null,v=null,y=null;if(!a&&!s)return null;var x=this.getPageSizeOptions();if(a&&m){var b=x.map((function(n,i){return t.createElement(m.Option,{key:i,value:n.toString()},(u||e.buildOptionText)(n))}));g=t.createElement(m,{disabled:h,prefixCls:d,showSearch:!1,className:"".concat(f,"-size-changer"),optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:(i||x[0]).toString(),onChange:this.changeSize,getPopupContainer:function(e){return e.parentNode},"aria-label":r.page_size,defaultOpen:!1},b)}return s&&(l&&(y="boolean"===typeof l?t.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:h,className:"".concat(f,"-quick-jumper-button")},r.jump_to_confirm):t.createElement("span",{onClick:this.go,onKeyUp:this.go},l)),v=t.createElement("div",{className:"".concat(f,"-quick-jumper")},r.jump_to,t.createElement("input",{disabled:h,type:"text",value:p,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":r.page}),r.page,y)),t.createElement("li",{className:"".concat(f)},g,v)}}]),i}(t.Component);fC.defaultProps={pageSizeOptions:["10","20","50","100"]};var mC=fC;function gC(){}function vC(e){var t=Number(e);return"number"===typeof t&&!isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function yC(e,t,n){var i="undefined"===typeof e?t.pageSize:e;return Math.floor((n.total-1)/i)+1}var xC=function(e){Pe(i,e);var n=De(i);function i(e){var r;Ce(this,i),(r=n.call(this,e)).getJumpPrevPage=function(){return Math.max(1,r.state.current-(r.props.showLessItems?3:5))},r.getJumpNextPage=function(){return Math.min(yC(void 0,r.state,r.props),r.state.current+(r.props.showLessItems?3:5))},r.getItemIcon=function(e,n){var i=r.props.prefixCls,o=e||t.createElement("button",{type:"button","aria-label":n,className:"".concat(i,"-item-link")});return"function"===typeof e&&(o=t.createElement(e,le({},r.props))),o},r.savePaginationNode=function(e){r.paginationNode=e},r.isValid=function(e){var t=r.props.total;return vC(e)&&e!==r.state.current&&vC(t)&&t>0},r.shouldDisplayQuickJumper=function(){var e=r.props,t=e.showQuickJumper;return!(e.total<=r.state.pageSize)&&t},r.handleKeyDown=function(e){e.keyCode!==pC.ARROW_UP&&e.keyCode!==pC.ARROW_DOWN||e.preventDefault()},r.handleKeyUp=function(e){var t=r.getValidValue(e);t!==r.state.currentInputValue&&r.setState({currentInputValue:t}),e.keyCode===pC.ENTER?r.handleChange(t):e.keyCode===pC.ARROW_UP?r.handleChange(t-1):e.keyCode===pC.ARROW_DOWN&&r.handleChange(t+1)},r.handleBlur=function(e){var t=r.getValidValue(e);r.handleChange(t)},r.changePageSize=function(e){var t=r.state.current,n=yC(e,r.state,r.props);t=t>n?n:t,0===n&&(t=r.state.current),"number"===typeof e&&("pageSize"in r.props||r.setState({pageSize:e}),"current"in r.props||r.setState({current:t,currentInputValue:t})),r.props.onShowSizeChange(t,e),"onChange"in r.props&&r.props.onChange&&r.props.onChange(t,e)},r.handleChange=function(e){var t=r.props,n=t.disabled,i=t.onChange,o=r.state,a=o.pageSize,s=o.current,l=o.currentInputValue;if(r.isValid(e)&&!n){var c=yC(void 0,r.state,r.props),u=e;return e>c?u=c:e<1&&(u=1),"current"in r.props||r.setState({current:u}),u!==l&&r.setState({currentInputValue:u}),i(u,a),u}return s},r.prev=function(){r.hasPrev()&&r.handleChange(r.state.current-1)},r.next=function(){r.hasNext()&&r.handleChange(r.state.current+1)},r.jumpPrev=function(){r.handleChange(r.getJumpPrevPage())},r.jumpNext=function(){r.handleChange(r.getJumpNextPage())},r.hasPrev=function(){return r.state.current>1},r.hasNext=function(){return r.state.current<yC(void 0,r.state,r.props)},r.runIfEnter=function(e,t){if("Enter"===e.key||13===e.charCode){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];t.apply(void 0,i)}},r.runIfEnterPrev=function(e){r.runIfEnter(e,r.prev)},r.runIfEnterNext=function(e){r.runIfEnter(e,r.next)},r.runIfEnterJumpPrev=function(e){r.runIfEnter(e,r.jumpPrev)},r.runIfEnterJumpNext=function(e){r.runIfEnter(e,r.jumpNext)},r.handleGoTO=function(e){e.keyCode!==pC.ENTER&&"click"!==e.type||r.handleChange(r.state.currentInputValue)};var o=e.onChange!==gC;"current"in e&&!o&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var a=e.defaultCurrent;"current"in e&&(a=e.current);var s=e.defaultPageSize;return"pageSize"in e&&(s=e.pageSize),a=Math.min(a,yC(s,void 0,e)),r.state={current:a,currentInputValue:a,pageSize:s},r}return Te(i,[{key:"componentDidUpdate",value:function(e,t){var n=this.props.prefixCls;if(t.current!==this.state.current&&this.paginationNode){var i=this.paginationNode.querySelector(".".concat(n,"-item-").concat(t.current));i&&document.activeElement===i&&i.blur()}}},{key:"getValidValue",value:function(e){var t=e.target.value,n=yC(void 0,this.state,this.props),i=this.state.currentInputValue;return""===t?t:isNaN(Number(t))?i:t>=n?n:Number(t)}},{key:"getShowSizeChanger",value:function(){var e=this.props,t=e.showSizeChanger,n=e.total,i=e.totalBoundaryShowSizeChanger;return"undefined"!==typeof t?t:n>i}},{key:"renderPrev",value:function(e){var n=this.props,i=n.prevIcon,r=(0,n.itemRender)(e,"prev",this.getItemIcon(i,"prev page")),o=!this.hasPrev();return(0,t.isValidElement)(r)?(0,t.cloneElement)(r,{disabled:o}):r}},{key:"renderNext",value:function(e){var n=this.props,i=n.nextIcon,r=(0,n.itemRender)(e,"next",this.getItemIcon(i,"next page")),o=!this.hasNext();return(0,t.isValidElement)(r)?(0,t.cloneElement)(r,{disabled:o}):r}},{key:"render",value:function(){var e=this,n=this.props,i=n.prefixCls,r=n.className,o=n.style,a=n.disabled,s=n.hideOnSinglePage,l=n.total,c=n.locale,u=n.showQuickJumper,d=n.showLessItems,h=n.showTitle,f=n.showTotal,m=n.simple,g=n.itemRender,v=n.showPrevNextJumpers,y=n.jumpPrevIcon,x=n.jumpNextIcon,b=n.selectComponentClass,_=n.selectPrefixCls,w=n.pageSizeOptions,k=this.state,S=k.current,C=k.pageSize,E=k.currentInputValue;if(!0===s&&l<=C)return null;var T=yC(void 0,this.state,this.props),M=[],P=null,A=null,I=null,L=null,D=null,O=u&&u.goButton,R=d?1:2,z=S-1>0?S-1:0,F=S+1<T?S+1:T,B=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{}),N=f&&t.createElement("li",{className:"".concat(i,"-total-text")},f(l,[0===l?0:(S-1)*C+1,S*C>l?l:S*C]));if(m)return O&&(D="boolean"===typeof O?t.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},c.jump_to_confirm):t.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},O),D=t.createElement("li",{title:h?"".concat(c.jump_to).concat(S,"/").concat(T):null,className:"".concat(i,"-simple-pager")},D)),t.createElement("ul",p({className:wh()(i,"".concat(i,"-simple"),ae({},"".concat(i,"-disabled"),a),r),style:o,ref:this.savePaginationNode},B),N,t.createElement("li",{title:h?c.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:wh()("".concat(i,"-prev"),ae({},"".concat(i,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},this.renderPrev(z)),t.createElement("li",{title:h?"".concat(S,"/").concat(T):null,className:"".concat(i,"-simple-pager")},t.createElement("input",{type:"text",value:E,disabled:a,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:"3"}),t.createElement("span",{className:"".concat(i,"-slash")},"/"),T),t.createElement("li",{title:h?c.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:wh()("".concat(i,"-next"),ae({},"".concat(i,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(F)),D);if(T<=3+2*R){var j={locale:c,rootPrefixCls:i,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:h,itemRender:g};T||M.push(t.createElement(hC,p({},j,{key:"noPager",page:1,className:"".concat(i,"-item-disabled")})));for(var V=1;V<=T;V+=1){var W=S===V;M.push(t.createElement(hC,p({},j,{key:V,page:V,active:W})))}}else{var U=d?c.prev_3:c.prev_5,H=d?c.next_3:c.next_5;v&&(P=t.createElement("li",{title:h?U:null,key:"prev",onClick:this.jumpPrev,tabIndex:"0",onKeyPress:this.runIfEnterJumpPrev,className:wh()("".concat(i,"-jump-prev"),ae({},"".concat(i,"-jump-prev-custom-icon"),!!y))},g(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(y,"prev page"))),A=t.createElement("li",{title:h?H:null,key:"next",tabIndex:"0",onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:wh()("".concat(i,"-jump-next"),ae({},"".concat(i,"-jump-next-custom-icon"),!!x))},g(this.getJumpNextPage(),"jump-next",this.getItemIcon(x,"next page")))),L=t.createElement(hC,{locale:c,last:!0,rootPrefixCls:i,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:T,page:T,active:!1,showTitle:h,itemRender:g}),I=t.createElement(hC,{locale:c,rootPrefixCls:i,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:h,itemRender:g});var X=Math.max(1,S-R),G=Math.min(S+R,T);S-1<=R&&(G=1+2*R),T-S<=R&&(X=T-2*R);for(var Y=X;Y<=G;Y+=1){var q=S===Y;M.push(t.createElement(hC,{locale:c,rootPrefixCls:i,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:Y,page:Y,active:q,showTitle:h,itemRender:g}))}S-1>=2*R&&3!==S&&(M[0]=(0,t.cloneElement)(M[0],{className:"".concat(i,"-item-after-jump-prev")}),M.unshift(P)),T-S>=2*R&&S!==T-2&&(M[M.length-1]=(0,t.cloneElement)(M[M.length-1],{className:"".concat(i,"-item-before-jump-next")}),M.push(A)),1!==X&&M.unshift(I),G!==T&&M.push(L)}var K=!this.hasPrev()||!T,$=!this.hasNext()||!T;return t.createElement("ul",p({className:wh()(i,r,ae({},"".concat(i,"-disabled"),a)),style:o,ref:this.savePaginationNode},B),N,t.createElement("li",{title:h?c.prev_page:null,onClick:this.prev,tabIndex:K?null:0,onKeyPress:this.runIfEnterPrev,className:wh()("".concat(i,"-prev"),ae({},"".concat(i,"-disabled"),K)),"aria-disabled":K},this.renderPrev(z)),M,t.createElement("li",{title:h?c.next_page:null,onClick:this.next,tabIndex:$?null:0,onKeyPress:this.runIfEnterNext,className:wh()("".concat(i,"-next"),ae({},"".concat(i,"-disabled"),$)),"aria-disabled":$},this.renderNext(F)),t.createElement(mC,{disabled:a,locale:c,rootPrefixCls:i,selectComponentClass:b,selectPrefixCls:_,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:S,pageSize:C,pageSizeOptions:w,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:O}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={};if("current"in e&&(n.current=e.current,e.current!==t.current&&(n.currentInputValue=n.current)),"pageSize"in e&&e.pageSize!==t.pageSize){var i=t.current,r=yC(e.pageSize,t,e);i=i>r?r:i,"current"in e||(n.current=i,n.currentInputValue=i),n.pageSize=e.pageSize}return n}}]),i}(t.Component);xC.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:gC,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:gC,locale:{items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",jump_to_confirm:"\u786e\u5b9a",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875",page_size:"\u9875\u7801"},style:{},itemRender:function(e,t,n){return n},totalBoundaryShowSizeChanger:50};var bC=xC,_C=t.createContext(null);function wC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,n=t.useRef(null),i=t.useRef(null);return t.useEffect((function(){return function(){window.clearTimeout(i.current)}}),[]),[function(){return n.current},function(t){(t||null===n.current)&&(n.current=t),window.clearTimeout(i.current),i.current=window.setTimeout((function(){n.current=null}),e)}]}var kC=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],SC=void 0;function CC(e,n){var i=e.prefixCls,r=e.invalidate,o=e.item,a=e.renderItem,s=e.responsive,l=e.responsiveDisabled,c=e.registerSize,u=e.itemKey,d=e.className,h=e.style,f=e.children,m=e.display,g=e.order,v=e.component,y=void 0===v?"div":v,x=ln(e,kC),b=s&&!m;function _(e){c(u,e)}t.useEffect((function(){return function(){_(null)}}),[]);var w,k=a&&o!==SC?a(o):f;r||(w={opacity:b?0:1,height:b?0:SC,overflowY:b?"hidden":SC,order:s?g:SC,pointerEvents:b?"none":SC,position:b?"absolute":SC});var S={};b&&(S["aria-hidden"]=!0);var C=t.createElement(y,p({className:wh()(!r&&i,d),style:le(le({},w),h)},S,x,{ref:n}),k);return s&&(C=t.createElement(Nk,{onResize:function(e){_(e.offsetWidth)},disabled:l},C)),C}var EC=t.forwardRef(CC);EC.displayName="Item";var TC=EC;var MC=["component"],PC=["className"],AC=["className"],IC=function(e,n){var i=t.useContext(RC);if(!i){var r=e.component,o=void 0===r?"div":r,a=ln(e,MC);return t.createElement(o,p({},a,{ref:n}))}var s=i.className,l=ln(i,PC),c=e.className,u=ln(e,AC);return t.createElement(RC.Provider,{value:null},t.createElement(TC,p({ref:n,className:wh()(s,c)},l,u)))},LC=t.forwardRef(IC);LC.displayName="RawItem";var DC=LC,OC=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],RC=t.createContext(null),zC="responsive",FC="invalidate";function BC(e){return"+ ".concat(e.length," ...")}function NC(e,n){var i=e.prefixCls,r=void 0===i?"rc-overflow":i,o=e.data,a=void 0===o?[]:o,s=e.renderItem,l=e.renderRawItem,c=e.itemKey,u=e.itemWidth,d=void 0===u?10:u,h=e.ssr,f=e.style,m=e.className,g=e.maxCount,v=e.renderRest,y=e.renderRawRest,x=e.suffix,b=e.component,_=void 0===b?"div":b,w=e.itemComponent,k=e.onVisibleChange,S=ln(e,OC),C=function(){var e=pe(Wp({}),2)[1],n=(0,t.useRef)([]),i=0,r=0;return function(t){var o=i;return i+=1,n.current.length<o+1&&(n.current[o]=t),[n.current[o],function(t){n.current[o]="function"===typeof t?t(n.current[o]):t,rf.cancel(r),r=rf((function(){e({},!0)}))}]}}(),E="full"===h,T=pe(C(null),2),M=T[0],P=T[1],A=M||0,I=pe(C(new Map),2),L=I[0],D=I[1],O=pe(C(0),2),R=O[0],z=O[1],F=pe(C(0),2),B=F[0],N=F[1],j=pe(C(0),2),V=j[0],W=j[1],U=pe((0,t.useState)(null),2),H=U[0],X=U[1],G=pe((0,t.useState)(null),2),Y=G[0],q=G[1],K=t.useMemo((function(){return null===Y&&E?Number.MAX_SAFE_INTEGER:Y||0}),[Y,M]),$=pe((0,t.useState)(!1),2),Z=$[0],J=$[1],Q="".concat(r,"-item"),ee=Math.max(R,B),te=g===zC,ne=a.length&&te,ie=g===FC,re=ne||"number"===typeof g&&a.length>g,oe=(0,t.useMemo)((function(){var e=a;return ne?e=null===M&&E?a:a.slice(0,Math.min(a.length,A/d)):"number"===typeof g&&(e=a.slice(0,g)),e}),[a,d,M,g,ne]),ae=(0,t.useMemo)((function(){return ne?a.slice(K+1):a.slice(oe.length)}),[a,oe,ne,K]),se=(0,t.useCallback)((function(e,t){var n;return"function"===typeof c?c(e):null!==(n=c&&(null===e||void 0===e?void 0:e[c]))&&void 0!==n?n:t}),[c]),ce=(0,t.useCallback)(s||function(e){return e},[s]);function ue(e,t,n){(Y!==e||void 0!==t&&t!==H)&&(q(e),n||(J(e<a.length-1),null===k||void 0===k||k(e)),void 0!==t&&X(t))}function de(e,t){D((function(n){var i=new Map(n);return null===t?i.delete(e):i.set(e,t),i}))}function he(e){return L.get(se(oe[e],e))}jp((function(){if(A&&ee&&oe){var e=V,t=oe.length,n=t-1;if(!t)return void ue(0,null);for(var i=0;i<t;i+=1){var r=he(i);if(E&&(r=r||0),void 0===r){ue(i-1,void 0,!0);break}if(e+=r,0===n&&e<=A||i===n-1&&e+he(n)<=A){ue(n,null);break}if(e+ee>A){ue(i-1,e-r-V+B);break}}x&&he(0)+V>A&&X(null)}}),[A,L,B,V,se,oe]);var fe=Z&&!!ae.length,me={};null!==H&&ne&&(me={position:"absolute",left:H,top:0});var ge,ve={prefixCls:Q,responsive:ne,component:w,invalidate:ie},ye=l?function(e,n){var i=se(e,n);return t.createElement(RC.Provider,{key:i,value:le(le({},ve),{},{order:n,item:e,itemKey:i,registerSize:de,display:n<=K})},l(e,n))}:function(e,n){var i=se(e,n);return t.createElement(TC,p({},ve,{order:n,key:i,item:e,renderItem:ce,itemKey:i,registerSize:de,display:n<=K}))},xe={order:fe?K:Number.MAX_SAFE_INTEGER,className:"".concat(Q,"-rest"),registerSize:function(e,t){N(t),z(B)},display:fe};if(y)y&&(ge=t.createElement(RC.Provider,{value:le(le({},ve),xe)},y(ae)));else{var be=v||BC;ge=t.createElement(TC,p({},ve,xe),"function"===typeof be?be(ae):be)}var _e=t.createElement(_,p({className:wh()(!ie&&r,m),style:f,ref:n},S),oe.map(ye),re?ge:null,x&&t.createElement(TC,p({},ve,{responsive:te,responsiveDisabled:!ne,order:K,className:"".concat(Q,"-suffix"),registerSize:function(e,t){W(t)},display:!0,style:me}),x));return te&&(_e=t.createElement(Nk,{onResize:function(e,t){P(t.clientWidth)},disabled:!ne},_e)),_e}var jC=t.forwardRef(NC);jC.displayName="Overflow",jC.Item=DC,jC.RESPONSIVE=zC,jC.INVALIDATE=FC;var VC=jC,WC=function(e){var n,i=e.className,r=e.customizeIcon,o=e.customizeIconProps,a=e.onMouseDown,s=e.onClick,l=e.children;return n="function"===typeof r?r(o):r,t.createElement("span",{className:i,onMouseDown:function(e){e.preventDefault(),a&&a(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:s,"aria-hidden":!0},void 0!==n?n:t.createElement("span",{className:wh()(i.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},l))},UC=function(e,n){var i,r,o=e.prefixCls,a=e.id,s=e.inputElement,l=e.disabled,c=e.tabIndex,u=e.autoFocus,d=e.autoComplete,h=e.editable,p=e.activeDescendantId,f=e.value,m=e.maxLength,g=e.onKeyDown,v=e.onMouseDown,y=e.onChange,x=e.onPaste,b=e.onCompositionStart,_=e.onCompositionEnd,w=e.open,k=e.attrs,S=s||t.createElement("input",null),C=S,E=C.ref,T=C.props,M=T.onKeyDown,P=T.onChange,A=T.onMouseDown,I=T.onCompositionStart,L=T.onCompositionEnd,D=T.style;return sp(S.props),S=t.cloneElement(S,le(le(le({type:"search"},T),{},{id:a,ref:cf(n,E),disabled:l,tabIndex:c,autoComplete:d||"off",autoFocus:u,className:wh()("".concat(o,"-selection-search-input"),null===(i=S)||void 0===i||null===(r=i.props)||void 0===r?void 0:r.className),role:"combobox","aria-expanded":w,"aria-haspopup":"listbox","aria-owns":"".concat(a,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(a,"_list"),"aria-activedescendant":p},k),{},{value:h?f:"",maxLength:m,readOnly:!h,unselectable:h?null:"on",style:le(le({},D),{},{opacity:h?null:0}),onKeyDown:function(e){g(e),M&&M(e)},onMouseDown:function(e){v(e),A&&A(e)},onChange:function(e){y(e),P&&P(e)},onCompositionStart:function(e){b(e),I&&I(e)},onCompositionEnd:function(e){_(e),L&&L(e)},onPaste:x}))},HC=t.forwardRef(UC);HC.displayName="Input";var XC=HC;function GC(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var YC="undefined"!==typeof window&&window.document&&window.document.documentElement;function qC(e){return["string","number"].includes(te(e))}function KC(e){var t=void 0;return e&&(qC(e.title)?t=e.title.toString():qC(e.label)&&(t=e.label.toString())),t}function $C(e){var t;return null!==(t=e.key)&&void 0!==t?t:e.value}var ZC=function(e){e.preventDefault(),e.stopPropagation()},JC=function(e){var n=e.id,i=e.prefixCls,r=e.values,o=e.open,a=e.searchValue,s=e.autoClearSearchValue,l=e.inputRef,c=e.placeholder,u=e.disabled,d=e.mode,h=e.showSearch,p=e.autoFocus,f=e.autoComplete,m=e.activeDescendantId,g=e.tabIndex,v=e.removeIcon,y=e.maxTagCount,x=e.maxTagTextLength,b=e.maxTagPlaceholder,_=void 0===b?function(e){return"+ ".concat(e.length," ...")}:b,w=e.tagRender,k=e.onToggleOpen,S=e.onRemove,C=e.onInputChange,E=e.onInputPaste,T=e.onInputKeyDown,M=e.onInputMouseDown,P=e.onInputCompositionStart,A=e.onInputCompositionEnd,I=t.useRef(null),L=pe((0,t.useState)(0),2),D=L[0],O=L[1],R=pe((0,t.useState)(!1),2),z=R[0],F=R[1],B="".concat(i,"-selection"),N=o||"multiple"===d&&!1===s||"tags"===d?a:"",j="tags"===d||"multiple"===d&&!1===s||h&&(o||z);function V(e,n,i,r,o){return t.createElement("span",{className:wh()("".concat(B,"-item"),ae({},"".concat(B,"-item-disabled"),i)),title:KC(e)},t.createElement("span",{className:"".concat(B,"-item-content")},n),r&&t.createElement(WC,{className:"".concat(B,"-item-remove"),onMouseDown:ZC,onClick:o,customizeIcon:v},"\xd7"))}!function(e,n){YC?t.useLayoutEffect(e,n):t.useEffect(e,n)}((function(){O(I.current.scrollWidth)}),[N]);var W=t.createElement("div",{className:"".concat(B,"-search"),style:{width:D},onFocus:function(){F(!0)},onBlur:function(){F(!1)}},t.createElement(XC,{ref:l,open:o,prefixCls:i,id:n,inputElement:null,disabled:u,autoFocus:p,autoComplete:f,editable:j,activeDescendantId:m,value:N,onKeyDown:T,onMouseDown:M,onChange:C,onPaste:E,onCompositionStart:P,onCompositionEnd:A,tabIndex:g,attrs:Kk(e,!0)}),t.createElement("span",{ref:I,className:"".concat(B,"-search-mirror"),"aria-hidden":!0},N,"\xa0")),U=t.createElement(VC,{prefixCls:"".concat(B,"-overflow"),data:r,renderItem:function(e){var n=e.disabled,i=e.label,r=e.value,a=!u&&!n,s=i;if("number"===typeof x&&("string"===typeof i||"number"===typeof i)){var l=String(s);l.length>x&&(s="".concat(l.slice(0,x),"..."))}var c=function(t){t&&t.stopPropagation(),S(e)};return"function"===typeof w?function(e,n,i,r,a){return t.createElement("span",{onMouseDown:function(e){ZC(e),k(!o)}},w({label:n,value:e,disabled:i,closable:r,onClose:a}))}(r,s,n,a,c):V(e,s,n,a,c)},renderRest:function(e){var t="function"===typeof _?_(e):_;return V({title:t},t,!1)},suffix:W,itemKey:$C,maxCount:y});return t.createElement(t.Fragment,null,U,!r.length&&!N&&t.createElement("span",{className:"".concat(B,"-placeholder")},c))},QC=function(e){var n=e.inputElement,i=e.prefixCls,r=e.id,o=e.inputRef,a=e.disabled,s=e.autoFocus,l=e.autoComplete,c=e.activeDescendantId,u=e.mode,d=e.open,h=e.values,p=e.placeholder,f=e.tabIndex,m=e.showSearch,g=e.searchValue,v=e.activeValue,y=e.maxLength,x=e.onInputKeyDown,b=e.onInputMouseDown,_=e.onInputChange,w=e.onInputPaste,k=e.onInputCompositionStart,S=e.onInputCompositionEnd,C=pe(t.useState(!1),2),E=C[0],T=C[1],M="combobox"===u,P=M||m,A=h[0],I=g||"";M&&v&&!E&&(I=v),t.useEffect((function(){M&&T(!1)}),[M,v]);var L=!("combobox"!==u&&!d&&!m)&&!!I,D=KC(A);return t.createElement(t.Fragment,null,t.createElement("span",{className:"".concat(i,"-selection-search")},t.createElement(XC,{ref:o,prefixCls:i,id:r,open:d,inputElement:n,disabled:a,autoFocus:s,autoComplete:l,editable:P,activeDescendantId:c,value:I,onKeyDown:x,onMouseDown:b,onChange:function(e){T(!0),_(e)},onPaste:w,onCompositionStart:k,onCompositionEnd:S,tabIndex:f,attrs:Kk(e,!0),maxLength:M?y:void 0})),!M&&A&&!L&&t.createElement("span",{className:"".concat(i,"-selection-item"),title:D},A.label),function(){if(A)return null;var e=L?{visibility:"hidden"}:void 0;return t.createElement("span",{className:"".concat(i,"-selection-placeholder"),style:e},p)}())};var eE=function(e,n){var i=(0,t.useRef)(null),r=(0,t.useRef)(!1),o=e.prefixCls,a=e.open,s=e.mode,l=e.showSearch,c=e.tokenWithEnter,u=e.autoClearSearchValue,d=e.onSearch,h=e.onSearchSubmit,f=e.onToggleOpen,m=e.onInputKeyDown,g=e.domRef;t.useImperativeHandle(n,(function(){return{focus:function(){i.current.focus()},blur:function(){i.current.blur()}}}));var v=pe(wC(0),2),y=v[0],x=v[1],b=(0,t.useRef)(null),_=function(e){!1!==d(e,!0,r.current)&&f(!0)},w={inputRef:i,onInputKeyDown:function(e){var t,n=e.which;n!==Gp.UP&&n!==Gp.DOWN||e.preventDefault(),m&&m(e),n!==Gp.ENTER||"tags"!==s||r.current||a||null===h||void 0===h||h(e.target.value),t=n,[Gp.ESC,Gp.SHIFT,Gp.BACKSPACE,Gp.TAB,Gp.WIN_KEY,Gp.ALT,Gp.META,Gp.WIN_KEY_RIGHT,Gp.CTRL,Gp.SEMICOLON,Gp.EQUALS,Gp.CAPS_LOCK,Gp.CONTEXT_MENU,Gp.F1,Gp.F2,Gp.F3,Gp.F4,Gp.F5,Gp.F6,Gp.F7,Gp.F8,Gp.F9,Gp.F10,Gp.F11,Gp.F12].includes(t)||f(!0)},onInputMouseDown:function(){x(!0)},onInputChange:function(e){var t=e.target.value;if(c&&b.current&&/[\r\n]/.test(b.current)){var n=b.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,b.current)}b.current=null,_(t)},onInputPaste:function(e){var t=e.clipboardData.getData("text");b.current=t},onInputCompositionStart:function(){r.current=!0},onInputCompositionEnd:function(e){r.current=!1,"combobox"!==s&&_(e.target.value)}},k="multiple"===s||"tags"===s?t.createElement(JC,p({},e,w)):t.createElement(QC,p({},e,w));return t.createElement("div",{ref:g,className:"".concat(o,"-selector"),onClick:function(e){e.target!==i.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){i.current.focus()})):i.current.focus())},onMouseDown:function(e){var t=y();e.target===i.current||t||"combobox"===s||e.preventDefault(),("combobox"===s||l&&t)&&a||(a&&!1!==u&&d("",!0,!1),f())}},k)},tE=t.forwardRef(eE);tE.displayName="Selector";var nE=tE,iE=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],rE=function(e,n){var i=e.prefixCls,r=(e.disabled,e.visible),o=e.children,a=e.popupElement,s=e.containerWidth,l=e.animation,c=e.transitionName,u=e.dropdownStyle,d=e.dropdownClassName,h=e.direction,f=void 0===h?"ltr":h,m=e.placement,g=e.dropdownMatchSelectWidth,v=e.dropdownRender,y=e.dropdownAlign,x=e.getPopupContainer,b=e.empty,_=e.getTriggerDOMNode,w=e.onPopupVisibleChange,k=e.onPopupMouseEnter,S=ln(e,iE),C="".concat(i,"-dropdown"),E=a;v&&(E=v(a));var T=t.useMemo((function(){return function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}}}}(g)}),[g]),M=l?"".concat(C,"-").concat(l):c,P=t.useRef(null);t.useImperativeHandle(n,(function(){return{getPopupElement:function(){return P.current}}}));var A=le({minWidth:s},u);return"number"===typeof g?A.width=g:g&&(A.width=s),t.createElement(nv,p({},S,{showAction:w?["click"]:[],hideAction:w?["click"]:[],popupPlacement:m||("rtl"===f?"bottomRight":"bottomLeft"),builtinPlacements:T,prefixCls:C,popupTransitionName:M,popup:t.createElement("div",{ref:P,onMouseEnter:k},E),popupAlign:y,popupVisible:r,getPopupContainer:x,popupClassName:wh()(d,ae({},"".concat(C,"-empty"),b)),popupStyle:A,getTriggerDOMNode:_,onPopupVisibleChange:w}),o)},oE=t.forwardRef(rE);oE.displayName="SelectTrigger";var aE=oE;function sE(e,t){var n,i=e.key;return"value"in e&&(n=e.value),null!==i&&void 0!==i?i:void 0!==n?n:"rc-index-key-".concat(t)}function lE(e,t){var n=e||{};return{label:n.label||(t?"children":"label"),value:n.value||"value",options:n.options||"options"}}function cE(e){var t=le({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return cp(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}var uE=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],dE=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function hE(e){return"tags"===e||"multiple"===e}var pE=t.forwardRef((function(e,n){var i,r,o=e.id,a=e.prefixCls,s=e.className,l=e.showSearch,c=e.tagRender,u=e.direction,d=e.omitDomProps,h=e.displayValues,f=e.onDisplayValuesChange,m=e.emptyOptions,g=e.notFoundContent,v=void 0===g?"Not Found":g,y=e.onClear,x=e.mode,b=e.disabled,_=e.loading,w=e.getInputElement,k=e.getRawInputElement,S=e.open,C=e.defaultOpen,E=e.onDropdownVisibleChange,T=e.activeValue,M=e.onActiveValueChange,P=e.activeDescendantId,A=e.searchValue,I=e.autoClearSearchValue,L=e.onSearch,D=e.onSearchSplit,O=e.tokenSeparators,R=e.allowClear,z=e.showArrow,F=e.inputIcon,B=e.clearIcon,N=e.OptionList,j=e.animation,V=e.transitionName,W=e.dropdownStyle,U=e.dropdownClassName,H=e.dropdownMatchSelectWidth,X=e.dropdownRender,G=e.dropdownAlign,Y=e.placement,q=e.getPopupContainer,K=e.showAction,$=void 0===K?[]:K,Z=e.onFocus,J=e.onBlur,Q=e.onKeyUp,ee=e.onKeyDown,ne=e.onMouseDown,ie=ln(e,uE),re=hE(x),oe=(void 0!==l?l:re)||"combobox"===x,se=le({},ie);dE.forEach((function(e){delete se[e]})),null===d||void 0===d||d.forEach((function(e){delete se[e]}));var ce=pe(t.useState(!1),2),ue=ce[0],de=ce[1];t.useEffect((function(){de(mf())}),[]);var he=t.useRef(null),fe=t.useRef(null),me=t.useRef(null),ge=t.useRef(null),ve=t.useRef(null),ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=pe(t.useState(!1),2),i=n[0],r=n[1],o=t.useRef(null),a=function(){window.clearTimeout(o.current)};return t.useEffect((function(){return a}),[]),[i,function(t,n){a(),o.current=window.setTimeout((function(){r(t),n&&n()}),e)},a]}(),xe=pe(ye,3),be=xe[0],_e=xe[1],we=xe[2];t.useImperativeHandle(n,(function(){var e,t;return{focus:null===(e=ge.current)||void 0===e?void 0:e.focus,blur:null===(t=ge.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=ve.current)||void 0===t?void 0:t.scrollTo(e)}}}));var ke=t.useMemo((function(){var e;if("combobox"!==x)return A;var t=null===(e=h[0])||void 0===e?void 0:e.value;return"string"===typeof t||"number"===typeof t?String(t):""}),[A,x,h]),Se="combobox"===x&&"function"===typeof w&&w()||null,Ce="function"===typeof k&&k(),Ee=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sf((function(){return cf.apply(void 0,t)}),t,(function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}))}(fe,null===Ce||void 0===Ce||null===(i=Ce.props)||void 0===i?void 0:i.ref),Te=pe(Hp(void 0,{defaultValue:C,value:S}),2),Me=Te[0],Pe=Te[1],Ae=Me,Ie=!v&&m;(b||Ie&&Ae&&"combobox"===x)&&(Ae=!1);var Le=!Ie&&Ae,De=t.useCallback((function(e){var t=void 0!==e?e:!Ae;b||(Pe(t),Ae!==t&&(null===E||void 0===E||E(t)))}),[b,Ae,Pe,E]),Oe=t.useMemo((function(){return(O||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[O]),Re=function(e,t,n){var i=!0,r=e;null===M||void 0===M||M(null);var o=n?null:function(e,t){if(!t||!t.length)return null;var n=!1,i=function e(t,i){var r=Fe(i),o=r[0],a=r.slice(1);if(!o)return[t];var s=t.split(o);return n=n||s.length>1,s.reduce((function(t,n){return[].concat(Ne(t),Ne(e(n,a)))}),[]).filter((function(e){return e}))}(e,t);return n?i:null}(e,O);return"combobox"!==x&&o&&(r="",null===D||void 0===D||D(o),De(!1),i=!1),L&&ke!==r&&L(r,{source:t?"typing":"effect"}),i};t.useEffect((function(){Ae||re||"combobox"===x||Re("",!1,!1)}),[Ae]),t.useEffect((function(){Me&&b&&Pe(!1),b&&_e(!1)}),[b]);var ze=pe(wC(),2),Be=ze[0],je=ze[1],Ve=t.useRef(!1),We=[];t.useEffect((function(){return function(){We.forEach((function(e){return clearTimeout(e)})),We.splice(0,We.length)}}),[]);var Ue,He=pe(t.useState(null),2),Xe=He[0],Ge=He[1],Ye=pe(t.useState({}),2)[1];jp((function(){if(Le){var e,t=Math.ceil(null===(e=he.current)||void 0===e?void 0:e.offsetWidth);Xe===t||Number.isNaN(t)||Ge(t)}}),[Le]),Ce&&(Ue=function(e){De(e)}),function(e,n,i,r){var o=t.useRef(null);o.current={open:n,triggerOpen:i,customizedTrigger:r},t.useEffect((function(){function t(t){var n;if(null===(n=o.current)||void 0===n||!n.customizedTrigger){var i=t.target;i.shadowRoot&&t.composed&&(i=t.composedPath()[0]||i),o.current.open&&e().filter((function(e){return e})).every((function(e){return!e.contains(i)&&e!==i}))&&o.current.triggerOpen(!1)}}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}}),[])}((function(){var e;return[he.current,null===(e=me.current)||void 0===e?void 0:e.getPopupElement()]}),Le,De,!!Ce);var qe,Ke,$e=t.useMemo((function(){return le(le({},e),{},{notFoundContent:v,open:Ae,triggerOpen:Le,id:o,showSearch:oe,multiple:re,toggleOpen:De})}),[e,v,Le,Ae,o,oe,re,De]),Ze=void 0!==z?z:_||!re&&"combobox"!==x;Ze&&(qe=t.createElement(WC,{className:wh()("".concat(a,"-arrow"),ae({},"".concat(a,"-arrow-loading"),_)),customizeIcon:F,customizeIconProps:{loading:_,searchValue:ke,open:Ae,focused:be,showSearch:oe}}));b||!R||!h.length&&!ke||"combobox"===x&&""===ke||(Ke=t.createElement(WC,{className:"".concat(a,"-clear"),onMouseDown:function(){var e;null===y||void 0===y||y(),null===(e=ge.current)||void 0===e||e.focus(),f([],{type:"clear",values:h}),Re("",!1,!1)},customizeIcon:B},"\xd7"));var Je,Qe=t.createElement(N,{ref:ve}),et=wh()(a,s,(ae(r={},"".concat(a,"-focused"),be),ae(r,"".concat(a,"-multiple"),re),ae(r,"".concat(a,"-single"),!re),ae(r,"".concat(a,"-allow-clear"),R),ae(r,"".concat(a,"-show-arrow"),Ze),ae(r,"".concat(a,"-disabled"),b),ae(r,"".concat(a,"-loading"),_),ae(r,"".concat(a,"-open"),Ae),ae(r,"".concat(a,"-customize-input"),Se),ae(r,"".concat(a,"-show-search"),oe),r)),tt=t.createElement(aE,{ref:me,disabled:b,prefixCls:a,visible:Le,popupElement:Qe,containerWidth:Xe,animation:j,transitionName:V,dropdownStyle:W,dropdownClassName:U,direction:u,dropdownMatchSelectWidth:H,dropdownRender:X,dropdownAlign:G,placement:Y,getPopupContainer:q,empty:m,getTriggerDOMNode:function(){return fe.current},onPopupVisibleChange:Ue,onPopupMouseEnter:function(){Ye({})}},Ce?t.cloneElement(Ce,{ref:Ee}):t.createElement(nE,p({},e,{domRef:fe,prefixCls:a,inputElement:Se,ref:ge,id:o,showSearch:oe,autoClearSearchValue:I,mode:x,activeDescendantId:P,tagRender:c,values:h,open:Ae,onToggleOpen:De,activeValue:T,searchValue:ke,onSearch:Re,onSearchSubmit:function(e){e&&e.trim()&&L(e,{source:"submit"})},onRemove:function(e){var t=h.filter((function(t){return t!==e}));f(t,{type:"remove",values:[e]})},tokenWithEnter:Oe})));return Je=Ce?tt:t.createElement("div",p({className:et},se,{ref:he,onMouseDown:function(e){var t,n=e.target,i=null===(t=me.current)||void 0===t?void 0:t.getPopupElement();if(i&&i.contains(n)){var r=setTimeout((function(){var e,t=We.indexOf(r);-1!==t&&We.splice(t,1),we(),ue||i.contains(document.activeElement)||null===(e=ge.current)||void 0===e||e.focus()}));We.push(r)}for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];null===ne||void 0===ne||ne.apply(void 0,[e].concat(a))},onKeyDown:function(e){var t,n=Be(),i=e.which;if(i===Gp.ENTER&&("combobox"!==x&&e.preventDefault(),Ae||De(!0)),je(!!ke),i===Gp.BACKSPACE&&!n&&re&&!ke&&h.length){for(var r=Ne(h),o=null,a=r.length-1;a>=0;a-=1){var s=r[a];if(!s.disabled){r.splice(a,1),o=s;break}}o&&f(r,{type:"remove",values:[o]})}for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];Ae&&ve.current&&(t=ve.current).onKeyDown.apply(t,[e].concat(c)),null===ee||void 0===ee||ee.apply(void 0,[e].concat(c))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r;Ae&&ve.current&&(r=ve.current).onKeyUp.apply(r,[e].concat(n)),null===Q||void 0===Q||Q.apply(void 0,[e].concat(n))},onFocus:function(){_e(!0),b||(Z&&!Ve.current&&Z.apply(void 0,arguments),$.includes("focus")&&De(!0)),Ve.current=!0},onBlur:function(){_e(!1,(function(){Ve.current=!1,De(!1)})),b||(ke&&("tags"===x?L(ke,{source:"submit"}):"multiple"===x&&L("",{source:"blur"})),J&&J.apply(void 0,arguments))}}),be&&!Ae&&t.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(h.map((function(e){var t=e.label,n=e.value;return["number","string"].includes(te(t))?t:n})).join(", "))),tt,qe,Ke),t.createElement(_C.Provider,{value:$e},Je)}));var fE=pE;function mE(e,t){return GC(e).join("").toUpperCase().includes(t)}var gE=0,vE=up();function yE(e){var n=pe(t.useState(),2),i=n[0],r=n[1];return t.useEffect((function(){r("rc_select_".concat(function(){var e;return vE?(e=gE,gE+=1):e="TEST_OR_SSR",e}()))}),[]),e||i}var xE=["children","value"],bE=["children"];function _E(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return cb(e).map((function(e,i){if(!t.isValidElement(e)||!e.type)return null;var r=e,o=r.type.isSelectOptGroup,a=r.key,s=r.props,l=s.children,c=ln(s,bE);return n||!o?function(e){var t=e,n=t.key,i=t.props,r=i.children,o=i.value;return le({key:n,value:void 0!==o?o:n,children:r},ln(i,xE))}(e):le(le({key:"__RC_SELECT_GRP__".concat(null===a?i:a,"__"),label:a},c),{},{options:_E(l)})})).filter((function(e){return e}))}function wE(e){var n=t.useRef();n.current=e;var i=t.useCallback((function(){return n.current.apply(n,arguments)}),[]);return i}var kE=function(){return null};kE.isSelectOptGroup=!0;var SE=kE,CE=function(){return null};CE.isSelectOption=!0;var EE=CE,TE=t.forwardRef((function(e,n){var i=e.height,r=e.offset,o=e.children,a=e.prefixCls,s=e.onInnerResize,l=e.innerProps,c={},u={display:"flex",flexDirection:"column"};return void 0!==r&&(c={height:i,position:"relative",overflow:"hidden"},u=le(le({},u),{},{transform:"translateY(".concat(r,"px)"),position:"absolute",left:0,right:0,top:0})),t.createElement("div",{style:c},t.createElement(Nk,{onResize:function(e){e.offsetHeight&&s&&s()}},t.createElement("div",p({style:u,className:wh()(ae({},"".concat(a,"-holder-inner"),a)),ref:n},l),o)))}));TE.displayName="Filler";var ME=TE,PE=20;function AE(e){return"touches"in e?e.touches[0].pageY:e.pageY}var IE=function(e){Pe(i,e);var n=De(i);function i(){var e;Ce(this,i);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).moveRaf=null,e.scrollbarRef=t.createRef(),e.thumbRef=t.createRef(),e.visibleTimeout=null,e.state={dragging:!1,pageY:null,startTop:null,visible:!1},e.delayHidden=function(){clearTimeout(e.visibleTimeout),e.setState({visible:!0}),e.visibleTimeout=setTimeout((function(){e.setState({visible:!1})}),2e3)},e.onScrollbarTouchStart=function(e){e.preventDefault()},e.onContainerMouseDown=function(e){e.stopPropagation(),e.preventDefault()},e.patchEvents=function(){window.addEventListener("mousemove",e.onMouseMove),window.addEventListener("mouseup",e.onMouseUp),e.thumbRef.current.addEventListener("touchmove",e.onMouseMove),e.thumbRef.current.addEventListener("touchend",e.onMouseUp)},e.removeEvents=function(){var t;window.removeEventListener("mousemove",e.onMouseMove),window.removeEventListener("mouseup",e.onMouseUp),null===(t=e.scrollbarRef.current)||void 0===t||t.removeEventListener("touchstart",e.onScrollbarTouchStart),e.thumbRef.current&&(e.thumbRef.current.removeEventListener("touchstart",e.onMouseDown),e.thumbRef.current.removeEventListener("touchmove",e.onMouseMove),e.thumbRef.current.removeEventListener("touchend",e.onMouseUp)),rf.cancel(e.moveRaf)},e.onMouseDown=function(t){var n=e.props.onStartMove;e.setState({dragging:!0,pageY:AE(t),startTop:e.getTop()}),n(),e.patchEvents(),t.stopPropagation(),t.preventDefault()},e.onMouseMove=function(t){var n=e.state,i=n.dragging,r=n.pageY,o=n.startTop,a=e.props.onScroll;if(rf.cancel(e.moveRaf),i){var s=o+(AE(t)-r),l=e.getEnableScrollRange(),c=e.getEnableHeightRange(),u=c?s/c:0,d=Math.ceil(u*l);e.moveRaf=rf((function(){a(d)}))}},e.onMouseUp=function(){var t=e.props.onStopMove;e.setState({dragging:!1}),t(),e.removeEvents()},e.getSpinHeight=function(){var t=e.props,n=t.height,i=n/t.count*10;return i=Math.max(i,PE),i=Math.min(i,n/2),Math.floor(i)},e.getEnableScrollRange=function(){var t=e.props;return t.scrollHeight-t.height||0},e.getEnableHeightRange=function(){return e.props.height-e.getSpinHeight()||0},e.getTop=function(){var t=e.props.scrollTop,n=e.getEnableScrollRange(),i=e.getEnableHeightRange();return 0===t||0===n?0:t/n*i},e.showScroll=function(){var t=e.props,n=t.height;return t.scrollHeight>n},e}return Te(i,[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(e){e.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var e=this.state,n=e.dragging,i=e.visible,r=this.props.prefixCls,o=this.getSpinHeight(),a=this.getTop(),s=this.showScroll(),l=s&&i;return t.createElement("div",{ref:this.scrollbarRef,className:wh()("".concat(r,"-scrollbar"),ae({},"".concat(r,"-scrollbar-show"),s)),style:{width:8,top:0,bottom:0,right:0,position:"absolute",display:l?null:"none"},onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},t.createElement("div",{ref:this.thumbRef,className:wh()("".concat(r,"-scrollbar-thumb"),ae({},"".concat(r,"-scrollbar-thumb-moving"),n)),style:{width:"100%",height:o,top:a,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}]),i}(t.Component);function LE(e){var n=e.children,i=e.setRef,r=t.useCallback((function(e){i(e)}),[]);return t.cloneElement(n,{ref:r})}var DE=function(){function e(){Ce(this,e),this.maps=void 0,this.maps=Object.create(null)}return Te(e,[{key:"set",value:function(e,t){this.maps[e]=t}},{key:"get",value:function(e){return this.maps[e]}}]),e}(),OE=DE;function RE(e,n,i){var r=pe(t.useState(e),2),o=r[0],a=r[1],s=pe(t.useState(null),2),l=s[0],c=s[1];return t.useEffect((function(){var t=function(e,t,n){var i,r,o=e.length,a=t.length;if(0===o&&0===a)return null;o<a?(i=e,r=t):(i=t,r=e);var s={__EMPTY_ITEM__:!0};function l(e){return void 0!==e?n(e):s}for(var c=null,u=1!==Math.abs(o-a),d=0;d<r.length;d+=1){var h=l(i[d]);if(h!==l(r[d])){c=d,u=u||h!==l(r[d+1]);break}}return null===c?null:{index:c,multiple:u}}(o||[],e||[],n);void 0!==(null===t||void 0===t?void 0:t.index)&&(null===i||void 0===i||i(t.index),c(e[t.index])),a(e)}),[e]),[l]}var zE="object"===("undefined"===typeof navigator?"undefined":te(navigator))&&/Firefox/i.test(navigator.userAgent),FE=function(e,n){var i=(0,t.useRef)(!1),r=(0,t.useRef)(null);var o=(0,t.useRef)({top:e,bottom:n});return o.current.top=e,o.current.bottom=n,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e<0&&o.current.top||e>0&&o.current.bottom;return t&&n?(clearTimeout(r.current),i.current=!1):n&&!i.current||(clearTimeout(r.current),i.current=!0,r.current=setTimeout((function(){i.current=!1}),50)),!i.current&&n}};var BE=14/15;var NE=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","component","onScroll","onVisibleChange","innerProps"],jE=[],VE={overflowY:"auto",overflowAnchor:"none"};function WE(e,n){var i=e.prefixCls,r=void 0===i?"rc-virtual-list":i,o=e.className,a=e.height,s=e.itemHeight,l=e.fullHeight,c=void 0===l||l,u=e.style,d=e.data,h=e.children,f=e.itemKey,m=e.virtual,g=e.component,v=void 0===g?"div":g,y=e.onScroll,x=e.onVisibleChange,b=e.innerProps,_=ln(e,NE),w=!(!1===m||!a||!s),k=w&&d&&s*d.length>a,S=pe((0,t.useState)(0),2),C=S[0],E=S[1],T=pe((0,t.useState)(!1),2),M=T[0],P=T[1],A=wh()(r,o),I=d||jE,L=(0,t.useRef)(),D=(0,t.useRef)(),O=(0,t.useRef)(),R=t.useCallback((function(e){return"function"===typeof f?f(e):null===e||void 0===e?void 0:e[f]}),[f]),z={getKey:R};function F(e){E((function(t){var n=function(e){var t=e;Number.isNaN(Q.current)||(t=Math.min(t,Q.current));return t=Math.max(t,0),t}("function"===typeof e?e(t):e);return L.current.scrollTop=n,n}))}var B=(0,t.useRef)({start:0,end:I.length}),N=(0,t.useRef)(),j=pe(RE(I,R),1)[0];N.current=j;var V=function(e,n,i){var r=pe(t.useState(0),2),o=r[0],a=r[1],s=(0,t.useRef)(new Map),l=(0,t.useRef)(new OE),c=(0,t.useRef)();function u(){rf.cancel(c.current)}function d(){u(),c.current=rf((function(){s.current.forEach((function(e,t){if(e&&e.offsetParent){var n=of(e),i=n.offsetHeight;l.current.get(t)!==i&&l.current.set(t,n.offsetHeight)}})),a((function(e){return e+1}))}))}return(0,t.useEffect)((function(){return u}),[]),[function(t,r){var o=e(t),a=s.current.get(o);r?(s.current.set(o,r),d()):s.current.delete(o),!a!==!r&&(r?null===n||void 0===n||n(t):null===i||void 0===i||i(t))},d,l.current,o]}(R,null,null),W=pe(V,4),U=W[0],H=W[1],X=W[2],G=W[3],Y=t.useMemo((function(){if(!w)return{scrollHeight:void 0,start:0,end:I.length-1,offset:void 0};var e;if(!k)return{scrollHeight:(null===(e=D.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:I.length-1,offset:void 0};for(var t,n,i,r=0,o=I.length,l=0;l<o;l+=1){var c=I[l],u=R(c),d=X.get(u),h=r+(void 0===d?s:d);h>=C&&void 0===t&&(t=l,n=r),h>C+a&&void 0===i&&(i=l),r=h}return void 0===t&&(t=0,n=0,i=Math.ceil(a/s)),void 0===i&&(i=I.length-1),{scrollHeight:r,start:t,end:i=Math.min(i+1,I.length),offset:n}}),[k,w,C,I,G,a]),q=Y.scrollHeight,K=Y.start,$=Y.end,Z=Y.offset;B.current.start=K,B.current.end=$;var J=q-a,Q=(0,t.useRef)(J);Q.current=J;var ee=C<=0,ne=C>=J,ie=FE(ee,ne);var re=function(e,n,i,r){var o=(0,t.useRef)(0),a=(0,t.useRef)(null),s=(0,t.useRef)(null),l=(0,t.useRef)(!1),c=FE(n,i);return[function(t){if(e){rf.cancel(a.current);var n=t.deltaY;o.current+=n,s.current=n,c(n)||(zE||t.preventDefault(),a.current=rf((function(){var e=l.current?10:1;r(o.current*e),o.current=0})))}},function(t){e&&(l.current=t.detail===s.current)}]}(w,ee,ne,(function(e){F((function(t){return t+e}))})),oe=pe(re,2),se=oe[0],ce=oe[1];!function(e,n,i){var r,o=(0,t.useRef)(!1),a=(0,t.useRef)(0),s=(0,t.useRef)(null),l=(0,t.useRef)(null),c=function(e){if(o.current){var t=Math.ceil(e.touches[0].pageY),n=a.current-t;a.current=t,i(n)&&e.preventDefault(),clearInterval(l.current),l.current=setInterval((function(){(!i(n*=BE,!0)||Math.abs(n)<=.1)&&clearInterval(l.current)}),16)}},u=function(){o.current=!1,r()},d=function(e){r(),1!==e.touches.length||o.current||(o.current=!0,a.current=Math.ceil(e.touches[0].pageY),s.current=e.target,s.current.addEventListener("touchmove",c),s.current.addEventListener("touchend",u))};r=function(){s.current&&(s.current.removeEventListener("touchmove",c),s.current.removeEventListener("touchend",u))},jp((function(){return e&&n.current.addEventListener("touchstart",d),function(){var e;null===(e=n.current)||void 0===e||e.removeEventListener("touchstart",d),r(),clearInterval(l.current)}}),[e])}(w,L,(function(e,t){return!ie(e,t)&&(se({preventDefault:function(){},deltaY:e}),!0)})),jp((function(){function e(e){w&&e.preventDefault()}return L.current.addEventListener("wheel",se),L.current.addEventListener("DOMMouseScroll",ce),L.current.addEventListener("MozMousePixelScroll",e),function(){L.current&&(L.current.removeEventListener("wheel",se),L.current.removeEventListener("DOMMouseScroll",ce),L.current.removeEventListener("MozMousePixelScroll",e))}}),[w]);var ue=function(e,n,i,r,o,a,s,l){var c=t.useRef();return function(t){if(null!==t&&void 0!==t){if(rf.cancel(c.current),"number"===typeof t)s(t);else if(t&&"object"===te(t)){var u,d=t.align;u="index"in t?t.index:n.findIndex((function(e){return o(e)===t.key}));var h=t.offset,p=void 0===h?0:h;!function t(l,h){if(!(l<0)&&e.current){var f=e.current.clientHeight,m=!1,g=h;if(f){for(var v=h||d,y=0,x=0,b=0,_=Math.min(n.length,u),w=0;w<=_;w+=1){var k=o(n[w]);x=y;var S=i.get(k);y=b=x+(void 0===S?r:S),w===u&&void 0===S&&(m=!0)}var C=null;switch(v){case"top":C=x-p;break;case"bottom":C=b-f+p;break;default:var E=e.current.scrollTop;x<E?g="top":b>E+f&&(g="bottom")}null!==C&&C!==e.current.scrollTop&&s(C)}c.current=rf((function(){m&&a(),t(l-1,g)}),2)}}(3)}}else l()}}(L,I,X,s,R,H,F,(function(){var e;null===(e=O.current)||void 0===e||e.delayHidden()}));t.useImperativeHandle(n,(function(){return{scrollTo:ue}})),jp((function(){if(x){var e=I.slice(K,$+1);x(e,I)}}),[K,$,I]);var de=function(e,n,i,r,o,a){var s=a.getKey;return e.slice(n,i+1).map((function(e,i){var a=o(e,n+i,{}),l=s(e);return t.createElement(LE,{key:l,setRef:function(t){return r(e,t)}},a)}))}(I,K,$,U,h,z),he=null;return a&&(he=le(ae({},c?"height":"maxHeight",a),VE),w&&(he.overflowY="hidden",M&&(he.pointerEvents="none"))),t.createElement("div",p({style:le(le({},u),{},{position:"relative"}),className:A},_),t.createElement(v,{className:"".concat(r,"-holder"),style:he,ref:L,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==C&&F(t),null===y||void 0===y||y(e)}},t.createElement(ME,{prefixCls:r,height:q,offset:Z,onInnerResize:H,ref:D,innerProps:b},de)),w&&t.createElement(IE,{ref:O,prefixCls:r,scrollTop:C,height:a,scrollHeight:q,count:I.length,onScroll:function(e){F(e)},onStartMove:function(){P(!0)},onStopMove:function(){P(!1)}}))}var UE=t.forwardRef(WE);UE.displayName="List";var HE=UE,XE=t.createContext(null);var GE=["disabled","title","children","style","className"];function YE(e){return"string"===typeof e||"number"===typeof e}var qE=function(e,n){var i=t.useContext(_C),r=i.prefixCls,o=i.id,a=i.open,s=i.multiple,l=i.mode,c=i.searchValue,u=i.toggleOpen,d=i.notFoundContent,h=i.onPopupScroll,f=t.useContext(XE),m=f.flattenOptions,g=f.onActiveValue,v=f.defaultActiveFirstOption,y=f.onSelect,x=f.menuItemSelectedIcon,b=f.rawValues,_=f.fieldNames,w=f.virtual,k=f.listHeight,S=f.listItemHeight,C="".concat(r,"-item"),E=sf((function(){return m}),[a,m],(function(e,t){return t[0]&&e[1]!==t[1]})),T=t.useRef(null),M=function(e){e.preventDefault()},P=function(e){T.current&&T.current.scrollTo("number"===typeof e?{index:e}:e)},A=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=E.length,i=0;i<n;i+=1){var r=(e+i*t+n)%n,o=E[r],a=o.group,s=o.data;if(!a&&!s.disabled)return r}return-1},I=pe(t.useState((function(){return A(0)})),2),L=I[0],D=I[1],O=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];D(e);var n={source:t?"keyboard":"mouse"},i=E[e];i?g(i.value,e,n):g(null,-1,n)};(0,t.useEffect)((function(){O(!1!==v?A(0):-1)}),[E.length,c]);var R=t.useCallback((function(e){return b.has(e)&&"combobox"!==l}),[l,Ne(b).toString(),b.size]);(0,t.useEffect)((function(){var e,t=setTimeout((function(){if(!s&&a&&1===b.size){var e=Array.from(b)[0],t=E.findIndex((function(t){return t.data.value===e}));-1!==t&&(O(t),P(t))}}));a&&(null===(e=T.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}}),[a,c]);var z=function(e){void 0!==e&&y(e,{selected:!b.has(e)}),s||u(!1)};if(t.useImperativeHandle(n,(function(){return{onKeyDown:function(e){var t=e.which,n=e.ctrlKey;switch(t){case Gp.N:case Gp.P:case Gp.UP:case Gp.DOWN:var i=0;if(t===Gp.UP?i=-1:t===Gp.DOWN?i=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===Gp.N?i=1:t===Gp.P&&(i=-1)),0!==i){var r=A(L+i,i);P(r),O(r,!0)}break;case Gp.ENTER:var o=E[L];o&&!o.data.disabled?z(o.value):z(void 0),a&&e.preventDefault();break;case Gp.ESC:u(!1),a&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){P(e)}}})),0===E.length)return t.createElement("div",{role:"listbox",id:"".concat(o,"_list"),className:"".concat(C,"-empty"),onMouseDown:M},d);var F=Object.keys(_).map((function(e){return _[e]})),B=function(e){return e.label};function N(e,t){return{role:e.group?"presentation":"option",id:"".concat(o,"_list_").concat(t)}}var j=function(e){var n=E[e];if(!n)return null;var i=n.data||{},r=i.value,o=n.group,a=Kk(i,!0),s=B(n);return n?t.createElement("div",p({"aria-label":"string"!==typeof s||o?null:s},a,{key:e},N(n,e),{"aria-selected":R(r)}),r):null},V={role:"listbox",id:"".concat(o,"_list")};return t.createElement(t.Fragment,null,w&&t.createElement("div",p({},V,{style:{height:0,width:0,overflow:"hidden"}}),j(L-1),j(L),j(L+1)),t.createElement(HE,{itemKey:"key",ref:T,data:E,height:k,itemHeight:S,fullHeight:!1,onMouseDown:M,onScroll:h,virtual:w,innerProps:w?null:V},(function(e,n){var i,r=e.group,o=e.groupOption,a=e.data,s=e.label,l=e.value,c=a.key;if(r){var u,d=null!==(u=a.title)&&void 0!==u?u:YE(s)?s.toString():void 0;return t.createElement("div",{className:wh()(C,"".concat(C,"-group")),title:d},void 0!==s?s:c)}var h=a.disabled,f=a.title,m=(a.children,a.style),g=a.className,v=Yp(ln(a,GE),F),y=R(l),b="".concat(C,"-option"),_=wh()(C,b,g,(ae(i={},"".concat(b,"-grouped"),o),ae(i,"".concat(b,"-active"),L===n&&!h),ae(i,"".concat(b,"-disabled"),h),ae(i,"".concat(b,"-selected"),y),i)),k=B(e),S=!x||"function"===typeof x||y,E="number"===typeof k?k:k||l,T=YE(E)?E.toString():void 0;return void 0!==f&&(T=f),t.createElement("div",p({},Kk(v),w?{}:N(e,n),{"aria-selected":y,className:_,title:T,onMouseMove:function(){L===n||h||O(n)},onClick:function(){h||z(l)},style:m}),t.createElement("div",{className:"".concat(b,"-content")},E),t.isValidElement(x)||y,S&&t.createElement(WC,{className:"".concat(C,"-option-state"),customizeIcon:x,customizeIconProps:{isSelected:y}},y?"\u2713":null))})))},KE=t.forwardRef(qE);KE.displayName="OptionList";var $E=KE;var ZE=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],JE=["inputValue"];var QE=t.forwardRef((function(e,n){var i=e.id,r=e.mode,o=e.prefixCls,a=void 0===o?"rc-select":o,s=e.backfill,l=e.fieldNames,c=e.inputValue,u=e.searchValue,d=e.onSearch,h=e.autoClearSearchValue,f=void 0===h||h,m=e.onSelect,g=e.onDeselect,v=e.dropdownMatchSelectWidth,y=void 0===v||v,x=e.filterOption,b=e.filterSort,_=e.optionFilterProp,w=e.optionLabelProp,k=e.options,S=e.children,C=e.defaultActiveFirstOption,E=e.menuItemSelectedIcon,T=e.virtual,M=e.listHeight,P=void 0===M?200:M,A=e.listItemHeight,I=void 0===A?20:A,L=e.value,D=e.defaultValue,O=e.labelInValue,R=e.onChange,z=ln(e,ZE),F=yE(i),B=hE(r),N=!(k||!S),j=t.useMemo((function(){return(void 0!==x||"combobox"!==r)&&x}),[x,r]),V=t.useMemo((function(){return lE(l,N)}),[JSON.stringify(l),N]),W=pe(Hp("",{value:void 0!==u?u:c,postState:function(e){return e||""}}),2),U=W[0],H=W[1],X=function(e,n,i,r,o){return t.useMemo((function(){var t=e;!e&&(t=_E(n));var a=new Map,s=new Map,l=function(e,t,n){n&&"string"===typeof n&&e.set(t[n],t)};return function e(t){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=0;c<t.length;c+=1){var u=t[c];!u[i.options]||n?(a.set(u[i.value],u),l(s,u,i.label),l(s,u,r),l(s,u,o)):e(u[i.options],!0)}}(t),{options:t,valueOptions:a,labelOptions:s}}),[e,n,i,r,o])}(k,S,V,_,w),G=X.valueOptions,Y=X.labelOptions,q=X.options,K=t.useCallback((function(e){return GC(e).map((function(e){var t,n,i,r,o,a;(function(e){return!e||"object"!==te(e)})(e)?t=e:(i=e.key,n=e.label,t=null!==(a=e.value)&&void 0!==a?a:i);var s,l=G.get(t);l&&(void 0===n&&(n=null===l||void 0===l?void 0:l[w||V.label]),void 0===i&&(i=null!==(s=null===l||void 0===l?void 0:l.key)&&void 0!==s?s:t),r=null===l||void 0===l?void 0:l.disabled,o=null===l||void 0===l?void 0:l.title);return{label:n,value:t,key:i,disabled:r,title:o}}))}),[V,w,G]),$=pe(Hp(D,{value:L}),2),Z=$[0],J=$[1],Q=function(e,n){var i=t.useRef({values:new Map,options:new Map});return[t.useMemo((function(){var t=i.current,r=t.values,o=t.options,a=e.map((function(e){var t;return void 0===e.label?le(le({},e),{},{label:null===(t=r.get(e.value))||void 0===t?void 0:t.label}):e})),s=new Map,l=new Map;return a.forEach((function(e){s.set(e.value,e),l.set(e.value,n.get(e.value)||o.get(e.value))})),i.current.values=s,i.current.options=l,a}),[e,n]),t.useCallback((function(e){return n.get(e)||i.current.options.get(e)}),[n])]}(t.useMemo((function(){var e,t=K(Z);return"combobox"!==r||null!==(e=t[0])&&void 0!==e&&e.value?t:[]}),[Z,K,r]),G),ee=pe(Q,2),ne=ee[0],ie=ee[1],re=t.useMemo((function(){if(!r&&1===ne.length){var e=ne[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return ne.map((function(e){var t;return le(le({},e),{},{label:null!==(t=e.label)&&void 0!==t?t:e.value})}))}),[r,ne]),oe=t.useMemo((function(){return new Set(ne.map((function(e){return e.value})))}),[ne]);t.useEffect((function(){if("combobox"===r){var e,t=null===(e=ne[0])||void 0===e?void 0:e.value;H(function(e){return void 0!==e&&null!==e}(t)?String(t):"")}}),[ne]);var se=wE((function(e,t){var n,i=null!==t&&void 0!==t?t:e;return ae(n={},V.value,e),ae(n,V.label,i),n})),ce=t.useMemo((function(){if("tags"!==r)return q;var e=Ne(q);return Ne(ne).sort((function(e,t){return e.value<t.value?-1:1})).forEach((function(t){var n=t.value;(function(e){return G.has(e)})(n)||e.push(se(n,t.label))})),e}),[se,q,G,ne,r]),ue=function(e,n,i,r,o){return t.useMemo((function(){if(!i||!1===r)return e;var t=n.options,a=n.label,s=n.value,l=[],c="function"===typeof r,u=i.toUpperCase(),d=c?r:function(e,n){return o?mE(n[o],u):n[t]?mE(n["children"!==a?a:"label"],u):mE(n[s],u)},h=c?function(e){return cE(e)}:function(e){return e};return e.forEach((function(e){if(e[t])if(d(i,h(e)))l.push(e);else{var n=e[t].filter((function(e){return d(i,h(e))}));n.length&&l.push(le(le({},e),{},ae({},t,n)))}else d(i,h(e))&&l.push(e)})),l}),[e,r,o,i,n])}(ce,V,U,j,_),de=t.useMemo((function(){return"tags"!==r||!U||ue.some((function(e){return e[_||"value"]===U}))?ue:[se(U)].concat(Ne(ue))}),[se,_,r,ue,U]),he=t.useMemo((function(){return b?Ne(de).sort((function(e,t){return b(e,t)})):de}),[de,b]),fe=t.useMemo((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,i=t.childrenAsData,r=[],o=lE(n,!1),a=o.label,s=o.value,l=o.options;return function e(t,n){t.forEach((function(t){var o=t[a];if(n||!(l in t)){var c=t[s];r.push({key:sE(t,r.length),groupOption:n,data:t,label:o,value:c})}else{var u=o;void 0===u&&i&&(u=t.label),r.push({key:sE(t,r.length),group:!0,data:t,label:u}),e(t[l],!0)}}))}(e,!1),r}(he,{fieldNames:V,childrenAsData:N})}),[he,V,N]),me=function(e){var t=K(e);if(J(t),R&&(t.length!==ne.length||t.some((function(e,t){var n;return(null===(n=ne[t])||void 0===n?void 0:n.value)!==(null===e||void 0===e?void 0:e.value)})))){var n=O?t:t.map((function(e){return e.value})),i=t.map((function(e){return cE(ie(e.value))}));R(B?n:n[0],B?i:i[0])}},ge=pe(t.useState(null),2),ve=ge[0],ye=ge[1],xe=pe(t.useState(0),2),be=xe[0],_e=xe[1],we=void 0!==C?C:"combobox"!==r,ke=t.useCallback((function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).source,i=void 0===n?"keyboard":n;_e(t),s&&"combobox"===r&&null!==e&&"keyboard"===i&&ye(String(e))}),[s,r]),Se=function(e,t,n){var i=function(){var t,n=ie(e);return[O?{label:null===n||void 0===n?void 0:n[V.label],value:e,key:null!==(t=null===n||void 0===n?void 0:n.key)&&void 0!==t?t:e}:e,cE(n)]};if(t&&m){var r=pe(i(),2),o=r[0],a=r[1];m(o,a)}else if(!t&&g&&"clear"!==n){var s=pe(i(),2),l=s[0],c=s[1];g(l,c)}},Ce=wE((function(e,t){var n,i=!B||t.selected;n=i?B?[].concat(Ne(ne),[e]):[e]:ne.filter((function(t){return t.value!==e})),me(n),Se(e,i),"combobox"===r?ye(""):hE&&!f||(H(""),ye(""))})),Ee=t.useMemo((function(){var e=!1!==T&&!1!==y;return le(le({},X),{},{flattenOptions:fe,onActiveValue:ke,defaultActiveFirstOption:we,onSelect:Ce,menuItemSelectedIcon:E,rawValues:oe,fieldNames:V,virtual:e,listHeight:P,listItemHeight:I,childrenAsData:N})}),[X,fe,ke,we,Ce,E,oe,V,T,y,P,I,N]);return t.createElement(XE.Provider,{value:Ee},t.createElement(fE,p({},z,{id:F,prefixCls:a,ref:n,omitDomProps:JE,mode:r,displayValues:re,onDisplayValuesChange:function(e,t){me(e);var n=t.type,i=t.values;"remove"!==n&&"clear"!==n||i.forEach((function(e){Se(e.value,!1,n)}))},searchValue:U,onSearch:function(e,t){if(H(e),ye(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===r&&me(e),null===d||void 0===d||d(e));else{var n=(e||"").trim();if(n){var i=Array.from(new Set([].concat(Ne(oe),[n])));me(i),Se(n,!0),H("")}}},autoClearSearchValue:f,onSearchSplit:function(e){var t=e;"tags"!==r&&(t=e.map((function(e){var t=Y.get(e);return null===t||void 0===t?void 0:t.value})).filter((function(e){return void 0!==e})));var n=Array.from(new Set([].concat(Ne(oe),Ne(t))));me(n),n.forEach((function(e){Se(e,!0)}))},dropdownMatchSelectWidth:y,OptionList:$E,emptyOptions:!fe.length,activeValue:ve,activeDescendantId:"".concat(F,"_list_").concat(be)})))}));var eT=QE;eT.Option=EE,eT.OptGroup=SE;var tT=eT,nT=t.createContext({}),iT=function(e){var n=e.children,i=e.status,r=e.override,o=(0,t.useContext)(nT),a=(0,t.useMemo)((function(){var e=Object.assign({},o);return r&&delete e.isFormItemInput,i&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[i,r,o]);return t.createElement(nT.Provider,{value:a},n)};function rT(e,t,n){var i;return wh()((ae(i={},"".concat(e,"-status-success"),"success"===t),ae(i,"".concat(e,"-status-warning"),"warning"===t),ae(i,"".concat(e,"-status-error"),"error"===t),ae(i,"".concat(e,"-status-validating"),"validating"===t),ae(i,"".concat(e,"-has-feedback"),n),i))}var oT=function(e,t){return t||e},aT={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},sT=function(e,n){return t.createElement(Rp,le(le({},e),{},{ref:n,icon:aT}))};sT.displayName="CheckOutlined";var lT=t.forwardRef(sT),cT={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},uT=function(e,n){return t.createElement(Rp,le(le({},e),{},{ref:n,icon:cT}))};uT.displayName="CloseCircleFilled";var dT=t.forwardRef(uT),hT={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},pT=function(e,n){return t.createElement(Rp,le(le({},e),{},{ref:n,icon:hT}))};pT.displayName="CloseOutlined";var fT=t.forwardRef(pT),mT={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},gT=function(e,n){return t.createElement(Rp,le(le({},e),{},{ref:n,icon:mT}))};gT.displayName="DownOutlined";var vT=t.forwardRef(gT),yT={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},xT=function(e,n){return t.createElement(Rp,le(le({},e),{},{ref:n,icon:yT}))};xT.displayName="SearchOutlined";var bT=t.forwardRef(xT);var _T=new ry("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),wT=new ry("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),kT=new ry("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),ST=new ry("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),CT=new ry("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),ET=new ry("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),TT=new ry("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),MT=new ry("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),PT={"slide-up":{inKeyframes:_T,outKeyframes:wT},"slide-down":{inKeyframes:kT,outKeyframes:ST},"slide-left":{inKeyframes:CT,outKeyframes:ET},"slide-right":{inKeyframes:TT,outKeyframes:MT}},AT=function(e,t){var n,i=e.antCls,r="".concat(i,"-").concat(t),o=PT[t],a=o.inKeyframes,s=o.outKeyframes;return[py(r,a,s,e.motionDurationMid),(n={},ae(n,"\n      ".concat(r,"-enter,\n      ").concat(r,"-appear\n    "),{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:e.motionEaseOutQuint}),ae(n,"".concat(r,"-leave"),{animationTimingFunction:e.motionEaseInQuint}),n)]},IT=new ry("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),LT=new ry("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),DT=new ry("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),OT=new ry("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),RT=new ry("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),zT=new ry("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),FT={"move-up":{inKeyframes:new ry("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),outKeyframes:new ry("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}})},"move-down":{inKeyframes:IT,outKeyframes:LT},"move-left":{inKeyframes:DT,outKeyframes:OT},"move-right":{inKeyframes:RT,outKeyframes:zT}},BT=function(e,t){var n,i=e.antCls,r="".concat(i,"-").concat(t),o=FT[t],a=o.inKeyframes,s=o.outKeyframes;return[py(r,a,s,e.motionDurationMid),(n={},ae(n,"\n        ".concat(r,"-enter,\n        ").concat(r,"-appear\n      "),{opacity:0,animationTimingFunction:e.motionEaseOutCirc}),ae(n,"".concat(r,"-leave"),{animationTimingFunction:e.motionEaseInOutCirc}),n)]},NT=function(e){var t=e.controlPaddingHorizontal;return{position:"relative",display:"block",minHeight:e.controlHeight,padding:"".concat((e.controlHeight-e.fontSize*e.lineHeight)/2,"px ").concat(t,"px"),color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,boxSizing:"border-box"}},jT=function(e){var t,n,i,r=e.antCls,o=e.componentCls,a="".concat(o,"-item");return[ae({},"".concat(o,"-dropdown"),Object.assign(Object.assign({},My(e)),(i={position:"absolute",top:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",padding:e.paddingXXS,overflow:"hidden",fontSize:e.fontSize,fontVariant:"initial",backgroundColor:e.colorBgElevated,borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary},ae(i,"\n            &".concat(r,"-slide-up-enter").concat(r,"-slide-up-enter-active").concat(o,"-dropdown-placement-bottomLeft,\n            &").concat(r,"-slide-up-appear").concat(r,"-slide-up-appear-active").concat(o,"-dropdown-placement-bottomLeft\n          "),{animationName:_T}),ae(i,"\n            &".concat(r,"-slide-up-enter").concat(r,"-slide-up-enter-active").concat(o,"-dropdown-placement-topLeft,\n            &").concat(r,"-slide-up-appear").concat(r,"-slide-up-appear-active").concat(o,"-dropdown-placement-topLeft\n          "),{animationName:kT}),ae(i,"&".concat(r,"-slide-up-leave").concat(r,"-slide-up-leave-active").concat(o,"-dropdown-placement-bottomLeft"),{animationName:wT}),ae(i,"&".concat(r,"-slide-up-leave").concat(r,"-slide-up-leave-active").concat(o,"-dropdown-placement-topLeft"),{animationName:ST}),ae(i,"&-hidden",{display:"none"}),ae(i,"&-empty",{color:e.colorTextDisabled}),ae(i,"".concat(a,"-empty"),Object.assign(Object.assign({},NT(e)),{color:e.colorTextDisabled})),ae(i,"".concat(a),Object.assign(Object.assign({},NT(e)),{cursor:"pointer",transition:"background ".concat(e.motionDurationSlow," ease"),borderRadius:e.borderRadiusSM,"&-group":{color:e.colorTextDescription,fontSize:e.fontSizeSM,cursor:"default"},"&-option":(n={display:"flex","&-content":Object.assign({flex:"auto"},Ty),"&-state":{flex:"none"}},ae(n,"&-active:not(".concat(a,"-option-disabled)"),{backgroundColor:e.controlItemBgHover}),ae(n,"&-selected:not(".concat(a,"-option-disabled)"),ae({color:e.colorText,fontWeight:e.fontWeightStrong,backgroundColor:e.controlItemBgActive},"".concat(a,"-option-state"),{color:e.colorPrimary})),ae(n,"&-disabled",(t={},ae(t,"&".concat(a,"-option-selected"),{backgroundColor:e.colorBgContainerDisabled}),ae(t,"color",e.colorTextDisabled),ae(t,"cursor","not-allowed"),t)),ae(n,"&-grouped",{paddingInlineStart:2*e.controlPaddingHorizontal}),n)})),ae(i,"&-rtl",{direction:"rtl"}),i))),AT(e,"slide-up"),AT(e,"slide-down"),BT(e,"move-up"),BT(e,"move-down")]},VT=2;function WT(e){var t=e.controlHeightSM,n=(e.controlHeight-t)/2-e.lineWidth;return[n,Math.ceil(n/2)]}function UT(e,t){var n,i,r,o,a,s=e.componentCls,l=e.iconCls,c="".concat(s,"-selection-overflow"),u=e.controlHeightSM,d=pe(WT(e),1)[0],h=t?"".concat(s,"-").concat(t):"";return ae({},"".concat(s,"-multiple").concat(h),(ae(a={fontSize:e.fontSize},c,{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"}}),ae(a,"".concat(s,"-selector"),(ae(n={display:"flex",flexWrap:"wrap",alignItems:"center",padding:"".concat(d-VT,"px ").concat(2*VT,"px"),borderRadius:e.borderRadius},"".concat(s,"-show-search&"),{cursor:"text"}),ae(n,"".concat(s,"-disabled&"),{background:e.colorBgContainerDisabled,cursor:"not-allowed"}),ae(n,"&:after",{display:"inline-block",width:0,margin:"".concat(VT,"px 0"),lineHeight:"".concat(u,"px"),content:'"\\a0"'}),n)),ae(a,"\n        &".concat(s,"-show-arrow ").concat(s,"-selector,\n        &").concat(s,"-allow-clear ").concat(s,"-selector\n      "),{paddingInlineEnd:e.fontSizeIcon+e.controlPaddingHorizontal}),ae(a,"".concat(s,"-selection-item"),(ae(r={position:"relative",display:"flex",flex:"none",boxSizing:"border-box",maxWidth:"100%",height:u,marginTop:VT,marginBottom:VT,lineHeight:"".concat(u-2*e.lineWidth,"px"),background:e.colorFillSecondary,border:"".concat(e.lineWidth,"px solid ").concat(e.colorSplit),borderRadius:e.borderRadiusSM,cursor:"default",transition:"font-size ".concat(e.motionDurationSlow,", line-height ").concat(e.motionDurationSlow,", height ").concat(e.motionDurationSlow),userSelect:"none",marginInlineEnd:2*VT,paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS/2},"".concat(s,"-disabled&"),{color:e.colorTextDisabled,borderColor:e.colorBorder,cursor:"not-allowed"}),ae(r,"&-content",{display:"inline-block",marginInlineEnd:e.paddingXS/2,overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"}),ae(r,"&-remove",Object.assign(Object.assign({},Py()),(ae(i={display:"inline-block",color:e.colorIcon,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer"},"> ".concat(l),{verticalAlign:"-0.2em"}),ae(i,"&:hover",{color:e.colorIconHover}),i))),r)),ae(a,"".concat(c,"-item + ").concat(c,"-item"),ae({},"".concat(s,"-selection-search"),{marginInlineStart:0})),ae(a,"".concat(s,"-selection-search"),(ae(o={display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:e.inputPaddingHorizontalBase-d},"\n          &-input,\n          &-mirror\n        ",{height:u,fontFamily:e.fontFamily,lineHeight:"".concat(u,"px"),transition:"all ".concat(e.motionDurationSlow)}),ae(o,"&-input",{width:"100%",minWidth:4.1}),ae(o,"&-mirror",{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}),o)),ae(a,"".concat(s,"-selection-placeholder "),{position:"absolute",top:"50%",insetInlineStart:e.inputPaddingHorizontalBase,insetInlineEnd:e.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:"all ".concat(e.motionDurationSlow)}),a))}function HT(e){var t,n=e.componentCls,i=Sy(e,{controlHeight:e.controlHeightSM,controlHeightSM:e.controlHeightXS,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS}),r=pe(WT(e),2)[1];return[UT(e),UT(i,"sm"),ae({},"".concat(n,"-multiple").concat(n,"-sm"),(t={},ae(t,"".concat(n,"-selection-placeholder"),{insetInline:e.controlPaddingHorizontalSM-e.lineWidth}),ae(t,"".concat(n,"-selection-search"),{marginInlineStart:r}),t)),UT(Sy(e,{fontSize:e.fontSizeLG,controlHeight:e.controlHeightLG,controlHeightSM:e.controlHeight,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius}),"lg")]}function XT(e,t){var n,i,r,o,a=e.componentCls,s=e.inputPaddingHorizontalBase,l=e.borderRadius,c=e.controlHeight-2*e.lineWidth,u=Math.ceil(1.25*e.fontSize),d=t?"".concat(a,"-").concat(t):"";return ae({},"".concat(a,"-single").concat(d),(ae(o={fontSize:e.fontSize},"".concat(a,"-selector"),Object.assign(Object.assign({},My(e)),(ae(n={display:"flex",borderRadius:l},"".concat(a,"-selection-search"),{position:"absolute",top:0,insetInlineStart:s,insetInlineEnd:s,bottom:0,"&-input":{width:"100%"}}),ae(n,"\n          ".concat(a,"-selection-item,\n          ").concat(a,"-selection-placeholder\n        "),{padding:0,lineHeight:"".concat(c,"px"),transition:"all ".concat(e.motionDurationSlow),"@supports (-moz-appearance: meterbar)":{lineHeight:"".concat(c,"px")}}),ae(n,"".concat(a,"-selection-item"),{position:"relative",userSelect:"none"}),ae(n,"".concat(a,"-selection-placeholder"),{transition:"none",pointerEvents:"none"}),ae(n,["&:after","".concat(a,"-selection-item:after"),"".concat(a,"-selection-placeholder:after")].join(","),{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}),n))),ae(o,"\n        &".concat(a,"-show-arrow ").concat(a,"-selection-item,\n        &").concat(a,"-show-arrow ").concat(a,"-selection-placeholder\n      "),{paddingInlineEnd:u}),ae(o,"&".concat(a,"-open ").concat(a,"-selection-item"),{color:e.colorTextPlaceholder}),ae(o,"&:not(".concat(a,"-customize-input)"),ae({},"".concat(a,"-selector"),(ae(i={width:"100%",height:e.controlHeight,padding:"0 ".concat(s,"px")},"".concat(a,"-selection-search-input"),{height:c}),ae(i,"&:after",{lineHeight:"".concat(c,"px")}),i))),ae(o,"&".concat(a,"-customize-input"),ae({},"".concat(a,"-selector"),(ae(r={"&:after":{display:"none"}},"".concat(a,"-selection-search"),{position:"static",width:"100%"}),ae(r,"".concat(a,"-selection-placeholder"),{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:"0 ".concat(s,"px"),"&:after":{display:"none"}}),r))),o))}function GT(e){var t,n=e.componentCls,i=e.controlPaddingHorizontalSM-e.lineWidth;return[XT(e),XT(Sy(e,{controlHeight:e.controlHeightSM,borderRadius:e.borderRadiusSM}),"sm"),ae({},"".concat(n,"-single").concat(n,"-sm"),ae({},"&:not(".concat(n,"-customize-input)"),(t={},ae(t,"".concat(n,"-selection-search"),{insetInlineStart:i,insetInlineEnd:i}),ae(t,"".concat(n,"-selector"),{padding:"0 ".concat(i,"px")}),ae(t,"&".concat(n,"-show-arrow ").concat(n,"-selection-search"),{insetInlineEnd:i+1.5*e.fontSize}),ae(t,"\n            &".concat(n,"-show-arrow ").concat(n,"-selection-item,\n            &").concat(n,"-show-arrow ").concat(n,"-selection-placeholder\n          "),{paddingInlineEnd:1.5*e.fontSize}),t))),XT(Sy(e,{controlHeight:e.controlHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG}),"lg")]}var YT=function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.componentCls,o=t.borderHoverColor,a=t.outlineColor,s=t.antCls,l=i?ae({},"".concat(r,"-selector"),{borderColor:o}):{};return ae({},e,ae({},"&:not(".concat(r,"-disabled):not(").concat(r,"-customize-input):not(").concat(s,"-pagination-size-changer)"),Object.assign(Object.assign({},l),(ae(n={},"".concat(r,"-focused& ").concat(r,"-selector"),{borderColor:o,boxShadow:"0 0 0 ".concat(t.controlOutlineWidth,"px ").concat(a),outline:0}),ae(n,"&:hover ".concat(r,"-selector"),{borderColor:o}),n))))},qT=function(e){var t,n,i,r=e.componentCls,o=e.inputPaddingHorizontalBase,a=e.iconCls;return ae(i={},r,Object.assign(Object.assign({},My(e)),(ae(n={position:"relative",display:"inline-block",cursor:"pointer"},"&:not(".concat(r,"-customize-input) ").concat(r,"-selector"),Object.assign(Object.assign({},function(e){var t,n,i=e.componentCls;return ae(n={position:"relative",backgroundColor:e.colorBgContainer,border:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorBorder),transition:"all ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut),input:{cursor:"pointer"}},"".concat(i,"-show-search&"),{cursor:"text",input:{cursor:"auto",color:"inherit"}}),ae(n,"".concat(i,"-disabled&"),(ae(t={color:e.colorTextDisabled,background:e.colorBgContainerDisabled,cursor:"not-allowed"},"".concat(i,"-multiple&"),{background:e.colorBgContainerDisabled}),ae(t,"input",{cursor:"not-allowed"}),t)),n}(e)),function(e){var t=e.componentCls;return ae({},"".concat(t,"-selection-search-input"),{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}})}(e))),ae(n,"".concat(r,"-selection-item"),Object.assign({flex:1,fontWeight:"normal"},Ty)),ae(n,"".concat(r,"-selection-placeholder"),Object.assign(Object.assign({},Ty),{flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"})),ae(n,"".concat(r,"-arrow"),Object.assign(Object.assign({},Py()),(ae(t={position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:o,height:e.fontSizeIcon,marginTop:-e.fontSizeIcon/2,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center"},a,ae({verticalAlign:"top",transition:"transform ".concat(e.motionDurationSlow),"> svg":{verticalAlign:"top"}},"&:not(".concat(r,"-suffix)"),{pointerEvents:"auto"})),ae(t,"".concat(r,"-disabled &"),{cursor:"not-allowed"}),ae(t,"> *:not(:last-child)",{marginInlineEnd:8}),t))),ae(n,"".concat(r,"-clear"),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:o,zIndex:1,display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,marginTop:-e.fontSizeIcon/2,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",background:e.colorBgContainer,cursor:"pointer",opacity:0,transition:"color ".concat(e.motionDurationMid," ease, opacity ").concat(e.motionDurationSlow," ease"),textRendering:"auto","&:before":{display:"block"},"&:hover":{color:e.colorTextTertiary}}),ae(n,"&:hover",ae({},"".concat(r,"-clear"),{opacity:1})),n))),ae(i,"".concat(r,"-has-feedback"),ae({},"".concat(r,"-clear"),{insetInlineEnd:o+e.fontSize+e.paddingXXS})),i},KT=function(e){var t,n=e.componentCls;return[ae({},n,(t={},ae(t,"&-borderless ".concat(n,"-selector"),{backgroundColor:"transparent !important",borderColor:"transparent !important",boxShadow:"none !important"}),ae(t,"&".concat(n,"-in-form-item"),{width:"100%"}),t)),qT(e),GT(e),HT(e),jT(e),ae({},"".concat(n,"-rtl"),{direction:"rtl"}),YT(n,Sy(e,{borderHoverColor:e.colorPrimaryHover,outlineColor:e.controlOutline})),YT("".concat(n,"-status-error"),Sy(e,{borderHoverColor:e.colorErrorHover,outlineColor:e.colorErrorOutline}),!0),YT("".concat(n,"-status-warning"),Sy(e,{borderHoverColor:e.colorWarningHover,outlineColor:e.colorWarningOutline}),!0),Ob(e,{borderElCls:"".concat(n,"-selector"),focusElCls:"".concat(n,"-focused")})]},$T=tx("Select",(function(e,t){var n=Sy(e,{rootPrefixCls:t.rootPrefixCls,inputPaddingHorizontalBase:e.paddingSM-1});return[KT(n)]}),(function(e){return{zIndexPopup:e.zIndexPopupBase+50}}));function ZT(e,n,i){return function(r){var o=r.prefixCls,a=r.style,s=t.useRef(null),l=pe(t.useState(0),2),c=l[0],u=l[1],d=pe(t.useState(0),2),h=d[0],p=d[1],f=pe(Hp(!1,{value:r.open}),2),m=f[0],g=f[1],v=(0,t.useContext(Kp).getPrefixCls)(n||"select",o);return t.useEffect((function(){if(g(!0),"undefined"!==typeof ResizeObserver){var e=new ResizeObserver((function(e){var t=e[0].target;u(t.offsetHeight+8),p(t.offsetWidth)})),t=setInterval((function(){var n,r=i?".".concat(i(v)):".".concat(v,"-dropdown"),o=null===(n=s.current)||void 0===n?void 0:n.querySelector(r);o&&(clearInterval(t),e.observe(o))}),10);return function(){clearInterval(t),e.disconnect()}}}),[]),t.createElement(ok,{theme:{token:{motionDurationFast:"0.01s",motionDurationMid:"0.01s",motionDurationSlow:"0.01s"}}},t.createElement("div",{ref:s,style:{paddingBottom:c,position:"relative",width:"fit-content",minWidth:h}},t.createElement(e,Object.assign({},r,{style:Object.assign(Object.assign({},a),{margin:0}),open:m,visible:m,getPopupContainer:function(){return s.current}}))))}}var JT=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},QT="SECRET_COMBOBOX_MODE_DO_NOT_USE",eM=function(e,n){var i,r,o=e.prefixCls,a=e.bordered,s=void 0===a||a,l=e.className,c=e.rootClassName,u=e.getPopupContainer,d=e.popupClassName,h=e.dropdownClassName,p=e.listHeight,f=void 0===p?256:p,m=e.placement,g=e.listItemHeight,v=void 0===g?24:g,y=e.size,x=e.disabled,b=e.notFoundContent,_=e.status,w=e.showArrow,k=JT(e,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","showArrow"]),S=t.useContext(Kp),C=S.getPopupContainer,E=S.getPrefixCls,T=S.renderEmpty,M=S.direction,P=S.virtual,A=S.dropdownMatchSelectWidth,I=S.select,L=t.useContext(lb),D=E("select",o),O=E(),R=mb(D,M),z=R.compactSize,F=R.compactItemClassnames,B=pe($T(D),2),N=B[0],j=B[1],V=t.useMemo((function(){var e=k.mode;if("combobox"!==e)return e===QT?"combobox":e}),[k.mode]),W="multiple"===V||"tags"===V,U=void 0!==w?w:k.loading||!(W||"combobox"===V),H=t.useContext(nT),X=H.status,G=H.hasFeedback,Y=H.isFormItemInput,q=H.feedbackIcon,K=oT(X,_);r=void 0!==b?b:"combobox"===V?null:(null===T||void 0===T?void 0:T("Select"))||t.createElement(qS,{componentName:"Select"});var $=function(e){var n=e.suffixIcon,i=e.clearIcon,r=e.menuItemSelectedIcon,o=e.removeIcon,a=e.loading,s=e.multiple,l=e.hasFeedback,c=e.prefixCls,u=e.showArrow,d=e.feedbackIcon,h=null!==i&&void 0!==i?i:t.createElement(dT,null),p=function(e){return t.createElement(t.Fragment,null,!1!==u&&e,l&&d)},f=null;if(void 0!==n)f=p(n);else if(a)f=p(t.createElement(Mb,{spin:!0}));else{var m="".concat(c,"-suffix");f=function(e){var n=e.open,i=e.showSearch;return p(n&&i?t.createElement(bT,{className:m}):t.createElement(vT,{className:m}))}}return{clearIcon:h,suffixIcon:f,itemIcon:void 0!==r?r:s?t.createElement(lT,null):null,removeIcon:void 0!==o?o:t.createElement(fT,null)}}(Object.assign(Object.assign({},k),{multiple:W,hasFeedback:G,feedbackIcon:q,showArrow:U,prefixCls:D})),Z=$.suffixIcon,J=$.itemIcon,Q=$.removeIcon,ee=$.clearIcon,te=Yp(k,["suffixIcon","itemIcon"]),ne=wh()(d||h,ae({},"".concat(D,"-dropdown-").concat(M),"rtl"===M),c,j),ie=z||y||L,re=t.useContext(ob),oe=null!==x&&void 0!==x?x:re,se=wh()((ae(i={},"".concat(D,"-lg"),"large"===ie),ae(i,"".concat(D,"-sm"),"small"===ie),ae(i,"".concat(D,"-rtl"),"rtl"===M),ae(i,"".concat(D,"-borderless"),!s),ae(i,"".concat(D,"-in-form-item"),Y),i),rT(D,K,G),F,l,c,j);return N(t.createElement(tT,Object.assign({ref:n,virtual:P,dropdownMatchSelectWidth:A,showSearch:null===I||void 0===I?void 0:I.showSearch},te,{transitionName:mv(O,fv(m),k.transitionName),listHeight:f,listItemHeight:v,mode:V,prefixCls:D,placement:void 0!==m?m:"rtl"===M?"bottomRight":"bottomLeft",direction:M,inputIcon:Z,menuItemSelectedIcon:J,removeIcon:Q,clearIcon:ee,notFoundContent:r,className:se,getPopupContainer:u||C,dropdownClassName:ne,showArrow:G||w,disabled:oe})))};var tM=t.forwardRef(eM),nM=ZT(tM);tM.SECRET_COMBOBOX_MODE_DO_NOT_USE=QT,tM.Option=EE,tM.OptGroup=SE,tM._InternalPanelDoNotUseOrYouWillBeFired=nM;var iM=tM,rM=function(e){return t.createElement(iM,Object.assign({},e,{size:"small"}))},oM=function(e){return t.createElement(iM,Object.assign({},e,{size:"middle"}))};rM.Option=iM.Option,oM.Option=iM.Option;var aM=function(e){return{borderColor:e.inputBorderHoverColor,borderInlineEndWidth:e.lineWidth}},sM=function(e){return{borderColor:e.inputBorderHoverColor,boxShadow:"0 0 0 ".concat(e.controlOutlineWidth,"px ").concat(e.controlOutline),borderInlineEndWidth:e.lineWidth,outline:0}},lM=function(e){return{color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"&:hover":Object.assign({},aM(Sy(e,{inputBorderHoverColor:e.colorBorder})))}},cM=function(e){var t=e.inputPaddingVerticalLG,n=e.fontSizeLG,i=e.lineHeightLG,r=e.borderRadiusLG,o=e.inputPaddingHorizontalLG;return{padding:"".concat(t,"px ").concat(o,"px"),fontSize:n,lineHeight:i,borderRadius:r}},uM=function(e){return{padding:"".concat(e.inputPaddingVerticalSM,"px ").concat(e.controlPaddingHorizontalSM-1,"px"),borderRadius:e.borderRadiusSM}},dM=function(e,t){var n,i=e.componentCls,r=e.colorError,o=e.colorWarning,a=e.colorErrorOutline,s=e.colorWarningOutline,l=e.colorErrorBorderHover,c=e.colorWarningBorderHover;return ae(n={},"&-status-error:not(".concat(t,"-disabled):not(").concat(t,"-borderless)").concat(t),ae({borderColor:r,"&:hover":{borderColor:l},"&:focus, &-focused":Object.assign({},sM(Sy(e,{inputBorderActiveColor:r,inputBorderHoverColor:r,controlOutline:a})))},"".concat(i,"-prefix, ").concat(i,"-suffix"),{color:r})),ae(n,"&-status-warning:not(".concat(t,"-disabled):not(").concat(t,"-borderless)").concat(t),ae({borderColor:o,"&:hover":{borderColor:c},"&:focus, &-focused":Object.assign({},sM(Sy(e,{inputBorderActiveColor:o,inputBorderHoverColor:o,controlOutline:s})))},"".concat(i,"-prefix, ").concat(i,"-suffix"),{color:o})),n},hM=function(e){return Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:"".concat(e.inputPaddingVertical,"px ").concat(e.inputPaddingHorizontal,"px"),color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,backgroundColor:e.colorBgContainer,backgroundImage:"none",borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:e.colorBorder,borderRadius:e.borderRadius,transition:"all ".concat(e.motionDurationMid)},function(e){return{"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:e,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}}(e.colorTextPlaceholder)),{"&:hover":Object.assign({},aM(e)),"&:focus, &-focused":Object.assign({},sM(e)),"&-disabled, &[disabled]":Object.assign({},lM(e)),"&-borderless":{"&, &:hover, &:focus, &-focused, &-disabled, &[disabled]":{backgroundColor:"transparent",border:"none",boxShadow:"none"}},"textarea&":{maxWidth:"100%",height:"auto",minHeight:e.controlHeight,lineHeight:e.lineHeight,verticalAlign:"bottom",transition:"all ".concat(e.motionDurationSlow,", height 0s"),resize:"vertical"},"&-lg":Object.assign({},cM(e)),"&-sm":Object.assign({},uM(e)),"&-rtl":{direction:"rtl"},"&-textarea-rtl":{direction:"rtl"}})},pM=function(e){var t,n=e.componentCls,i=e.controlHeightSM,r=(i-2*e.lineWidth-16)/2;return ae({},n,Object.assign(Object.assign(Object.assign(Object.assign({},My(e)),hM(e)),dM(e,n)),{'&[type="color"]':(t={height:e.controlHeight},ae(t,"&".concat(n,"-lg"),{height:e.controlHeightLG}),ae(t,"&".concat(n,"-sm"),{height:i,paddingTop:r,paddingBottom:r}),t),'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}}))},fM=function(e){var t,n=e.componentCls,i=e.inputAffixPadding,r=e.colorTextDescription,o=e.motionDurationSlow,a=e.colorIcon,s=e.colorIconHover,l=e.iconCls;return ae({},"".concat(n,"-affix-wrapper"),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},hM(e)),(ae(t={display:"inline-flex"},"&:not(".concat(n,"-affix-wrapper-disabled):hover"),Object.assign(Object.assign({},aM(e)),ae({zIndex:1},"".concat(n,"-search-with-button &"),{zIndex:0}))),ae(t,"&-focused, &:focus",{zIndex:1}),ae(t,"&-disabled",ae({},"".concat(n,"[disabled]"),{background:"transparent"})),ae(t,"> input".concat(n),{padding:0,fontSize:"inherit",border:"none",borderRadius:0,outline:"none","&:focus":{boxShadow:"none !important"}}),ae(t,"&::before",{width:0,visibility:"hidden",content:'"\\a0"'}),ae(t,"".concat(n),{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:e.paddingXS}},"&-show-count-suffix":{color:r},"&-show-count-has-suffix":{marginInlineEnd:e.paddingXXS},"&-prefix":{marginInlineEnd:i},"&-suffix":{marginInlineStart:i}}),t)),function(e){var t=e.componentCls;return ae({},"".concat(t,"-clear-icon"),{margin:0,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:"color ".concat(e.motionDurationSlow),"&:hover":{color:e.colorTextTertiary},"&:active":{color:e.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:"0 ".concat(e.inputAffixPadding,"px")}})}(e)),ae({},"".concat(l).concat(n,"-password-icon"),{color:a,cursor:"pointer",transition:"all ".concat(o),"&:hover":{color:s}})),dM(e,"".concat(n,"-affix-wrapper"))))},mM=function(e){var t=e.componentCls,n=e.colorError,i=e.colorSuccess,r=e.borderRadiusLG,o=e.borderRadiusSM;return ae({},"".concat(t,"-group"),Object.assign(Object.assign(Object.assign({},My(e)),function(e){var t,n,i,r,o,a,s,l=e.componentCls,c=e.antCls;return ae(s={position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0},"&[class*='col-']",{paddingInlineEnd:e.paddingXS,"&:last-child":{paddingInlineEnd:0}}),ae(s,"&-lg ".concat(l,", &-lg > ").concat(l,"-group-addon"),Object.assign({},cM(e))),ae(s,"&-sm ".concat(l,", &-sm > ").concat(l,"-group-addon"),Object.assign({},uM(e))),ae(s,"&-lg ".concat(c,"-select-single ").concat(c,"-select-selector"),{height:e.controlHeightLG}),ae(s,"&-sm ".concat(c,"-select-single ").concat(c,"-select-selector"),{height:e.controlHeightSM}),ae(s,"> ".concat(l),{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}}),ae(s,"".concat(l,"-group"),(ae(i={},"&-addon, &-wrap",{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}}),ae(i,"&-wrap > *",{display:"block !important"}),ae(i,"&-addon",(ae(n={position:"relative",padding:"0 ".concat(e.inputPaddingHorizontal,"px"),color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,textAlign:"center",backgroundColor:e.colorFillAlter,border:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:e.borderRadius,transition:"all ".concat(e.motionDurationSlow),lineHeight:1},"".concat(c,"-select"),(ae(t={margin:"-".concat(e.inputPaddingVertical+1,"px -").concat(e.inputPaddingHorizontal,"px")},"&".concat(c,"-select-single:not(").concat(c,"-select-customize-input)"),ae({},"".concat(c,"-select-selector"),{backgroundColor:"inherit",border:"".concat(e.lineWidth,"px ").concat(e.lineType," transparent"),boxShadow:"none"})),ae(t,"&-open, &-focused",ae({},"".concat(c,"-select-selector"),{color:e.colorPrimary})),t)),ae(n,"".concat(c,"-cascader-picker"),ae({margin:"-9px -".concat(e.inputPaddingHorizontal,"px"),backgroundColor:"transparent"},"".concat(c,"-cascader-input"),{textAlign:"start",border:0,boxShadow:"none"})),n)),ae(i,"&-addon:first-child",{borderInlineEnd:0}),ae(i,"&-addon:last-child",{borderInlineStart:0}),i)),ae(s,"".concat(l),{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":ae({zIndex:1,borderInlineEndWidth:1},"".concat(l,"-search-with-button &"),{zIndex:0})}),ae(s,"> ".concat(l,":first-child, ").concat(l,"-group-addon:first-child"),ae({borderStartEndRadius:0,borderEndEndRadius:0},"".concat(c,"-select ").concat(c,"-select-selector"),{borderStartEndRadius:0,borderEndEndRadius:0})),ae(s,"> ".concat(l,"-affix-wrapper"),(ae(r={},"&:not(:first-child) ".concat(l),{borderStartStartRadius:0,borderEndStartRadius:0}),ae(r,"&:not(:last-child) ".concat(l),{borderStartEndRadius:0,borderEndEndRadius:0}),r)),ae(s,"> ".concat(l,":last-child, ").concat(l,"-group-addon:last-child"),ae({borderStartStartRadius:0,borderEndStartRadius:0},"".concat(c,"-select ").concat(c,"-select-selector"),{borderStartStartRadius:0,borderEndStartRadius:0})),ae(s,"".concat(l,"-affix-wrapper"),ae({"&:not(:last-child)":ae({borderStartEndRadius:0,borderEndEndRadius:0},"".concat(l,"-search &"),{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius})},"&:not(:first-child), ".concat(l,"-search &:not(:first-child)"),{borderStartStartRadius:0,borderEndStartRadius:0})),ae(s,"&".concat(l,"-group-compact"),Object.assign(Object.assign({display:"block"},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),(ae(a={},"".concat(l,"-group-addon, ").concat(l,"-group-wrap, > ").concat(l),{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:e.lineWidth,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}}),ae(a,"& > *",{display:"inline-block",float:"none",verticalAlign:"top",borderRadius:0}),ae(a,"& > ".concat(l,"-affix-wrapper"),{display:"inline-flex"}),ae(a,"& > ".concat(c,"-picker-range"),{display:"inline-flex"}),ae(a,"& > *:not(:last-child)",{marginInlineEnd:-e.lineWidth,borderInlineEndWidth:e.lineWidth}),ae(a,"".concat(l),{float:"none"}),ae(a,"& > ".concat(c,"-select > ").concat(c,"-select-selector,\n      & > ").concat(c,"-select-auto-complete ").concat(l,",\n      & > ").concat(c,"-cascader-picker ").concat(l,",\n      & > ").concat(l,"-group-wrapper ").concat(l),{borderInlineEndWidth:e.lineWidth,borderRadius:0,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}),ae(a,"& > ".concat(c,"-select-focused"),{zIndex:1}),ae(a,"& > ".concat(c,"-select > ").concat(c,"-select-arrow"),{zIndex:1}),ae(a,"& > *:first-child,\n      & > ".concat(c,"-select:first-child > ").concat(c,"-select-selector,\n      & > ").concat(c,"-select-auto-complete:first-child ").concat(l,",\n      & > ").concat(c,"-cascader-picker:first-child ").concat(l),{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius}),ae(a,"& > *:last-child,\n      & > ".concat(c,"-select:last-child > ").concat(c,"-select-selector,\n      & > ").concat(c,"-cascader-picker:last-child ").concat(l,",\n      & > ").concat(c,"-cascader-picker-focused:last-child ").concat(l),{borderInlineEndWidth:e.lineWidth,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius}),ae(a,"& > ".concat(c,"-select-auto-complete ").concat(l),{verticalAlign:"top"}),ae(a,"".concat(l,"-group-wrapper + ").concat(l,"-group-wrapper"),ae({marginInlineStart:-e.lineWidth},"".concat(l,"-affix-wrapper"),{borderRadius:0})),ae(a,"".concat(l,"-group-wrapper:not(:last-child)"),ae({},"&".concat(l,"-search > ").concat(l,"-group"),(ae(o={},"& > ".concat(l,"-group-addon > ").concat(l,"-search-button"),{borderRadius:0}),ae(o,"& > ".concat(l),{borderStartStartRadius:e.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:e.borderRadius}),o))),a))),s}(e)),{"&-rtl":{direction:"rtl"},"&-wrapper":{display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":ae({},"".concat(t,"-group-addon"),{borderRadius:r}),"&-sm":ae({},"".concat(t,"-group-addon"),{borderRadius:o}),"&-status-error":ae({},"".concat(t,"-group-addon"),{color:n,borderColor:n}),"&-status-warning":ae({},"".concat(t,"-group-addon:last-child"),{color:i,borderColor:i})}}))},gM=function(e){var t,n,i,r=e.componentCls,o=e.antCls,a="".concat(r,"-search");return ae({},a,(ae(i={},"".concat(r),{"&:hover, &:focus":ae({borderColor:e.colorPrimaryHover},"+ ".concat(r,"-group-addon ").concat(a,"-button:not(").concat(o,"-btn-primary)"),{borderInlineStartColor:e.colorPrimaryHover})}),ae(i,"".concat(r,"-affix-wrapper"),{borderRadius:0}),ae(i,"".concat(r,"-lg"),{lineHeight:e.lineHeightLG-2e-4}),ae(i,"> ".concat(r,"-group"),ae({},"> ".concat(r,"-group-addon:last-child"),(ae(t={insetInlineStart:-1,padding:0,border:0},"".concat(a,"-button"),{paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius,borderEndStartRadius:0}),ae(t,"".concat(a,"-button:not(").concat(o,"-btn-primary)"),ae({color:e.colorTextDescription,"&:hover":{color:e.colorPrimaryHover},"&:active":{color:e.colorPrimaryActive}},"&".concat(o,"-btn-loading::before"),{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0})),t))),ae(i,"".concat(a,"-button"),{height:e.controlHeight,"&:hover, &:focus":{zIndex:1}}),ae(i,"&-large ".concat(a,"-button"),{height:e.controlHeightLG}),ae(i,"&-small ".concat(a,"-button"),{height:e.controlHeightSM}),ae(i,"&-rtl",{direction:"rtl"}),ae(i,"&".concat(r,"-compact-item"),(ae(n={},"&:not(".concat(r,"-compact-last-item)"),ae({},"".concat(r,"-group-addon"),ae({},"".concat(r,"-search-button"),{marginInlineEnd:-e.lineWidth,borderRadius:0}))),ae(n,"&:not(".concat(r,"-compact-first-item)"),ae({},"".concat(r,",").concat(r,"-affix-wrapper"),{borderRadius:0})),ae(n,"> ".concat(r,"-group-addon ").concat(r,"-search-button,\n        > ").concat(r,",\n        ").concat(r,"-affix-wrapper"),{"&:hover,&:focus,&:active":{zIndex:2}}),ae(n,"> ".concat(r,"-affix-wrapper-focused"),{zIndex:2}),n)),i))};function vM(e){return Sy(e,{inputAffixPadding:e.paddingXXS,inputPaddingVertical:Math.max(Math.round((e.controlHeight-e.fontSize*e.lineHeight)/2*10)/10-e.lineWidth,3),inputPaddingVerticalLG:Math.ceil((e.controlHeightLG-e.fontSizeLG*e.lineHeightLG)/2*10)/10-e.lineWidth,inputPaddingVerticalSM:Math.max(Math.round((e.controlHeightSM-e.fontSize*e.lineHeight)/2*10)/10-e.lineWidth,0),inputPaddingHorizontal:e.paddingSM-e.lineWidth,inputPaddingHorizontalSM:e.paddingXS-e.lineWidth,inputPaddingHorizontalLG:e.controlPaddingHorizontal-e.lineWidth,inputBorderHoverColor:e.colorPrimaryHover,inputBorderActiveColor:e.colorPrimaryHover})}var yM=function(e){var t,n,i,r,o=e.componentCls,a=e.paddingLG,s="".concat(o,"-textarea");return ae({},s,(r={position:"relative","&-show-count":(t={},ae(t,"> ".concat(o),{height:"100%"}),ae(t,"".concat(o,"-data-count"),{color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none",float:"right",marginBottom:-e.fontSize*e.lineHeight}),ae(t,"&-rtl",ae({},"".concat(o,"-data-count"),{float:"left"})),t)},ae(r,"&-affix-wrapper".concat(s,"-has-feedback"),ae({},"".concat(o),{paddingInlineEnd:a})),ae(r,"&-affix-wrapper".concat(o,"-affix-wrapper"),(ae(i={padding:0},"> textarea".concat(o),{fontSize:"inherit",border:"none",outline:"none","&:focus":{boxShadow:"none !important"}}),ae(i,"".concat(o,"-suffix"),(ae(n={margin:0,"> *:not(:last-child)":{marginInline:0}},"".concat(o,"-clear-icon"),{position:"absolute",insetInlineEnd:e.paddingXS,insetBlockStart:e.paddingXS}),ae(n,"".concat(s,"-suffix"),{position:"absolute",top:0,insetInlineEnd:e.inputPaddingHorizontal,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}),n)),i)),r))},xM=tx("Input",(function(e){var t=vM(e);return[pM(t),yM(t),fM(t),mM(t),gM(t),Ob(t)]})),bM=function(e){var t,n,i=e.componentCls;return ae(n={},i,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},My(e)),ae({"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'}},"".concat(i,"-total-text"),{display:"inline-block",height:e.paginationItemSize,marginInlineEnd:e.marginXS,lineHeight:"".concat(e.paginationItemSize-2,"px"),verticalAlign:"middle"})),function(e){var t=e.componentCls;return ae({},"".concat(t,"-item"),Object.assign(Object.assign(ae({display:"inline-block",minWidth:e.paginationItemSize,height:e.paginationItemSize,marginInlineEnd:e.marginXS,fontFamily:e.paginationFontFamily,lineHeight:"".concat(e.paginationItemSize-2,"px"),textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:"transparent",border:"".concat(e.lineWidth,"px ").concat(e.lineType," transparent"),borderRadius:e.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:"0 ".concat(e.paginationItemPaddingInline,"px"),color:e.colorText,transition:"none","&:hover":{textDecoration:"none"}}},"&:not(".concat(t,"-item-active)"),{"&:hover":{transition:"all ".concat(e.motionDurationMid),backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}}),Dy(e)),{"&-active":{fontWeight:e.paginationFontWeightActive,backgroundColor:e.paginationItemBgActive,borderColor:e.colorPrimary,a:{color:e.colorPrimary},"&:hover":{borderColor:e.colorPrimaryHover},"&:hover a":{color:e.colorPrimaryHover}}}))}(e)),function(e){var t,n,i,r,o,a,s=e.componentCls;return ae(a={},"".concat(s,"-jump-prev, ").concat(s,"-jump-next"),(ae(r={outline:0},"".concat(s,"-item-container"),(ae(t={position:"relative"},"".concat(s,"-item-link-icon"),{color:e.colorPrimary,fontSize:e.fontSizeSM,opacity:0,transition:"all ".concat(e.motionDurationMid),"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}}),ae(t,"".concat(s,"-item-ellipsis"),{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:e.colorTextDisabled,fontFamily:"Arial, Helvetica, sans-serif",letterSpacing:e.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:e.paginationEllipsisTextIndent,opacity:1,transition:"all ".concat(e.motionDurationMid)}),t)),ae(r,"&:hover",(ae(n={},"".concat(s,"-item-link-icon"),{opacity:1}),ae(n,"".concat(s,"-item-ellipsis"),{opacity:0}),n)),ae(r,"&:focus-visible",Object.assign((ae(i={},"".concat(s,"-item-link-icon"),{opacity:1}),ae(i,"".concat(s,"-item-ellipsis"),{opacity:0}),i),Ly(e))),r)),ae(a,"\n    ".concat(s,"-prev,\n    ").concat(s,"-jump-prev,\n    ").concat(s,"-jump-next\n    "),{marginInlineEnd:e.marginXS}),ae(a,"\n    ".concat(s,"-prev,\n    ").concat(s,"-next,\n    ").concat(s,"-jump-prev,\n    ").concat(s,"-jump-next\n    "),{display:"inline-block",minWidth:e.paginationItemSize,height:e.paginationItemSize,color:e.colorText,fontFamily:e.paginationFontFamily,lineHeight:"".concat(e.paginationItemSize,"px"),textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:e.borderRadius,cursor:"pointer",transition:"all ".concat(e.motionDurationMid)}),ae(a,"".concat(s,"-prev, ").concat(s,"-next"),(ae(o={fontFamily:"Arial, Helvetica, sans-serif",outline:0,button:{color:e.colorText,cursor:"pointer",userSelect:"none"}},"".concat(s,"-item-link"),{display:"block",width:"100%",height:"100%",padding:0,fontSize:e.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:"".concat(e.lineWidth,"px ").concat(e.lineType," transparent"),borderRadius:e.borderRadius,outline:"none",transition:"border ".concat(e.motionDurationMid)}),ae(o,"&:focus-visible ".concat(s,"-item-link"),Object.assign({},Ly(e))),ae(o,"&:hover ".concat(s,"-item-link"),{backgroundColor:e.colorBgTextHover}),ae(o,"&:active ".concat(s,"-item-link"),{backgroundColor:e.colorBgTextActive}),ae(o,"&".concat(s,"-disabled:hover"),ae({},"".concat(s,"-item-link"),{backgroundColor:"transparent"})),o)),ae(a,"".concat(s,"-slash"),{marginInlineEnd:e.paginationSlashMarginInlineEnd,marginInlineStart:e.paginationSlashMarginInlineStart}),ae(a,"".concat(s,"-options"),{display:"inline-block",marginInlineStart:e.margin,verticalAlign:"middle","&-size-changer.-select":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:e.controlHeight,marginInlineStart:e.marginXS,lineHeight:"".concat(e.controlHeight,"px"),verticalAlign:"top",input:Object.assign(Object.assign({},hM(e)),{width:1.25*e.controlHeightLG,height:e.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:e.marginXS,marginInlineEnd:e.marginXS})}}),a}(e)),function(e){var t,n=e.componentCls;return ae(t={},"\n    &".concat(n,"-simple ").concat(n,"-prev,\n    &").concat(n,"-simple ").concat(n,"-next\n    "),ae({height:e.paginationItemSizeSM,lineHeight:"".concat(e.paginationItemSizeSM,"px"),verticalAlign:"top"},"".concat(n,"-item-link"),{height:e.paginationItemSizeSM,backgroundColor:"transparent",border:0,"&::after":{height:e.paginationItemSizeSM,lineHeight:"".concat(e.paginationItemSizeSM,"px")}})),ae(t,"&".concat(n,"-simple ").concat(n,"-simple-pager"),{display:"inline-block",height:e.paginationItemSizeSM,marginInlineEnd:e.marginXS,input:{boxSizing:"border-box",height:"100%",marginInlineEnd:e.marginXS,padding:"0 ".concat(e.paginationItemPaddingInline,"px"),textAlign:"center",backgroundColor:e.paginationItemInputBg,border:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:e.borderRadius,outline:"none",transition:"border-color ".concat(e.motionDurationMid),color:"inherit","&:hover":{borderColor:e.colorPrimary},"&:focus":{borderColor:e.colorPrimaryHover,boxShadow:"".concat(e.inputOutlineOffset,"px 0 ").concat(e.controlOutlineWidth,"px ").concat(e.controlOutline)},"&[disabled]":{color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,cursor:"not-allowed"}}}),t}(e)),function(e){var t,n,i=e.componentCls;return ae(n={},"&".concat(i,"-mini ").concat(i,"-total-text, &").concat(i,"-mini ").concat(i,"-simple-pager"),{height:e.paginationItemSizeSM,lineHeight:"".concat(e.paginationItemSizeSM,"px")}),ae(n,"&".concat(i,"-mini ").concat(i,"-item"),{minWidth:e.paginationItemSizeSM,height:e.paginationItemSizeSM,margin:0,lineHeight:"".concat(e.paginationItemSizeSM-2,"px")}),ae(n,"&".concat(i,"-mini ").concat(i,"-item:not(").concat(i,"-item-active)"),{backgroundColor:"transparent",borderColor:"transparent"}),ae(n,"&".concat(i,"-mini ").concat(i,"-prev, &").concat(i,"-mini ").concat(i,"-next"),{minWidth:e.paginationItemSizeSM,height:e.paginationItemSizeSM,margin:0,lineHeight:"".concat(e.paginationItemSizeSM,"px")}),ae(n,"\n    &".concat(i,"-mini ").concat(i,"-prev ").concat(i,"-item-link,\n    &").concat(i,"-mini ").concat(i,"-next ").concat(i,"-item-link\n    "),{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:e.paginationItemSizeSM,lineHeight:"".concat(e.paginationItemSizeSM,"px")}}),ae(n,"&".concat(i,"-mini ").concat(i,"-jump-prev, &").concat(i,"-mini ").concat(i,"-jump-next"),{height:e.paginationItemSizeSM,marginInlineEnd:0,lineHeight:"".concat(e.paginationItemSizeSM,"px")}),ae(n,"&".concat(i,"-mini ").concat(i,"-options"),(ae(t={marginInlineStart:e.paginationMiniOptionsMarginInlineStart},"&-size-changer",{top:e.paginationMiniOptionsSizeChangerTop}),ae(t,"&-quick-jumper",{height:e.paginationItemSizeSM,lineHeight:"".concat(e.paginationItemSizeSM,"px"),input:Object.assign(Object.assign({},uM(e)),{width:e.paginationMiniQuickJumperInputWidth,height:e.controlHeightSM})}),t)),n}(e)),function(e){var t,n,i=e.componentCls;return ae(n={},"".concat(i,"-disabled"),{"&, &:hover":ae({cursor:"not-allowed"},"".concat(i,"-item-link"),{color:e.colorTextDisabled,cursor:"not-allowed"}),"&:focus-visible":ae({cursor:"not-allowed"},"".concat(i,"-item-link"),{color:e.colorTextDisabled,cursor:"not-allowed"})}),ae(n,"&".concat(i,"-disabled"),(ae(t={cursor:"not-allowed"},"".concat(i,"-item"),{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:e.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:e.colorBorder,backgroundColor:e.paginationItemDisabledBgActive,"&:hover, &:active":{backgroundColor:e.paginationItemDisabledBgActive},a:{color:e.paginationItemDisabledColorActive}}}),ae(t,"".concat(i,"-item-link"),ae({color:e.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"}},"".concat(i,"-simple&"),{backgroundColor:"transparent"})),ae(t,"".concat(i,"-item-link-icon"),{opacity:0}),ae(t,"".concat(i,"-item-ellipsis"),{opacity:1}),ae(t,"".concat(i,"-simple-pager"),{color:e.colorTextDisabled}),t)),n}(e)),(ae(t={},"@media only screen and (max-width: ".concat(e.screenLG,"px)"),ae({},"".concat(i,"-item"),{"&-after-jump-prev, &-before-jump-next":{display:"none"}})),ae(t,"@media only screen and (max-width: ".concat(e.screenSM,"px)"),ae({},"".concat(i,"-options"),{display:"none"})),t))),ae(n,"&".concat(e.componentCls,"-rtl"),{direction:"rtl"}),n},_M=function(e){var t,n,i,r,o,a,s=e.componentCls;return ae(a={},"".concat(s).concat(s,"-disabled"),(n={"&, &:hover":ae({},"".concat(s,"-item-link"),{borderColor:e.colorBorder}),"&:focus-visible":ae({},"".concat(s,"-item-link"),{borderColor:e.colorBorder})},ae(n,"".concat(s,"-item, ").concat(s,"-item-link"),(ae(t={backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder},"&:hover:not(".concat(s,"-item-active)"),{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,a:{color:e.colorTextDisabled}}),ae(t,"&".concat(s,"-item-active"),{backgroundColor:e.paginationItemDisabledBgActive}),t)),ae(n,"".concat(s,"-prev, ").concat(s,"-next"),ae({"&:hover button":{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,color:e.colorTextDisabled}},"".concat(s,"-item-link"),{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder})),n)),ae(a,s,(ae(o={},"".concat(s,"-prev, ").concat(s,"-next"),(ae(i={"&:hover button":{borderColor:e.colorPrimaryHover,backgroundColor:e.paginationItemBg}},"".concat(s,"-item-link"),{backgroundColor:e.paginationItemLinkBg,borderColor:e.colorBorder}),ae(i,"&:hover ".concat(s,"-item-link"),{borderColor:e.colorPrimary,backgroundColor:e.paginationItemBg,color:e.colorPrimary}),ae(i,"&".concat(s,"-disabled"),ae({},"".concat(s,"-item-link"),{borderColor:e.colorBorder,color:e.colorTextDisabled})),i)),ae(o,"".concat(s,"-item"),(ae(r={backgroundColor:e.paginationItemBg,border:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorBorder)},"&:hover:not(".concat(s,"-item-active)"),{borderColor:e.colorPrimary,backgroundColor:e.paginationItemBg,a:{color:e.colorPrimary}}),ae(r,"&-active",{borderColor:e.colorPrimary}),r)),o)),a},wM=tx("Pagination",(function(e){var t=Sy(e,{paginationItemSize:e.controlHeight,paginationFontFamily:e.fontFamily,paginationItemBg:e.colorBgContainer,paginationItemBgActive:e.colorBgContainer,paginationFontWeightActive:e.fontWeightStrong,paginationItemSizeSM:e.controlHeightSM,paginationItemInputBg:e.colorBgContainer,paginationMiniOptionsSizeChangerTop:0,paginationItemDisabledBgActive:e.controlItemBgActiveDisabled,paginationItemDisabledColorActive:e.colorTextDisabled,paginationItemLinkBg:e.colorBgContainer,inputOutlineOffset:"0 0",paginationMiniOptionsMarginInlineStart:e.marginXXS/2,paginationMiniQuickJumperInputWidth:1.1*e.controlHeightLG,paginationItemPaddingInline:1.5*e.marginXXS,paginationEllipsisLetterSpacing:e.marginXXS/2,paginationSlashMarginInlineStart:e.marginXXS,paginationSlashMarginInlineEnd:e.marginSM,paginationEllipsisTextIndent:"0.13em"},vM(e));return[bM(t),e.wireframe&&_M(t)]})),kM=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};var SM=function(e){var n=e.prefixCls,i=e.selectPrefixCls,r=e.className,o=e.rootClassName,a=e.size,s=e.locale,l=e.selectComponentClass,c=e.responsive,u=e.showSizeChanger,d=kM(e,["prefixCls","selectPrefixCls","className","rootClassName","size","locale","selectComponentClass","responsive","showSizeChanger"]),h=QS(c).xs,p=t.useContext(Kp),f=p.getPrefixCls,m=p.direction,g=p.pagination,v=void 0===g?{}:g,y=f("pagination",n),x=pe(wM(y),2),b=x[0],_=x[1],w=null!==u&&void 0!==u?u:v.showSizeChanger;return t.createElement(p_,{componentName:"Pagination",defaultLocale:s_},(function(e){var n,u=Object.assign(Object.assign({},e),s),p="small"===a||!(!h||a||!c),g=f("select",i),v=wh()((ae(n={},"".concat(y,"-mini"),p),ae(n,"".concat(y,"-rtl"),"rtl"===m),n),r,o,_);return b(t.createElement(bC,Object.assign({},function(){var e=t.createElement("span",{className:"".concat(y,"-item-ellipsis")},"\u2022\u2022\u2022"),n=t.createElement("button",{className:"".concat(y,"-item-link"),type:"button",tabIndex:-1},t.createElement(lC,null)),i=t.createElement("button",{className:"".concat(y,"-item-link"),type:"button",tabIndex:-1},t.createElement(dC,null)),r=t.createElement("a",{className:"".concat(y,"-item-link")},t.createElement("div",{className:"".concat(y,"-item-container")},t.createElement(nC,{className:"".concat(y,"-item-link-icon")}),e)),o=t.createElement("a",{className:"".concat(y,"-item-link")},t.createElement("div",{className:"".concat(y,"-item-container")},t.createElement(oC,{className:"".concat(y,"-item-link-icon")}),e));if("rtl"===m){var a=[i,n];n=a[0],i=a[1];var s=[o,r];r=s[0],o=s[1]}return{prevIcon:n,nextIcon:i,jumpPrevIcon:r,jumpNextIcon:o}}(),d,{prefixCls:y,selectPrefixCls:g,className:v,selectComponentClass:l||(p?rM:oM),locale:u,showSizeChanger:w})))}))},CM=SM;function EM(e,t,n){var i=(n||{}).atBegin;return function(e,t,n){var i,r=n||{},o=r.noTrailing,a=void 0!==o&&o,s=r.noLeading,l=void 0!==s&&s,c=r.debounceMode,u=void 0===c?void 0:c,d=!1,h=0;function p(){i&&clearTimeout(i)}function f(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var s=this,c=Date.now()-h;function f(){h=Date.now(),t.apply(s,r)}function m(){i=void 0}d||(l||!u||i||f(),p(),void 0===u&&c>e?l?(h=Date.now(),a||(i=setTimeout(u?m:f,e))):f():!0!==a&&(i=setTimeout(u?m:f,void 0===u?e-c:e)))}return f.cancel=function(e){var t=(e||{}).upcomingOnly,n=void 0!==t&&t;p(),d=!n},f}(e,t,{debounceMode:!1!==(void 0!==i&&i)})}var TM=new ry("antSpinMove",{to:{opacity:1}}),MM=new ry("antRotate",{to:{transform:"rotate(405deg)"}}),PM=function(e){var t,n,i,r,o;return ae({},"".concat(e.componentCls),Object.assign(Object.assign({},My(e)),(o={position:"absolute",display:"none",color:e.colorPrimary,textAlign:"center",verticalAlign:"middle",opacity:0,transition:"transform ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOutCirc),"&-spinning":{position:"static",display:"inline-block",opacity:1},"&-nested-loading":(r={position:"relative"},ae(r,"> div > ".concat(e.componentCls),(i={position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:e.contentHeight},ae(i,"".concat(e.componentCls,"-dot"),{position:"absolute",top:"50%",insetInlineStart:"50%",margin:-e.spinDotSize/2}),ae(i,"".concat(e.componentCls,"-text"),{position:"absolute",top:"50%",width:"100%",paddingTop:(e.spinDotSize-e.fontSize)/2+2,textShadow:"0 1px 2px ".concat(e.colorBgContainer)}),ae(i,"&".concat(e.componentCls,"-show-text ").concat(e.componentCls,"-dot"),{marginTop:-e.spinDotSize/2-10}),ae(i,"&-sm",(t={},ae(t,"".concat(e.componentCls,"-dot"),{margin:-e.spinDotSizeSM/2}),ae(t,"".concat(e.componentCls,"-text"),{paddingTop:(e.spinDotSizeSM-e.fontSize)/2+2}),ae(t,"&".concat(e.componentCls,"-show-text ").concat(e.componentCls,"-dot"),{marginTop:-e.spinDotSizeSM/2-10}),t)),ae(i,"&-lg",(n={},ae(n,"".concat(e.componentCls,"-dot"),{margin:-e.spinDotSizeLG/2}),ae(n,"".concat(e.componentCls,"-text"),{paddingTop:(e.spinDotSizeLG-e.fontSize)/2+2}),ae(n,"&".concat(e.componentCls,"-show-text ").concat(e.componentCls,"-dot"),{marginTop:-e.spinDotSizeLG/2-10}),n)),i)),ae(r,"".concat(e.componentCls,"-container"),{position:"relative",transition:"opacity ".concat(e.motionDurationSlow),"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:e.colorBgContainer,opacity:0,transition:"all ".concat(e.motionDurationSlow),content:'""',pointerEvents:"none"}}),ae(r,"".concat(e.componentCls,"-blur"),ae({clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none"},"&::after",{opacity:.4,pointerEvents:"auto"})),r)},ae(o,"&-tip",{color:e.spinDotDefault}),ae(o,"".concat(e.componentCls,"-dot"),{position:"relative",display:"inline-block",fontSize:e.spinDotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:(e.spinDotSize-e.marginXXS/2)/2,height:(e.spinDotSize-e.marginXXS/2)/2,backgroundColor:e.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:TM,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:MM,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}}),ae(o,"&-sm ".concat(e.componentCls,"-dot"),{fontSize:e.spinDotSizeSM,i:{width:(e.spinDotSizeSM-e.marginXXS/2)/2,height:(e.spinDotSizeSM-e.marginXXS/2)/2}}),ae(o,"&-lg ".concat(e.componentCls,"-dot"),{fontSize:e.spinDotSizeLG,i:{width:(e.spinDotSizeLG-e.marginXXS)/2,height:(e.spinDotSizeLG-e.marginXXS)/2}}),ae(o,"&".concat(e.componentCls,"-show-text ").concat(e.componentCls,"-text"),{display:"block"}),o)))},AM=tx("Spin",(function(e){var t=Sy(e,{spinDotDefault:e.colorTextDescription,spinDotSize:e.controlHeightLG/2,spinDotSizeSM:.35*e.controlHeightLG,spinDotSizeLG:e.controlHeight});return[PM(t)]}),{contentHeight:400}),IM=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},LM=null;var DM=function(e){var n,i=e.spinPrefixCls,r=e.spinning,o=void 0===r||r,a=e.delay,s=void 0===a?0:a,l=e.className,c=e.rootClassName,u=e.size,d=void 0===u?"default":u,h=e.tip,p=e.wrapperClassName,f=e.style,m=e.children,g=e.hashId,v=IM(e,["spinPrefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","hashId"]),y=t.useState((function(){return o&&!function(e,t){return!!e&&!!t&&!isNaN(Number(t))}(o,s)})),x=pe(y,2),b=x[0],_=x[1];t.useEffect((function(){if(o){var e=EM(s,(function(){_(!0)}));return e(),function(){var t;null===(t=null===e||void 0===e?void 0:e.cancel)||void 0===t||t.call(e)}}_(!1)}),[s,o]);var w=t.useMemo((function(){return"undefined"!==typeof m}),[m]),k=t.useContext(Kp).direction,S=wh()(i,(ae(n={},"".concat(i,"-sm"),"small"===d),ae(n,"".concat(i,"-lg"),"large"===d),ae(n,"".concat(i,"-spinning"),b),ae(n,"".concat(i,"-show-text"),!!h),ae(n,"".concat(i,"-rtl"),"rtl"===k),n),l,c,g),C=wh()("".concat(i,"-container"),ae({},"".concat(i,"-blur"),b)),E=Yp(v,["indicator","prefixCls"]),T=t.createElement("div",Object.assign({},E,{style:f,className:S,"aria-live":"polite","aria-busy":b}),function(e,n){var i=n.indicator,r="".concat(e,"-dot");return null===i?null:Sv(i)?Ev(i,{className:wh()(i.props.className,r)}):Sv(LM)?Ev(LM,{className:wh()(LM.props.className,r)}):t.createElement("span",{className:wh()(r,"".concat(e,"-dot-spin"))},t.createElement("i",{className:"".concat(e,"-dot-item")}),t.createElement("i",{className:"".concat(e,"-dot-item")}),t.createElement("i",{className:"".concat(e,"-dot-item")}),t.createElement("i",{className:"".concat(e,"-dot-item")}))}(i,e),h?t.createElement("div",{className:"".concat(i,"-text")},h):null);return w?t.createElement("div",Object.assign({},E,{className:wh()("".concat(i,"-nested-loading"),p,g)}),b&&t.createElement("div",{key:"loading"},T),t.createElement("div",{className:C,key:"container"},m)):T},OM=function(e){var n=e.prefixCls,i=(0,t.useContext(Kp).getPrefixCls)("spin",n),r=pe(AM(i),2),o=r[0],a=r[1],s=Object.assign(Object.assign({},e),{spinPrefixCls:i,hashId:a});return o(t.createElement(DM,Object.assign({},s)))};OM.setDefaultIndicator=function(e){LM=e};var RM=OM;function zM(e){return null!==e&&void 0!==e&&e===e.window}function FM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getContainer,i=void 0===n?function(){return window}:n,r=t.callback,o=t.duration,a=void 0===o?450:o,s=i(),l=function(e,t){var n,i;if("undefined"===typeof window)return 0;var r=t?"scrollTop":"scrollLeft",o=0;return zM(e)?o=e[t?"pageYOffset":"pageXOffset"]:e instanceof Document?o=e.documentElement[r]:(e instanceof HTMLElement||e)&&(o=e[r]),e&&!zM(e)&&"number"!==typeof o&&(o=null===(i=(null!==(n=e.ownerDocument)&&void 0!==n?n:e).documentElement)||void 0===i?void 0:i[r]),o}(s,!0),c=Date.now();rf((function t(){var n=Date.now()-c,i=function(e,t,n,i){var r=n-t;return(e/=i/2)<1?r/2*e*e*e+t:r/2*((e-=2)*e*e+2)+t}(n>a?a:n,l,e,a);zM(s)?s.scrollTo(window.pageXOffset,i):s instanceof Document||"HTMLDocument"===s.constructor.name?s.documentElement.scrollTop=i:s.scrollTop=i,n<a?rf(t):"function"===typeof r&&r()}))}var BM=function(e){return function(n){var i,r=n.prefixCls,o=n.onExpand,a=n.record,s=n.expanded,l=n.expandable,c="".concat(r,"-row-expand-icon");return t.createElement("button",{type:"button",onClick:function(e){o(a,e),e.stopPropagation()},className:wh()(c,(i={},ae(i,"".concat(c,"-spaced"),!l),ae(i,"".concat(c,"-expanded"),l&&s),ae(i,"".concat(c,"-collapsed"),l&&!s),i)),"aria-label":s?e.collapse:e.expand,"aria-expanded":s})}};function NM(e,t){return"key"in e&&void 0!==e.key&&null!==e.key?e.key:e.dataIndex?Array.isArray(e.dataIndex)?e.dataIndex.join("."):e.dataIndex:t}function jM(e,t){return t?"".concat(t,"-").concat(e):"".concat(e)}function VM(e,t){return"function"===typeof e?e(t):e}var WM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},UM=function(e,n){return t.createElement(Rp,le(le({},e),{},{ref:n,icon:WM}))};UM.displayName="FilterFilled";var HM=t.forwardRef(UM),XM=function(e){Pe(i,e);var n=De(i);function i(e){var t;Ce(this,i),(t=n.call(this,e)).handleChange=function(e){var n=t.props,i=n.disabled,r=n.onChange;i||("checked"in t.props||t.setState({checked:e.target.checked}),r&&r({target:le(le({},t.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},t.saveInput=function(e){t.input=e};var r="checked"in e?e.checked:e.defaultChecked;return t.state={checked:r},t}return Te(i,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,n=this.props,i=n.prefixCls,r=n.className,o=n.style,a=n.name,s=n.id,l=n.type,c=n.disabled,u=n.readOnly,d=n.tabIndex,h=n.onClick,f=n.onFocus,m=n.onBlur,g=n.onKeyDown,v=n.onKeyPress,y=n.onKeyUp,x=n.autoFocus,b=n.value,_=n.required,w=ln(n,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),k=Object.keys(w).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=w[t]),e}),{}),S=this.state.checked,C=wh()(i,r,(ae(e={},"".concat(i,"-checked"),S),ae(e,"".concat(i,"-disabled"),c),e));return t.createElement("span",{className:C,style:o},t.createElement("input",p({name:a,id:s,type:l,required:_,readOnly:u,disabled:c,tabIndex:d,className:"".concat(i,"-input"),checked:!!S,onClick:h,onFocus:f,onBlur:m,onKeyUp:y,onKeyDown:g,onKeyPress:v,onChange:this.handleChange,autoFocus:x,ref:this.saveInput,value:b},k)),t.createElement("span",{className:"".concat(i,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?le(le({},t),{},{checked:e.checked}):null}}]),i}(t.Component);XM.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};var GM=XM,YM=new ry("antCheckboxEffect",{"0%":{transform:"scale(1)",opacity:.5},"100%":{transform:"scale(1.6)",opacity:0}}),qM=function(e){var t,n,i,r,o,a,s,l,c,u,d=e.checkboxCls,h="".concat(d,"-wrapper");return[(i={},ae(i,"".concat(d,"-group"),Object.assign(Object.assign({},My(e)),{display:"inline-flex"})),ae(i,h,Object.assign(Object.assign({},My(e)),(t={display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"}},ae(t,"& + ".concat(h),{marginInlineStart:e.marginXS}),ae(t,"&".concat(h,"-in-form-item"),{'input[type="checkbox"]':{width:14,height:14}}),t))),ae(i,d,Object.assign(Object.assign({},My(e)),(n={top:"0.2em",position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer"},ae(n,"".concat(d,"-input"),ae({position:"absolute",inset:0,zIndex:1,width:"100%",height:"100%",cursor:"pointer",opacity:0},"&:focus-visible + ".concat(d,"-inner"),Object.assign({},Ly(e)))),ae(n,"".concat(d,"-inner"),{boxSizing:"border-box",position:"relative",top:0,insetInlineStart:0,display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:"all ".concat(e.motionDurationSlow),"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:e.checkboxSize/14*5,height:e.checkboxSize/14*8,border:"".concat(e.lineWidthBold,"px solid ").concat(e.colorWhite),borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:"all ".concat(e.motionDurationFast," ").concat(e.motionEaseInBack,", opacity ").concat(e.motionDurationFast)}}),ae(n,"& + span",{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}),n))),i),ae({},d,{"&-indeterminate":ae({},"".concat(d,"-inner"),{"&:after":{top:"50%",insetInlineStart:"50%",width:e.fontSizeLG/2,height:e.fontSizeLG/2,backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}})}),(o={},ae(o,"".concat(h,":hover ").concat(d,":after"),{visibility:"visible"}),ae(o,"\n        ".concat(h,":not(").concat(h,"-disabled),\n        ").concat(d,":not(").concat(d,"-disabled)\n      "),ae({},"&:hover ".concat(d,"-inner"),{borderColor:e.colorPrimary})),ae(o,"".concat(h,":not(").concat(h,"-disabled)"),(r={},ae(r,"&:hover ".concat(d,"-checked:not(").concat(d,"-disabled) ").concat(d,"-inner"),{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}),ae(r,"&:hover ".concat(d,"-checked:not(").concat(d,"-disabled):after"),{borderColor:e.colorPrimaryHover}),r)),o),(l={},ae(l,"".concat(d,"-checked"),(a={},ae(a,"".concat(d,"-inner"),{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:"all ".concat(e.motionDurationMid," ").concat(e.motionEaseOutBack," ").concat(e.motionDurationFast)}}),ae(a,"&:after",{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderRadius:e.borderRadiusSM,visibility:"hidden",border:"".concat(e.lineWidthBold,"px solid ").concat(e.colorPrimary),animationName:YM,animationDuration:e.motionDurationSlow,animationTimingFunction:"ease-in-out",animationFillMode:"backwards",content:'""',transition:"all ".concat(e.motionDurationSlow)}),a)),ae(l,"\n        ".concat(h,"-checked:not(").concat(h,"-disabled),\n        ").concat(d,"-checked:not(").concat(d,"-disabled)\n      "),(s={},ae(s,"&:hover ".concat(d,"-inner"),{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}),ae(s,"&:hover ".concat(d,":after"),{borderColor:e.colorPrimaryHover}),s)),l),(u={},ae(u,"".concat(h,"-disabled"),{cursor:"not-allowed"}),ae(u,"".concat(d,"-disabled"),(c={},ae(c,"&, ".concat(d,"-input"),{cursor:"not-allowed",pointerEvents:"none"}),ae(c,"".concat(d,"-inner"),{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}}),ae(c,"&:after",{display:"none"}),ae(c,"& + span",{color:e.colorTextDisabled}),ae(c,"&".concat(d,"-indeterminate ").concat(d,"-inner::after"),{background:e.colorTextDisabled}),c)),u)]};function KM(e,t){var n=Sy(t,{checkboxCls:".".concat(e),checkboxSize:t.controlInteractiveSize});return[qM(n)]}var $M=tx("Checkbox",(function(e,t){return[KM(t.prefixCls,e)]})),ZM=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},JM=t.createContext(null),QM=function(e,n){var i=e.defaultValue,r=e.children,o=e.options,a=void 0===o?[]:o,s=e.prefixCls,l=e.className,c=e.rootClassName,u=e.style,d=e.onChange,h=ZM(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),p=t.useContext(Kp),f=p.getPrefixCls,m=p.direction,g=pe(t.useState(h.value||i||[]),2),v=g[0],y=g[1],x=pe(t.useState([]),2),b=x[0],_=x[1];t.useEffect((function(){"value"in h&&y(h.value||[])}),[h.value]);var w=function(){return a.map((function(e){return"string"===typeof e||"number"===typeof e?{label:e,value:e}:e}))},k=f("checkbox",s),S="".concat(k,"-group"),C=pe($M(k),2),E=C[0],T=C[1],M=Yp(h,["value","disabled"]);a&&a.length>0&&(r=w().map((function(e){return t.createElement(rP,{prefixCls:k,key:e.value.toString(),disabled:"disabled"in e?e.disabled:h.disabled,value:e.value,checked:v.includes(e.value),onChange:e.onChange,className:"".concat(S,"-item"),style:e.style},e.label)})));var P={toggleOption:function(e){var t=v.indexOf(e.value),n=Ne(v);-1===t?n.push(e.value):n.splice(t,1),"value"in h||y(n);var i=w();null===d||void 0===d||d(n.filter((function(e){return b.includes(e)})).sort((function(e,t){return i.findIndex((function(t){return t.value===e}))-i.findIndex((function(e){return e.value===t}))})))},value:v,disabled:h.disabled,name:h.name,registerValue:function(e){_((function(t){return[].concat(Ne(t),[e])}))},cancelValue:function(e){_((function(t){return t.filter((function(t){return t!==e}))}))}},A=wh()(S,ae({},"".concat(S,"-rtl"),"rtl"===m),l,c,T);return E(t.createElement("div",Object.assign({className:A,style:u},M,{ref:n}),t.createElement(JM.Provider,{value:P},r)))},eP=t.forwardRef(QM),tP=t.memo(eP),nP=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},iP=function(e,n){var i,r,o=e.prefixCls,a=e.className,s=e.rootClassName,l=e.children,c=e.indeterminate,u=void 0!==c&&c,d=e.style,h=e.onMouseEnter,p=e.onMouseLeave,f=e.skipGroup,m=void 0!==f&&f,g=e.disabled,v=nP(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),y=t.useContext(Kp),x=y.getPrefixCls,b=y.direction,_=t.useContext(JM),w=t.useContext(nT).isFormItemInput,k=t.useContext(ob),S=null!==(r=(null===_||void 0===_?void 0:_.disabled)||g)&&void 0!==r?r:k,C=t.useRef(v.value);t.useEffect((function(){null===_||void 0===_||_.registerValue(v.value)}),[]),t.useEffect((function(){if(!m)return v.value!==C.current&&(null===_||void 0===_||_.cancelValue(C.current),null===_||void 0===_||_.registerValue(v.value),C.current=v.value),function(){return null===_||void 0===_?void 0:_.cancelValue(v.value)}}),[v.value]);var E=x("checkbox",o),T=pe($M(E),2),M=T[0],P=T[1],A=Object.assign({},v);_&&!m&&(A.onChange=function(){v.onChange&&v.onChange.apply(v,arguments),_.toggleOption&&_.toggleOption({label:l,value:v.value})},A.name=_.name,A.checked=_.value.includes(v.value));var I=wh()((ae(i={},"".concat(E,"-wrapper"),!0),ae(i,"".concat(E,"-rtl"),"rtl"===b),ae(i,"".concat(E,"-wrapper-checked"),A.checked),ae(i,"".concat(E,"-wrapper-disabled"),S),ae(i,"".concat(E,"-wrapper-in-form-item"),w),i),a,s,P),L=wh()(ae({},"".concat(E,"-indeterminate"),u),P),D=u?"mixed":void 0;return M(t.createElement("label",{className:I,style:d,onMouseEnter:h,onMouseLeave:p},t.createElement(GM,Object.assign({"aria-checked":D},A,{prefixCls:E,className:L,disabled:S,ref:n})),void 0!==l&&t.createElement("span",null,l)))};var rP=t.forwardRef(iP),oP=rP;oP.Group=tP,oP.__ANT_CHECKBOX=!0;var aP=oP,sP={adjustX:1,adjustY:1},lP=[0,0],cP={topLeft:{points:["bl","tl"],overflow:sP,offset:[0,-4],targetOffset:lP},topCenter:{points:["bc","tc"],overflow:sP,offset:[0,-4],targetOffset:lP},topRight:{points:["br","tr"],overflow:sP,offset:[0,-4],targetOffset:lP},bottomLeft:{points:["tl","bl"],overflow:sP,offset:[0,4],targetOffset:lP},bottomCenter:{points:["tc","bc"],overflow:sP,offset:[0,4],targetOffset:lP},bottomRight:{points:["tr","br"],overflow:sP,offset:[0,4],targetOffset:lP}};function uP(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(hg(e)){var n=e.nodeName.toLowerCase(),i=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),r=e.getAttribute("tabindex"),o=Number(r),a=null;return r&&!Number.isNaN(o)?a=o:i&&null===a&&(a=0),i&&e.disabled&&(a=null),null!==a&&(a>=0||t&&a<0)}return!1}function dP(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Ne(e.querySelectorAll("*")).filter((function(e){return uP(e,t)}));return uP(e,t)&&n.unshift(e),n}var hP=Gp.ESC,pP=Gp.TAB;var fP=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus"];function mP(e,n){var i=e.arrow,r=void 0!==i&&i,o=e.prefixCls,a=void 0===o?"rc-dropdown":o,s=e.transitionName,l=e.animation,c=e.align,u=e.placement,d=void 0===u?"bottomLeft":u,h=e.placements,p=void 0===h?cP:h,f=e.getPopupContainer,m=e.showAction,g=e.hideAction,v=e.overlayClassName,y=e.overlayStyle,x=e.visible,b=e.trigger,_=void 0===b?["hover"]:b,w=e.autoFocus,k=ln(e,fP),S=pe(t.useState(),2),C=S[0],E=S[1],T="visible"in e?x:C,M=t.useRef(null);t.useImperativeHandle(n,(function(){return M.current})),function(e){var n=e.visible,i=e.setTriggerVisible,r=e.triggerRef,o=e.onVisibleChange,a=e.autoFocus,s=t.useRef(!1),l=function(){var e,t,a,s;n&&r.current&&(null===(e=r.current)||void 0===e||null===(t=e.triggerRef)||void 0===t||null===(a=t.current)||void 0===a||null===(s=a.focus)||void 0===s||s.call(a),i(!1),"function"===typeof o&&o(!1))},c=function(){var e,t,n,i,o=dP(null===(e=r.current)||void 0===e||null===(t=e.popupRef)||void 0===t||null===(n=t.current)||void 0===n||null===(i=n.getElement)||void 0===i?void 0:i.call(n))[0];return!!(null===o||void 0===o?void 0:o.focus)&&(o.focus(),s.current=!0,!0)},u=function(e){switch(e.keyCode){case hP:l();break;case pP:var t=!1;s.current||(t=c()),t?e.preventDefault():l()}};t.useEffect((function(){return n?(window.addEventListener("keydown",u),a&&rf(c,3),function(){window.removeEventListener("keydown",u),s.current=!1}):function(){s.current=!1}}),[n])}({visible:T,setTriggerVisible:E,triggerRef:M,onVisibleChange:e.onVisibleChange,autoFocus:w});var P=function(){var n=function(){var t=e.overlay;return"function"===typeof t?t():t}();return t.createElement(t.Fragment,null,r&&t.createElement("div",{className:"".concat(a,"-arrow")}),n)},A=g;return A||-1===_.indexOf("contextMenu")||(A=["click"]),t.createElement(nv,le(le({builtinPlacements:p},k),{},{prefixCls:a,ref:M,popupClassName:wh()(v,ae({},"".concat(a,"-show-arrow"),r)),popupStyle:y,action:_,showAction:m,hideAction:A||[],popupPlacement:d,popupAlign:c,popupTransitionName:s,popupAnimation:l,popupVisible:T,stretch:function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n}()?"minWidth":"",popup:"function"===typeof e.overlay?P:P(),onPopupVisibleChange:function(t){var n=e.onVisibleChange;E(t),"function"===typeof n&&n(t)},onPopupClick:function(t){var n=e.onOverlayClick;E(!1),n&&n(t)},getPopupContainer:f}),function(){var n=e.children,i=n.props?n.props:{},r=wh()(i.className,function(){var t=e.openClassName;return void 0!==t?t:"".concat(a,"-open")}());return T&&n?t.cloneElement(n,{className:r}):n}())}var gP=t.forwardRef(mP),vP=t.createContext(null);function yP(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function xP(e){return yP(t.useContext(vP),e)}var bP=["children","locked"],_P=t.createContext(null);function wP(e){var n=e.children,i=e.locked,r=ln(e,bP),o=t.useContext(_P),a=sf((function(){return function(e,t){var n=le({},e);return Object.keys(t).forEach((function(e){var i=t[e];void 0!==i&&(n[e]=i)})),n}(o,r)}),[o,r],(function(e,t){return!i&&(e[0]!==t[0]||!dg(e[1],t[1],!0))}));return t.createElement(_P.Provider,{value:a},n)}var kP=[],SP=t.createContext(null);function CP(){return t.useContext(SP)}var EP=t.createContext(kP);function TP(e){var n=t.useContext(EP);return t.useMemo((function(){return void 0!==e?[].concat(Ne(n),[e]):n}),[n,e])}var MP=t.createContext(null),PP=t.createContext({}),AP=Gp.LEFT,IP=Gp.RIGHT,LP=Gp.UP,DP=Gp.DOWN,OP=Gp.ENTER,RP=Gp.ESC,zP=Gp.HOME,FP=Gp.END,BP=[LP,DP,AP,IP];function NP(e,t){return dP(e,!0).filter((function(e){return t.has(e)}))}function jP(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var r=NP(e,t),o=r.length,a=r.findIndex((function(e){return n===e}));return i<0?-1===a?a=o-1:a-=1:i>0&&(a+=1),r[a=(a+o)%o]}function VP(e,n,i,r,o,a,s,l,c,u){var d=t.useRef(),h=t.useRef();h.current=n;var p=function(){rf.cancel(d.current)};return t.useEffect((function(){return function(){p()}}),[]),function(t){var f=t.which;if([].concat(BP,[OP,RP,zP,FP]).includes(f)){var m,g,v,y=function(){return m=new Set,g=new Map,v=new Map,a().forEach((function(e){var t=document.querySelector("[data-menu-id='".concat(yP(r,e),"']"));t&&(m.add(t),v.set(t,e),g.set(e,t))})),m};y();var x=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(g.get(n),m),b=v.get(x),_=function(e,t,n,i){var r,o,a,s,l="prev",c="next",u="children",d="parent";if("inline"===e&&i===OP)return{inlineTrigger:!0};var h=(ae(r={},LP,l),ae(r,DP,c),r),p=(ae(o={},AP,n?c:l),ae(o,IP,n?l:c),ae(o,DP,u),ae(o,OP,u),o),f=(ae(a={},LP,l),ae(a,DP,c),ae(a,OP,u),ae(a,RP,d),ae(a,AP,n?u:d),ae(a,IP,n?d:u),a);switch(null===(s={inline:h,horizontal:p,vertical:f,inlineSub:h,horizontalSub:f,verticalSub:f}["".concat(e).concat(t?"":"Sub")])||void 0===s?void 0:s[i]){case l:return{offset:-1,sibling:!0};case c:return{offset:1,sibling:!0};case d:return{offset:-1,sibling:!1};case u:return{offset:1,sibling:!1};default:return null}}(e,1===s(b,!0).length,i,f);if(!_&&f!==zP&&f!==FP)return;(BP.includes(f)||[zP,FP].includes(f))&&t.preventDefault();var w=function(e){if(e){var t=e,n=e.querySelector("a");null!==n&&void 0!==n&&n.getAttribute("href")&&(t=n);var i=v.get(e);l(i),p(),d.current=rf((function(){h.current===i&&t.focus()}))}};if([zP,FP].includes(f)||_.sibling||!x){var k,S,C=NP(k=x&&"inline"!==e?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(x):o.current,m);S=f===zP?C[0]:f===FP?C[C.length-1]:jP(k,m,x,_.offset),w(S)}else if(_.inlineTrigger)c(b);else if(_.offset>0)c(b,!0),p(),d.current=rf((function(){y();var e=x.getAttribute("aria-controls"),t=jP(document.getElementById(e),m);w(t)}),5);else if(_.offset<0){var E=s(b,!0),T=E[E.length-2],M=g.get(T);c(T,!1),w(M)}}null===u||void 0===u||u(t)}}var WP="__RC_UTIL_PATH_SPLIT__",UP=function(e){return e.join(WP)},HP=function(e){return e.split(WP)},XP="rc-menu-more";function GP(){var e=pe(t.useState({}),2)[1],n=(0,t.useRef)(new Map),i=(0,t.useRef)(new Map),r=pe(t.useState([]),2),o=r[0],a=r[1],s=(0,t.useRef)(0),l=(0,t.useRef)(!1),c=(0,t.useCallback)((function(t,r){var o=UP(r);i.current.set(o,t),n.current.set(t,o),s.current+=1;var a,c=s.current;a=function(){c===s.current&&(l.current||e({}))},Promise.resolve().then(a)}),[]),u=(0,t.useCallback)((function(e,t){var r=UP(t);i.current.delete(r),n.current.delete(e)}),[]),d=(0,t.useCallback)((function(e){a(e)}),[]),h=(0,t.useCallback)((function(e,t){var i=n.current.get(e)||"",r=HP(i);return t&&o.includes(r[0])&&r.unshift(XP),r}),[o]),p=(0,t.useCallback)((function(e,t){return e.some((function(e){return h(e,!0).includes(t)}))}),[h]),f=(0,t.useCallback)((function(e){var t="".concat(n.current.get(e)).concat(WP),r=new Set;return Ne(i.current.keys()).forEach((function(e){e.startsWith(t)&&r.add(i.current.get(e))})),r}),[]);return t.useEffect((function(){return function(){l.current=!0}}),[]),{registerPath:c,unregisterPath:u,refreshOverflowKeys:d,isSubPathKey:p,getKeyPath:h,getKeys:function(){var e=Ne(n.current.keys());return o.length&&e.push(XP),e},getSubPathKeys:f}}function YP(e){var n=t.useRef(e);n.current=e;var i=t.useCallback((function(){for(var e,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return null===(e=n.current)||void 0===e?void 0:e.call.apply(e,[n].concat(i))}),[]);return e?i:void 0}var qP=Math.random().toFixed(5).toString().slice(2),KP=0;function $P(e,n,i,r){var o=t.useContext(_P),a=o.activeKey,s=o.onActive,l=o.onInactive,c={active:a===e};return n||(c.onMouseEnter=function(t){null===i||void 0===i||i({key:e,domEvent:t}),s(e)},c.onMouseLeave=function(t){null===r||void 0===r||r({key:e,domEvent:t}),l(e)}),c}var ZP=["item"];function JP(e){var t=e.item,n=ln(e,ZP);return Object.defineProperty(n,"item",{get:function(){return cp(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}function QP(e){var n=e.icon,i=e.props,r=e.children;return("function"===typeof n?t.createElement(n,le({},i)):n)||r||null}function eA(e){var n=t.useContext(_P),i=n.mode,r=n.rtl,o=n.inlineIndent;if("inline"!==i)return null;return r?{paddingRight:e*o}:{paddingLeft:e*o}}var tA=["title","attribute","elementRef"],nA=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],iA=["active"],rA=function(e){Pe(i,e);var n=De(i);function i(){return Ce(this,i),n.apply(this,arguments)}return Te(i,[{key:"render",value:function(){var e=this.props,n=e.title,i=e.attribute,r=e.elementRef,o=Yp(ln(e,tA),["eventKey"]);return cp(!i,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),t.createElement(VC.Item,p({},i,{title:"string"===typeof n?n:void 0},o,{ref:r}))}}]),i}(t.Component),oA=function(e){var n,i=e.style,r=e.className,o=e.eventKey,a=(e.warnKey,e.disabled),s=e.itemIcon,l=e.children,c=e.role,u=e.onMouseEnter,d=e.onMouseLeave,h=e.onClick,f=e.onKeyDown,m=e.onFocus,g=ln(e,nA),v=xP(o),y=t.useContext(_P),x=y.prefixCls,b=y.onItemClick,_=y.disabled,w=y.overflowDisabled,k=y.itemIcon,S=y.selectedKeys,C=y.onActive,E=t.useContext(PP)._internalRenderMenuItem,T="".concat(x,"-item"),M=t.useRef(),P=t.useRef(),A=_||a,I=TP(o);var L=function(e){return{key:o,keyPath:Ne(I).reverse(),item:M.current,domEvent:e}},D=s||k,O=$P(o,A,u,d),R=O.active,z=ln(O,iA),F=S.includes(o),B=eA(I.length),N={};"option"===e.role&&(N["aria-selected"]=F);var j=t.createElement(rA,p({ref:M,elementRef:P,role:null===c?"none":c||"menuitem",tabIndex:a?null:-1,"data-menu-id":w&&v?null:v},g,z,N,{component:"li","aria-disabled":a,style:le(le({},B),i),className:wh()(T,(n={},ae(n,"".concat(T,"-active"),R),ae(n,"".concat(T,"-selected"),F),ae(n,"".concat(T,"-disabled"),A),n),r),onClick:function(e){if(!A){var t=L(e);null===h||void 0===h||h(JP(t)),b(t)}},onKeyDown:function(e){if(null===f||void 0===f||f(e),e.which===Gp.ENTER){var t=L(e);null===h||void 0===h||h(JP(t)),b(t)}},onFocus:function(e){C(o),null===m||void 0===m||m(e)}}),l,t.createElement(QP,{props:le(le({},e),{},{isSelected:F}),icon:D}));return E&&(j=E(j,e,{selected:F})),j};var aA=function(e){var n=e.eventKey,i=CP(),r=TP(n);return t.useEffect((function(){if(i)return i.registerPath(n,r),function(){i.unregisterPath(n,r)}}),[r]),i?null:t.createElement(oA,e)},sA=["className","children"],lA=function(e,n){var i=e.className,r=e.children,o=ln(e,sA),a=t.useContext(_P),s=a.prefixCls,l=a.mode,c=a.rtl;return t.createElement("ul",p({className:wh()(s,c&&"".concat(s,"-rtl"),"".concat(s,"-sub"),"".concat(s,"-").concat("inline"===l?"inline":"vertical"),i),role:"menu"},o,{"data-menu-list":!0,ref:n}),r)},cA=t.forwardRef(lA);cA.displayName="SubMenuList";var uA=cA,dA=["label","children","key","type"];function hA(e,n){return cb(e).map((function(e,i){if(t.isValidElement(e)){var r,o,a=e.key,s=null!==(r=null===(o=e.props)||void 0===o?void 0:o.eventKey)&&void 0!==r?r:a;(null===s||void 0===s)&&(s="tmp_key-".concat([].concat(Ne(n),[i]).join("-")));var l={key:s,eventKey:s};return t.cloneElement(e,l)}return e}))}function pA(e){return(e||[]).map((function(e,n){if(e&&"object"===te(e)){var i=e,r=i.label,o=i.children,a=i.key,s=i.type,l=ln(i,dA),c=null!==a&&void 0!==a?a:"tmp-".concat(n);return o||"group"===s?"group"===s?t.createElement(LA,p({key:c},l,{title:r}),pA(o)):t.createElement(CA,p({key:c},l,{title:r}),pA(o)):"divider"===s?t.createElement(DA,p({key:c},l)):t.createElement(aA,p({key:c},l),r)}return null})).filter((function(e){return e}))}function fA(e,t,n){var i=e;return t&&(i=pA(t)),hA(i,n)}var mA={adjustX:1,adjustY:1},gA={topLeft:{points:["bl","tl"],overflow:mA,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:mA,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:mA,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:mA,offset:[4,0]}},vA={topLeft:{points:["bl","tl"],overflow:mA,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:mA,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:mA,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:mA,offset:[4,0]}};function yA(e,t,n){return t||(n?n[e]||n.other:void 0)}var xA={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function bA(e){var n=e.prefixCls,i=e.visible,r=e.children,o=e.popup,a=e.popupClassName,s=e.popupOffset,l=e.disabled,c=e.mode,u=e.onVisibleChange,d=t.useContext(_P),h=d.getPopupContainer,p=d.rtl,f=d.subMenuOpenDelay,m=d.subMenuCloseDelay,g=d.builtinPlacements,v=d.triggerSubMenuAction,y=d.forceSubMenuRender,x=d.rootClassName,b=d.motion,_=d.defaultMotions,w=pe(t.useState(!1),2),k=w[0],S=w[1],C=le(le({},p?vA:gA),g),E=xA[c],T=yA(c,b,_),M=t.useRef(T);"inline"!==c&&(M.current=T);var P=le(le({},M.current),{},{leavedClassName:"".concat(n,"-hidden"),removeOnLeave:!1,motionAppear:!0}),A=t.useRef();return t.useEffect((function(){return A.current=rf((function(){S(i)})),function(){rf.cancel(A.current)}}),[i]),t.createElement(nv,{prefixCls:n,popupClassName:wh()("".concat(n,"-popup"),ae({},"".concat(n,"-rtl"),p),a,x),stretch:"horizontal"===c?"minWidth":null,getPopupContainer:h,builtinPlacements:C,popupPlacement:E,popupVisible:k,popup:o,popupAlign:s&&{offset:s},action:l?[]:[v],mouseEnterDelay:f,mouseLeaveDelay:m,onPopupVisibleChange:u,forceRender:y,popupMotion:P},r)}function _A(e){var n=e.id,i=e.open,r=e.keyPath,o=e.children,a="inline",s=t.useContext(_P),l=s.prefixCls,c=s.forceSubMenuRender,u=s.motion,d=s.defaultMotions,h=s.mode,f=t.useRef(!1);f.current=h===a;var m=pe(t.useState(!f.current),2),g=m[0],v=m[1],y=!!f.current&&i;t.useEffect((function(){f.current&&v(!1)}),[h]);var x=le({},yA(a,u,d));r.length>1&&(x.motionAppear=!1);var b=x.onVisibleChanged;return x.onVisibleChanged=function(e){return f.current||e||v(!0),null===b||void 0===b?void 0:b(e)},g?null:t.createElement(wP,{mode:a,locked:!f.current},t.createElement(im,p({visible:y},x,{forceRender:c,removeOnLeave:!1,leavedClassName:"".concat(l,"-hidden")}),(function(e){var i=e.className,r=e.style;return t.createElement(uA,{id:n,className:i,style:r},o)})))}var wA=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],kA=["active"],SA=function(e){var n,i=e.style,r=e.className,o=e.title,a=e.eventKey,s=(e.warnKey,e.disabled),l=e.internalPopupClose,c=e.children,u=e.itemIcon,d=e.expandIcon,h=e.popupClassName,f=e.popupOffset,m=e.onClick,g=e.onMouseEnter,v=e.onMouseLeave,y=e.onTitleClick,x=e.onTitleMouseEnter,b=e.onTitleMouseLeave,_=ln(e,wA),w=xP(a),k=t.useContext(_P),S=k.prefixCls,C=k.mode,E=k.openKeys,T=k.disabled,M=k.overflowDisabled,P=k.activeKey,A=k.selectedKeys,I=k.itemIcon,L=k.expandIcon,D=k.onItemClick,O=k.onOpenChange,R=k.onActive,z=t.useContext(PP)._internalRenderSubMenuItem,F=t.useContext(MP).isSubPathKey,B=TP(),N="".concat(S,"-submenu"),j=T||s,V=t.useRef(),W=t.useRef();var U=u||I,H=d||L,X=E.includes(a),G=!M&&X,Y=F(A,a),q=$P(a,j,x,b),K=q.active,$=ln(q,kA),Z=pe(t.useState(!1),2),J=Z[0],Q=Z[1],ee=function(e){j||Q(e)},te=t.useMemo((function(){return K||"inline"!==C&&(J||F([P],a))}),[C,K,P,J,a,F]),ne=eA(B.length),ie=YP((function(e){null===m||void 0===m||m(JP(e)),D(e)})),re=w&&"".concat(w,"-popup"),oe=t.createElement("div",p({role:"menuitem",style:ne,className:"".concat(N,"-title"),tabIndex:j?null:-1,ref:V,title:"string"===typeof o?o:null,"data-menu-id":M&&w?null:w,"aria-expanded":G,"aria-haspopup":!0,"aria-controls":re,"aria-disabled":j,onClick:function(e){j||(null===y||void 0===y||y({key:a,domEvent:e}),"inline"===C&&O(a,!X))},onFocus:function(){R(a)}},$),o,t.createElement(QP,{icon:"horizontal"!==C?H:null,props:le(le({},e),{},{isOpen:G,isSubMenu:!0})},t.createElement("i",{className:"".concat(N,"-arrow")}))),se=t.useRef(C);if("inline"!==C&&B.length>1?se.current="vertical":se.current=C,!M){var ce=se.current;oe=t.createElement(bA,{mode:ce,prefixCls:N,visible:!l&&G&&"inline"!==C,popupClassName:h,popupOffset:f,popup:t.createElement(wP,{mode:"horizontal"===ce?"vertical":ce},t.createElement(uA,{id:re,ref:W},c)),disabled:j,onVisibleChange:function(e){"inline"!==C&&O(a,e)}},oe)}var ue=t.createElement(VC.Item,p({role:"none"},_,{component:"li",style:i,className:wh()(N,"".concat(N,"-").concat(C),r,(n={},ae(n,"".concat(N,"-open"),G),ae(n,"".concat(N,"-active"),te),ae(n,"".concat(N,"-selected"),Y),ae(n,"".concat(N,"-disabled"),j),n)),onMouseEnter:function(e){ee(!0),null===g||void 0===g||g({key:a,domEvent:e})},onMouseLeave:function(e){ee(!1),null===v||void 0===v||v({key:a,domEvent:e})}}),oe,!M&&t.createElement(_A,{id:re,open:G,keyPath:B},c));return z&&(ue=z(ue,e,{selected:Y,active:te,open:G,disabled:j})),t.createElement(wP,{onItemClick:ie,mode:"horizontal"===C?"vertical":C,itemIcon:U,expandIcon:H},ue)};function CA(e){var n,i=e.eventKey,r=e.children,o=TP(i),a=hA(r,o),s=CP();return t.useEffect((function(){if(s)return s.registerPath(i,o),function(){s.unregisterPath(i,o)}}),[o]),n=s?a:t.createElement(SA,e,a),t.createElement(EP.Provider,{value:o},n)}var EA=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],TA=[],MA=t.forwardRef((function(e,n){var i,o,a=e,s=a.prefixCls,l=void 0===s?"rc-menu":s,c=a.rootClassName,u=a.style,d=a.className,h=a.tabIndex,f=void 0===h?0:h,m=a.items,g=a.children,v=a.direction,y=a.id,x=a.mode,b=void 0===x?"vertical":x,_=a.inlineCollapsed,w=a.disabled,k=a.disabledOverflow,S=a.subMenuOpenDelay,C=void 0===S?.1:S,E=a.subMenuCloseDelay,T=void 0===E?.1:E,M=a.forceSubMenuRender,P=a.defaultOpenKeys,A=a.openKeys,I=a.activeKey,L=a.defaultActiveFirst,D=a.selectable,O=void 0===D||D,R=a.multiple,z=void 0!==R&&R,F=a.defaultSelectedKeys,B=a.selectedKeys,N=a.onSelect,j=a.onDeselect,V=a.inlineIndent,W=void 0===V?24:V,U=a.motion,H=a.defaultMotions,X=a.triggerSubMenuAction,G=void 0===X?"hover":X,Y=a.builtinPlacements,q=a.itemIcon,K=a.expandIcon,$=a.overflowedIndicator,Z=void 0===$?"...":$,J=a.overflowedIndicatorPopupClassName,Q=a.getPopupContainer,ee=a.onClick,te=a.onOpenChange,ne=a.onKeyDown,ie=(a.openAnimation,a.openTransitionName,a._internalRenderMenuItem),re=a._internalRenderSubMenuItem,oe=ln(a,EA),se=t.useMemo((function(){return fA(g,m,TA)}),[g,m]),ce=pe(t.useState(!1),2),ue=ce[0],de=ce[1],he=t.useRef(),fe=function(e){var n=pe(Hp(e,{value:e}),2),i=n[0],r=n[1];return t.useEffect((function(){KP+=1;var e="".concat(qP,"-").concat(KP);r("rc-menu-uuid-".concat(e))}),[]),i}(y),me="rtl"===v;var ge=Hp(P,{value:A,postState:function(e){return e||TA}}),ve=pe(ge,2),ye=ve[0],xe=ve[1],be=function(e){function t(){xe(e),null===te||void 0===te||te(e)}arguments.length>1&&void 0!==arguments[1]&&arguments[1]?(0,r.flushSync)(t):t()},_e=pe(t.useState(ye),2),we=_e[0],ke=_e[1],Se=t.useRef(!1),Ce=pe(t.useMemo((function(){return"inline"!==b&&"vertical"!==b||!_?[b,!1]:["vertical",_]}),[b,_]),2),Ee=Ce[0],Te=Ce[1],Me="inline"===Ee,Pe=pe(t.useState(Ee),2),Ae=Pe[0],Ie=Pe[1],Le=pe(t.useState(Te),2),De=Le[0],Oe=Le[1];t.useEffect((function(){Ie(Ee),Oe(Te),Se.current&&(Me?xe(we):be(TA))}),[Ee,Te]);var Re=pe(t.useState(0),2),ze=Re[0],Fe=Re[1],Be=ze>=se.length-1||"horizontal"!==Ae||k;t.useEffect((function(){Me&&ke(ye)}),[ye]),t.useEffect((function(){return Se.current=!0,function(){Se.current=!1}}),[]);var je=GP(),Ve=je.registerPath,We=je.unregisterPath,Ue=je.refreshOverflowKeys,He=je.isSubPathKey,Xe=je.getKeyPath,Ge=je.getKeys,Ye=je.getSubPathKeys,qe=t.useMemo((function(){return{registerPath:Ve,unregisterPath:We}}),[Ve,We]),Ke=t.useMemo((function(){return{isSubPathKey:He}}),[He]);t.useEffect((function(){Ue(Be?TA:se.slice(ze+1).map((function(e){return e.key})))}),[ze,Be]);var $e=pe(Hp(I||L&&(null===(i=se[0])||void 0===i?void 0:i.key),{value:I}),2),Ze=$e[0],Je=$e[1],Qe=YP((function(e){Je(e)})),et=YP((function(){Je(void 0)}));(0,t.useImperativeHandle)(n,(function(){return{list:he.current,focus:function(e){var t,n,i,r,o=null!==Ze&&void 0!==Ze?Ze:null===(t=se.find((function(e){return!e.props.disabled})))||void 0===t?void 0:t.key;o&&(null===(n=he.current)||void 0===n||null===(i=n.querySelector("li[data-menu-id='".concat(yP(fe,o),"']")))||void 0===i||null===(r=i.focus)||void 0===r||r.call(i,e))}}}));var tt=Hp(F||[],{value:B,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?TA:[e]}}),nt=pe(tt,2),it=nt[0],rt=nt[1],ot=YP((function(e){null===ee||void 0===ee||ee(JP(e)),function(e){if(O){var t,n=e.key,i=it.includes(n);t=z?i?it.filter((function(e){return e!==n})):[].concat(Ne(it),[n]):[n],rt(t);var r=le(le({},e),{},{selectedKeys:t});i?null===j||void 0===j||j(r):null===N||void 0===N||N(r)}!z&&ye.length&&"inline"!==Ae&&be(TA)}(e)})),at=YP((function(e,t){var n=ye.filter((function(t){return t!==e}));if(t)n.push(e);else if("inline"!==Ae){var i=Ye(e);n=n.filter((function(e){return!i.has(e)}))}dg(ye,n,!0)||be(n,!0)})),st=YP(Q),lt=VP(Ae,Ze,me,fe,he,Ge,Xe,Je,(function(e,t){var n=null!==t&&void 0!==t?t:!ye.includes(e);at(e,n)}),ne);t.useEffect((function(){de(!0)}),[]);var ct=t.useMemo((function(){return{_internalRenderMenuItem:ie,_internalRenderSubMenuItem:re}}),[ie,re]),ut="horizontal"!==Ae||k?se:se.map((function(e,n){return t.createElement(wP,{key:e.key,overflowDisabled:n>ze},e)})),dt=t.createElement(VC,p({id:y,ref:he,prefixCls:"".concat(l,"-overflow"),component:"ul",itemComponent:aA,className:wh()(l,"".concat(l,"-root"),"".concat(l,"-").concat(Ae),d,(o={},ae(o,"".concat(l,"-inline-collapsed"),De),ae(o,"".concat(l,"-rtl"),me),o),c),dir:v,style:u,role:"menu",tabIndex:f,data:ut,renderRawItem:function(e){return e},renderRawRest:function(e){var n=e.length,i=n?se.slice(-n):null;return t.createElement(CA,{eventKey:XP,title:Z,disabled:Be,internalPopupClose:0===n,popupClassName:J},i)},maxCount:"horizontal"!==Ae||k?VC.INVALIDATE:VC.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){Fe(e)},onKeyDown:lt},oe));return t.createElement(PP.Provider,{value:ct},t.createElement(vP.Provider,{value:fe},t.createElement(wP,{prefixCls:l,rootClassName:c,mode:Ae,openKeys:ye,rtl:me,disabled:w,motion:ue?U:null,defaultMotions:ue?H:null,activeKey:Ze,onActive:Qe,onInactive:et,selectedKeys:it,inlineIndent:W,subMenuOpenDelay:C,subMenuCloseDelay:T,forceSubMenuRender:M,builtinPlacements:Y,triggerSubMenuAction:G,getPopupContainer:st,itemIcon:q,expandIcon:K,onItemClick:ot,onOpenChange:at},t.createElement(MP.Provider,{value:Ke},dt),t.createElement("div",{style:{display:"none"},"aria-hidden":!0},t.createElement(SP.Provider,{value:qe},se)))))})),PA=["className","title","eventKey","children"],AA=["children"],IA=function(e){var n=e.className,i=e.title,r=(e.eventKey,e.children),o=ln(e,PA),a=t.useContext(_P).prefixCls,s="".concat(a,"-item-group");return t.createElement("li",p({role:"presentation"},o,{onClick:function(e){return e.stopPropagation()},className:wh()(s,n)}),t.createElement("div",{role:"presentation",className:"".concat(s,"-title"),title:"string"===typeof i?i:void 0},i),t.createElement("ul",{role:"group",className:"".concat(s,"-list")},r))};function LA(e){var n=e.children,i=ln(e,AA),r=hA(n,TP(i.eventKey));return CP()?r:t.createElement(IA,Yp(i,["warnKey"]),r)}function DA(e){var n=e.className,i=e.style,r=t.useContext(_P).prefixCls;return CP()?null:t.createElement("li",{className:wh()("".concat(r,"-item-divider"),n),style:i})}var OA=MA;OA.Item=aA,OA.SubMenu=CA,OA.ItemGroup=LA,OA.Divider=DA;var RA=OA,zA={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},FA=function(e,n){return t.createElement(Rp,le(le({},e),{},{ref:n,icon:zA}))};FA.displayName="EllipsisOutlined";var BA=t.forwardRef(FA),NA=function(e){var t;return ae({},e.componentCls,(ae(t={},"".concat(e.antCls,"-motion-collapse-legacy"),{overflow:"hidden","&-active":{transition:"height ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut,",\n        opacity ").concat(e.motionDurationMid," ").concat(e.motionEaseInOut," !important")}}),ae(t,"".concat(e.antCls,"-motion-collapse"),{overflow:"hidden",transition:"height ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut,",\n        opacity ").concat(e.motionDurationMid," ").concat(e.motionEaseInOut," !important")}),t))},jA=function(e){var t,n=e.componentCls,i=e.motionDurationSlow,r=e.menuHorizontalHeight,o=e.colorSplit,a=e.lineWidth,s=e.lineType,l=e.menuItemPaddingInline;return ae({},"".concat(n,"-horizontal"),(ae(t={lineHeight:"".concat(r,"px"),border:0,borderBottom:"".concat(a,"px ").concat(s," ").concat(o),boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'}},"".concat(n,"-item, ").concat(n,"-submenu"),{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:l}),ae(t,"> ".concat(n,"-item:hover,\n        > ").concat(n,"-item-active,\n        > ").concat(n,"-submenu ").concat(n,"-submenu-title:hover"),{backgroundColor:"transparent"}),ae(t,"".concat(n,"-item, ").concat(n,"-submenu-title"),{transition:["border-color ".concat(i),"background ".concat(i)].join(",")}),ae(t,"".concat(n,"-submenu-arrow"),{display:"none"}),t))},VA=function(e){var t,n=e.componentCls,i=e.menuArrowOffset;return ae(t={},"".concat(n,"-rtl"),{direction:"rtl"}),ae(t,"".concat(n,"-submenu-rtl"),{transformOrigin:"100% 0"}),ae(t,"".concat(n,"-rtl").concat(n,"-vertical,\n    ").concat(n,"-submenu-rtl ").concat(n,"-vertical"),ae({},"".concat(n,"-submenu-arrow"),{"&::before":{transform:"rotate(-45deg) translateY(-".concat(i,")")},"&::after":{transform:"rotate(45deg) translateY(".concat(i,")")}})),t},WA=function(e){return Object.assign({},Ly(e))},UA=function(e,t){var n,i,r,o,a,s,l=e.componentCls,c=e.colorItemText,u=e.colorItemTextSelected,d=e.colorGroupTitle,h=e.colorItemBg,p=e.colorSubItemBg,f=e.colorItemBgSelected,m=e.colorActiveBarHeight,g=e.colorActiveBarWidth,v=e.colorActiveBarBorderSize,y=e.motionDurationSlow,x=e.motionEaseInOut,b=e.motionEaseOut,_=e.menuItemPaddingInline,w=e.motionDurationMid,k=e.colorItemTextHover,S=e.lineType,C=e.colorSplit,E=e.colorItemTextDisabled,T=e.colorDangerItemText,M=e.colorDangerItemTextHover,P=e.colorDangerItemTextSelected,A=e.colorDangerItemBgActive,I=e.colorDangerItemBgSelected,L=e.colorItemBgHover,D=e.menuSubMenuBg,O=e.colorItemTextSelectedHorizontal,R=e.colorItemBgSelectedHorizontal;return ae({},"".concat(l,"-").concat(t),(ae(s={color:c,background:h},"&".concat(l,"-root:focus-visible"),Object.assign({},WA(e))),ae(s,"".concat(l,"-item-group-title"),{color:d}),ae(s,"".concat(l,"-submenu-selected"),ae({},"> ".concat(l,"-submenu-title"),{color:u})),ae(s,"".concat(l,"-item-disabled, ").concat(l,"-submenu-disabled"),{color:"".concat(E," !important")}),ae(s,"".concat(l,"-item:hover, ").concat(l,"-submenu-title:hover"),ae({},"&:not(".concat(l,"-item-selected):not(").concat(l,"-submenu-selected)"),{color:k})),ae(s,"&:not(".concat(l,"-horizontal)"),(ae(n={},"".concat(l,"-item:not(").concat(l,"-item-selected)"),{"&:hover":{backgroundColor:L},"&:active":{backgroundColor:f}}),ae(n,"".concat(l,"-submenu-title"),{"&:hover":{backgroundColor:L},"&:active":{backgroundColor:f}}),n)),ae(s,"".concat(l,"-item-danger"),(ae(i={color:T},"&".concat(l,"-item:hover"),ae({},"&:not(".concat(l,"-item-selected):not(").concat(l,"-submenu-selected)"),{color:M})),ae(i,"&".concat(l,"-item:active"),{background:A}),i)),ae(s,"".concat(l,"-item a"),{"&, &:hover":{color:"inherit"}}),ae(s,"".concat(l,"-item-selected"),(ae(r={color:u},"&".concat(l,"-item-danger"),{color:P}),ae(r,"a, a:hover",{color:"inherit"}),r)),ae(s,"& ".concat(l,"-item-selected"),ae({backgroundColor:f},"&".concat(l,"-item-danger"),{backgroundColor:I})),ae(s,"".concat(l,"-item, ").concat(l,"-submenu-title"),ae({},"&:not(".concat(l,"-item-disabled):focus-visible"),Object.assign({},WA(e)))),ae(s,"&".concat(l,"-submenu > ").concat(l),{backgroundColor:D}),ae(s,"&".concat(l,"-popup > ").concat(l),{backgroundColor:h}),ae(s,"&".concat(l,"-horizontal"),Object.assign(Object.assign({},"dark"===t?{borderBottom:0}:{}),ae({},"> ".concat(l,"-item, > ").concat(l,"-submenu"),(ae(o={top:v,marginTop:-v,marginBottom:0,borderRadius:0,"&::after":{position:"absolute",insetInline:_,bottom:0,borderBottom:"".concat(m,"px solid transparent"),transition:"border-color ".concat(y," ").concat(x),content:'""'}},"&:hover, &-active, &-open",{"&::after":{borderBottomWidth:m,borderBottomColor:O}}),ae(o,"&-selected",{color:O,backgroundColor:R,"&::after":{borderBottomWidth:m,borderBottomColor:O}}),o)))),ae(s,"&".concat(l,"-root"),ae({},"&".concat(l,"-inline, &").concat(l,"-vertical"),{borderInlineEnd:"".concat(v,"px ").concat(S," ").concat(C)})),ae(s,"&".concat(l,"-inline"),(ae(a={},"".concat(l,"-sub").concat(l,"-inline"),{background:p}),ae(a,"".concat(l,"-item, ").concat(l,"-submenu-title"),v&&g?{width:"calc(100% + ".concat(v,"px)")}:{}),ae(a,"".concat(l,"-item"),ae({position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:"".concat(g,"px solid ").concat(u),transform:"scaleY(0.0001)",opacity:0,transition:["transform ".concat(w," ").concat(b),"opacity ".concat(w," ").concat(b)].join(","),content:'""'}},"&".concat(l,"-item-danger"),{"&::after":{borderInlineEndColor:P}})),ae(a,"".concat(l,"-selected, ").concat(l,"-item-selected"),{"&::after":{transform:"scaleY(1)",opacity:1,transition:["transform ".concat(w," ").concat(x),"opacity ".concat(w," ").concat(x)].join(",")}}),a)),s))},HA=function(e){var t,n=e.componentCls,i=e.menuItemHeight,r=e.itemMarginInline,o=e.padding,a=e.menuArrowSize,s=e.marginXS,l=e.marginXXS,c=o+a+s;return ae(t={},"".concat(n,"-item"),{position:"relative"}),ae(t,"".concat(n,"-item, ").concat(n,"-submenu-title"),{height:i,lineHeight:"".concat(i,"px"),paddingInline:o,overflow:"hidden",textOverflow:"ellipsis",marginInline:r,marginBlock:l,width:"calc(100% - ".concat(2*r,"px)")}),ae(t,"".concat(n,"-submenu"),{paddingBottom:.02}),ae(t,"> ".concat(n,"-item,\n            > ").concat(n,"-submenu > ").concat(n,"-submenu-title"),{height:i,lineHeight:"".concat(i,"px")}),ae(t,"".concat(n,"-item-group-list ").concat(n,"-submenu-title,\n            ").concat(n,"-submenu-title"),{paddingInlineEnd:c}),t},XA=function(e){var t,n,i,r,o,a,s,l=e.componentCls,c=e.iconCls,u=e.menuItemHeight,d=e.colorTextLightSolid,h=e.dropdownWidth,p=e.controlHeightLG,f=e.motionDurationMid,m=e.motionEaseOut,g=e.paddingXL,v=e.fontSizeSM,y=e.fontSizeLG,x=e.motionDurationSlow,b=e.paddingXS,_=e.boxShadowSecondary,w={height:u,lineHeight:"".concat(u,"px"),listStylePosition:"inside",listStyleType:"disc"};return[(t={},ae(t,l,ae({},"&-inline, &-vertical",Object.assign(ae({},"&".concat(l,"-root"),{boxShadow:"none"}),HA(e)))),ae(t,"".concat(l,"-submenu-popup"),ae({},"".concat(l,"-vertical"),Object.assign(Object.assign({},HA(e)),{boxShadow:_}))),t),ae({},"".concat(l,"-submenu-popup ").concat(l,"-vertical").concat(l,"-sub"),{minWidth:h,maxHeight:"calc(100vh - ".concat(2.5*p,"px)"),padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}),ae({},"".concat(l,"-inline"),(r={width:"100%"},ae(r,"&".concat(l,"-root"),ae({},"".concat(l,"-item, ").concat(l,"-submenu-title"),(n={display:"flex",alignItems:"center",transition:["border-color ".concat(x),"background ".concat(x),"padding ".concat(f," ").concat(m)].join(",")},ae(n,"> ".concat(l,"-title-content"),{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"}),ae(n,"> *",{flex:"none"}),n))),ae(r,"".concat(l,"-sub").concat(l,"-inline"),(i={padding:0,border:0,borderRadius:0,boxShadow:"none"},ae(i,"& > ".concat(l,"-submenu > ").concat(l,"-submenu-title"),w),ae(i,"& ".concat(l,"-item-group-title"),{paddingInlineStart:g}),i)),ae(r,"".concat(l,"-item"),w),r)),ae({},"".concat(l,"-inline-collapsed"),(s={width:2*u},ae(s,"&".concat(l,"-root"),ae({},"".concat(l,"-item, ").concat(l,"-submenu ").concat(l,"-submenu-title"),ae({},"> ".concat(l,"-inline-collapsed-noicon"),{fontSize:y,textAlign:"center"}))),ae(s,"> ".concat(l,"-item,\n          > ").concat(l,"-item-group > ").concat(l,"-item-group-list > ").concat(l,"-item,\n          > ").concat(l,"-item-group > ").concat(l,"-item-group-list > ").concat(l,"-submenu > ").concat(l,"-submenu-title,\n          > ").concat(l,"-submenu > ").concat(l,"-submenu-title"),(o={insetInlineStart:0,paddingInline:"calc(50% - ".concat(v,"px)"),textOverflow:"clip"},ae(o,"\n            ".concat(l,"-submenu-arrow,\n            ").concat(l,"-submenu-expand-icon\n          "),{opacity:0}),ae(o,"".concat(l,"-item-icon, ").concat(c),{margin:0,fontSize:y,lineHeight:"".concat(u,"px"),"+ span":{display:"inline-block",opacity:0}}),o)),ae(s,"".concat(l,"-item-icon, ").concat(c),{display:"inline-block"}),ae(s,"&-tooltip",(a={pointerEvents:"none"},ae(a,"".concat(l,"-item-icon, ").concat(c),{display:"none"}),ae(a,"a, a:hover",{color:d}),a)),ae(s,"".concat(l,"-item-group-title"),Object.assign(Object.assign({},Ty),{paddingInline:b})),s))]},GA=function(e){var t,n,i=e.componentCls,r=e.fontSize,o=e.motionDurationSlow,a=e.motionDurationMid,s=e.motionEaseInOut,l=e.motionEaseOut,c=e.iconCls,u=e.controlHeightSM;return ae(n={},"".concat(i,"-item, ").concat(i,"-submenu-title"),(ae(t={position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:["border-color ".concat(o),"background ".concat(o),"padding ".concat(o," ").concat(s)].join(",")},"".concat(i,"-item-icon, ").concat(c),{minWidth:r,fontSize:r,transition:["font-size ".concat(a," ").concat(l),"margin ".concat(o," ").concat(s),"color ".concat(o)].join(","),"+ span":{marginInlineStart:u-r,opacity:1,transition:["opacity ".concat(o," ").concat(s),"margin ".concat(o),"color ".concat(o)].join(",")}}),ae(t,"".concat(i,"-item-icon"),Object.assign({},Py())),ae(t,"&".concat(i,"-item-only-child"),ae({},"> ".concat(c,", > ").concat(i,"-item-icon"),{marginInlineEnd:0})),t)),ae(n,"".concat(i,"-item-disabled, ").concat(i,"-submenu-disabled"),ae({background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important"}},"> ".concat(i,"-submenu-title"),{color:"inherit !important",cursor:"not-allowed"})),n},YA=function(e){var t,n=e.componentCls,i=e.motionDurationSlow,r=e.motionEaseInOut,o=e.borderRadius,a=e.menuArrowSize,s=e.menuArrowOffset;return ae({},"".concat(n,"-submenu"),(ae(t={},"&-expand-icon, &-arrow",{position:"absolute",top:"50%",insetInlineEnd:e.margin,width:a,color:"currentcolor",transform:"translateY(-50%)",transition:"transform ".concat(i," ").concat(r,", opacity ").concat(i)}),ae(t,"&-arrow",{"&::before, &::after":{position:"absolute",width:.6*a,height:.15*a,backgroundColor:"currentcolor",borderRadius:o,transition:["background ".concat(i," ").concat(r),"transform ".concat(i," ").concat(r),"top ".concat(i," ").concat(r),"color ".concat(i," ").concat(r)].join(","),content:'""'},"&::before":{transform:"rotate(45deg) translateY(-".concat(s,")")},"&::after":{transform:"rotate(-45deg) translateY(".concat(s,")")}}),t))},qA=function(e){var t,n,i,r,o=e.antCls,a=e.componentCls,s=e.fontSize,l=e.motionDurationSlow,c=e.motionDurationMid,u=e.motionEaseInOut,d=e.lineHeight,h=e.paddingXS,p=e.padding,f=e.colorSplit,m=e.lineWidth,g=e.zIndexPopup,v=e.borderRadiusLG,y=e.radiusSubMenuItem,x=e.menuArrowSize,b=e.menuArrowOffset,_=e.lineType,w=e.menuPanelMaskInset;return[ae({"":ae({},"".concat(a),Object.assign(Object.assign({},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),ae({},"&-hidden",{display:"none"})))},"".concat(a,"-submenu-hidden"),{display:"none"}),ae({},a,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},My(e)),{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),(t={marginBottom:0,paddingInlineStart:0,fontSize:s,lineHeight:0,listStyle:"none",outline:"none",transition:["background ".concat(l),"width ".concat(l," cubic-bezier(0.2, 0, 0, 1) 0s")].join(",")},ae(t,"ul, ol",{margin:0,padding:0,listStyle:"none"}),ae(t,"&-overflow",ae({display:"flex"},"".concat(a,"-item"),{flex:"none"})),ae(t,"".concat(a,"-item, ").concat(a,"-submenu, ").concat(a,"-submenu-title"),{borderRadius:e.radiusItem}),ae(t,"".concat(a,"-item-group-title"),{padding:"".concat(h,"px ").concat(p,"px"),fontSize:s,lineHeight:d,transition:"all ".concat(l)}),ae(t,"&-horizontal ".concat(a,"-submenu"),{transition:["border-color ".concat(l," ").concat(u),"background ".concat(l," ").concat(u)].join(",")}),ae(t,"".concat(a,"-submenu, ").concat(a,"-submenu-inline"),{transition:["border-color ".concat(l," ").concat(u),"background ".concat(l," ").concat(u),"padding ".concat(c," ").concat(u)].join(",")}),ae(t,"".concat(a,"-submenu ").concat(a,"-sub"),{cursor:"initial",transition:["background ".concat(l," ").concat(u),"padding ".concat(l," ").concat(u)].join(",")}),ae(t,"".concat(a,"-title-content"),{transition:"color ".concat(l)}),ae(t,"".concat(a,"-item a"),{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}}),ae(t,"".concat(a,"-item-divider"),{overflow:"hidden",lineHeight:0,borderColor:f,borderStyle:_,borderWidth:0,borderTopWidth:m,marginBlock:m,padding:0,"&-dashed":{borderStyle:"dashed"}}),t)),GA(e)),(i={},ae(i,"".concat(a,"-item-group"),ae({},"".concat(a,"-item-group-list"),ae({margin:0,padding:0},"".concat(a,"-item, ").concat(a,"-submenu-title"),{paddingInline:"".concat(2*s,"px ").concat(p,"px")}))),ae(i,"&-submenu",ae({"&-popup":{position:"absolute",zIndex:g,background:"transparent",borderRadius:v,boxShadow:"none",transformOrigin:"0 0","&::before":{position:"absolute",inset:"".concat(w,"px 0 0"),zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'}},"&-placement-rightTop::before":{top:0,insetInlineStart:w}},"> ".concat(a),Object.assign(Object.assign(Object.assign({borderRadius:v},GA(e)),YA(e)),(n={},ae(n,"".concat(a,"-item, ").concat(a,"-submenu > ").concat(a,"-submenu-title"),{borderRadius:y}),ae(n,"".concat(a,"-submenu-title::after"),{transition:"transform ".concat(l," ").concat(u)}),n)))),i)),YA(e)),(r={},ae(r,"&-inline-collapsed ".concat(a,"-submenu-arrow,\n        &-inline ").concat(a,"-submenu-arrow"),{"&::before":{transform:"rotate(-45deg) translateX(".concat(b,")")},"&::after":{transform:"rotate(45deg) translateX(-".concat(b,")")}}),ae(r,"".concat(a,"-submenu-open").concat(a,"-submenu-inline > ").concat(a,"-submenu-title > ").concat(a,"-submenu-arrow"),{transform:"translateY(-".concat(.2*x,"px)"),"&::after":{transform:"rotate(-45deg) translateX(-".concat(b,")")},"&::before":{transform:"rotate(45deg) translateX(".concat(b,")")}}),r))),ae({},"".concat(o,"-layout-header"),ae({},a,{lineHeight:"inherit"}))]},KA=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},$A=t.createContext(null),ZA=function(e){var n=e.children,i=KA(e,["children"]),r=t.useContext($A),o=t.useMemo((function(){return Object.assign(Object.assign({},r),i)}),[r,i.prefixCls,i.mode,i.selectable]);return t.createElement($A.Provider,{value:o},n)},JA=$A,QA=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},eI=function(e){var n=e.prefixCls,i=e.className,r=e.dashed,o=QA(e,["prefixCls","className","dashed"]),a=(0,t.useContext(Kp).getPrefixCls)("menu",n),s=wh()(ae({},"".concat(a,"-item-divider-dashed"),!!r),i);return t.createElement(DA,Object.assign({className:s},o))},tI=t.createContext({});!function(){var e=0}();var nI=(0,t.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1}),iI=function(e){var n,i,r=e.className,o=e.children,a=e.icon,s=e.title,l=e.danger,c=t.useContext(nI),u=c.prefixCls,d=c.firstLevel,h=c.direction,p=c.disableMenuItemTitleTooltip,f=c.inlineCollapsed,m=t.useContext(tI).siderCollapsed,g=s;"undefined"===typeof s?g=d?o:"":!1===s&&(g="");var v={title:g};m||f||(v.title=null,v.open=!1);var y=cb(o).length,x=t.createElement(aA,Object.assign({},Yp(e,["title","icon","danger"]),{className:wh()((n={},ae(n,"".concat(u,"-item-danger"),l),ae(n,"".concat(u,"-item-only-child"),1===(a?y+1:y)),n),r),title:"string"===typeof s?s:void 0}),Ev(a,{className:wh()(Sv(a)?null===(i=a.props)||void 0===i?void 0:i.className:"","".concat(u,"-item-icon"))}),function(e){var n=t.createElement("span",{className:"".concat(u,"-title-content")},o);return(!a||Sv(o)&&"span"===o.type)&&o&&e&&d&&"string"===typeof o?t.createElement("div",{className:"".concat(u,"-inline-collapsed-noicon")},o.charAt(0)):n}(f));return p||(x=t.createElement(Sx,Object.assign({},v,{placement:"rtl"===h?"left":"right",overlayClassName:"".concat(u,"-inline-collapsed-tooltip")}),x)),x},rI=function(e){var n,i,r=e.popupClassName,o=e.icon,a=e.title,s=e.theme,l=t.useContext(nI),c=l.prefixCls,u=l.inlineCollapsed,d=l.theme,h=l.mode,p=TP();if(o){var f=Sv(a)&&"span"===a.type;i=t.createElement(t.Fragment,null,Ev(o,{className:wh()(Sv(o)?null===(n=o.props)||void 0===n?void 0:n.className:"","".concat(c,"-item-icon"))}),f?a:t.createElement("span",{className:"".concat(c,"-title-content")},a))}else i=u&&!p.length&&a&&"string"===typeof a?t.createElement("div",{className:"".concat(c,"-inline-collapsed-noicon")},a.charAt(0)):t.createElement("span",{className:"".concat(c,"-title-content")},a);var m=t.useMemo((function(){return Object.assign(Object.assign({},l),{firstLevel:!1})}),[l]),g="horizontal"===h?[0,8]:[10,0];return t.createElement(nI.Provider,{value:m},t.createElement(CA,Object.assign({popupOffset:g},Yp(e,["icon"]),{title:i,popupClassName:wh()(c,r,"".concat(c,"-").concat(s||d))})))},oI=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function aI(e){return(e||[]).map((function(e,n){if(e&&"object"===typeof e){var i=e,r=i.label,o=i.children,a=i.key,s=i.type,l=oI(i,["label","children","key","type"]),c=null!==a&&void 0!==a?a:"tmp-".concat(n);return o||"group"===s?"group"===s?t.createElement(LA,Object.assign({key:c},l,{title:r}),aI(o)):t.createElement(rI,Object.assign({key:c},l,{title:r}),aI(o)):"divider"===s?t.createElement(eI,Object.assign({key:c},l)):t.createElement(iI,Object.assign({key:c},l),r)}return null})).filter((function(e){return e}))}function sI(e){return t.useMemo((function(){return e?aI(e):e}),[e])}var lI=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},cI=(0,t.forwardRef)((function(e,n){var i,r,o=t.useContext(JA),a=o||{},s=t.useContext(Kp),l=s.getPrefixCls,c=s.getPopupContainer,u=s.direction,d=l(),h=e.prefixCls,p=e.className,f=e.theme,m=void 0===f?"light":f,g=e.expandIcon,v=e._internalDisableMenuItemTitleTooltip,y=e.inlineCollapsed,x=e.siderCollapsed,b=e.items,_=e.children,w=e.rootClassName,k=e.mode,S=e.selectable,C=e.onClick,E=Yp(lI(e,["prefixCls","className","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","items","children","rootClassName","mode","selectable","onClick"]),["collapsedWidth"]),T=sI(b)||_;null===(i=a.validator)||void 0===i||i.call(a,{mode:k});var M,P=Bp((function(){var e;null===C||void 0===C||C.apply(void 0,arguments),null===(e=a.onClick)||void 0===e||e.call(a)})),A=a.mode||k,I=null!==S&&void 0!==S?S:a.selectable,L=t.useMemo((function(){return void 0!==x?x:y}),[y,x]),D={horizontal:{motionName:"".concat(d,"-slide-up")},inline:gv(d),other:{motionName:"".concat(d,"-zoom-big")}},O=l("menu",h||a.prefixCls),R=function(e,t){var n=tx("Menu",(function(e,n){var i=n.overrideComponentToken;if(!1===t)return[];var r=e.colorBgElevated,o=e.colorPrimary,a=e.colorError,s=e.colorErrorHover,l=e.colorTextLightSolid,c=e.controlHeightLG,u=e.fontSize/7*5,d=Sy(e,{menuItemHeight:c,menuItemPaddingInline:e.margin,menuArrowSize:u,menuHorizontalHeight:1.15*c,menuArrowOffset:"".concat(.25*u,"px"),menuPanelMaskInset:-7,menuSubMenuBg:r}),h=new By(l).setAlpha(.65).toRgbString(),p=Sy(d,{colorItemText:h,colorItemTextHover:l,colorGroupTitle:h,colorItemTextSelected:l,colorItemBg:"#001529",colorSubItemBg:"#000c17",colorItemBgActive:"transparent",colorItemBgSelected:o,colorActiveBarWidth:0,colorActiveBarHeight:0,colorActiveBarBorderSize:0,colorItemTextDisabled:new By(l).setAlpha(.25).toRgbString(),colorDangerItemText:a,colorDangerItemTextHover:s,colorDangerItemTextSelected:l,colorDangerItemBgActive:a,colorDangerItemBgSelected:a,menuSubMenuBg:"#001529",colorItemTextSelectedHorizontal:l,colorItemBgSelectedHorizontal:o},Object.assign({},i));return[qA(d),jA(d),XA(d),UA(d,"light"),UA(p,"dark"),VA(d),NA(d),AT(d,"slide-up"),AT(d,"slide-down"),_y(d,"zoom-big")]}),(function(e){var t=e.colorPrimary,n=e.colorError,i=e.colorTextDisabled,r=e.colorErrorBg,o=e.colorText,a=e.colorTextDescription,s=e.colorBgContainer,l=e.colorFillAlter,c=e.colorFillContent,u=e.lineWidth,d=e.lineWidthBold,h=e.controlItemBgActive,p=e.colorBgTextHover;return{dropdownWidth:160,zIndexPopup:e.zIndexPopupBase+50,radiusItem:e.borderRadiusLG,radiusSubMenuItem:e.borderRadiusSM,colorItemText:o,colorItemTextHover:o,colorItemTextHoverHorizontal:t,colorGroupTitle:a,colorItemTextSelected:t,colorItemTextSelectedHorizontal:t,colorItemBg:s,colorItemBgHover:p,colorItemBgActive:c,colorSubItemBg:l,colorItemBgSelected:h,colorItemBgSelectedHorizontal:"transparent",colorActiveBarWidth:0,colorActiveBarHeight:d,colorActiveBarBorderSize:u,colorItemTextDisabled:i,colorDangerItemText:n,colorDangerItemTextHover:n,colorDangerItemTextSelected:n,colorDangerItemBgActive:r,colorDangerItemBgSelected:r,itemMarginInline:e.marginXXS}}));return n(e)}(O,!o),z=pe(R,2),F=z[0],B=z[1],N=wh()("".concat(O,"-").concat(m),p);if("function"===typeof g)M=g;else{var j=g||a.expandIcon;M=Ev(j,{className:wh()("".concat(O,"-submenu-expand-icon"),null===(r=null===j||void 0===j?void 0:j.props)||void 0===r?void 0:r.className)})}var V=t.useMemo((function(){return{prefixCls:O,inlineCollapsed:L||!1,direction:u,firstLevel:!0,theme:m,mode:A,disableMenuItemTitleTooltip:v}}),[O,L,u,v,m]);return F(t.createElement(JA.Provider,{value:null},t.createElement(nI.Provider,{value:V},t.createElement(RA,Object.assign({getPopupContainer:c,overflowedIndicator:t.createElement(BA,null),overflowedIndicatorPopupClassName:"".concat(O,"-").concat(m),mode:A,selectable:I,onClick:P},E,{inlineCollapsed:L,className:N,prefixCls:O,direction:u,defaultMotions:D,expandIcon:M,ref:n,rootClassName:wh()(w,B)}),T))))})),uI=cI,dI=(0,t.forwardRef)((function(e,n){var i=(0,t.useRef)(null),r=t.useContext(tI);return(0,t.useImperativeHandle)(n,(function(){return{menu:i.current,focus:function(e){var t;null===(t=i.current)||void 0===t||t.focus(e)}}})),t.createElement(uI,Object.assign({ref:i},e,r))}));dI.Item=iI,dI.SubMenu=rI,dI.Divider=eI,dI.ItemGroup=LA;var hI,pI=dI,fI=function(){if(!up()||!window.document.documentElement)return!1;if(void 0!==hI)return hI;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),hI=1===e.scrollHeight,document.body.removeChild(e),hI};function mI(e){var n=e.className,i=e.direction,r=e.index,o=e.marginDirection,a=e.children,s=e.split,l=e.wrap,c=t.useContext(vI),u=c.horizontalSize,d=c.verticalSize,h=c.latestIndex,p={};return c.supportFlexGap||("vertical"===i?r<h&&(p={marginBottom:u/(s?2:1)}):p=Object.assign(Object.assign({},r<h&&ae({},o,u/(s?2:1))),l&&{paddingBottom:d})),null===a||void 0===a?null:t.createElement(t.Fragment,null,t.createElement("div",{className:n,style:p},a),r<h&&s&&t.createElement("span",{className:"".concat(n,"-split"),style:p},s))}var gI=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},vI=t.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),yI={small:8,middle:16,large:24};var xI=function(e){var n,i=t.useContext(Kp),r=i.getPrefixCls,o=i.space,a=i.direction,s=e.size,l=void 0===s?(null===o||void 0===o?void 0:o.size)||"small":s,c=e.align,u=e.className,d=e.rootClassName,h=e.children,p=e.direction,f=void 0===p?"horizontal":p,m=e.prefixCls,g=e.split,v=e.style,y=e.wrap,x=void 0!==y&&y,b=gI(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap"]),_=function(){var e=pe(t.useState(!1),2),n=e[0],i=e[1];return t.useEffect((function(){i(fI())}),[]),n}(),w=pe(t.useMemo((function(){return(Array.isArray(l)?l:[l,l]).map((function(e){return function(e){return"string"===typeof e?yI[e]:e||0}(e)}))}),[l]),2),k=w[0],S=w[1],C=cb(h,{keepEmpty:!0}),E=void 0===c&&"horizontal"===f?"center":c,T=r("space",m),M=pe(hb(T),2),P=M[0],A=M[1],I=wh()(T,A,"".concat(T,"-").concat(f),(ae(n={},"".concat(T,"-rtl"),"rtl"===a),ae(n,"".concat(T,"-align-").concat(E),E),n),u,d),L="".concat(T,"-item"),D="rtl"===a?"marginLeft":"marginRight",O=0,R=C.map((function(e,n){null!==e&&void 0!==e&&(O=n);var i=e&&e.key||"".concat(L,"-").concat(n);return t.createElement(mI,{className:L,key:i,direction:f,index:n,marginDirection:D,split:g,wrap:x},e)})),z=t.useMemo((function(){return{horizontalSize:k,verticalSize:S,latestIndex:O,supportFlexGap:_}}),[k,S,O,_]);if(0===C.length)return null;var F={};return x&&(F.flexWrap="wrap",_||(F.marginBottom=-S)),_&&(F.columnGap=k,F.rowGap=S),P(t.createElement("div",Object.assign({className:I,style:Object.assign(Object.assign({},F),v)},b),t.createElement(vI.Provider,{value:z},R)))};xI.Compact=yb;var bI=xI,_I=function(e){var t,n=e.componentCls,i=e.antCls,r=e.paddingXS,o=e.opacityLoading;return ae({},"".concat(n,"-button"),ae({whiteSpace:"nowrap"},"&".concat(i,"-btn-group > ").concat(i,"-btn"),(ae(t={},"&-loading, &-loading + ".concat(i,"-btn"),{cursor:"default",pointerEvents:"none",opacity:o}),ae(t,"&:last-child:not(:first-child):not(".concat(i,"-btn-icon-only)"),{paddingInline:r}),t)))},wI=function(e){var t=e.componentCls,n=e.menuCls,i=e.colorError,r=e.colorTextLightSolid,o="".concat(n,"-item");return ae({},"".concat(t,", ").concat(t,"-menu-submenu"),ae({},"".concat(n," ").concat(o),ae({},"&".concat(o,"-danger:not(").concat(o,"-disabled)"),{color:i,"&:hover":{color:r,backgroundColor:i}})))},kI=function(e){var t,n,i,r,o=e.componentCls,a=e.menuCls,s=e.zIndexPopup,l=e.dropdownArrowDistance,c=e.sizePopupArrow,u=e.antCls,d=e.iconCls,h=e.motionDurationMid,p=e.dropdownPaddingVertical,f=e.fontSize,m=e.dropdownEdgeChildPadding,g=e.colorTextDisabled,v=e.fontSizeIcon,y=e.controlPaddingHorizontal,x=e.colorBgElevated;return[ae({},o,Object.assign(Object.assign({},My(e)),(n={position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:s,display:"block","&::before":{position:"absolute",insetBlock:c/2-l,zIndex:-9999,opacity:1e-4,content:'""'}},ae(n,"".concat(o,"-wrap"),(t={position:"relative"},ae(t,"".concat(u,"-btn > ").concat(d,"-down"),{fontSize:v}),ae(t,"".concat(d,"-down::before"),{transition:"transform ".concat(h)}),t)),ae(n,"".concat(o,"-wrap-open"),ae({},"".concat(d,"-down::before"),{transform:"rotate(180deg)"})),ae(n,"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ",{display:"none"}),ae(n,"&".concat(u,"-slide-down-enter").concat(u,"-slide-down-enter-active").concat(o,"-placement-bottomLeft,\n          &").concat(u,"-slide-down-appear").concat(u,"-slide-down-appear-active").concat(o,"-placement-bottomLeft,\n          &").concat(u,"-slide-down-enter").concat(u,"-slide-down-enter-active").concat(o,"-placement-bottom,\n          &").concat(u,"-slide-down-appear").concat(u,"-slide-down-appear-active").concat(o,"-placement-bottom,\n          &").concat(u,"-slide-down-enter").concat(u,"-slide-down-enter-active").concat(o,"-placement-bottomRight,\n          &").concat(u,"-slide-down-appear").concat(u,"-slide-down-appear-active").concat(o,"-placement-bottomRight"),{animationName:_T}),ae(n,"&".concat(u,"-slide-up-enter").concat(u,"-slide-up-enter-active").concat(o,"-placement-topLeft,\n          &").concat(u,"-slide-up-appear").concat(u,"-slide-up-appear-active").concat(o,"-placement-topLeft,\n          &").concat(u,"-slide-up-enter").concat(u,"-slide-up-enter-active").concat(o,"-placement-top,\n          &").concat(u,"-slide-up-appear").concat(u,"-slide-up-appear-active").concat(o,"-placement-top,\n          &").concat(u,"-slide-up-enter").concat(u,"-slide-up-enter-active").concat(o,"-placement-topRight,\n          &").concat(u,"-slide-up-appear").concat(u,"-slide-up-appear-active").concat(o,"-placement-topRight"),{animationName:kT}),ae(n,"&".concat(u,"-slide-down-leave").concat(u,"-slide-down-leave-active").concat(o,"-placement-bottomLeft,\n          &").concat(u,"-slide-down-leave").concat(u,"-slide-down-leave-active").concat(o,"-placement-bottom,\n          &").concat(u,"-slide-down-leave").concat(u,"-slide-down-leave-active").concat(o,"-placement-bottomRight"),{animationName:wT}),ae(n,"&".concat(u,"-slide-up-leave").concat(u,"-slide-up-leave-active").concat(o,"-placement-topLeft,\n          &").concat(u,"-slide-up-leave").concat(u,"-slide-up-leave-active").concat(o,"-placement-top,\n          &").concat(u,"-slide-up-leave").concat(u,"-slide-up-leave-active").concat(o,"-placement-topRight"),{animationName:ST}),n))),lx(e,{colorBg:x,limitVerticalRadius:!0,arrowPlacement:{top:!0,bottom:!0}}),(r={},ae(r,"".concat(o," ").concat(a),{position:"relative",margin:0}),ae(r,"".concat(a,"-submenu-popup"),{position:"absolute",zIndex:s,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}}),ae(r,"".concat(o,", ").concat(o,"-menu-submenu"),ae({},a,Object.assign(Object.assign({padding:m,listStyleType:"none",backgroundColor:x,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary},Dy(e)),(i={},ae(i,"".concat(a,"-item-group-title"),{padding:"".concat(p,"px ").concat(y,"px"),color:e.colorTextDescription,transition:"all ".concat(h)}),ae(i,"".concat(a,"-item"),{position:"relative",display:"flex",alignItems:"center"}),ae(i,"".concat(a,"-item-icon"),{minWidth:f,marginInlineEnd:e.marginXS,fontSize:e.fontSizeSM}),ae(i,"".concat(a,"-title-content"),{flex:"auto","> a":{color:"inherit",transition:"all ".concat(h),"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}}}),ae(i,"".concat(a,"-item, ").concat(a,"-submenu-title"),Object.assign(Object.assign(ae({clear:"both",margin:0,padding:"".concat(p,"px ").concat(y,"px"),color:e.colorText,fontWeight:"normal",fontSize:f,lineHeight:e.lineHeight,cursor:"pointer",transition:"all ".concat(h),borderRadius:e.borderRadiusSM},"&:hover, &-active",{backgroundColor:e.controlItemBgHover}),Dy(e)),ae({"&-selected":{color:e.colorPrimary,backgroundColor:e.controlItemBgActive,"&:hover, &-active":{backgroundColor:e.controlItemBgActiveHover}},"&-disabled":{color:g,cursor:"not-allowed","&:hover":{color:g,backgroundColor:x,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:"".concat(e.marginXXS,"px 0"),overflow:"hidden",lineHeight:0,backgroundColor:e.colorSplit}},"".concat(o,"-menu-submenu-expand-icon"),ae({position:"absolute",insetInlineEnd:e.paddingXS},"".concat(o,"-menu-submenu-arrow-icon"),{marginInlineEnd:"0 !important",color:e.colorTextDescription,fontSize:v,fontStyle:"normal"})))),ae(i,"".concat(a,"-item-group-list"),{margin:"0 ".concat(e.marginXS,"px"),padding:0,listStyle:"none"}),ae(i,"".concat(a,"-submenu-title"),{paddingInlineEnd:y+e.fontSizeSM}),ae(i,"".concat(a,"-submenu-vertical"),{position:"relative"}),ae(i,"".concat(a,"-submenu").concat(a,"-submenu-disabled ").concat(o,"-menu-submenu-title"),ae({},"&, ".concat(o,"-menu-submenu-arrow-icon"),{color:g,backgroundColor:x,cursor:"not-allowed"})),ae(i,"".concat(a,"-submenu-selected ").concat(o,"-menu-submenu-title"),{color:e.colorPrimary}),i)))),r),[AT(e,"slide-up"),AT(e,"slide-down"),BT(e,"move-up"),BT(e,"move-down"),_y(e,"zoom-big")]]},SI=tx("Dropdown",(function(e,t){var n=t.rootPrefixCls,i=e.marginXXS,r=e.sizePopupArrow,o=e.controlHeight,a=e.fontSize,s=e.lineHeight,l=e.paddingXXS,c=e.componentCls,u=(o-a*s)/2,d=ax({contentRadius:e.borderRadiusLG}).dropdownArrowOffset,h=Sy(e,{menuCls:"".concat(c,"-menu"),rootPrefixCls:n,dropdownArrowDistance:r/2+i,dropdownArrowOffset:d,dropdownPaddingVertical:u,dropdownEdgeChildPadding:l});return[kI(h),_I(h),wI(h)]}),(function(e){return{zIndexPopup:e.zIndexPopupBase+50}})),CI=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},EI=function(e){var n=t.useContext(Kp),i=n.getPopupContainer,r=n.getPrefixCls,o=n.direction,a=e.prefixCls,s=e.type,l=void 0===s?"default":s,c=e.danger,u=e.disabled,d=e.loading,h=e.onClick,p=e.htmlType,f=e.children,m=e.className,g=e.menu,v=e.arrow,y=e.autoFocus,x=e.overlay,b=e.trigger,_=e.align,w=e.open,k=e.onOpenChange,S=e.placement,C=e.getPopupContainer,E=e.href,T=e.icon,M=void 0===T?t.createElement(BA,null):T,P=e.title,A=e.buttonsRender,I=void 0===A?function(e){return e}:A,L=e.mouseEnterDelay,D=e.mouseLeaveDelay,O=e.overlayClassName,R=e.overlayStyle,z=e.destroyPopupOnHide,F=e.dropdownRender,B=CI(e,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownRender"]),N=r("dropdown",a),j="".concat(N,"-button"),V=pe(SI(N),2),W=V[0],U=V[1],H={menu:g,arrow:v,autoFocus:y,align:_,disabled:u,trigger:u?[]:b,onOpenChange:k,getPopupContainer:C||i,mouseEnterDelay:L,mouseLeaveDelay:D,overlayClassName:O,overlayStyle:R,destroyPopupOnHide:z,dropdownRender:F},X=mb(N,o),G=X.compactSize,Y=X.compactItemClassnames,q=wh()(j,Y,m,U);"overlay"in e&&(H.overlay=x),"open"in e&&(H.open=w),H.placement="placement"in e?S:"rtl"===o?"bottomLeft":"bottomRight";var K=pe(I([t.createElement(i_,{type:l,danger:c,disabled:u,loading:d,onClick:h,htmlType:p,href:E,title:P},f),t.createElement(i_,{type:l,danger:c,icon:M})]),2),$=K[0],Z=K[1];return W(t.createElement(bI.Compact,Object.assign({className:q,size:G,block:!0},B),$,t.createElement(PI,Object.assign({},H),Z)))};EI.__ANT_BUTTON=!0;var TI=function(e){var n=t.useContext(Kp),i=n.getPopupContainer,r=n.getPrefixCls,o=n.direction;var a=e.menu,s=e.arrow,l=e.prefixCls,c=e.children,u=e.trigger,d=e.disabled,h=e.dropdownRender,p=e.getPopupContainer,f=e.overlayClassName,m=e.rootClassName,g=e.open,v=e.onOpenChange,y=e.visible,x=e.onVisibleChange,b=e.mouseEnterDelay,_=void 0===b?.15:b,w=e.mouseLeaveDelay,k=void 0===w?.1:w,S=e.autoAdjustOverflow,C=void 0===S||S;var E,T=r("dropdown",l),M=pe(SI(T),2),P=M[0],A=M[1],I=xx.useToken().token,L=t.Children.only(c),D=Ev(L,{className:wh()("".concat(T,"-trigger"),ae({},"".concat(T,"-rtl"),"rtl"===o),L.props.className),disabled:d}),O=d?[]:u;O&&O.includes("contextMenu")&&(E=!0);var R=pe(Hp(!1,{value:null!==g&&void 0!==g?g:y}),2),z=R[0],F=R[1],B=Bp((function(e){null===v||void 0===v||v(e),null===x||void 0===x||x(e),F(e)})),N=wh()(f,m,A,ae({},"".concat(T,"-rtl"),"rtl"===o)),j=kv({arrowPointAtCenter:"object"===typeof s&&s.pointAtCenter,autoAdjustOverflow:C,offset:I.marginXXS,arrowWidth:s?I.sizePopupArrow:0}),V=t.useCallback((function(){F(!1)}),[]);return P(t.createElement(gP,Object.assign({alignPoint:E},Yp(e,["rootClassName"]),{mouseEnterDelay:_,mouseLeaveDelay:k,visible:z,builtinPlacements:j,arrow:!!s,overlayClassName:N,prefixCls:T,getPopupContainer:p||i,transitionName:function(){var t=r(),n=e.placement,i=void 0===n?"":n,o=e.transitionName;return void 0!==o?o:i.includes("top")?"".concat(t,"-slide-down"):"".concat(t,"-slide-up")}(),trigger:O,overlay:function(){var n,i=e.overlay;return n=(null===a||void 0===a?void 0:a.items)?t.createElement(pI,Object.assign({},a)):"function"===typeof i?i():i,h&&(n=h(n)),n=t.Children.only("string"===typeof n?t.createElement("span",null,n):n),t.createElement(ZA,{prefixCls:"".concat(T,"-menu"),expandIcon:t.createElement("span",{className:"".concat(T,"-menu-submenu-arrow")},t.createElement(dC,{className:"".concat(T,"-menu-submenu-arrow-icon")})),mode:"vertical",selectable:!1,onClick:V,validator:function(e){e.mode}},t.createElement(gb,null,n))},placement:function(){var t=e.placement;return t?t.includes("Center")?t.slice(0,t.indexOf("Center")):t:"rtl"===o?"bottomRight":"bottomLeft"}(),onVisibleChange:B}),D))};TI.Button=EI;var MI=ZT(TI,"dropdown",(function(e){return e}));TI._InternalPanelDoNotUseOrYouWillBeFired=function(e){return t.createElement(MI,Object.assign({},e),t.createElement("span",null))};var PI=TI,AI=PI;var II=t.createContext(null),LI=II.Provider,DI=II,OI=t.createContext(null),RI=OI.Provider,zI=new ry("antRadioEffect",{"0%":{transform:"scale(1)",opacity:.5},"100%":{transform:"scale(1.6)",opacity:0}}),FI=function(e){var t,n=e.componentCls,i=e.antCls,r="".concat(n,"-group");return ae({},r,Object.assign(Object.assign({},My(e)),(ae(t={display:"inline-block",fontSize:0},"&".concat(r,"-rtl"),{direction:"rtl"}),ae(t,"".concat(i,"-badge ").concat(i,"-badge-count"),{zIndex:1}),ae(t,"> ".concat(i,"-badge:not(:first-child) > ").concat(i,"-button-wrapper"),{borderInlineStart:"none"}),t)))},BI=function(e){var t,n,i=e.componentCls,r=e.radioWrapperMarginRight,o=e.radioCheckedColor,a=e.radioSize,s=e.motionDurationSlow,l=e.motionDurationMid,c=e.motionEaseInOut,u=e.motionEaseInOutCirc,d=e.radioButtonBg,h=e.colorBorder,p=e.lineWidth,f=e.radioDotSize,m=e.colorBgContainerDisabled,g=e.colorTextDisabled,v=e.paddingXS,y=e.radioDotDisabledColor,x=e.lineType,b=e.radioDotDisabledSize,_=e.wireframe,w=e.colorWhite,k="".concat(i,"-inner");return ae({},"".concat(i,"-wrapper"),Object.assign(Object.assign({},My(e)),(ae(n={position:"relative",display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:r,cursor:"pointer"},"&".concat(i,"-wrapper-rtl"),{direction:"rtl"}),ae(n,"&-disabled",{cursor:"not-allowed",color:e.colorTextDisabled}),ae(n,"&::after",{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'}),ae(n,"".concat(i,"-checked::after"),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:"".concat(p,"px ").concat(x," ").concat(o),borderRadius:"50%",visibility:"hidden",animationName:zI,animationDuration:s,animationTimingFunction:c,animationFillMode:"both",content:'""'}),ae(n,i,Object.assign(Object.assign({},My(e)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center"})),ae(n,"".concat(i,"-wrapper:hover &,\n        &:hover ").concat(k),{borderColor:o}),ae(n,"".concat(i,"-input:focus-visible + ").concat(k),Object.assign({},Ly(e))),ae(n,"".concat(i,":hover::after, ").concat(i,"-wrapper:hover &::after"),{visibility:"visible"}),ae(n,"".concat(i,"-inner"),{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:a,height:a,marginBlockStart:a/-2,marginInlineStart:a/-2,backgroundColor:_?o:w,borderBlockStart:0,borderInlineStart:0,borderRadius:a,transform:"scale(0)",opacity:0,transition:"all ".concat(s," ").concat(u),content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:a,height:a,backgroundColor:d,borderColor:h,borderStyle:"solid",borderWidth:p,borderRadius:"50%",transition:"all ".concat(l)}),ae(n,"".concat(i,"-input"),{position:"absolute",insetBlockStart:0,insetInlineEnd:0,insetBlockEnd:0,insetInlineStart:0,zIndex:1,cursor:"pointer",opacity:0}),ae(n,"".concat(i,"-checked"),ae({},k,{borderColor:o,backgroundColor:_?d:o,"&::after":{transform:"scale(".concat(f/a,")"),opacity:1,transition:"all ".concat(s," ").concat(u)}})),ae(n,"".concat(i,"-disabled"),(ae(t={cursor:"not-allowed"},k,{backgroundColor:m,borderColor:h,cursor:"not-allowed","&::after":{backgroundColor:y}}),ae(t,"".concat(i,"-input"),{cursor:"not-allowed"}),ae(t,"".concat(i,"-disabled + span"),{color:g,cursor:"not-allowed"}),ae(t,"&".concat(i,"-checked"),ae({},k,{"&::after":{transform:"scale(".concat(b/a,")")}})),t)),ae(n,"span".concat(i," + *"),{paddingInlineStart:v,paddingInlineEnd:v}),n)))},NI=function(e){var t,n=e.radioButtonColor,i=e.controlHeight,r=e.componentCls,o=e.lineWidth,a=e.lineType,s=e.colorBorder,l=e.motionDurationSlow,c=e.motionDurationMid,u=e.radioButtonPaddingHorizontal,d=e.fontSize,h=e.radioButtonBg,p=e.fontSizeLG,f=e.controlHeightLG,m=e.controlHeightSM,g=e.paddingXS,v=e.borderRadius,y=e.borderRadiusSM,x=e.borderRadiusLG,b=e.radioCheckedColor,_=e.radioButtonCheckedBg,w=e.radioButtonHoverColor,k=e.radioButtonActiveColor,S=e.radioSolidCheckedColor,C=e.colorTextDisabled,E=e.colorBgContainerDisabled,T=e.radioDisabledButtonCheckedColor,M=e.radioDisabledButtonCheckedBg;return ae({},"".concat(r,"-button-wrapper"),(ae(t={position:"relative",display:"inline-block",height:i,margin:0,paddingInline:u,paddingBlock:0,color:n,fontSize:d,lineHeight:"".concat(i-2*o,"px"),background:h,border:"".concat(o,"px ").concat(a," ").concat(s),borderBlockStartWidth:o+.02,borderInlineStartWidth:0,borderInlineEndWidth:o,cursor:"pointer",transition:["color ".concat(c),"background ".concat(c),"border-color ".concat(c),"box-shadow ".concat(c)].join(","),a:{color:n}},"> ".concat(r,"-button"),{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"}),ae(t,"&:not(:first-child)",{"&::before":{position:"absolute",insetBlockStart:-o,insetInlineStart:-o,display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:o,paddingInline:0,backgroundColor:s,transition:"background-color ".concat(l),content:'""'}}),ae(t,"&:first-child",{borderInlineStart:"".concat(o,"px ").concat(a," ").concat(s),borderStartStartRadius:v,borderEndStartRadius:v}),ae(t,"&:last-child",{borderStartEndRadius:v,borderEndEndRadius:v}),ae(t,"&:first-child:last-child",{borderRadius:v}),ae(t,"".concat(r,"-group-large &"),{height:f,fontSize:p,lineHeight:"".concat(f-2*o,"px"),"&:first-child":{borderStartStartRadius:x,borderEndStartRadius:x},"&:last-child":{borderStartEndRadius:x,borderEndEndRadius:x}}),ae(t,"".concat(r,"-group-small &"),{height:m,paddingInline:g-o,paddingBlock:0,lineHeight:"".concat(m-2*o,"px"),"&:first-child":{borderStartStartRadius:y,borderEndStartRadius:y},"&:last-child":{borderStartEndRadius:y,borderEndEndRadius:y}}),ae(t,"&:hover",{position:"relative",color:b}),ae(t,"&:has(:focus-visible)",Object.assign({},Ly(e))),ae(t,"".concat(r,"-inner, input[type='checkbox'], input[type='radio']"),{width:0,height:0,opacity:0,pointerEvents:"none"}),ae(t,"&-checked:not(".concat(r,"-button-wrapper-disabled)"),{zIndex:1,color:b,background:_,borderColor:b,"&::before":{backgroundColor:b},"&:first-child":{borderColor:b},"&:hover":{color:w,borderColor:w,"&::before":{backgroundColor:w}},"&:active":{color:k,borderColor:k,"&::before":{backgroundColor:k}}}),ae(t,"".concat(r,"-group-solid &-checked:not(").concat(r,"-button-wrapper-disabled)"),{color:S,background:b,borderColor:b,"&:hover":{color:S,background:w,borderColor:w},"&:active":{color:S,background:k,borderColor:k}}),ae(t,"&-disabled",{color:C,backgroundColor:E,borderColor:s,cursor:"not-allowed","&:first-child, &:hover":{color:C,backgroundColor:E,borderColor:s}}),ae(t,"&-disabled".concat(r,"-button-wrapper-checked"),{color:T,backgroundColor:M,borderColor:s,boxShadow:"none"}),t))},jI=tx("Radio",(function(e){var t=e.padding,n=e.lineWidth,i=e.controlItemBgActiveDisabled,r=e.colorTextDisabled,o=e.colorBgContainer,a=e.fontSizeLG,s=e.controlOutline,l=e.colorPrimaryHover,c=e.colorPrimaryActive,u=e.colorText,d=e.colorPrimary,h=e.marginXS,p=e.controlOutlineWidth,f=e.colorTextLightSolid,m=e.wireframe,g="0 0 0 ".concat(p,"px ").concat(s),v=a-8,y=Sy(e,{radioFocusShadow:g,radioButtonFocusShadow:g,radioSize:a,radioDotSize:m?v:a-2*(4+n),radioDotDisabledSize:v,radioCheckedColor:d,radioDotDisabledColor:r,radioSolidCheckedColor:f,radioButtonBg:o,radioButtonCheckedBg:o,radioButtonColor:u,radioButtonHoverColor:l,radioButtonActiveColor:c,radioButtonPaddingHorizontal:t-n,radioDisabledButtonCheckedBg:i,radioDisabledButtonCheckedColor:r,radioWrapperMarginRight:h});return[FI(y),BI(y),NI(y)]})),VI=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},WI=function(e,n){var i,r=t.useContext(DI),o=t.useContext(OI),a=t.useContext(Kp),s=a.getPrefixCls,l=a.direction,c=cf(n,t.useRef()),u=t.useContext(nT).isFormItemInput,d=e.prefixCls,h=e.className,p=e.rootClassName,f=e.children,m=e.style,g=e.disabled,v=VI(e,["prefixCls","className","rootClassName","children","style","disabled"]),y=s("radio",d),x="button"===((null===r||void 0===r?void 0:r.optionType)||o)?"".concat(y,"-button"):y,b=pe(jI(y),2),_=b[0],w=b[1],k=Object.assign({},v),S=t.useContext(ob);k.disabled=g||S,r&&(k.name=r.name,k.onChange=function(t){var n,i;null===(n=e.onChange)||void 0===n||n.call(e,t),null===(i=null===r||void 0===r?void 0:r.onChange)||void 0===i||i.call(r,t)},k.checked=e.value===r.value,k.disabled=k.disabled||r.disabled);var C=wh()("".concat(x,"-wrapper"),(ae(i={},"".concat(x,"-wrapper-checked"),k.checked),ae(i,"".concat(x,"-wrapper-disabled"),k.disabled),ae(i,"".concat(x,"-wrapper-rtl"),"rtl"===l),ae(i,"".concat(x,"-wrapper-in-form-item"),u),i),h,p,w);return _(t.createElement("label",{className:C,style:m,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},t.createElement(GM,Object.assign({},k,{type:"radio",prefixCls:x,ref:c})),void 0!==f?t.createElement("span",null,f):null))};var UI=t.forwardRef(WI),HI=t.forwardRef((function(e,n){var i,r=t.useContext(Kp),o=r.getPrefixCls,a=r.direction,s=t.useContext(lb),l=pe(Hp(e.defaultValue,{value:e.value}),2),c=l[0],u=l[1],d=e.prefixCls,h=e.className,p=e.rootClassName,f=e.options,m=e.buttonStyle,g=void 0===m?"outline":m,v=e.disabled,y=e.children,x=e.size,b=e.style,_=e.id,w=e.onMouseEnter,k=e.onMouseLeave,S=e.onFocus,C=e.onBlur,E=o("radio",d),T="".concat(E,"-group"),M=pe(jI(E),2),P=M[0],A=M[1],I=y;f&&f.length>0&&(I=f.map((function(e){return"string"===typeof e||"number"===typeof e?t.createElement(UI,{key:e.toString(),prefixCls:E,disabled:v,value:e,checked:c===e},e):t.createElement(UI,{key:"radio-group-value-options-".concat(e.value),prefixCls:E,disabled:e.disabled||v,value:e.value,checked:c===e.value,style:e.style},e.label)})));var L=x||s,D=wh()(T,"".concat(T,"-").concat(g),(ae(i={},"".concat(T,"-").concat(L),L),ae(i,"".concat(T,"-rtl"),"rtl"===a),i),h,p,A);return P(t.createElement("div",Object.assign({},function(e){return Object.keys(e).reduce((function(t,n){return!n.startsWith("data-")&&!n.startsWith("aria-")&&"role"!==n||n.startsWith("data-__")||(t[n]=e[n]),t}),{})}(e),{className:D,style:b,onMouseEnter:w,onMouseLeave:k,onFocus:S,onBlur:C,id:_,ref:n}),t.createElement(LI,{value:{onChange:function(t){var n=c,i=t.target.value;"value"in e||u(i);var r=e.onChange;r&&i!==n&&r(t)},value:c,disabled:e.disabled,name:e.name,optionType:e.optionType}},I)))})),XI=t.memo(HI),GI=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},YI=function(e,n){var i=t.useContext(Kp).getPrefixCls,r=e.prefixCls,o=GI(e,["prefixCls"]),a=i("radio",r);return t.createElement(RI,{value:"button"},t.createElement(UI,Object.assign({prefixCls:a},o,{type:"radio",ref:n})))},qI=t.forwardRef(YI),KI=UI;KI.Button=qI,KI.Group=XI,KI.__ANT_RADIO=!0;var $I=KI,ZI=t.createContext(null),JI=function(e){for(var n=e.prefixCls,i=e.level,r=e.isStart,o=e.isEnd,a="".concat(n,"-indent-unit"),s=[],l=0;l<i;l+=1){var c;s.push(t.createElement("span",{key:l,className:wh()(a,(c={},ae(c,"".concat(a,"-start"),r[l]),ae(c,"".concat(a,"-end"),o[l]),c))}))}return t.createElement("span",{"aria-hidden":"true",className:"".concat(n,"-indent")},s)},QI=t.memo(JI),eL=["children"];function tL(e,t){return null!==e&&void 0!==e?e:t}function nL(e){var t=e||{},n=t.title||"title";return{title:n,_title:t._title||[n],key:t.key||"key",children:t.children||"children"}}function iL(e){return function e(t){return cb(t).map((function(t){if(!function(e){return e&&e.type&&e.type.isTreeNode}(t))return cp(!t,"Tree/TreeNode can only accept TreeNode as children."),null;var n=t.key,i=t.props,r=i.children,o=le({key:n},ln(i,eL)),a=e(r);return a.length&&(o.children=a),o})).filter((function(e){return e}))}(e)}function rL(e,t,n){var i=nL(n),r=i._title,o=i.key,a=i.children,s=new Set(!0===t?[]:t),l=[];return function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n.map((function(c,u){for(var d,h=vL(i?i.pos:"0",u),p=tL(c[o],h),f=0;f<r.length;f+=1){var m=r[f];if(void 0!==c[m]){d=c[m];break}}var g=le(le({},Yp(c,[].concat(Ne(r),[o,a]))),{},{title:d,key:p,parent:i,pos:h,children:null,data:c,isStart:[].concat(Ne(i?i.isStart:[]),[0===u]),isEnd:[].concat(Ne(i?i.isEnd:[]),[u===n.length-1])});return l.push(g),!0===t||s.has(p)?g.children=e(c[a]||[],g):g.children=[],g}))}(e),l}function oL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.initWrapper,i=t.processEntity,r=t.onProcessFinished,o=t.externalGetKey,a=t.childrenPropName,s=t.fieldNames,l=o||(arguments.length>2?arguments[2]:void 0),c={},u={},d={posEntities:c,keyEntities:u};return n&&(d=n(d)||d),function(e,t,n){var i,r=("object"===te(n)?n:{externalGetKey:n})||{},o=r.childrenPropName,a=r.externalGetKey,s=nL(r.fieldNames),l=s.key,c=s.children,u=o||c;a?"string"===typeof a?i=function(e){return e[a]}:"function"===typeof a&&(i=function(e){return a(e)}):i=function(e,t){return tL(e[l],t)},function n(r,o,a,s){var l=r?r[u]:e,c=r?vL(a.pos,o):"0",d=r?[].concat(Ne(s),[r]):[];if(r){var h=i(r,c),p={node:r,index:o,pos:c,key:h,parentPos:a.node?a.pos:null,level:a.level+1,nodes:d};t(p)}l&&l.forEach((function(e,t){n(e,t,{node:r,pos:c,level:a?a.level+1:-1},d)}))}(null)}(e,(function(e){var t=e.node,n=e.index,r=e.pos,o=e.key,a=e.parentPos,s=e.level,l={node:t,nodes:e.nodes,index:n,key:o,pos:r,level:s},h=tL(o,r);c[r]=l,u[h]=l,l.parent=c[a],l.parent&&(l.parent.children=l.parent.children||[],l.parent.children.push(l)),i&&i(l,d)}),{externalGetKey:l,childrenPropName:a,fieldNames:s}),r&&r(d),d}function aL(e,t){var n=t.expandedKeys,i=t.selectedKeys,r=t.loadedKeys,o=t.loadingKeys,a=t.checkedKeys,s=t.halfCheckedKeys,l=t.dragOverNodeKey,c=t.dropPosition,u=t.keyEntities[e];return{eventKey:e,expanded:-1!==n.indexOf(e),selected:-1!==i.indexOf(e),loaded:-1!==r.indexOf(e),loading:-1!==o.indexOf(e),checked:-1!==a.indexOf(e),halfChecked:-1!==s.indexOf(e),pos:String(u?u.pos:""),dragOver:l===e&&0===c,dragOverGapTop:l===e&&-1===c,dragOverGapBottom:l===e&&1===c}}function sL(e){var t=e.data,n=e.expanded,i=e.selected,r=e.checked,o=e.loaded,a=e.loading,s=e.halfChecked,l=e.dragOver,c=e.dragOverGapTop,u=e.dragOverGapBottom,d=e.pos,h=e.active,p=e.eventKey,f=le(le({},t),{},{expanded:n,selected:i,checked:r,loaded:o,loading:a,halfChecked:s,dragOver:l,dragOverGapTop:c,dragOverGapBottom:u,pos:d,active:h,key:p});return"props"in f||Object.defineProperty(f,"props",{get:function(){return cp(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),f}var lL=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],cL="open",uL="close",dL=function(e){Pe(i,e);var n=De(i);function i(){var e;Ce(this,i);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).state={dragNodeHighlight:!1},e.selectHandle=void 0,e.onSelectorClick=function(t){(0,e.props.context.onNodeClick)(t,sL(e.props)),e.isSelectable()?e.onSelect(t):e.onCheck(t)},e.onSelectorDoubleClick=function(t){(0,e.props.context.onNodeDoubleClick)(t,sL(e.props))},e.onSelect=function(t){if(!e.isDisabled()){var n=e.props.context.onNodeSelect;t.preventDefault(),n(t,sL(e.props))}},e.onCheck=function(t){if(!e.isDisabled()){var n=e.props,i=n.disableCheckbox,r=n.checked,o=e.props.context.onNodeCheck;if(e.isCheckable()&&!i){t.preventDefault();var a=!r;o(t,sL(e.props),a)}}},e.onMouseEnter=function(t){(0,e.props.context.onNodeMouseEnter)(t,sL(e.props))},e.onMouseLeave=function(t){(0,e.props.context.onNodeMouseLeave)(t,sL(e.props))},e.onContextMenu=function(t){(0,e.props.context.onNodeContextMenu)(t,sL(e.props))},e.onDragStart=function(t){var n=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),n(t,Le(e));try{t.dataTransfer.setData("text/plain","")}catch(i){}},e.onDragEnter=function(t){var n=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),n(t,Le(e))},e.onDragOver=function(t){var n=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),n(t,Le(e))},e.onDragLeave=function(t){var n=e.props.context.onNodeDragLeave;t.stopPropagation(),n(t,Le(e))},e.onDragEnd=function(t){var n=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,Le(e))},e.onDrop=function(t){var n=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,Le(e))},e.onExpand=function(t){var n=e.props,i=n.loading,r=n.context.onNodeExpand;i||r(t,sL(e.props))},e.setSelectHandle=function(t){e.selectHandle=t},e.getNodeState=function(){var t=e.props.expanded;return e.isLeaf()?null:t?cL:uL},e.hasChildren=function(){var t=e.props.eventKey;return!!((e.props.context.keyEntities[t]||{}).children||[]).length},e.isLeaf=function(){var t=e.props,n=t.isLeaf,i=t.loaded,r=e.props.context.loadData,o=e.hasChildren();return!1!==n&&(n||!r&&!o||r&&i&&!o)},e.isDisabled=function(){var t=e.props.disabled;return!(!e.props.context.disabled&&!t)},e.isCheckable=function(){var t=e.props.checkable,n=e.props.context.checkable;return!(!n||!1===t)&&n},e.syncLoadData=function(t){var n=t.expanded,i=t.loading,r=t.loaded,o=e.props.context,a=o.loadData,s=o.onNodeLoad;i||a&&n&&!e.isLeaf()&&(e.hasChildren()||r||s(sL(e.props)))},e.isDraggable=function(){var t=e.props,n=t.data,i=t.context.draggable;return!(!i||i.nodeDraggable&&!i.nodeDraggable(n))},e.renderDragHandler=function(){var n=e.props.context,i=n.draggable,r=n.prefixCls;return(null===i||void 0===i?void 0:i.icon)?t.createElement("span",{className:"".concat(r,"-draggable-icon")},i.icon):null},e.renderSwitcherIconDom=function(t){var n=e.props.switcherIcon,i=e.props.context.switcherIcon,r=n||i;return"function"===typeof r?r(le(le({},e.props),{},{isLeaf:t})):r},e.renderSwitcher=function(){var n=e.props.expanded,i=e.props.context.prefixCls;if(e.isLeaf()){var r=e.renderSwitcherIconDom(!0);return!1!==r?t.createElement("span",{className:wh()("".concat(i,"-switcher"),"".concat(i,"-switcher-noop"))},r):null}var o=wh()("".concat(i,"-switcher"),"".concat(i,"-switcher_").concat(n?cL:uL)),a=e.renderSwitcherIconDom(!1);return!1!==a?t.createElement("span",{onClick:e.onExpand,className:o},a):null},e.renderCheckbox=function(){var n=e.props,i=n.checked,r=n.halfChecked,o=n.disableCheckbox,a=e.props.context.prefixCls,s=e.isDisabled(),l=e.isCheckable();if(!l)return null;var c="boolean"!==typeof l?l:null;return t.createElement("span",{className:wh()("".concat(a,"-checkbox"),i&&"".concat(a,"-checkbox-checked"),!i&&r&&"".concat(a,"-checkbox-indeterminate"),(s||o)&&"".concat(a,"-checkbox-disabled")),onClick:e.onCheck},c)},e.renderIcon=function(){var n=e.props.loading,i=e.props.context.prefixCls;return t.createElement("span",{className:wh()("".concat(i,"-iconEle"),"".concat(i,"-icon__").concat(e.getNodeState()||"docu"),n&&"".concat(i,"-icon_loading"))})},e.renderSelector=function(){var n,i,r=e.state.dragNodeHighlight,o=e.props,a=o.title,s=o.selected,l=o.icon,c=o.loading,u=o.data,d=e.props.context,h=d.prefixCls,p=d.showIcon,f=d.icon,m=d.loadData,g=d.titleRender,v=e.isDisabled(),y="".concat(h,"-node-content-wrapper");if(p){var x=l||f;n=x?t.createElement("span",{className:wh()("".concat(h,"-iconEle"),"".concat(h,"-icon__customize"))},"function"===typeof x?x(e.props):x):e.renderIcon()}else m&&c&&(n=e.renderIcon());i="function"===typeof a?a(u):g?g(u):a;var b=t.createElement("span",{className:"".concat(h,"-title")},i);return t.createElement("span",{ref:e.setSelectHandle,title:"string"===typeof a?a:"",className:wh()("".concat(y),"".concat(y,"-").concat(e.getNodeState()||"normal"),!v&&(s||r)&&"".concat(h,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},n,b,e.renderDropIndicator())},e.renderDropIndicator=function(){var t=e.props,n=t.disabled,i=t.eventKey,r=e.props.context,o=r.draggable,a=r.dropLevelOffset,s=r.dropPosition,l=r.prefixCls,c=r.indent,u=r.dropIndicatorRender,d=r.dragOverNodeKey,h=r.direction;return!n&&!!o&&d===i?u({dropPosition:s,dropLevelOffset:a,indent:c,prefixCls:l,direction:h}):null},e}return Te(i,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var e=this.props.selectable,t=this.props.context.selectable;return"boolean"===typeof e?e:t}},{key:"render",value:function(){var e,n=this.props,i=n.eventKey,r=n.className,o=n.style,a=n.dragOver,s=n.dragOverGapTop,l=n.dragOverGapBottom,c=n.isLeaf,u=n.isStart,d=n.isEnd,h=n.expanded,f=n.selected,m=n.checked,g=n.halfChecked,v=n.loading,y=n.domRef,x=n.active,b=(n.data,n.onMouseMove),_=n.selectable,w=ln(n,lL),k=this.props.context,S=k.prefixCls,C=k.filterTreeNode,E=k.keyEntities,T=k.dropContainerKey,M=k.dropTargetKey,P=k.draggingNodeKey,A=this.isDisabled(),I=Kk(w,{aria:!0,data:!0}),L=(E[i]||{}).level,D=d[d.length-1],O=this.isDraggable(),R=!A&&O,z=P===i,F=void 0!==_?{"aria-selected":!!_}:void 0;return t.createElement("div",p({ref:y,className:wh()(r,"".concat(S,"-treenode"),(e={},ae(e,"".concat(S,"-treenode-disabled"),A),ae(e,"".concat(S,"-treenode-switcher-").concat(h?"open":"close"),!c),ae(e,"".concat(S,"-treenode-checkbox-checked"),m),ae(e,"".concat(S,"-treenode-checkbox-indeterminate"),g),ae(e,"".concat(S,"-treenode-selected"),f),ae(e,"".concat(S,"-treenode-loading"),v),ae(e,"".concat(S,"-treenode-active"),x),ae(e,"".concat(S,"-treenode-leaf-last"),D),ae(e,"".concat(S,"-treenode-draggable"),O),ae(e,"dragging",z),ae(e,"drop-target",M===i),ae(e,"drop-container",T===i),ae(e,"drag-over",!A&&a),ae(e,"drag-over-gap-top",!A&&s),ae(e,"drag-over-gap-bottom",!A&&l),ae(e,"filter-node",C&&C(sL(this.props))),e)),style:o,draggable:R,"aria-grabbed":z,onDragStart:R?this.onDragStart:void 0,onDragEnter:O?this.onDragEnter:void 0,onDragOver:O?this.onDragOver:void 0,onDragLeave:O?this.onDragLeave:void 0,onDrop:O?this.onDrop:void 0,onDragEnd:O?this.onDragEnd:void 0,onMouseMove:b},F,I),t.createElement(QI,{prefixCls:S,level:L,isStart:u,isEnd:d}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),i}(t.Component),hL=function(e){return t.createElement(ZI.Consumer,null,(function(n){return t.createElement(dL,p({},e,{context:n}))}))};hL.displayName="TreeNode",hL.defaultProps={title:"---"},hL.isTreeNode=1;var pL=hL;function fL(e,t){if(!e)return[];var n=e.slice(),i=n.indexOf(t);return i>=0&&n.splice(i,1),n}function mL(e,t){var n=(e||[]).slice();return-1===n.indexOf(t)&&n.push(t),n}function gL(e){return e.split("-")}function vL(e,t){return"".concat(e,"-").concat(t)}function yL(e,t){var n=[];return function e(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){var i=t.key,r=t.children;n.push(i),e(r)}))}(t[e].children),n}function xL(e){if(e.parent){var t=gL(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function bL(e,t,n,i,r,o,a,s,l,c){var u,d=e.clientX,h=e.clientY,p=e.target.getBoundingClientRect(),f=p.top,m=p.height,g=(("rtl"===c?-1:1)*(((null===r||void 0===r?void 0:r.x)||0)-d)-12)/i,v=s[n.props.eventKey];if(h<f+m/2){var y=a.findIndex((function(e){return e.key===v.key})),x=a[y<=0?0:y-1].key;v=s[x]}var b=v.key,_=v,w=v.key,k=0,S=0;if(!l.includes(b))for(var C=0;C<g&&xL(v);C+=1)v=v.parent,S+=1;var E=t.props.data,T=v.node,M=!0;return function(e){var t=gL(e.pos);return 0===Number(t[t.length-1])}(v)&&0===v.level&&h<f+m/2&&o({dragNode:E,dropNode:T,dropPosition:-1})&&v.key===n.props.eventKey?k=-1:(_.children||[]).length&&l.includes(w)?o({dragNode:E,dropNode:T,dropPosition:0})?k=0:M=!1:0===S?g>-1.5?o({dragNode:E,dropNode:T,dropPosition:1})?k=1:M=!1:o({dragNode:E,dropNode:T,dropPosition:0})?k=0:o({dragNode:E,dropNode:T,dropPosition:1})?k=1:M=!1:o({dragNode:E,dropNode:T,dropPosition:1})?k=1:M=!1,{dropPosition:k,dropLevelOffset:S,dropTargetKey:v.key,dropTargetPos:v.pos,dragOverNodeKey:w,dropContainerKey:0===k?null:(null===(u=v.parent)||void 0===u?void 0:u.key)||null,dropAllowed:M}}function _L(e,t){if(e)return t.multiple?e.slice():e.length?[e[0]]:e}function wL(e){if(!e)return null;var t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else{if("object"!==te(e))return cp(!1,"`checkedKeys` is not an array or an object"),null;t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0}}return t}function kL(e,t){var n=new Set;function i(e){if(!n.has(e)){var r=t[e];if(r){n.add(e);var o=r.parent;r.node.disabled||o&&i(o.key)}}}return(e||[]).forEach((function(e){i(e)})),Ne(n)}function SL(e){if(null==e)throw new TypeError("Cannot destructure "+e)}var CL=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],EL=function(e,n){var i=e.className,r=e.style,o=e.motion,a=e.motionNodes,s=e.motionType,l=e.onMotionStart,c=e.onMotionEnd,u=e.active,d=e.treeNodeRequiredProps,h=ln(e,CL),f=pe(t.useState(!0),2),m=f[0],g=f[1],v=t.useContext(ZI).prefixCls,y=t.useRef(!1),x=function(){y.current||c(),y.current=!0};return(0,t.useEffect)((function(){a&&"hide"===s&&m&&g(!1)}),[a]),(0,t.useEffect)((function(){return a&&l(),function(){a&&x()}}),[]),a?t.createElement(im,p({ref:n,visible:m},o,{motionAppear:"show"===s,onAppearEnd:x,onLeaveEnd:x}),(function(e,n){var i=e.className,r=e.style;return t.createElement("div",{ref:n,className:wh()("".concat(v,"-treenode-motion"),i),style:r},a.map((function(e){var n=p({},(SL(e.data),e.data)),i=e.title,r=e.key,o=e.isStart,a=e.isEnd;delete n.children;var s=aL(r,d);return t.createElement(pL,p({},n,s,{title:i,active:u,data:e.data,key:r,isStart:o,isEnd:a}))})))})):t.createElement(pL,p({domRef:n,className:i,style:r},h,{active:u}))};EL.displayName="MotionTreeNode";var TL=t.forwardRef(EL);function ML(e,t,n){var i=e.findIndex((function(e){return e.key===n})),r=e[i+1],o=t.findIndex((function(e){return e.key===n}));if(r){var a=t.findIndex((function(e){return e.key===r.key}));return t.slice(o+1,a)}return t.slice(o+1)}var PL=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],AL={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},IL=function(){},LL="RC_TREE_MOTION_".concat(Math.random()),DL={key:LL},OL={key:LL,level:0,index:0,pos:"0",node:DL,nodes:[DL]},RL={parent:null,children:[],pos:OL.pos,data:DL,title:null,key:LL,isStart:[],isEnd:[]};function zL(e,t,n,i){return!1!==t&&n?e.slice(0,Math.ceil(n/i)+1):e}function FL(e){return tL(e.key,e.pos)}var BL=t.forwardRef((function(e,n){var i=e.prefixCls,r=e.data,o=(e.selectable,e.checkable,e.expandedKeys),a=e.selectedKeys,s=e.checkedKeys,l=e.loadedKeys,c=e.loadingKeys,u=e.halfCheckedKeys,d=e.keyEntities,h=e.disabled,f=e.dragging,m=e.dragOverNodeKey,g=e.dropPosition,v=e.motion,y=e.height,x=e.itemHeight,b=e.virtual,_=e.focusable,w=e.activeItem,k=e.focused,S=e.tabIndex,C=e.onKeyDown,E=e.onFocus,T=e.onBlur,M=e.onActiveChange,P=e.onListChangeStart,A=e.onListChangeEnd,I=ln(e,PL),L=t.useRef(null),D=t.useRef(null);t.useImperativeHandle(n,(function(){return{scrollTo:function(e){L.current.scrollTo(e)},getIndentWidth:function(){return D.current.offsetWidth}}}));var O=pe(t.useState(o),2),R=O[0],z=O[1],F=pe(t.useState(r),2),B=F[0],N=F[1],j=pe(t.useState(r),2),V=j[0],W=j[1],U=pe(t.useState([]),2),H=U[0],X=U[1],G=pe(t.useState(null),2),Y=G[0],q=G[1],K=t.useRef(r);function $(){var e=K.current;N(e),W(e),X([]),q(null),A()}K.current=r,t.useEffect((function(){z(o);var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.length,i=t.length;if(1!==Math.abs(n-i))return{add:!1,key:null};function r(e,t){var n=new Map;e.forEach((function(e){n.set(e,!0)}));var i=t.filter((function(e){return!n.has(e)}));return 1===i.length?i[0]:null}return n<i?{add:!0,key:r(e,t)}:{add:!1,key:r(t,e)}}(R,o);if(null!==e.key)if(e.add){var t=B.findIndex((function(t){return t.key===e.key})),n=zL(ML(B,r,e.key),b,y,x),i=B.slice();i.splice(t+1,0,RL),W(i),X(n),q("show")}else{var a=r.findIndex((function(t){return t.key===e.key})),s=zL(ML(r,B,e.key),b,y,x),l=r.slice();l.splice(a+1,0,RL),W(l),X(s),q("hide")}else B!==r&&(N(r),W(r))}),[o,r]),t.useEffect((function(){f||$()}),[f]);var Z=v?V:r,J={expandedKeys:o,selectedKeys:a,loadedKeys:l,loadingKeys:c,checkedKeys:s,halfCheckedKeys:u,dragOverNodeKey:m,dropPosition:g,keyEntities:d};return t.createElement(t.Fragment,null,k&&w&&t.createElement("span",{style:AL,"aria-live":"assertive"},function(e){for(var t=String(e.data.key),n=e;n.parent;)n=n.parent,t="".concat(n.data.key," > ").concat(t);return t}(w)),t.createElement("div",null,t.createElement("input",{style:AL,disabled:!1===_||h,tabIndex:!1!==_?S:null,onKeyDown:C,onFocus:E,onBlur:T,value:"",onChange:IL,"aria-label":"for screen reader"})),t.createElement("div",{className:"".concat(i,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},t.createElement("div",{className:"".concat(i,"-indent")},t.createElement("div",{ref:D,className:"".concat(i,"-indent-unit")}))),t.createElement(HE,p({},I,{data:Z,itemKey:FL,height:y,fullHeight:!1,virtual:b,itemHeight:x,prefixCls:"".concat(i,"-list"),ref:L,onVisibleChange:function(e,t){var n=new Set(e);t.filter((function(e){return!n.has(e)})).some((function(e){return FL(e)===LL}))&&$()}}),(function(e){var n=e.pos,i=p({},(SL(e.data),e.data)),r=e.title,o=e.key,a=e.isStart,s=e.isEnd,l=tL(o,n);delete i.key,delete i.children;var c=aL(l,J);return t.createElement(TL,p({},i,c,{title:r,active:!!w&&o===w.key,pos:n,data:e.data,isStart:a,isEnd:s,motion:v,motionNodes:o===LL?H:null,motionType:Y,onMotionStart:P,onMotionEnd:$,treeNodeRequiredProps:J,onMouseMove:function(){M(null)}}))})))}));BL.displayName="NodeList";var NL=BL;function jL(e,t){var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n}function VL(e){var t=e||{},n=t.disabled,i=t.disableCheckbox,r=t.checkable;return!(!n&&!i)||!1===r}function WL(e,t,n,i){var r,o=[];r=i||VL;var a,s=new Set(e.filter((function(e){var t=!!n[e];return t||o.push(e),t}))),l=new Map,c=0;return Object.keys(n).forEach((function(e){var t=n[e],i=t.level,r=l.get(i);r||(r=new Set,l.set(i,r)),r.add(t),c=Math.max(c,i)})),cp(!o.length,"Tree missing follow keys: ".concat(o.slice(0,100).map((function(e){return"'".concat(e,"'")})).join(", "))),a=!0===t?function(e,t,n,i){for(var r=new Set(e),o=new Set,a=0;a<=n;a+=1)(t.get(a)||new Set).forEach((function(e){var t=e.key,n=e.node,o=e.children,a=void 0===o?[]:o;r.has(t)&&!i(n)&&a.filter((function(e){return!i(e.node)})).forEach((function(e){r.add(e.key)}))}));for(var s=new Set,l=n;l>=0;l-=1)(t.get(l)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!i(n)&&e.parent&&!s.has(e.parent.key))if(i(e.parent.node))s.add(t.key);else{var a=!0,l=!1;(t.children||[]).filter((function(e){return!i(e.node)})).forEach((function(e){var t=e.key,n=r.has(t);a&&!n&&(a=!1),l||!n&&!o.has(t)||(l=!0)})),a&&r.add(t.key),l&&o.add(t.key),s.add(t.key)}}));return{checkedKeys:Array.from(r),halfCheckedKeys:Array.from(jL(o,r))}}(s,l,c,r):function(e,t,n,i,r){for(var o=new Set(e),a=new Set(t),s=0;s<=i;s+=1)(n.get(s)||new Set).forEach((function(e){var t=e.key,n=e.node,i=e.children,s=void 0===i?[]:i;o.has(t)||a.has(t)||r(n)||s.filter((function(e){return!r(e.node)})).forEach((function(e){o.delete(e.key)}))}));a=new Set;for(var l=new Set,c=i;c>=0;c-=1)(n.get(c)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!r(n)&&e.parent&&!l.has(e.parent.key))if(r(e.parent.node))l.add(t.key);else{var i=!0,s=!1;(t.children||[]).filter((function(e){return!r(e.node)})).forEach((function(e){var t=e.key,n=o.has(t);i&&!n&&(i=!1),s||!n&&!a.has(t)||(s=!0)})),i||o.delete(t.key),s&&a.add(t.key),l.add(t.key)}}));return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(jL(a,o))}}(s,t.halfCheckedKeys,l,c,r),a}var UL=10,HL=function(e){Pe(i,e);var n=De(i);function i(){var e;Ce(this,i);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).destroyed=!1,e.delayedDragEnterLogic=void 0,e.loadingRetryTimes={},e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:nL()},e.dragStartMousePosition=null,e.dragNode=void 0,e.currentMouseOverDroppableNodeKey=null,e.listRef=t.createRef(),e.onNodeDragStart=function(t,n){var i=e.state,r=i.expandedKeys,o=i.keyEntities,a=e.props.onDragStart,s=n.props.eventKey;e.dragNode=n,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var l=fL(r,s);e.setState({draggingNodeKey:s,dragChildrenKeys:yL(s,o),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(l),window.addEventListener("dragend",e.onWindowDragEnd),null===a||void 0===a||a({event:t,node:sL(n.props)})},e.onNodeDragEnter=function(t,n){var i=e.state,r=i.expandedKeys,o=i.keyEntities,a=i.dragChildrenKeys,s=i.flattenNodes,l=i.indent,c=e.props,u=c.onDragEnter,d=c.onExpand,h=c.allowDrop,p=c.direction,f=n.props,m=f.pos,g=f.eventKey,v=Le(e).dragNode;if(e.currentMouseOverDroppableNodeKey!==g&&(e.currentMouseOverDroppableNodeKey=g),v){var y=bL(t,v,n,l,e.dragStartMousePosition,h,s,o,r,p),x=y.dropPosition,b=y.dropLevelOffset,_=y.dropTargetKey,w=y.dropContainerKey,k=y.dropTargetPos,S=y.dropAllowed,C=y.dragOverNodeKey;-1===a.indexOf(_)&&S?(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach((function(t){clearTimeout(e.delayedDragEnterLogic[t])})),v.props.eventKey!==n.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[m]=window.setTimeout((function(){if(null!==e.state.draggingNodeKey){var i=Ne(r),a=o[n.props.eventKey];a&&(a.children||[]).length&&(i=mL(r,n.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(i),null===d||void 0===d||d(i,{node:sL(n.props),expanded:!0,nativeEvent:t.nativeEvent})}}),800)),v.props.eventKey!==_||0!==b?(e.setState({dragOverNodeKey:C,dropPosition:x,dropLevelOffset:b,dropTargetKey:_,dropContainerKey:w,dropTargetPos:k,dropAllowed:S}),null===u||void 0===u||u({event:t,node:sL(n.props),expandedKeys:r})):e.resetDragState()):e.resetDragState()}else e.resetDragState()},e.onNodeDragOver=function(t,n){var i=e.state,r=i.dragChildrenKeys,o=i.flattenNodes,a=i.keyEntities,s=i.expandedKeys,l=i.indent,c=e.props,u=c.onDragOver,d=c.allowDrop,h=c.direction,p=Le(e).dragNode;if(p){var f=bL(t,p,n,l,e.dragStartMousePosition,d,o,a,s,h),m=f.dropPosition,g=f.dropLevelOffset,v=f.dropTargetKey,y=f.dropContainerKey,x=f.dropAllowed,b=f.dropTargetPos,_=f.dragOverNodeKey;-1===r.indexOf(v)&&x&&(p.props.eventKey===v&&0===g?null===e.state.dropPosition&&null===e.state.dropLevelOffset&&null===e.state.dropTargetKey&&null===e.state.dropContainerKey&&null===e.state.dropTargetPos&&!1===e.state.dropAllowed&&null===e.state.dragOverNodeKey||e.resetDragState():m===e.state.dropPosition&&g===e.state.dropLevelOffset&&v===e.state.dropTargetKey&&y===e.state.dropContainerKey&&b===e.state.dropTargetPos&&x===e.state.dropAllowed&&_===e.state.dragOverNodeKey||e.setState({dropPosition:m,dropLevelOffset:g,dropTargetKey:v,dropContainerKey:y,dropTargetPos:b,dropAllowed:x,dragOverNodeKey:_}),null===u||void 0===u||u({event:t,node:sL(n.props)}))}},e.onNodeDragLeave=function(t,n){e.currentMouseOverDroppableNodeKey!==n.props.eventKey||t.currentTarget.contains(t.relatedTarget)||(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var i=e.props.onDragLeave;null===i||void 0===i||i({event:t,node:sL(n.props)})},e.onWindowDragEnd=function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(t,n){var i=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),null===i||void 0===i||i({event:t,node:sL(n.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDrop=function(t,n){var i,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.state,a=o.dragChildrenKeys,s=o.dropPosition,l=o.dropTargetKey,c=o.dropTargetPos;if(o.dropAllowed){var u=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),null!==l){var d=le(le({},aL(l,e.getTreeNodeRequiredProps())),{},{active:(null===(i=e.getActiveItem())||void 0===i?void 0:i.key)===l,data:e.state.keyEntities[l].node}),h=-1!==a.indexOf(l);cp(!h,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var p=gL(c),f={event:t,node:sL(d),dragNode:e.dragNode?sL(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(a),dropToGap:0!==s,dropPosition:s+Number(p[p.length-1])};r||null===u||void 0===u||u(f),e.dragNode=null}}},e.cleanDragState=function(){null!==e.state.draggingNodeKey&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null},e.triggerExpandActionExpand=function(t,n){var i=e.state,r=i.expandedKeys,o=i.flattenNodes,a=n.expanded,s=n.key;if(!(n.isLeaf||t.shiftKey||t.metaKey||t.ctrlKey)){var l=o.filter((function(e){return e.key===s}))[0],c=sL(le(le({},aL(s,e.getTreeNodeRequiredProps())),{},{data:l.data}));e.setExpandedKeys(a?fL(r,s):mL(r,s)),e.onNodeExpand(t,c)}},e.onNodeClick=function(t,n){var i=e.props,r=i.onClick;"click"===i.expandAction&&e.triggerExpandActionExpand(t,n),null===r||void 0===r||r(t,n)},e.onNodeDoubleClick=function(t,n){var i=e.props,r=i.onDoubleClick;"doubleClick"===i.expandAction&&e.triggerExpandActionExpand(t,n),null===r||void 0===r||r(t,n)},e.onNodeSelect=function(t,n){var i=e.state.selectedKeys,r=e.state,o=r.keyEntities,a=r.fieldNames,s=e.props,l=s.onSelect,c=s.multiple,u=n.selected,d=n[a.key],h=!u,p=(i=h?c?mL(i,d):[d]:fL(i,d)).map((function(e){var t=o[e];return t?t.node:null})).filter((function(e){return e}));e.setUncontrolledState({selectedKeys:i}),null===l||void 0===l||l(i,{event:"select",selected:h,node:n,selectedNodes:p,nativeEvent:t.nativeEvent})},e.onNodeCheck=function(t,n,i){var r,o=e.state,a=o.keyEntities,s=o.checkedKeys,l=o.halfCheckedKeys,c=e.props,u=c.checkStrictly,d=c.onCheck,h=n.key,p={event:"check",node:n,checked:i,nativeEvent:t.nativeEvent};if(u){var f=i?mL(s,h):fL(s,h);r={checked:f,halfChecked:fL(l,h)},p.checkedNodes=f.map((function(e){return a[e]})).filter((function(e){return e})).map((function(e){return e.node})),e.setUncontrolledState({checkedKeys:f})}else{var m=WL([].concat(Ne(s),[h]),!0,a),g=m.checkedKeys,v=m.halfCheckedKeys;if(!i){var y=new Set(g);y.delete(h);var x=WL(Array.from(y),{checked:!1,halfCheckedKeys:v},a);g=x.checkedKeys,v=x.halfCheckedKeys}r=g,p.checkedNodes=[],p.checkedNodesPositions=[],p.halfCheckedKeys=v,g.forEach((function(e){var t=a[e];if(t){var n=t.node,i=t.pos;p.checkedNodes.push(n),p.checkedNodesPositions.push({node:n,pos:i})}})),e.setUncontrolledState({checkedKeys:g},!1,{halfCheckedKeys:v})}null===d||void 0===d||d(r,p)},e.onNodeLoad=function(t){var n=t.key,i=new Promise((function(i,r){e.setState((function(o){var a=o.loadedKeys,s=void 0===a?[]:a,l=o.loadingKeys,c=void 0===l?[]:l,u=e.props,d=u.loadData,h=u.onLoad;return d&&-1===s.indexOf(n)&&-1===c.indexOf(n)?(d(t).then((function(){var r=mL(e.state.loadedKeys,n);null===h||void 0===h||h(r,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:r}),e.setState((function(e){return{loadingKeys:fL(e.loadingKeys,n)}})),i()})).catch((function(t){if(e.setState((function(e){return{loadingKeys:fL(e.loadingKeys,n)}})),e.loadingRetryTimes[n]=(e.loadingRetryTimes[n]||0)+1,e.loadingRetryTimes[n]>=UL){var o=e.state.loadedKeys;cp(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:mL(o,n)}),i()}r(t)})),{loadingKeys:mL(c,n)}):null}))}));return i.catch((function(){})),i},e.onNodeMouseEnter=function(t,n){var i=e.props.onMouseEnter;null===i||void 0===i||i({event:t,node:n})},e.onNodeMouseLeave=function(t,n){var i=e.props.onMouseLeave;null===i||void 0===i||i({event:t,node:n})},e.onNodeContextMenu=function(t,n){var i=e.props.onRightClick;i&&(t.preventDefault(),i({event:t,node:n}))},e.onFocus=function(){var t=e.props.onFocus;e.setState({focused:!0});for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];null===t||void 0===t||t.apply(void 0,i)},e.onBlur=function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];null===t||void 0===t||t.apply(void 0,i)},e.getTreeNodeRequiredProps=function(){var t=e.state;return{expandedKeys:t.expandedKeys||[],selectedKeys:t.selectedKeys||[],loadedKeys:t.loadedKeys||[],loadingKeys:t.loadingKeys||[],checkedKeys:t.checkedKeys||[],halfCheckedKeys:t.halfCheckedKeys||[],dragOverNodeKey:t.dragOverNodeKey,dropPosition:t.dropPosition,keyEntities:t.keyEntities}},e.setExpandedKeys=function(t){var n=e.state,i=rL(n.treeData,t,n.fieldNames);e.setUncontrolledState({expandedKeys:t,flattenNodes:i},!0)},e.onNodeExpand=function(t,n){var i=e.state.expandedKeys,r=e.state,o=r.listChanging,a=r.fieldNames,s=e.props,l=s.onExpand,c=s.loadData,u=n.expanded,d=n[a.key];if(!o){var h=i.indexOf(d),p=!u;if(cp(u&&-1!==h||!u&&-1===h,"Expand state not sync with index check"),i=p?mL(i,d):fL(i,d),e.setExpandedKeys(i),null===l||void 0===l||l(i,{node:n,expanded:p,nativeEvent:t.nativeEvent}),p&&c){var f=e.onNodeLoad(n);f&&f.then((function(){var t=rL(e.state.treeData,i,a);e.setUncontrolledState({flattenNodes:t})})).catch((function(){var t=fL(e.state.expandedKeys,d);e.setExpandedKeys(t)}))}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout((function(){e.setUncontrolledState({listChanging:!1})}))},e.onActiveChange=function(t){var n=e.state.activeKey,i=e.props.onActiveChange;n!==t&&(e.setState({activeKey:t}),null!==t&&e.scrollTo({key:t}),null===i||void 0===i||i(t))},e.getActiveItem=function(){var t=e.state,n=t.activeKey,i=t.flattenNodes;return null===n?null:i.find((function(e){return e.key===n}))||null},e.offsetActiveKey=function(t){var n=e.state,i=n.flattenNodes,r=n.activeKey,o=i.findIndex((function(e){return e.key===r}));-1===o&&t<0&&(o=i.length);var a=i[o=(o+t+i.length)%i.length];if(a){var s=a.key;e.onActiveChange(s)}else e.onActiveChange(null)},e.onKeyDown=function(t){var n=e.state,i=n.activeKey,r=n.expandedKeys,o=n.checkedKeys,a=n.fieldNames,s=e.props,l=s.onKeyDown,c=s.checkable,u=s.selectable;switch(t.which){case Gp.UP:e.offsetActiveKey(-1),t.preventDefault();break;case Gp.DOWN:e.offsetActiveKey(1),t.preventDefault()}var d=e.getActiveItem();if(d&&d.data){var h=e.getTreeNodeRequiredProps(),p=!1===d.data.isLeaf||!!(d.data[a.children]||[]).length,f=sL(le(le({},aL(i,h)),{},{data:d.data,active:!0}));switch(t.which){case Gp.LEFT:p&&r.includes(i)?e.onNodeExpand({},f):d.parent&&e.onActiveChange(d.parent.key),t.preventDefault();break;case Gp.RIGHT:p&&!r.includes(i)?e.onNodeExpand({},f):d.children&&d.children.length&&e.onActiveChange(d.children[0].key),t.preventDefault();break;case Gp.ENTER:case Gp.SPACE:!c||f.disabled||!1===f.checkable||f.disableCheckbox?c||!u||f.disabled||!1===f.selectable||e.onNodeSelect({},f):e.onNodeCheck({},f,!o.includes(i))}}null===l||void 0===l||l(t)},e.setUncontrolledState=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e.destroyed){var r=!1,o=!0,a={};Object.keys(t).forEach((function(n){n in e.props?o=!1:(r=!0,a[n]=t[n])})),!r||n&&!o||e.setState(le(le({},a),i))}},e.scrollTo=function(t){e.listRef.current.scrollTo(t)},e}return Te(i,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var e=this.props.activeKey;void 0!==e&&e!==this.state.activeKey&&(this.setState({activeKey:e}),null!==e&&this.scrollTo({key:e}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var e,n,i=this.state,r=i.focused,o=i.flattenNodes,a=i.keyEntities,s=i.draggingNodeKey,l=i.activeKey,c=i.dropLevelOffset,u=i.dropContainerKey,d=i.dropTargetKey,h=i.dropPosition,f=i.dragOverNodeKey,m=i.indent,g=this.props,v=g.prefixCls,y=g.className,x=g.style,b=g.showLine,_=g.focusable,w=g.tabIndex,k=void 0===w?0:w,S=g.selectable,C=g.showIcon,E=g.icon,T=g.switcherIcon,M=g.draggable,P=g.checkable,A=g.checkStrictly,I=g.disabled,L=g.motion,D=g.loadData,O=g.filterTreeNode,R=g.height,z=g.itemHeight,F=g.virtual,B=g.titleRender,N=g.dropIndicatorRender,j=g.onContextMenu,V=g.onScroll,W=g.direction,U=g.rootClassName,H=g.rootStyle,X=Kk(this.props,{aria:!0,data:!0});return M&&(n="object"===te(M)?M:"function"===typeof M?{nodeDraggable:M}:{}),t.createElement(ZI.Provider,{value:{prefixCls:v,selectable:S,showIcon:C,icon:E,switcherIcon:T,draggable:n,draggingNodeKey:s,checkable:P,checkStrictly:A,disabled:I,keyEntities:a,dropLevelOffset:c,dropContainerKey:u,dropTargetKey:d,dropPosition:h,dragOverNodeKey:f,indent:m,direction:W,dropIndicatorRender:N,loadData:D,filterTreeNode:O,titleRender:B,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},t.createElement("div",{role:"tree",className:wh()(v,y,U,(e={},ae(e,"".concat(v,"-show-line"),b),ae(e,"".concat(v,"-focused"),r),ae(e,"".concat(v,"-active-focused"),null!==l),e)),style:H},t.createElement(NL,p({ref:this.listRef,prefixCls:v,style:x,data:o,disabled:I,selectable:S,checkable:!!P,motion:L,dragging:null!==s,height:R,itemHeight:z,virtual:F,focusable:_,focused:r,tabIndex:k,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:j,onScroll:V},this.getTreeNodeRequiredProps(),X))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,i=t.prevProps,r={prevProps:e};function o(t){return!i&&t in e||i&&i[t]!==e[t]}var a=t.fieldNames;if(o("fieldNames")&&(a=nL(e.fieldNames),r.fieldNames=a),o("treeData")?n=e.treeData:o("children")&&(cp(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),n=iL(e.children)),n){r.treeData=n;var s=oL(n,{fieldNames:a});r.keyEntities=le(ae({},LL,OL),s.keyEntities)}var l,c=r.keyEntities||t.keyEntities;if(o("expandedKeys")||i&&o("autoExpandParent"))r.expandedKeys=e.autoExpandParent||!i&&e.defaultExpandParent?kL(e.expandedKeys,c):e.expandedKeys;else if(!i&&e.defaultExpandAll){var u=le({},c);delete u[LL],r.expandedKeys=Object.keys(u).map((function(e){return u[e].key}))}else!i&&e.defaultExpandedKeys&&(r.expandedKeys=e.autoExpandParent||e.defaultExpandParent?kL(e.defaultExpandedKeys,c):e.defaultExpandedKeys);if(r.expandedKeys||delete r.expandedKeys,n||r.expandedKeys){var d=rL(n||t.treeData,r.expandedKeys||t.expandedKeys,a);r.flattenNodes=d}if((e.selectable&&(o("selectedKeys")?r.selectedKeys=_L(e.selectedKeys,e):!i&&e.defaultSelectedKeys&&(r.selectedKeys=_L(e.defaultSelectedKeys,e))),e.checkable)&&(o("checkedKeys")?l=wL(e.checkedKeys)||{}:!i&&e.defaultCheckedKeys?l=wL(e.defaultCheckedKeys)||{}:n&&(l=wL(e.checkedKeys)||{checkedKeys:t.checkedKeys,halfCheckedKeys:t.halfCheckedKeys}),l)){var h=l,p=h.checkedKeys,f=void 0===p?[]:p,m=h.halfCheckedKeys,g=void 0===m?[]:m;if(!e.checkStrictly){var v=WL(f,!0,c);f=v.checkedKeys,g=v.halfCheckedKeys}r.checkedKeys=f,r.halfCheckedKeys=g}return o("loadedKeys")&&(r.loadedKeys=e.loadedKeys),r}}]),i}(t.Component);HL.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(e){var n=e.dropPosition,i=e.dropLevelOffset,r=e.indent,o={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(n){case-1:o.top=0,o.left=-i*r;break;case 1:o.bottom=0,o.left=-i*r;break;case 0:o.bottom=0,o.left=r}return t.createElement("div",{style:o})},allowDrop:function(){return!0},expandAction:!1},HL.TreeNode=pL;var XL=HL,GL={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},YL=function(e,n){return t.createElement(Rp,le(le({},e),{},{ref:n,icon:GL}))};YL.displayName="HolderOutlined";var qL=t.forwardRef(YL),KL=4;function $L(e){var n,i=e.dropPosition,r=e.dropLevelOffset,o=e.prefixCls,a=e.indent,s=e.direction,l=void 0===s?"ltr":s,c="ltr"===l?"left":"right",u="ltr"===l?"right":"left",d=(ae(n={},c,-r*a+KL),ae(n,u,0),n);switch(i){case-1:d.top=-3;break;case 1:d.bottom=-3;break;default:d.bottom=-3,d[c]=a+KL}return t.createElement("div",{style:d,className:"".concat(o,"-drop-indicator")})}var ZL={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},JL=function(e,n){return t.createElement(Rp,le(le({},e),{},{ref:n,icon:ZL}))};JL.displayName="CaretDownFilled";var QL=t.forwardRef(JL),eD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},tD=function(e,n){return t.createElement(Rp,le(le({},e),{},{ref:n,icon:eD}))};tD.displayName="FileOutlined";var nD=t.forwardRef(tD),iD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},rD=function(e,n){return t.createElement(Rp,le(le({},e),{},{ref:n,icon:iD}))};rD.displayName="MinusSquareOutlined";var oD=t.forwardRef(rD),aD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},sD=function(e,n){return t.createElement(Rp,le(le({},e),{},{ref:n,icon:aD}))};sD.displayName="PlusSquareOutlined";var lD=t.forwardRef(sD);var cD=new ry("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),uD=function(e,t){var n,i,r,o,a,s,l=t.treeCls,c=t.treeNodeCls,u=t.treeNodePadding,d=t.treeTitleHeight,h=(d-t.fontSizeLG)/2,p=t.paddingXS;return ae({},l,Object.assign(Object.assign({},My(t)),(ae(s={background:t.colorBgContainer,borderRadius:t.borderRadius,transition:"background-color ".concat(t.motionDurationSlow)},"&".concat(l,"-rtl"),ae({},"".concat(l,"-switcher"),{"&_close":ae({},"".concat(l,"-switcher-icon"),{svg:{transform:"rotate(90deg)"}})})),ae(s,"&-focused:not(:hover):not(".concat(l,"-active-focused)"),Object.assign({},Ly(t))),ae(s,"".concat(l,"-list-holder-inner"),{alignItems:"flex-start"}),ae(s,"&".concat(l,"-block-node"),ae({},"".concat(l,"-list-holder-inner"),(ae(n={alignItems:"stretch"},"".concat(l,"-node-content-wrapper"),{flex:"auto"}),ae(n,"".concat(c,".dragging"),{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:u,insetInlineStart:0,border:"1px solid ".concat(t.colorPrimary),opacity:0,animationName:cD,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}),n))),ae(s,"".concat(c),(r={display:"flex",alignItems:"flex-start",padding:"0 0 ".concat(u,"px 0"),outline:"none","&-rtl":{direction:"rtl"},"&-disabled":ae({},"".concat(l,"-node-content-wrapper"),{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}})},ae(r,"&-active ".concat(l,"-node-content-wrapper"),Object.assign({},Ly(t))),ae(r,"&:not(".concat(c,"-disabled).filter-node ").concat(l,"-title"),{color:"inherit",fontWeight:500}),ae(r,"&-draggable",(ae(i={},"".concat(l,"-draggable-icon"),ae({width:d,lineHeight:"".concat(d,"px"),textAlign:"center",visibility:"visible",opacity:.2,transition:"opacity ".concat(t.motionDurationSlow)},"".concat(c,":hover &"),{opacity:.45})),ae(i,"&".concat(c,"-disabled"),ae({},"".concat(l,"-draggable-icon"),{visibility:"hidden"})),i)),r)),ae(s,"".concat(l,"-indent"),{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:d}}),ae(s,"".concat(l,"-draggable-icon"),{visibility:"hidden"}),ae(s,"".concat(l,"-switcher"),Object.assign(Object.assign({},function(e,t){return ae({},".".concat(e,"-switcher-icon"),{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:"transform ".concat(t.motionDurationSlow)}})}(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:d,margin:0,lineHeight:"".concat(d,"px"),textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":ae({},"".concat(l,"-switcher-icon"),{svg:{transform:"rotate(-90deg)"}}),"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:d/2,bottom:-u,marginInlineStart:-1,borderInlineEnd:"1px solid ".concat(t.colorBorder),content:'""'},"&:after":{position:"absolute",width:d/2*.8,height:d/2,borderBottom:"1px solid ".concat(t.colorBorder),content:'""'}}})),ae(s,"".concat(l,"-checkbox"),{top:"initial",marginInlineEnd:p,marginBlockStart:h}),ae(s,"".concat(l,"-node-content-wrapper, ").concat(l,"-checkbox + span"),(ae(o={position:"relative",zIndex:"auto",minHeight:d,margin:0,padding:"0 ".concat(t.paddingXS/2,"px"),color:"inherit",lineHeight:"".concat(d,"px"),background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:"all ".concat(t.motionDurationMid,", border 0s, line-height 0s, box-shadow 0s"),"&:hover":{backgroundColor:t.controlItemBgHover}},"&".concat(l,"-node-selected"),{backgroundColor:t.controlItemBgActive}),ae(o,"".concat(l,"-iconEle"),{display:"inline-block",width:d,height:d,lineHeight:"".concat(d,"px"),textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}),o)),ae(s,"".concat(l,"-unselectable ").concat(l,"-node-content-wrapper:hover"),{backgroundColor:"transparent"}),ae(s,"".concat(l,"-node-content-wrapper"),Object.assign({lineHeight:"".concat(d,"px"),userSelect:"none"},function(e,t){return ae({},".".concat(e,"-drop-indicator"),{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:"".concat(t.lineWidthBold,"px solid ").concat(t.colorPrimary),borderRadius:"50%",content:'""'}})}(e,t))),ae(s,"".concat(c,".drop-container"),{"> [draggable]":{boxShadow:"0 0 0 2px ".concat(t.colorPrimary)}}),ae(s,"&-show-line",(ae(a={},"".concat(l,"-indent"),{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:d/2,bottom:-u,borderInlineEnd:"1px solid ".concat(t.colorBorder),content:'""'},"&-end":{"&:before":{display:"none"}}}}),ae(a,"".concat(l,"-switcher"),{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}),a)),ae(s,"".concat(c,"-leaf-last"),ae({},"".concat(l,"-switcher"),{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:"".concat(d/2,"px !important")}}})),s)))},dD=function(e){var t,n,i=e.treeCls,r=e.treeNodeCls,o=e.treeNodePadding;return ae({},"".concat(i).concat(i,"-directory"),ae({},r,(ae(n={position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:o,insetInlineStart:0,transition:"background-color ".concat(e.motionDurationMid),content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:e.controlItemBgHover}},"> *":{zIndex:1}},"".concat(i,"-switcher"),{transition:"color ".concat(e.motionDurationMid)}),ae(n,"".concat(i,"-node-content-wrapper"),ae({borderRadius:0,userSelect:"none","&:hover":{background:"transparent"}},"&".concat(i,"-node-selected"),{color:e.colorTextLightSolid,background:"transparent"})),ae(n,"&-selected",(ae(t={},"\n            &:hover::before,\n            &::before\n          ",{background:e.colorPrimary}),ae(t,"".concat(i,"-switcher"),{color:e.colorTextLightSolid}),ae(t,"".concat(i,"-node-content-wrapper"),{color:e.colorTextLightSolid,background:"transparent"}),t)),n)))},hD=function(e,t){var n=".".concat(e),i=Sy(t,{treeCls:n,treeNodeCls:"".concat(n,"-treenode"),treeNodePadding:t.paddingXS/2,treeTitleHeight:t.controlHeightSM});return[uD(e,i),dD(i)]},pD=tx("Tree",(function(e,t){var n=t.prefixCls;return[ae({},e.componentCls,KM("".concat(n,"-checkbox"),e)),hD(n,e),NA(e)]}));var fD=t.forwardRef((function(e,n){var i,r=t.useContext(Kp),o=r.getPrefixCls,a=r.direction,s=r.virtual,l=e.prefixCls,c=e.className,u=e.showIcon,d=void 0!==u&&u,h=e.showLine,p=e.switcherIcon,f=e.blockNode,m=void 0!==f&&f,g=e.children,v=e.checkable,y=void 0!==v&&v,x=e.selectable,b=void 0===x||x,_=e.draggable,w=e.motion,k=o("tree",l),S=o(),C=null!==w&&void 0!==w?w:Object.assign(Object.assign({},gv(S)),{motionAppear:!1}),E=Object.assign(Object.assign({},e),{checkable:y,selectable:b,showIcon:d,motion:C,blockNode:m,showLine:Boolean(h),dropIndicatorRender:$L}),T=pe(pD(k),2),M=T[0],P=T[1],A=t.useMemo((function(){if(!_)return!1;var e={};switch(typeof _){case"function":e.nodeDraggable=_;break;case"object":e=Object.assign({},_)}return!1!==e.icon&&(e.icon=e.icon||t.createElement(qL,null)),e}),[_]);return M(t.createElement(XL,Object.assign({itemHeight:20,ref:n,virtual:s},E,{prefixCls:k,className:wh()((i={},ae(i,"".concat(k,"-icon-hide"),!d),ae(i,"".concat(k,"-block-node"),m),ae(i,"".concat(k,"-unselectable"),!b),ae(i,"".concat(k,"-rtl"),"rtl"===a),i),c,P),direction:a,checkable:y?t.createElement("span",{className:"".concat(k,"-checkbox-inner")}):y,selectable:b,switcherIcon:function(e){return function(e,n,i,r){var o,a=i.isLeaf,s=i.expanded;if(i.loading)return t.createElement(Mb,{className:"".concat(e,"-switcher-loading-icon")});if(r&&"object"===typeof r&&(o=r.showLeafIcon),a){if(!r)return null;if("boolean"!==typeof o&&o){var l="function"===typeof o?o(i):o,c="".concat(e,"-switcher-line-custom-icon");return Sv(l)?Ev(l,{className:wh()(l.props.className||"",c)}):l}return o?t.createElement(nD,{className:"".concat(e,"-switcher-line-icon")}):t.createElement("span",{className:"".concat(e,"-switcher-leaf-line")})}var u="".concat(e,"-switcher-icon"),d="function"===typeof n?n(i):n;return Sv(d)?Ev(d,{className:wh()(d.props.className||"",u)}):d||(r?s?t.createElement(oD,{className:"".concat(e,"-switcher-line-icon")}):t.createElement(lD,{className:"".concat(e,"-switcher-line-icon")}):t.createElement(QL,{className:u}))}(k,p,e,h)},draggable:A}),g))})),mD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},gD=function(e,n){return t.createElement(Rp,le(le({},e),{},{ref:n,icon:mD}))};gD.displayName="FolderOpenOutlined";var vD=t.forwardRef(gD),yD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},xD=function(e,n){return t.createElement(Rp,le(le({},e),{},{ref:n,icon:yD}))};xD.displayName="FolderOutlined";var bD,_D=t.forwardRef(xD);function wD(e,t){e.forEach((function(e){var n=e.key,i=e.children;!1!==t(n,e)&&wD(i||[],t)}))}function kD(e){var t=e.treeData,n=e.expandedKeys,i=e.startKey,r=e.endKey,o=[],a=bD.None;if(i&&i===r)return[i];if(!i||!r)return[];return wD(t,(function(e){if(a===bD.End)return!1;if(function(e){return e===i||e===r}(e)){if(o.push(e),a===bD.None)a=bD.Start;else if(a===bD.Start)return a=bD.End,!1}else a===bD.Start&&o.push(e);return n.includes(e)})),o}function SD(e,t){var n=Ne(t),i=[];return wD(e,(function(e,t){var r=n.indexOf(e);return-1!==r&&(i.push(t),n.splice(r,1)),!!n.length})),i}!function(e){e[e.None=0]="None",e[e.Start=1]="Start",e[e.End=2]="End"}(bD||(bD={}));var CD=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function ED(e){var n=e.isLeaf,i=e.expanded;return n?t.createElement(nD,null):i?t.createElement(vD,null):t.createElement(_D,null)}function TD(e){var t=e.treeData,n=e.children;return t||iL(n)}var MD=function(e,n){var i=e.defaultExpandAll,r=e.defaultExpandParent,o=e.defaultExpandedKeys,a=CD(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),s=t.useRef(),l=t.useRef(),c=pe(t.useState(a.selectedKeys||a.defaultSelectedKeys||[]),2),u=c[0],d=c[1],h=pe(t.useState((function(){return function(){var e=oL(TD(a)).keyEntities;return i?Object.keys(e):r?kL(a.expandedKeys||o||[],e):a.expandedKeys||o}()})),2),p=h[0],f=h[1];t.useEffect((function(){"selectedKeys"in a&&d(a.selectedKeys)}),[a.selectedKeys]),t.useEffect((function(){"expandedKeys"in a&&f(a.expandedKeys)}),[a.expandedKeys]);var m=t.useContext(Kp),g=m.getPrefixCls,v=m.direction,y=a.prefixCls,x=a.className,b=a.showIcon,_=void 0===b||b,w=a.expandAction,k=void 0===w?"click":w,S=CD(a,["prefixCls","className","showIcon","expandAction"]),C=g("tree",y),E=wh()("".concat(C,"-directory"),ae({},"".concat(C,"-directory-rtl"),"rtl"===v),x);return t.createElement(fD,Object.assign({icon:ED,ref:n,blockNode:!0},S,{showIcon:_,expandAction:k,prefixCls:C,className:E,expandedKeys:p,selectedKeys:u,onSelect:function(e,t){var n,i,r=a.multiple,o=t.node,c=t.nativeEvent,u=o.key,h=void 0===u?"":u,f=TD(a),m=Object.assign(Object.assign({},t),{selected:!0}),g=(null===c||void 0===c?void 0:c.ctrlKey)||(null===c||void 0===c?void 0:c.metaKey),v=null===c||void 0===c?void 0:c.shiftKey;r&&g?(i=e,s.current=h,l.current=i,m.selectedNodes=SD(f,i)):r&&v?(i=Array.from(new Set([].concat(Ne(l.current||[]),Ne(kD({treeData:f,expandedKeys:p,startKey:h,endKey:s.current}))))),m.selectedNodes=SD(f,i)):(i=[h],s.current=h,l.current=i,m.selectedNodes=SD(f,i)),null===(n=a.onSelect)||void 0===n||n.call(a,i,m),"selectedKeys"in a||d(i)},onExpand:function(e,t){var n;return"expandedKeys"in a||f(e),null===(n=a.onExpand)||void 0===n?void 0:n.call(a,e,t)}}))};var PD=t.forwardRef(MD),AD=fD;AD.DirectoryTree=PD,AD.TreeNode=pL;var ID=AD;var LD=function(e){var n,i=(0,t.useContext)(Kp),r=i.getPrefixCls,o=i.direction,a=e.prefixCls,s=e.className,l=void 0===s?"":s,c=r("input-group",a),u=r("input"),d=pe(xM(u),2),h=d[0],p=d[1],f=wh()(c,(ae(n={},"".concat(c,"-lg"),"large"===e.size),ae(n,"".concat(c,"-sm"),"small"===e.size),ae(n,"".concat(c,"-compact"),e.compact),ae(n,"".concat(c,"-rtl"),"rtl"===o),n),p,l),m=(0,t.useContext)(nT),g=(0,t.useMemo)((function(){return Object.assign(Object.assign({},m),{isFormItemInput:!1})}),[m]);return h(t.createElement("span",{className:f,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},t.createElement(nT.Provider,{value:g},e.children)))};function DD(e){return!(!e.addonBefore&&!e.addonAfter)}function OD(e){return!!(e.prefix||e.suffix||e.allowClear)}function RD(e,t,n,i){if(n){var r=t;if("click"===t.type){var o=e.cloneNode(!0);return r=Object.create(t,{target:{value:o},currentTarget:{value:o}}),o.value="",void n(r)}if(void 0!==i)return r=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=i,void n(r);n(r)}}function zD(e){return"undefined"===typeof e||null===e?"":String(e)}var FD=function(e){var n,i=e.inputElement,r=e.prefixCls,o=e.prefix,a=e.suffix,s=e.addonBefore,l=e.addonAfter,c=e.className,u=e.style,d=e.affixWrapperClassName,h=e.groupClassName,p=e.wrapperClassName,f=e.disabled,m=e.readOnly,g=e.focused,v=e.triggerFocus,y=e.allowClear,x=e.value,b=e.handleReset,_=e.hidden,w=e.inputStyle,k=e.classes,S=(0,t.useRef)(null),C=(0,t.cloneElement)(i,{value:x,hidden:_,style:le(le({},null===(n=i.props)||void 0===n?void 0:n.style),w)});if(OD(e)){var E,T="".concat(r,"-affix-wrapper"),M=wh()(T,(ae(E={},"".concat(T,"-disabled"),f),ae(E,"".concat(T,"-focused"),g),ae(E,"".concat(T,"-readonly"),m),ae(E,"".concat(T,"-input-with-clear-btn"),a&&y&&x),E),!DD(e)&&c,d,null===k||void 0===k?void 0:k.affixWrapper),P=(a||y)&&t.createElement("span",{className:"".concat(r,"-suffix")},function(){var e;if(!y)return null;var n=!f&&!m&&x,i="".concat(r,"-clear-icon"),o="object"===te(y)&&null!==y&&void 0!==y&&y.clearIcon?y.clearIcon:"\u2716";return t.createElement("span",{onClick:b,onMouseDown:function(e){return e.preventDefault()},className:wh()(i,(e={},ae(e,"".concat(i,"-hidden"),!n),ae(e,"".concat(i,"-has-suffix"),!!a),e)),role:"button",tabIndex:-1},o)}(),a);C=t.createElement("span",{className:M,style:u,hidden:!DD(e)&&_,onClick:function(e){var t;null!==(t=S.current)&&void 0!==t&&t.contains(e.target)&&(null===v||void 0===v||v())},ref:S},o&&t.createElement("span",{className:"".concat(r,"-prefix")},o),(0,t.cloneElement)(i,{style:null!==w&&void 0!==w?w:null,value:x,hidden:null}),P)}if(DD(e)){var A="".concat(r,"-group"),I="".concat(A,"-addon"),L=wh()("".concat(r,"-wrapper"),A,p,null===k||void 0===k?void 0:k.wrapper),D=wh()("".concat(r,"-group-wrapper"),c,h,null===k||void 0===k?void 0:k.group);return t.createElement("span",{className:D,style:u,hidden:_},t.createElement("span",{className:L},s&&t.createElement("span",{className:I},s),(0,t.cloneElement)(C,{style:null!==w&&void 0!==w?w:null,hidden:null}),l&&t.createElement("span",{className:I},l)))}return C},BD=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","inputClassName","classes"],ND=(0,t.forwardRef)((function(e,n){var i=e.autoComplete,r=e.onChange,o=e.onFocus,a=e.onBlur,s=e.onPressEnter,l=e.onKeyDown,c=e.prefixCls,u=void 0===c?"rc-input":c,d=e.disabled,h=e.htmlSize,f=e.className,m=e.maxLength,g=e.suffix,v=e.showCount,y=e.type,x=void 0===y?"text":y,b=e.inputClassName,_=e.classes,w=ln(e,BD),k=pe(Hp(e.defaultValue,{value:e.value}),2),S=k[0],C=k[1],E=pe((0,t.useState)(!1),2),T=E[0],M=E[1],P=(0,t.useRef)(null),A=function(e){P.current&&function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var i=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(i,i);break;default:e.setSelectionRange(0,i)}}}}(P.current,e)};(0,t.useImperativeHandle)(n,(function(){return{focus:A,blur:function(){var e;null===(e=P.current)||void 0===e||e.blur()},setSelectionRange:function(e,t,n){var i;null===(i=P.current)||void 0===i||i.setSelectionRange(e,t,n)},select:function(){var e;null===(e=P.current)||void 0===e||e.select()},input:P.current}})),(0,t.useEffect)((function(){M((function(e){return(!e||!d)&&e}))}),[d]);var I=function(t){void 0===e.value&&C(t.target.value),P.current&&RD(P.current,t,r)},L=function(e){s&&"Enter"===e.key&&s(e),null===l||void 0===l||l(e)},D=function(e){M(!0),null===o||void 0===o||o(e)},O=function(e){M(!1),null===a||void 0===a||a(e)};return t.createElement(FD,p({},w,{prefixCls:u,className:f,inputElement:function(){var n=Yp(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","affixWrapperClassName","groupClassName","inputClassName","classes","wrapperClassName","htmlSize"]);return t.createElement("input",p({autoComplete:i},n,{onChange:I,onFocus:D,onBlur:O,onKeyDown:L,className:wh()(u,ae({},"".concat(u,"-disabled"),d),b,null===_||void 0===_?void 0:_.input,!DD(e)&&!OD(e)&&f),ref:P,size:h,type:x}))}(),handleReset:function(e){C(""),A(),P.current&&RD(P.current,e,r)},value:zD(S),focused:T,triggerFocus:A,suffix:function(){var e=Number(m)>0;if(g||v){var n=zD(S),i=Ne(n).length,r="object"===te(v)?v.formatter({value:n,count:i,maxLength:m}):"".concat(i).concat(e?" / ".concat(m):"");return t.createElement(t.Fragment,null,!!v&&t.createElement("span",{className:wh()("".concat(u,"-show-count-suffix"),ae({},"".concat(u,"-show-count-has-suffix"),!!g))},r),g)}return null}(),disabled:d,classes:_}))})),jD=ND;function VD(e,n){var i=(0,t.useRef)([]),r=function(){i.current.push(setTimeout((function(){var t,n,i,r;(null===(t=e.current)||void 0===t?void 0:t.input)&&"password"===(null===(n=e.current)||void 0===n?void 0:n.input.getAttribute("type"))&&(null===(i=e.current)||void 0===i?void 0:i.input.hasAttribute("value"))&&(null===(r=e.current)||void 0===r||r.input.removeAttribute("value"))})))};return(0,t.useEffect)((function(){return n&&r(),function(){return i.current.forEach((function(e){e&&clearTimeout(e)}))}}),[]),r}var WD=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};var UD=(0,t.forwardRef)((function(e,n){var i,r,o,a=e.prefixCls,s=e.bordered,l=void 0===s||s,c=e.status,u=e.size,d=e.disabled,h=e.onBlur,p=e.onFocus,f=e.suffix,m=e.allowClear,g=e.addonAfter,v=e.addonBefore,y=e.className,x=e.rootClassName,b=e.onChange,_=WD(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","rootClassName","onChange"]),w=t.useContext(Kp),k=w.getPrefixCls,S=w.direction,C=w.input,E=k("input",a),T=(0,t.useRef)(null),M=pe(xM(E),2),P=M[0],A=M[1],I=mb(E,S),L=I.compactSize,D=I.compactItemClassnames,O=t.useContext(lb),R=L||u||O,z=t.useContext(ob),F=null!==d&&void 0!==d?d:z,B=(0,t.useContext)(nT),N=B.status,j=B.hasFeedback,V=B.feedbackIcon,W=oT(N,c),U=function(e){return!!(e.prefix||e.suffix||e.allowClear)}(e)||!!j,H=(0,t.useRef)(U);(0,t.useEffect)((function(){U&&H.current,H.current=U}),[U]);var X,G=VD(T,!0),Y=(j||f)&&t.createElement(t.Fragment,null,f,j&&V);return"object"===typeof m&&(null===m||void 0===m?void 0:m.clearIcon)?X=m:m&&(X={clearIcon:t.createElement(dT,null)}),P(t.createElement(jD,Object.assign({ref:cf(n,T),prefixCls:E,autoComplete:null===C||void 0===C?void 0:C.autoComplete},_,{disabled:F,onBlur:function(e){G(),null===h||void 0===h||h(e)},onFocus:function(e){G(),null===p||void 0===p||p(e)},suffix:Y,allowClear:X,className:wh()(y,x,D),onChange:function(e){G(),null===b||void 0===b||b(e)},addonAfter:g&&t.createElement(gb,null,t.createElement(iT,{override:!0,status:!0},g)),addonBefore:v&&t.createElement(gb,null,t.createElement(iT,{override:!0,status:!0},v)),classes:{input:wh()((i={},ae(i,"".concat(E,"-sm"),"small"===R),ae(i,"".concat(E,"-lg"),"large"===R),ae(i,"".concat(E,"-rtl"),"rtl"===S),ae(i,"".concat(E,"-borderless"),!l),i),!U&&rT(E,W),A),affixWrapper:wh()((r={},ae(r,"".concat(E,"-affix-wrapper-sm"),"small"===R),ae(r,"".concat(E,"-affix-wrapper-lg"),"large"===R),ae(r,"".concat(E,"-affix-wrapper-rtl"),"rtl"===S),ae(r,"".concat(E,"-affix-wrapper-borderless"),!l),r),rT("".concat(E,"-affix-wrapper"),W,j),A),wrapper:wh()(ae({},"".concat(E,"-group-rtl"),"rtl"===S),A),group:wh()((o={},ae(o,"".concat(E,"-group-wrapper-sm"),"small"===R),ae(o,"".concat(E,"-group-wrapper-lg"),"large"===R),ae(o,"".concat(E,"-group-wrapper-rtl"),"rtl"===S),o),rT("".concat(E,"-group-wrapper"),W,j),A)}})))})),HD=UD,XD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},GD=function(e,n){return t.createElement(Rp,le(le({},e),{},{ref:n,icon:XD}))};GD.displayName="EyeInvisibleOutlined";var YD=t.forwardRef(GD),qD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},KD=function(e,n){return t.createElement(Rp,le(le({},e),{},{ref:n,icon:qD}))};KD.displayName="EyeOutlined";var $D=t.forwardRef(KD),ZD=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},JD=function(e){return e?t.createElement($D,null):t.createElement(YD,null)},QD={click:"onClick",hover:"onMouseOver"},eO=t.forwardRef((function(e,n){var i=e.visibilityToggle,r=void 0===i||i,o="object"===typeof r&&void 0!==r.visible,a=pe((0,t.useState)((function(){return!!o&&r.visible})),2),s=a[0],l=a[1],c=(0,t.useRef)(null);t.useEffect((function(){o&&l(r.visible)}),[o,r]);var u=VD(c),d=function(){e.disabled||(s&&u(),l((function(e){var t,n=!e;return"object"===typeof r&&(null===(t=r.onVisibleChange)||void 0===t||t.call(r,n)),n})))},h=e.className,p=e.prefixCls,f=e.inputPrefixCls,m=e.size,g=ZD(e,["className","prefixCls","inputPrefixCls","size"]),v=t.useContext(Kp).getPrefixCls,y=v("input",f),x=v("input-password",p),b=r&&function(n){var i,r=e.action,o=void 0===r?"click":r,a=e.iconRender,l=QD[o]||"",c=(void 0===a?JD:a)(s),u=(ae(i={},l,d),ae(i,"className","".concat(n,"-icon")),ae(i,"key","passwordIcon"),ae(i,"onMouseDown",(function(e){e.preventDefault()})),ae(i,"onMouseUp",(function(e){e.preventDefault()})),i);return t.cloneElement(t.isValidElement(c)?c:t.createElement("span",null,c),u)}(x),_=wh()(x,h,ae({},"".concat(x,"-").concat(m),!!m)),w=Object.assign(Object.assign({},Yp(g,["suffix","iconRender","visibilityToggle"])),{type:s?"text":"password",className:_,prefixCls:y,suffix:b});return m&&(w.size=m),t.createElement(HD,Object.assign({ref:cf(n,c)},w))}));var tO=eO,nO=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},iO=t.forwardRef((function(e,n){var i,r,o=e.prefixCls,a=e.inputPrefixCls,s=e.className,l=e.size,c=e.suffix,u=e.enterButton,d=void 0!==u&&u,h=e.addonAfter,p=e.loading,f=e.disabled,m=e.onSearch,g=e.onChange,v=e.onCompositionStart,y=e.onCompositionEnd,x=nO(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),b=t.useContext(Kp),_=b.getPrefixCls,w=b.direction,k=t.useContext(lb),S=t.useRef(!1),C=_("input-search",o),E=_("input",a),T=mb(C,w).compactSize||l||k,M=t.useRef(null),P=function(e){var t;document.activeElement===(null===(t=M.current)||void 0===t?void 0:t.input)&&e.preventDefault()},A=function(e){var t,n;m&&m(null===(n=null===(t=M.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e)},I="boolean"===typeof d?t.createElement(bT,null):null,L="".concat(C,"-button"),D=d||{},O=D.type&&!0===D.type.__ANT_BUTTON;r=O||"button"===D.type?Ev(D,Object.assign({onMouseDown:P,onClick:function(e){var t,n;null===(n=null===(t=null===D||void 0===D?void 0:D.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),A(e)},key:"enterButton"},O?{className:L,size:T}:{})):t.createElement(i_,{className:L,type:d?"primary":void 0,size:T,disabled:f,key:"enterButton",onMouseDown:P,onClick:A,loading:p,icon:I},d),h&&(r=[r,Ev(h,{key:"addonAfter"})]);var R=wh()(C,(ae(i={},"".concat(C,"-rtl"),"rtl"===w),ae(i,"".concat(C,"-").concat(T),!!T),ae(i,"".concat(C,"-with-button"),!!d),i),s);return t.createElement(HD,Object.assign({ref:cf(M,n),onPressEnter:function(e){S.current||p||A(e)}},x,{size:T,onCompositionStart:function(e){S.current=!0,null===v||void 0===v||v(e)},onCompositionEnd:function(e){S.current=!1,null===y||void 0===y||y(e)},prefixCls:E,addonAfter:r,suffix:c,onChange:function(e){e&&e.target&&"click"===e.type&&m&&m(e.target.value,e),g&&g(e)},className:R,disabled:f}))}));var rO,oO=iO,aO="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n  pointer-events: none !important;\n",sO=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],lO={};function cO(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;rO||((rO=document.createElement("textarea")).setAttribute("tab-index","-1"),rO.setAttribute("aria-hidden","true"),document.body.appendChild(rO)),e.getAttribute("wrap")?rO.setAttribute("wrap",e.getAttribute("wrap")):rO.removeAttribute("wrap");var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&lO[n])return lO[n];var i=window.getComputedStyle(e),r=i.getPropertyValue("box-sizing")||i.getPropertyValue("-moz-box-sizing")||i.getPropertyValue("-webkit-box-sizing"),o=parseFloat(i.getPropertyValue("padding-bottom"))+parseFloat(i.getPropertyValue("padding-top")),a=parseFloat(i.getPropertyValue("border-bottom-width"))+parseFloat(i.getPropertyValue("border-top-width")),s={sizingStyle:sO.map((function(e){return"".concat(e,":").concat(i.getPropertyValue(e))})).join(";"),paddingSize:o,borderSize:a,boxSizing:r};return t&&n&&(lO[n]=s),s}(e,t),o=r.paddingSize,a=r.borderSize,s=r.boxSizing,l=r.sizingStyle;rO.setAttribute("style","".concat(l,";").concat(aO)),rO.value=e.value||e.placeholder||"";var c,u=void 0,d=void 0,h=rO.scrollHeight;if("border-box"===s?h+=a:"content-box"===s&&(h-=o),null!==n||null!==i){rO.value=" ";var p=rO.scrollHeight-o;null!==n&&(u=p*n,"border-box"===s&&(u=u+o+a),h=Math.max(u,h)),null!==i&&(d=p*i,"border-box"===s&&(d=d+o+a),c=h>d?"":"hidden",h=Math.min(d,h))}var f={height:h,overflowY:c,resize:"none"};return u&&(f.minHeight=u),d&&(f.maxHeight=d),f}var uO=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],dO=t.forwardRef((function(e,n){var i=e,r=i.prefixCls,o=(i.onPressEnter,i.defaultValue),a=i.value,s=i.autoSize,l=i.onResize,c=i.className,u=i.style,d=i.disabled,h=i.onChange,f=(i.onInternalAutoSize,ln(i,uO)),m=pe(Hp(o,{value:a,postState:function(e){return null!==e&&void 0!==e?e:""}}),2),g=m[0],v=m[1],y=t.useRef();t.useImperativeHandle(n,(function(){return{textArea:y.current}}));var x=pe(t.useMemo((function(){return s&&"object"===te(s)?[s.minRows,s.maxRows]:[]}),[s]),2),b=x[0],_=x[1],w=!!s,k=pe(t.useState(2),2),S=k[0],C=k[1],E=pe(t.useState(),2),T=E[0],M=E[1],P=function(){C(0)};jp((function(){w&&P()}),[a,b,_,w]),jp((function(){if(0===S)C(1);else if(1===S){var e=cO(y.current,!1,b,_);C(2),M(e)}else!function(){try{if(document.activeElement===y.current){var e=y.current,t=e.selectionStart,n=e.selectionEnd,i=e.scrollTop;y.current.setSelectionRange(t,n),y.current.scrollTop=i}}catch(_F){}}()}),[S]);var A=t.useRef(),I=function(){rf.cancel(A.current)};t.useEffect((function(){return I}),[]);var L=w?T:null,D=le(le({},u),L);return 0!==S&&1!==S||(D.overflowY="hidden",D.overflowX="hidden"),t.createElement(Nk,{onResize:function(e){2===S&&(null===l||void 0===l||l(e),s&&(I(),A.current=rf((function(){P()}))))},disabled:!(s||l)},t.createElement("textarea",p({},f,{ref:y,style:D,className:wh()(r,c,ae({},"".concat(r,"-disabled"),d)),disabled:d,value:g,onChange:function(e){v(e.target.value),null===h||void 0===h||h(e)}})))})),hO=dO,pO=["defaultValue","value","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","classes","showCount","className","style","disabled"];function fO(e,t){return Ne(e||"").slice(0,t).join("")}function mO(e,t,n,i){var r=n;return e?r=fO(n,i):Ne(t||"").length<n.length&&Ne(n||"").length>i&&(r=t),r}var gO=t.forwardRef((function(e,n){var i=e.defaultValue,r=e.value,o=e.onChange,a=e.allowClear,s=e.maxLength,l=e.onCompositionStart,c=e.onCompositionEnd,u=e.suffix,d=e.prefixCls,h=void 0===d?"rc-textarea":d,f=e.classes,m=e.showCount,g=e.className,v=e.style,y=e.disabled,x=ln(e,pO),b=pe(Hp(i,{value:r,defaultValue:i}),2),_=b[0],w=b[1],k=(0,t.useRef)(null),S=pe(t.useState(!1),2),C=S[0],E=S[1],T=t.useRef(),M=t.useRef(0),P=function(){k.current.textArea.focus()};(0,t.useImperativeHandle)(n,(function(){return{resizableTextArea:k.current,focus:P,blur:function(){k.current.textArea.blur()}}}));var A=Number(s)>0,I=zD(_);C||!A||null!==r&&void 0!==r||(I=fO(I,s));var L=t.createElement(FD,{value:I,allowClear:a,handleReset:function(e){w(""),P(),RD(k.current.textArea,e,o)},suffix:u,prefixCls:h,classes:{affixWrapper:null===f||void 0===f?void 0:f.affixWrapper},disabled:y,style:v,inputStyle:{resize:null===v||void 0===v?void 0:v.resize},inputElement:t.createElement(hO,p({},x,{onKeyDown:function(e){var t=x.onPressEnter,n=x.onKeyDown;"Enter"===e.key&&t&&t(e),null===n||void 0===n||n(e)},onChange:function(e){var t=e.target.value;!C&&A&&(t=mO(e.target.selectionStart>=s+1||e.target.selectionStart===t.length||!e.target.selectionStart,_,t,s));w(t),RD(e.currentTarget,e,o,t)},onCompositionStart:function(e){E(!0),T.current=_,M.current=e.currentTarget.selectionStart,null===l||void 0===l||l(e)},onCompositionEnd:function(e){E(!1);var t,n=e.currentTarget.value;A&&(n=mO(M.current>=s+1||M.current===(null===(t=T.current)||void 0===t?void 0:t.length),T.current,n,s));n!==_&&(w(n),RD(e.currentTarget,e,o,n)),null===c||void 0===c||c(e)},className:wh()(m?"":g,null===f||void 0===f?void 0:f.textarea),style:!m&&v,disabled:y,prefixCls:h,ref:k}))});if(m){var D,O=Ne(I).length;return D="object"===te(m)?m.formatter({value:I,count:O,maxLength:s}):"".concat(O).concat(A?" / ".concat(s):""),t.createElement("div",{hidden:x.hidden,className:wh()("".concat(h,"-show-count"),g,null===f||void 0===f?void 0:f.countWrapper),style:v,"data-count":D},L,t.createElement("span",{className:"".concat(h,"-data-count")},D))}return L})),vO=gO,yO=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},xO=(0,t.forwardRef)((function(e,n){var i,r,o=e.prefixCls,a=e.bordered,s=void 0===a||a,l=e.size,c=e.disabled,u=e.status,d=e.allowClear,h=yO(e,["prefixCls","bordered","size","disabled","status","allowClear"]),p=t.useContext(Kp),f=p.getPrefixCls,m=p.direction,g=t.useContext(lb),v=l||g,y=t.useContext(ob),x=null!==c&&void 0!==c?c:y,b=t.useContext(nT),_=b.status,w=b.hasFeedback,k=b.feedbackIcon,S=oT(_,u),C=t.useRef(null);t.useImperativeHandle(n,(function(){var e;return{resizableTextArea:null===(e=C.current)||void 0===e?void 0:e.resizableTextArea,focus:function(e){var t,n;!function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var i=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(i,i);break;default:e.setSelectionRange(0,i)}}}}(null===(n=null===(t=C.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e)},blur:function(){var e;return null===(e=C.current)||void 0===e?void 0:e.blur()}}}));var E,T=f("input",o);"object"===typeof d&&(null===d||void 0===d?void 0:d.clearIcon)?E=d:d&&(E={clearIcon:t.createElement(dT,null)});var M=pe(xM(T),2),P=M[0],A=M[1];return P(t.createElement(vO,Object.assign({},h,{disabled:x,allowClear:E,classes:{affixWrapper:wh()("".concat(T,"-textarea-affix-wrapper"),(i={},ae(i,"".concat(T,"-affix-wrapper-rtl"),"rtl"===m),ae(i,"".concat(T,"-affix-wrapper-borderless"),!s),ae(i,"".concat(T,"-affix-wrapper-sm"),"small"===v),ae(i,"".concat(T,"-affix-wrapper-lg"),"large"===v),i),rT("".concat(T,"-affix-wrapper"),S),A),countWrapper:wh()("".concat(T,"-textarea"),"".concat(T,"-textarea-show-count"),A),textarea:wh()((r={},ae(r,"".concat(T,"-borderless"),!s),ae(r,"".concat(T,"-sm"),"small"===v),ae(r,"".concat(T,"-lg"),"large"===v),r),rT(T,S),A)},prefixCls:T,suffix:w&&t.createElement("span",{className:"".concat(T,"-textarea-suffix")},k),ref:C})))})),bO=xO,_O=HD;_O.Group=LD,_O.Search=oO,_O.TextArea=bO,_O.Password=tO;var wO=_O;var kO=function(e){var n=e.value,i=e.onChange,r=e.filterSearch,o=e.tablePrefixCls,a=e.locale;return r?t.createElement("div",{className:"".concat(o,"-filter-dropdown-search")},t.createElement(wO,{prefix:t.createElement(bT,null),placeholder:a.filterSearchPlaceholder,onChange:i,value:n,htmlSize:1,className:"".concat(o,"-filter-dropdown-search-input")})):null},SO=function(e){e.keyCode===Gp.ENTER&&e.stopPropagation()},CO=function(e){return t.createElement("div",{className:e.className,onClick:function(e){return e.stopPropagation()},onKeyDown:SO},e.children)};function EO(e,t){return("string"===typeof t||"number"===typeof t)&&(null===t||void 0===t?void 0:t.toString().toLowerCase().includes(e.trim().toLowerCase()))}function TO(e){var n=e.filters,i=e.prefixCls,r=e.filteredKeys,o=e.filterMultiple,a=e.searchValue,s=e.filterSearch;return n.map((function(e,n){var l=String(e.value);if(e.children)return{key:l||n,label:e.text,popupClassName:"".concat(i,"-dropdown-submenu"),children:TO({filters:e.children,prefixCls:i,filteredKeys:r,filterMultiple:o,searchValue:a,filterSearch:s})};var c=o?aP:$I,u={key:void 0!==e.value?l:n,label:t.createElement(t.Fragment,null,t.createElement(c,{checked:r.includes(l)}),t.createElement("span",null,e.text))};return a.trim()?"function"===typeof s?s(a,e)?u:null:EO(a,e.text)?u:null:u}))}var MO=function(e){var n,i,r=e.tablePrefixCls,o=e.prefixCls,a=e.column,s=e.dropdownPrefixCls,l=e.columnKey,c=e.filterMultiple,u=e.filterMode,d=void 0===u?"menu":u,h=e.filterSearch,p=void 0!==h&&h,f=e.filterState,m=e.triggerFilter,g=e.locale,v=e.children,y=e.getPopupContainer,x=a.filterDropdownOpen,b=a.onFilterDropdownOpenChange,_=a.filterResetToDefaultFilteredValue,w=a.defaultFilteredValue,k=a.filterDropdownVisible,S=a.onFilterDropdownVisibleChange,C=pe(t.useState(!1),2),E=C[0],T=C[1],M=!(!f||!(null===(n=f.filteredKeys)||void 0===n?void 0:n.length)&&!f.forceFiltered),P=function(e){T(e),null===b||void 0===b||b(e),null===S||void 0===S||S(e)},A=null!==(i=null!==x&&void 0!==x?x:k)&&void 0!==i?i:E,I=null===f||void 0===f?void 0:f.filteredKeys,L=pe(function(e){var n=t.useRef(e),i=KS();return[function(){return n.current},function(e){n.current=e,i()}]}(I||[]),2),D=L[0],O=L[1],R=function(e){var t=e.selectedKeys;O(t)},z=function(e,t){var n=t.node,i=t.checked;R(c?{selectedKeys:e}:{selectedKeys:i&&n.key?[n.key]:[]})};t.useEffect((function(){E&&R({selectedKeys:I||[]})}),[I]);var F=pe(t.useState([]),2),B=F[0],N=F[1],j=function(e){N(e)},V=pe(t.useState(""),2),W=V[0],U=V[1],H=function(e){var t=e.target.value;U(t)};t.useEffect((function(){E||U("")}),[E]);var X,G,Y=function(e){var t=e&&e.length?e:null;return null!==t||f&&f.filteredKeys?dg(t,null===f||void 0===f?void 0:f.filteredKeys,!0)?null:void m({column:a,key:l,filteredKeys:t}):null},q=function(){P(!1),Y(D())},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{confirm:!1,closeDropdown:!1},t=e.confirm,n=e.closeDropdown;t&&Y([]),n&&P(!1),U(""),O(_?(w||[]).map((function(e){return String(e)})):[])},$=wh()(ae({},"".concat(s,"-menu-without-submenu"),!(a.filters||[]).some((function(e){return e.children})))),Z=function(e){if(e.target.checked){var t=IO(null===a||void 0===a?void 0:a.filters).map((function(e){return String(e)}));O(t)}else O([])},J=function e(t){return(t.filters||[]).map((function(t,n){var i=String(t.value),r={title:t.text,key:void 0!==t.value?i:n};return t.children&&(r.children=e({filters:t.children})),r}))},Q=function e(t){var n;return Object.assign(Object.assign({},t),{text:t.title,value:t.key,children:(null===(n=t.children)||void 0===n?void 0:n.map((function(t){return e(t)})))||[]})};if("function"===typeof a.filterDropdown)X=a.filterDropdown({prefixCls:"".concat(s,"-custom"),setSelectedKeys:function(e){return R({selectedKeys:e})},selectedKeys:D(),confirm:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{closeDropdown:!0}).closeDropdown&&P(!1),Y(D())},clearFilters:K,filters:a.filters,visible:A,close:function(){P(!1)}});else if(a.filterDropdown)X=a.filterDropdown;else{var ee=D()||[];X=t.createElement(t.Fragment,null,0===(a.filters||[]).length?t.createElement(YS,{image:YS.PRESENTED_IMAGE_SIMPLE,description:g.filterEmptyText,imageStyle:{height:24},style:{margin:0,padding:"16px 0"}}):"tree"===d?t.createElement(t.Fragment,null,t.createElement(kO,{filterSearch:p,value:W,onChange:H,tablePrefixCls:r,locale:g}),t.createElement("div",{className:"".concat(r,"-filter-dropdown-tree")},c?t.createElement(aP,{checked:ee.length===IO(a.filters).length,indeterminate:ee.length>0&&ee.length<IO(a.filters).length,className:"".concat(r,"-filter-dropdown-checkall"),onChange:Z},g.filterCheckall):null,t.createElement(ID,{checkable:!0,selectable:!1,blockNode:!0,multiple:c,checkStrictly:!c,className:"".concat(s,"-menu"),onCheck:z,checkedKeys:ee,selectedKeys:ee,showIcon:!1,treeData:J({filters:a.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:W.trim()?function(e){return"function"===typeof p?p(W,Q(e)):EO(W,e.title)}:void 0}))):t.createElement(t.Fragment,null,t.createElement(kO,{filterSearch:p,value:W,onChange:H,tablePrefixCls:r,locale:g}),t.createElement(pI,{selectable:!0,multiple:c,prefixCls:"".concat(s,"-menu"),className:$,onSelect:R,onDeselect:R,selectedKeys:ee,getPopupContainer:y,openKeys:B,onOpenChange:j,items:TO({filters:a.filters||[],filterSearch:p,prefixCls:o,filteredKeys:D(),filterMultiple:c,searchValue:W})})),t.createElement("div",{className:"".concat(o,"-dropdown-btns")},t.createElement(i_,{type:"link",size:"small",disabled:_?dg((w||[]).map((function(e){return String(e)})),ee,!0):0===ee.length,onClick:function(){return K()}},g.filterReset),t.createElement(i_,{type:"primary",size:"small",onClick:q},g.filterConfirm)))}a.filterDropdown&&(X=t.createElement(ZA,{selectable:void 0},X)),G="function"===typeof a.filterIcon?a.filterIcon(M):a.filterIcon?a.filterIcon:t.createElement(HM,null);var te=t.useContext(Kp).direction;return t.createElement("div",{className:"".concat(o,"-column")},t.createElement("span",{className:"".concat(r,"-column-title")},v),t.createElement(AI,{dropdownRender:function(){return t.createElement(CO,{className:"".concat(o,"-dropdown")},X)},trigger:["click"],open:A,onOpenChange:function(e){e&&void 0!==I&&O(I||[]),P(e),e||a.filterDropdown||q()},getPopupContainer:y,placement:"rtl"===te?"bottomLeft":"bottomRight"},t.createElement("span",{role:"button",tabIndex:-1,className:wh()("".concat(o,"-trigger"),{active:M}),onClick:function(e){e.stopPropagation()}},G)))};function PO(e,t,n){var i=[];return(e||[]).forEach((function(e,r){var o,a=jM(r,n);if(e.filters||"filterDropdown"in e||"onFilter"in e)if("filteredValue"in e){var s=e.filteredValue;"filterDropdown"in e||(s=null!==(o=null===s||void 0===s?void 0:s.map(String))&&void 0!==o?o:s),i.push({column:e,key:NM(e,a),filteredKeys:s,forceFiltered:e.filtered})}else i.push({column:e,key:NM(e,a),filteredKeys:t&&e.defaultFilteredValue?e.defaultFilteredValue:void 0,forceFiltered:e.filtered});"children"in e&&(i=[].concat(Ne(i),Ne(PO(e.children,t,a))))})),i}function AO(e,n,i,r,o,a,s,l){return i.map((function(i,c){var u=jM(c,l),d=i.filterMultiple,h=void 0===d||d,p=i.filterMode,f=i.filterSearch,m=i;if(m.filters||m.filterDropdown){var g=NM(m,u),v=r.find((function(e){var t=e.key;return g===t}));m=Object.assign(Object.assign({},m),{title:function(r){return t.createElement(MO,{tablePrefixCls:e,prefixCls:"".concat(e,"-filter"),dropdownPrefixCls:n,column:m,columnKey:g,filterState:v,filterMultiple:h,filterMode:p,filterSearch:f,triggerFilter:a,locale:o,getPopupContainer:s},VM(i.title,r))}})}return"children"in m&&(m=Object.assign(Object.assign({},m),{children:AO(e,n,m.children,r,o,a,s,u)})),m}))}function IO(e){var t=[];return(e||[]).forEach((function(e){var n=e.value,i=e.children;t.push(n),i&&(t=[].concat(Ne(t),Ne(IO(i))))})),t}function LO(e){var t={};return e.forEach((function(e){var n=e.key,i=e.filteredKeys,r=e.column,o=r.filters;if(r.filterDropdown)t[n]=i||null;else if(Array.isArray(i)){var a=IO(o);t[n]=a.filter((function(e){return i.includes(String(e))}))}else t[n]=null})),t}function DO(e,t){return t.reduce((function(e,t){var n=t.column,i=n.onFilter,r=n.filters,o=t.filteredKeys;return i&&o&&o.length?e.filter((function(e){return o.some((function(t){var n=IO(r),o=n.findIndex((function(e){return String(e)===String(t)})),a=-1!==o?n[o]:t;return i(a,e)}))})):e}),e)}var OO=function e(t){return t.flatMap((function(t){return"children"in t?[t].concat(Ne(e(t.children||[]))):[t]}))};var RO=function(e){var n=e.prefixCls,i=e.dropdownPrefixCls,r=e.mergedColumns,o=e.onFilterChange,a=e.getPopupContainer,s=e.locale,l=OO(r||[]),c=pe(t.useState((function(){return PO(l,!0)})),2),u=c[0],d=c[1],h=t.useMemo((function(){var e=PO(l,!1);if(0===e.length)return e;var t=!0;if(e.forEach((function(e){void 0!==e.filteredKeys?t=!1:!1})),t){var n=(l||[]).map((function(e,t){return NM(e,jM(t))}));return u.filter((function(e){var t=e.key;return n.includes(t)})).map((function(e){var t=l[n.findIndex((function(t){return t===e.key}))];return Object.assign(Object.assign({},e),{column:Object.assign(Object.assign({},e.column),t),forceFiltered:t.filtered})}))}return e}),[l,u]),p=t.useMemo((function(){return LO(h)}),[h]),f=function(e){var t=h.filter((function(t){return t.key!==e.key}));t.push(e),d(t),o(LO(t),t)};return[function(e){return AO(n,i,e,h,s,f,a)},h,p]};var zO=function(){for(var e=arguments,t=Object.assign({},arguments.length<=0?void 0:arguments[0]),n=function(){var n=i<0||e.length<=i?void 0:e[i];n&&Object.keys(n).forEach((function(e){var i=n[e];void 0!==i&&(t[e]=i)}))},i=1;i<arguments.length;i++)n();return t},FO=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},BO=10;var NO={},jO="SELECT_ALL",VO="SELECT_INVERT",WO="SELECT_NONE",UO=[];function HO(e,t){var n=[];return(t||[]).forEach((function(t){n.push(t),t&&"object"===typeof t&&e in t&&(n=[].concat(Ne(n),Ne(HO(e,t[e]))))})),n}function XO(e,n){var i=e||{},r=i.preserveSelectedRowKeys,o=i.selectedRowKeys,a=i.defaultSelectedRowKeys,s=i.getCheckboxProps,l=i.onChange,c=i.onSelect,u=i.onSelectAll,d=i.onSelectInvert,h=i.onSelectNone,p=i.onSelectMultiple,f=i.columnWidth,m=i.type,g=i.selections,v=i.fixed,y=i.renderCell,x=i.hideSelectAll,b=i.checkStrictly,_=void 0===b||b,w=n.prefixCls,k=n.data,S=n.pageData,C=n.getRecordByKey,E=n.getRowKey,T=n.expandType,M=n.childrenColumnName,P=n.locale,A=n.getPopupContainer,I=pe(Hp(o||a||UO,{value:o}),2),L=I[0],D=I[1],O=t.useRef(new Map),R=(0,t.useCallback)((function(e){if(r){var t=new Map;e.forEach((function(e){var n=C(e);!n&&O.current.has(e)&&(n=O.current.get(e)),t.set(e,n)})),O.current=t}}),[C,r]);t.useEffect((function(){R(L)}),[L]);var z=(0,t.useMemo)((function(){return _?{keyEntities:null}:oL(k,{externalGetKey:E,childrenPropName:M})}),[k,E,_,M]).keyEntities,F=(0,t.useMemo)((function(){return HO(M,S)}),[S,M]),B=(0,t.useMemo)((function(){var e=new Map;return F.forEach((function(t,n){var i=E(t,n),r=(s?s(t):null)||{};e.set(i,r)})),e}),[F,E,s]),N=(0,t.useCallback)((function(e){var t;return!!(null===(t=B.get(E(e)))||void 0===t?void 0:t.disabled)}),[B,E]),j=pe((0,t.useMemo)((function(){if(_)return[L||[],[]];var e=WL(L,!0,z,N);return[e.checkedKeys||[],e.halfCheckedKeys]}),[L,_,z,N]),2),V=j[0],W=j[1],U=(0,t.useMemo)((function(){var e="radio"===m?V.slice(0,1):V;return new Set(e)}),[V,m]),H=(0,t.useMemo)((function(){return"radio"===m?new Set:new Set(W)}),[W,m]),X=pe((0,t.useState)(null),2),G=X[0],Y=X[1];t.useEffect((function(){e||D(UO)}),[!!e]);var q=(0,t.useCallback)((function(e,t){var n,i;R(e),r?(n=e,i=e.map((function(e){return O.current.get(e)}))):(n=[],i=[],e.forEach((function(e){var t=C(e);void 0!==t&&(n.push(e),i.push(t))}))),D(n),null===l||void 0===l||l(n,i,{type:t})}),[D,C,l,r]),K=(0,t.useCallback)((function(e,t,n,i){if(c){var r=n.map((function(e){return C(e)}));c(C(e),t,r,i)}q(n,"single")}),[c,C,q]),$=(0,t.useMemo)((function(){return!g||x?null:(!0===g?[jO,VO,WO]:g).map((function(e){return e===jO?{key:"all",text:P.selectionAll,onSelect:function(){q(k.map((function(e,t){return E(e,t)})).filter((function(e){var t=B.get(e);return!(null===t||void 0===t?void 0:t.disabled)||U.has(e)})),"all")}}:e===VO?{key:"invert",text:P.selectInvert,onSelect:function(){var e=new Set(U);S.forEach((function(t,n){var i=E(t,n),r=B.get(i);(null===r||void 0===r?void 0:r.disabled)||(e.has(i)?e.delete(i):e.add(i))}));var t=Array.from(e);d&&d(t),q(t,"invert")}}:e===WO?{key:"none",text:P.selectNone,onSelect:function(){null===h||void 0===h||h(),q(Array.from(U).filter((function(e){var t=B.get(e);return null===t||void 0===t?void 0:t.disabled})),"none")}}:e})).map((function(e){return Object.assign(Object.assign({},e),{onSelect:function(){for(var t,n,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];null===(n=e.onSelect)||void 0===n||(t=n).call.apply(t,[e].concat(r)),Y(null)}})}))}),[g,U,S,E,d,q]),Z=(0,t.useCallback)((function(n){var i;if(!e)return n.filter((function(e){return e!==NO}));var r,o,a=Ne(n),s=new Set(U),l=F.map(E).filter((function(e){return!B.get(e).disabled})),c=l.every((function(e){return s.has(e)})),d=l.some((function(e){return s.has(e)}));if("radio"!==m){var h;if($){var g={getPopupContainer:A,items:$.map((function(e,t){var n=e.key,i=e.text,r=e.onSelect;return{key:n||t,onClick:function(){null===r||void 0===r||r(l)},label:i}}))};h=t.createElement("div",{className:"".concat(w,"-selection-extra")},t.createElement(AI,{menu:g,getPopupContainer:A},t.createElement("span",null,t.createElement(vT,null))))}var b=F.map((function(e,t){var n=E(e,t),i=B.get(n)||{};return Object.assign({checked:s.has(n)},i)})).filter((function(e){return e.disabled})),k=!!b.length&&b.length===F.length,S=k&&b.every((function(e){return e.checked})),M=k&&b.some((function(e){return e.checked}));r=!x&&t.createElement("div",{className:"".concat(w,"-selection")},t.createElement(aP,{checked:k?S:!!F.length&&c,indeterminate:k?!S&&M:!c&&d,onChange:function(){var e=[];c?l.forEach((function(t){s.delete(t),e.push(t)})):l.forEach((function(t){s.has(t)||(s.add(t),e.push(t))}));var t=Array.from(s);null===u||void 0===u||u(!c,t.map((function(e){return C(e)})),e.map((function(e){return C(e)}))),q(t,"all"),Y(null)},disabled:0===F.length||k,"aria-label":h?"Custom selection":"Select all",skipGroup:!0}),h)}o="radio"===m?function(e,n,i){var r=E(n,i),o=s.has(r);return{node:t.createElement($I,Object.assign({},B.get(r),{checked:o,onClick:function(e){return e.stopPropagation()},onChange:function(e){s.has(r)||K(r,!0,[r],e.nativeEvent)}})),checked:o}}:function(e,n,i){var r,o,a=E(n,i),c=s.has(a),u=H.has(a),d=B.get(a);return o="nest"===T?u:null!==(r=null===d||void 0===d?void 0:d.indeterminate)&&void 0!==r?r:u,{node:t.createElement(aP,Object.assign({},d,{indeterminate:o,checked:c,skipGroup:!0,onClick:function(e){return e.stopPropagation()},onChange:function(e){var t=e.nativeEvent,n=t.shiftKey,i=-1,r=-1;if(n&&_){var o=new Set([G,a]);l.some((function(e,t){if(o.has(e)){if(-1!==i)return r=t,!0;i=t}return!1}))}if(-1!==r&&i!==r&&_){var u=l.slice(i,r+1),d=[];c?u.forEach((function(e){s.has(e)&&(d.push(e),s.delete(e))})):u.forEach((function(e){s.has(e)||(d.push(e),s.add(e))}));var h=Array.from(s);null===p||void 0===p||p(!c,h.map((function(e){return C(e)})),d.map((function(e){return C(e)}))),q(h,"multiple")}else{var f=V;if(_){var m=c?fL(f,a):mL(f,a);K(a,!c,m,t)}else{var g=WL([].concat(Ne(f),[a]),!0,z,N),v=g.checkedKeys,y=g.halfCheckedKeys,x=v;if(c){var b=new Set(v);b.delete(a),x=WL(Array.from(b),{checked:!1,halfCheckedKeys:y},z,N).checkedKeys}K(a,!c,x,t)}}Y(c?null:a)}})),checked:c}};if(!a.includes(NO))if(0===a.findIndex((function(e){var t;return"EXPAND_COLUMN"===(null===(t=e[oS])||void 0===t?void 0:t.columnType)}))){var P=Fe(a),I=P[0],L=P.slice(1);a=[I,NO].concat(Ne(L))}else a=[NO].concat(Ne(a));var D=a.indexOf(NO);a=a.filter((function(e,t){return e!==NO||t===D}));var O=a[D-1],R=a[D+1],j=v;void 0===j&&(void 0!==(null===R||void 0===R?void 0:R.fixed)?j=R.fixed:void 0!==(null===O||void 0===O?void 0:O.fixed)&&(j=O.fixed)),j&&O&&"EXPAND_COLUMN"===(null===(i=O[oS])||void 0===i?void 0:i.columnType)&&void 0===O.fixed&&(O.fixed=j);var W=ae({fixed:j,width:f,className:"".concat(w,"-selection-column"),title:e.columnTitle||r,render:function(e,t,n){var i=o(e,t,n),r=i.node,a=i.checked;return y?y(a,t,n,r):r}},oS,{className:"".concat(w,"-selection-col")});return a.map((function(e){return e===NO?W:e}))}),[E,F,e,V,U,H,f,$,T,G,B,p,K,N]);return[Z,U]}var GO={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},YO=function(e,n){return t.createElement(Rp,le(le({},e),{},{ref:n,icon:GO}))};YO.displayName="CaretDownOutlined";var qO=t.forwardRef(YO),KO={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},$O=function(e,n){return t.createElement(Rp,le(le({},e),{},{ref:n,icon:KO}))};$O.displayName="CaretUpOutlined";var ZO=t.forwardRef($O),JO="ascend",QO="descend";function eR(e){return"object"===typeof e.sorter&&"number"===typeof e.sorter.multiple&&e.sorter.multiple}function tR(e){return"function"===typeof e?e:!(!e||"object"!==typeof e||!e.compare)&&e.compare}function nR(e,t,n){var i=[];function r(e,t){i.push({column:e,key:NM(e,t),multiplePriority:eR(e),sortOrder:e.sortOrder})}return(e||[]).forEach((function(e,o){var a=jM(o,n);e.children?("sortOrder"in e&&r(e,a),i=[].concat(Ne(i),Ne(nR(e.children,t,a)))):e.sorter&&("sortOrder"in e?r(e,a):t&&e.defaultSortOrder&&i.push({column:e,key:NM(e,a),multiplePriority:eR(e),sortOrder:e.defaultSortOrder}))})),i}function iR(e,n,i,r,o,a,s,l){return(n||[]).map((function(n,c){var u=jM(c,l),d=n;if(d.sorter){var h=d.sortDirections||o,p=void 0===d.showSorterTooltip?s:d.showSorterTooltip,f=NM(d,u),m=i.find((function(e){return e.key===f})),g=m?m.sortOrder:null,v=function(e,t){return t?e[e.indexOf(t)+1]:e[0]}(h,g),y=h.includes(JO)&&t.createElement(ZO,{className:wh()("".concat(e,"-column-sorter-up"),{active:g===JO})}),x=h.includes(QO)&&t.createElement(qO,{className:wh()("".concat(e,"-column-sorter-down"),{active:g===QO})}),b=a||{},_=b.cancelSort,w=b.triggerAsc,k=b.triggerDesc,S=_;v===QO?S=k:v===JO&&(S=w);var C="object"===typeof p?p:{title:S};d=Object.assign(Object.assign({},d),{className:wh()(d.className,ae({},"".concat(e,"-column-sort"),g)),title:function(i){var r=t.createElement("div",{className:"".concat(e,"-column-sorters")},t.createElement("span",{className:"".concat(e,"-column-title")},VM(n.title,i)),t.createElement("span",{className:wh()("".concat(e,"-column-sorter"),ae({},"".concat(e,"-column-sorter-full"),!(!y||!x)))},t.createElement("span",{className:"".concat(e,"-column-sorter-inner"),"aria-hidden":"true"},y,x)));return p?t.createElement(Sx,Object.assign({},C),r):r},onHeaderCell:function(t){var i=n.onHeaderCell&&n.onHeaderCell(t)||{},o=i.onClick,a=i.onKeyDown;i.onClick=function(e){r({column:n,key:f,sortOrder:v,multiplePriority:eR(n)}),null===o||void 0===o||o(e)},i.onKeyDown=function(e){e.keyCode===Gp.ENTER&&(r({column:n,key:f,sortOrder:v,multiplePriority:eR(n)}),null===a||void 0===a||a(e))};var s=function(e,t){var n=VM(e,t);return"[object Object]"===Object.prototype.toString.call(n)?"":n}(n.title,{}),l=null===s||void 0===s?void 0:s.toString();return g?i["aria-sort"]="ascend"===g?"ascending":"descending":i["aria-label"]=l||"",i.className=wh()(i.className,"".concat(e,"-column-has-sorters")),i.tabIndex=0,n.ellipsis&&(i.title=(null!==s&&void 0!==s?s:"").toString()),i}})}return"children"in d&&(d=Object.assign(Object.assign({},d),{children:iR(e,d.children,i,r,o,a,s,u)})),d}))}function rR(e){var t=e.column;return{column:t,order:e.sortOrder,field:t.dataIndex,columnKey:t.key}}function oR(e){var t=e.filter((function(e){return e.sortOrder})).map(rR);return 0===t.length&&e.length?Object.assign(Object.assign({},rR(e[e.length-1])),{column:void 0}):t.length<=1?t[0]||{}:t}function aR(e,t,n){var i=t.slice().sort((function(e,t){return t.multiplePriority-e.multiplePriority})),r=e.slice(),o=i.filter((function(e){var t=e.column.sorter,n=e.sortOrder;return tR(t)&&n}));return o.length?r.sort((function(e,t){for(var n=0;n<o.length;n+=1){var i=o[n],r=i.column.sorter,a=i.sortOrder,s=tR(r);if(s&&a){var l=s(e,t,a);if(0!==l)return a===JO?l:-l}}return 0})).map((function(e){var i=e[n];return i?Object.assign(Object.assign({},e),ae({},n,aR(i,t,n))):e})):r}function sR(e,t){return e.map((function(e){var n=Object.assign({},e);return n.title=VM(e.title,t),"children"in n&&(n.children=sR(n.children,t)),n}))}function lR(e){var n=t.useCallback((function(t){return sR(t,e)}),[e]);return[n]}var cR=RS((function(e,t){return e._renderTimes!==t._renderTimes})),uR=function(e){var t,n,i,r,o,a=e.componentCls,s="".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.tableBorderColor),l=function(t,n,i){return ae({},"&".concat(a,"-").concat(t),ae({},"> ".concat(a,"-container"),ae({},"> ".concat(a,"-content, > ").concat(a,"-body"),{"> table > tbody > tr > td":ae({},"> ".concat(a,"-expanded-row-fixed"),{margin:"-".concat(n,"px -").concat(i+e.lineWidth,"px")})})))};return ae({},"".concat(a,"-wrapper"),(ae(o={},"".concat(a).concat(a,"-bordered"),Object.assign(Object.assign(Object.assign((ae(i={},"> ".concat(a,"-title"),{border:s,borderBottom:0}),ae(i,"> ".concat(a,"-container"),(ae(n={borderInlineStart:s},"\n            > ".concat(a,"-content,\n            > ").concat(a,"-header,\n            > ").concat(a,"-body,\n            > ").concat(a,"-summary\n          "),{"> table":(t={},ae(t,"\n                > thead > tr > th,\n                > tbody > tr > td,\n                > tfoot > tr > th,\n                > tfoot > tr > td\n              ",{borderInlineEnd:s}),ae(t,"> thead",{"> tr:not(:last-child) > th":{borderBottom:s},"> tr > th::before":{backgroundColor:"transparent !important"}}),ae(t,"\n                > thead > tr,\n                > tbody > tr,\n                > tfoot > tr\n              ",ae({},"> ".concat(a,"-cell-fix-right-first::after"),{borderInlineEnd:s})),ae(t,"> tbody > tr > td",ae({},"> ".concat(a,"-expanded-row-fixed"),{margin:"-".concat(e.tablePaddingVertical,"px -").concat(e.tablePaddingHorizontal+e.lineWidth,"px"),"&::after":{position:"absolute",top:0,insetInlineEnd:e.lineWidth,bottom:0,borderInlineEnd:s,content:'""'}})),t)}),ae(n,"\n            > ".concat(a,"-content,\n            > ").concat(a,"-header\n          "),{"> table":{borderTop:s}}),n)),ae(i,"&".concat(a,"-scroll-horizontal"),ae({},"> ".concat(a,"-container > ").concat(a,"-body"),{"> table > tbody":ae({},"\n                > tr".concat(a,"-expanded-row,\n                > tr").concat(a,"-placeholder\n              "),{"> td":{borderInlineEnd:0}})})),i),l("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle)),l("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall)),ae({},"> ".concat(a,"-footer"),{border:s,borderTop:0}))),ae(o,"".concat(a,"-cell"),(ae(r={},"".concat(a,"-container:first-child"),{borderTop:0}),ae(r,"&-scrollbar:not([rowspan])",{boxShadow:"0 ".concat(e.lineWidth,"px 0 ").concat(e.lineWidth,"px ").concat(e.tableHeaderBg)}),r)),o))},dR=function(e){var t,n=e.componentCls;return ae({},"".concat(n,"-wrapper"),ae({},"".concat(n,"-cell-ellipsis"),Object.assign(Object.assign({},Ty),(ae(t={wordBreak:"keep-all"},"\n          &".concat(n,"-cell-fix-left-last,\n          &").concat(n,"-cell-fix-right-first\n        "),ae({overflow:"visible"},"".concat(n,"-cell-content"),{display:"block",overflow:"hidden",textOverflow:"ellipsis"})),ae(t,"".concat(n,"-column-title"),{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"keep-all"}),t))))},hR=function(e){var t=e.componentCls;return ae({},"".concat(t,"-wrapper"),ae({},"".concat(t,"-tbody > tr").concat(t,"-placeholder"),{textAlign:"center",color:e.colorTextDisabled,"&:hover > td":{background:e.colorBgContainer}}))},pR=function(e){var t,n,i=e.componentCls,r=e.antCls,o=e.controlInteractiveSize,a=e.motionDurationSlow,s=e.lineWidth,l=e.paddingXS,c=e.lineType,u=e.tableBorderColor,d=e.tableExpandIconBg,h=e.tableExpandColumnWidth,p=e.borderRadius,f=e.fontSize,m=e.fontSizeSM,g=e.lineHeight,v=e.tablePaddingVertical,y=e.tablePaddingHorizontal,x=e.tableExpandedRowBg,b=e.paddingXXS,_=o/2-s,w=2*_+3*s,k="".concat(s,"px ").concat(c," ").concat(u),S=b-s;return ae({},"".concat(i,"-wrapper"),(ae(n={},"".concat(i,"-expand-icon-col"),{width:h}),ae(n,"".concat(i,"-row-expand-icon-cell"),ae({textAlign:"center"},"".concat(i,"-row-expand-icon"),{display:"inline-flex",float:"none",verticalAlign:"sub"})),ae(n,"".concat(i,"-row-indent"),{height:1,float:"left"}),ae(n,"".concat(i,"-row-expand-icon"),Object.assign(Object.assign({},function(e){return{color:e.colorLink,textDecoration:"none",outline:"none",cursor:"pointer",transition:"color ".concat(e.motionDurationSlow),"&:focus, &:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive}}}(e)),(ae(t={position:"relative",float:"left",boxSizing:"border-box",width:w,height:w,padding:0,color:"inherit",lineHeight:"".concat(w,"px"),background:d,border:k,borderRadius:p,transform:"scale(".concat(o/w,")"),transition:"all ".concat(a),userSelect:"none"},"&:focus, &:hover, &:active",{borderColor:"currentcolor"}),ae(t,"&::before, &::after",{position:"absolute",background:"currentcolor",transition:"transform ".concat(a," ease-out"),content:'""'}),ae(t,"&::before",{top:_,insetInlineEnd:S,insetInlineStart:S,height:s}),ae(t,"&::after",{top:S,bottom:S,insetInlineStart:_,width:s,transform:"rotate(90deg)"}),ae(t,"&-collapsed::before",{transform:"rotate(-180deg)"}),ae(t,"&-collapsed::after",{transform:"rotate(0deg)"}),ae(t,"&-spaced",{"&::before, &::after":{display:"none",content:"none"},background:"transparent",border:0,visibility:"hidden"}),t))),ae(n,"".concat(i,"-row-indent + ").concat(i,"-row-expand-icon"),{marginTop:(f*g-3*s)/2-Math.ceil((1.4*m-3*s)/2),marginInlineEnd:l}),ae(n,"tr".concat(i,"-expanded-row"),ae({"&, &:hover":{"> td":{background:x}}},"".concat(r,"-descriptions-view"),{display:"flex",table:{flex:"auto",width:"auto"}})),ae(n,"".concat(i,"-expanded-row-fixed"),{position:"relative",margin:"-".concat(v,"px -").concat(y,"px"),padding:"".concat(v,"px ").concat(y,"px")}),n))},fR=function(e){var t,n,i,r,o=e.componentCls,a=e.antCls,s=e.iconCls,l=e.tableFilterDropdownWidth,c=e.tableFilterDropdownSearchWidth,u=e.paddingXXS,d=e.paddingXS,h=e.colorText,p=e.lineWidth,f=e.lineType,m=e.tableBorderColor,g=e.tableHeaderIconColor,v=e.fontSizeSM,y=e.tablePaddingHorizontal,x=e.borderRadius,b=e.motionDurationSlow,_=e.colorTextDescription,w=e.colorPrimary,k=e.tableHeaderFilterActiveBg,S=e.colorTextDisabled,C=e.tableFilterDropdownBg,E=e.tableFilterDropdownHeight,T=e.controlItemBgHover,M=e.controlItemBgActive,P=e.boxShadowSecondary,A="".concat(a,"-dropdown"),I="".concat(o,"-filter-dropdown"),L="".concat(a,"-tree"),D="".concat(p,"px ").concat(f," ").concat(m);return[ae({},"".concat(o,"-wrapper"),(t={},ae(t,"".concat(o,"-filter-column"),{display:"flex",justifyContent:"space-between"}),ae(t,"".concat(o,"-filter-trigger"),{position:"relative",display:"flex",alignItems:"center",marginBlock:-u,marginInline:"".concat(u,"px ").concat(-y/2,"px"),padding:"0 ".concat(u,"px"),color:g,fontSize:v,borderRadius:x,cursor:"pointer",transition:"all ".concat(b),"&:hover":{color:_,background:k},"&.active":{color:w}}),t)),ae({},"".concat(a,"-dropdown"),ae({},I,Object.assign(Object.assign({},My(e)),(i={minWidth:l,backgroundColor:C,borderRadius:x,boxShadow:P},ae(i,"".concat(A,"-menu"),{maxHeight:E,overflowX:"hidden",border:0,boxShadow:"none","&:empty::after":{display:"block",padding:"".concat(d,"px 0"),color:S,fontSize:v,textAlign:"center",content:'"Not Found"'}}),ae(i,"".concat(I,"-tree"),(n={paddingBlock:"".concat(d,"px 0"),paddingInline:d},ae(n,L,{padding:0}),ae(n,"".concat(L,"-treenode ").concat(L,"-node-content-wrapper:hover"),{backgroundColor:T}),ae(n,"".concat(L,"-treenode-checkbox-checked ").concat(L,"-node-content-wrapper"),{"&, &:hover":{backgroundColor:M}}),n)),ae(i,"".concat(I,"-search"),{padding:d,borderBottom:D,"&-input":ae({input:{minWidth:c}},s,{color:S})}),ae(i,"".concat(I,"-checkall"),{width:"100%",marginBottom:u,marginInlineStart:u}),ae(i,"".concat(I,"-btns"),{display:"flex",justifyContent:"space-between",padding:"".concat(d-p,"px ").concat(d,"px"),overflow:"hidden",backgroundColor:"inherit",borderTop:D}),i)))),ae({},"".concat(a,"-dropdown ").concat(I,", ").concat(I,"-submenu"),(r={},ae(r,"".concat(a,"-checkbox-wrapper + span"),{paddingInlineStart:d,color:h}),ae(r,"> ul",{maxHeight:"calc(100vh - 130px)",overflowX:"hidden",overflowY:"auto"}),r))]},mR=function(e){var t,n,i,r=e.componentCls,o=e.lineWidth,a=e.colorSplit,s=e.motionDurationSlow,l=e.zIndexTableFixed,c=e.tableBg,u=e.zIndexTableSticky,d=a;return ae({},"".concat(r,"-wrapper"),(ae(i={},"\n        ".concat(r,"-cell-fix-left,\n        ").concat(r,"-cell-fix-right\n      "),{position:"sticky !important",zIndex:l,background:c}),ae(i,"\n        ".concat(r,"-cell-fix-left-first::after,\n        ").concat(r,"-cell-fix-left-last::after\n      "),{position:"absolute",top:0,right:{_skip_check_:!0,value:0},bottom:-o,width:30,transform:"translateX(100%)",transition:"box-shadow ".concat(s),content:'""',pointerEvents:"none"}),ae(i,"".concat(r,"-cell-fix-left-all::after"),{display:"none"}),ae(i,"\n        ".concat(r,"-cell-fix-right-first::after,\n        ").concat(r,"-cell-fix-right-last::after\n      "),{position:"absolute",top:0,bottom:-o,left:{_skip_check_:!0,value:0},width:30,transform:"translateX(-100%)",transition:"box-shadow ".concat(s),content:'""',pointerEvents:"none"}),ae(i,"".concat(r,"-container"),{"&::before, &::after":{position:"absolute",top:0,bottom:0,zIndex:u+1,width:30,transition:"box-shadow ".concat(s),content:'""',pointerEvents:"none"},"&::before":{insetInlineStart:0},"&::after":{insetInlineEnd:0}}),ae(i,"".concat(r,"-ping-left"),(ae(t={},"&:not(".concat(r,"-has-fix-left) ").concat(r,"-container"),{position:"relative","&::before":{boxShadow:"inset 10px 0 8px -8px ".concat(d)}}),ae(t,"\n          ".concat(r,"-cell-fix-left-first::after,\n          ").concat(r,"-cell-fix-left-last::after\n        "),{boxShadow:"inset 10px 0 8px -8px ".concat(d)}),ae(t,"".concat(r,"-cell-fix-left-last::before"),{backgroundColor:"transparent !important"}),t)),ae(i,"".concat(r,"-ping-right"),(ae(n={},"&:not(".concat(r,"-has-fix-right) ").concat(r,"-container"),{position:"relative","&::after":{boxShadow:"inset -10px 0 8px -8px ".concat(d)}}),ae(n,"\n          ".concat(r,"-cell-fix-right-first::after,\n          ").concat(r,"-cell-fix-right-last::after\n        "),{boxShadow:"inset -10px 0 8px -8px ".concat(d)}),n)),i))},gR=function(e){var t,n=e.componentCls,i=e.antCls;return ae({},"".concat(n,"-wrapper"),(ae(t={},"".concat(n,"-pagination").concat(i,"-pagination"),{margin:"".concat(e.margin,"px 0")}),ae(t,"".concat(n,"-pagination"),{display:"flex",flexWrap:"wrap",rowGap:e.paddingXS,"> *":{flex:"none"},"&-left":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-right":{justifyContent:"flex-end"}}),t))},vR=function(e){var t,n=e.componentCls,i=e.tableRadius;return ae({},"".concat(n,"-wrapper"),ae({},n,(ae(t={},"".concat(n,"-title, ").concat(n,"-header"),{borderRadius:"".concat(i,"px ").concat(i,"px 0 0")}),ae(t,"".concat(n,"-title + ").concat(n,"-container"),{borderStartStartRadius:0,borderStartEndRadius:0,table:{borderRadius:0,"> thead > tr:first-child":{"th:first-child":{borderRadius:0},"th:last-child":{borderRadius:0}}}}),ae(t,"&-container",{borderStartStartRadius:i,borderStartEndRadius:i,"table > thead > tr:first-child":{"> *:first-child":{borderStartStartRadius:i},"> *:last-child":{borderStartEndRadius:i}}}),ae(t,"&-footer",{borderRadius:"0 0 ".concat(i,"px ").concat(i,"px")}),t)))},yR=function(e){var t,n=e.componentCls;return ae({},"".concat(n,"-wrapper-rtl"),(ae(t={direction:"rtl",table:{direction:"rtl"}},"".concat(n,"-pagination-left"),{justifyContent:"flex-end"}),ae(t,"".concat(n,"-pagination-right"),{justifyContent:"flex-start"}),ae(t,"".concat(n,"-row-expand-icon"),{"&::after":{transform:"rotate(-90deg)"},"&-collapsed::before":{transform:"rotate(180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"}}),ae(t,"".concat(n,"-container"),{"&::before":{insetInlineStart:"unset",insetInlineEnd:0},"&::after":{insetInlineStart:0,insetInlineEnd:"unset"}}),t))},xR=function(e){var t,n=e.componentCls,i=e.antCls,r=e.iconCls,o=e.fontSizeIcon,a=e.paddingXS,s=e.tableHeaderIconColor,l=e.tableHeaderIconColorHover;return ae({},"".concat(n,"-wrapper"),(ae(t={},"".concat(n,"-selection-col"),{width:e.tableSelectionColumnWidth}),ae(t,"".concat(n,"-bordered ").concat(n,"-selection-col"),{width:e.tableSelectionColumnWidth+2*a}),ae(t,"\n        table tr th".concat(n,"-selection-column,\n        table tr td").concat(n,"-selection-column\n      "),ae({paddingInlineEnd:e.paddingXS,paddingInlineStart:e.paddingXS,textAlign:"center"},"".concat(i,"-radio-wrapper"),{marginInlineEnd:0})),ae(t,"table tr th".concat(n,"-selection-column").concat(n,"-cell-fix-left"),{zIndex:e.zIndexTableFixed+1}),ae(t,"table tr th".concat(n,"-selection-column::after"),{backgroundColor:"transparent !important"}),ae(t,"".concat(n,"-selection"),{position:"relative",display:"inline-flex",flexDirection:"column"}),ae(t,"".concat(n,"-selection-extra"),ae({position:"absolute",top:0,zIndex:1,cursor:"pointer",transition:"all ".concat(e.motionDurationSlow),marginInlineStart:"100%",paddingInlineStart:"".concat(e.tablePaddingHorizontal/4,"px")},r,{color:s,fontSize:o,verticalAlign:"baseline","&:hover":{color:l}})),t))},bR=function(e){var t=e.componentCls,n=function(n,i,r,o){var a;return ae({},"".concat(t).concat(t,"-").concat(n),(ae(a={fontSize:o},"\n        ".concat(t,"-title,\n        ").concat(t,"-footer,\n        ").concat(t,"-thead > tr > th,\n        ").concat(t,"-tbody > tr > td,\n        tfoot > tr > th,\n        tfoot > tr > td\n      "),{padding:"".concat(i,"px ").concat(r,"px")}),ae(a,"".concat(t,"-filter-trigger"),{marginInlineEnd:"-".concat(r/2,"px")}),ae(a,"".concat(t,"-expanded-row-fixed"),{margin:"-".concat(i,"px -").concat(r,"px")}),ae(a,"".concat(t,"-tbody"),ae({},"".concat(t,"-wrapper:only-child ").concat(t),{marginBlock:"-".concat(i,"px"),marginInline:"".concat(e.tableExpandColumnWidth-r,"px -").concat(r,"px")})),ae(a,"".concat(t,"-selection-column"),{paddingInlineStart:"".concat(r/4,"px")}),a))};return ae({},"".concat(t,"-wrapper"),Object.assign(Object.assign({},n("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle,e.tableFontSizeMiddle)),n("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall,e.tableFontSizeSmall)))},_R=function(e){var t,n=e.componentCls,i=e.marginXXS,r=e.fontSizeIcon,o=e.tableHeaderIconColor,a=e.tableHeaderIconColorHover;return ae({},"".concat(n,"-wrapper"),(ae(t={},"".concat(n,"-thead th").concat(n,"-column-has-sorters"),ae({outline:"none",cursor:"pointer",transition:"all ".concat(e.motionDurationSlow),"&:hover":{background:e.tableHeaderSortHoverBg,"&::before":{backgroundColor:"transparent !important"}},"&:focus-visible":{color:e.colorPrimary}},"\n          &".concat(n,"-cell-fix-left:hover,\n          &").concat(n,"-cell-fix-right:hover\n        "),{background:e.tableFixedHeaderSortActiveBg})),ae(t,"".concat(n,"-thead th").concat(n,"-column-sort"),{background:e.tableHeaderSortBg,"&::before":{backgroundColor:"transparent !important"}}),ae(t,"td".concat(n,"-column-sort"),{background:e.tableBodySortBg}),ae(t,"".concat(n,"-column-title"),{position:"relative",zIndex:1,flex:1}),ae(t,"".concat(n,"-column-sorters"),{display:"flex",flex:"auto",alignItems:"center",justifyContent:"space-between","&::after":{position:"absolute",inset:0,width:"100%",height:"100%",content:'""'}}),ae(t,"".concat(n,"-column-sorter"),ae({marginInlineStart:i,color:o,fontSize:0,transition:"color ".concat(e.motionDurationSlow),"&-inner":{display:"inline-flex",flexDirection:"column",alignItems:"center"},"&-up, &-down":{fontSize:r,"&.active":{color:e.colorPrimary}}},"".concat(n,"-column-sorter-up + ").concat(n,"-column-sorter-down"),{marginTop:"-0.3em"})),ae(t,"".concat(n,"-column-sorters:hover ").concat(n,"-column-sorter"),{color:a}),t))},wR=function(e){var t=e.componentCls,n=e.opacityLoading,i=e.tableScrollThumbBg,r=e.tableScrollThumbBgHover,o=e.tableScrollThumbSize,a=e.tableScrollBg,s=e.zIndexTableSticky,l="".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.tableBorderColor);return ae({},"".concat(t,"-wrapper"),ae({},"".concat(t,"-sticky"),{"&-holder":{position:"sticky",zIndex:s,background:e.colorBgContainer},"&-scroll":{position:"sticky",bottom:0,height:"".concat(o,"px !important"),zIndex:s,display:"flex",alignItems:"center",background:a,borderTop:l,opacity:n,"&:hover":{transformOrigin:"center bottom"},"&-bar":{height:o,backgroundColor:i,borderRadius:100,transition:"all ".concat(e.motionDurationSlow,", transform none"),position:"absolute",bottom:0,"&:hover, &-active":{backgroundColor:r}}}}))},kR=function(e){var t,n=e.componentCls,i=e.lineWidth,r=e.tableBorderColor,o="".concat(i,"px ").concat(e.lineType," ").concat(r);return ae({},"".concat(n,"-wrapper"),(ae(t={},"".concat(n,"-summary"),{position:"relative",zIndex:e.zIndexTableFixed,background:e.tableBg,"> tr":{"> th, > td":{borderBottom:o}}}),ae(t,"div".concat(n,"-summary"),{boxShadow:"0 -".concat(i,"px 0 ").concat(r)}),t))},SR=function(e){var t,n,i,r=e.componentCls,o=e.fontWeightStrong,a=e.tablePaddingVertical,s=e.tablePaddingHorizontal,l=e.lineWidth,c=e.lineType,u=e.tableBorderColor,d=e.tableFontSize,h=e.tableBg,p=e.tableRadius,f=e.tableHeaderTextColor,m=e.motionDurationMid,g=e.tableHeaderBg,v=e.tableHeaderCellSplitColor,y=e.tableRowHoverBg,x=e.tableSelectedRowBg,b=e.tableSelectedRowHoverBg,_=e.tableFooterTextColor,w=e.tableFooterBg,k=e.paddingContentVerticalLG,S="".concat(l,"px ").concat(c," ").concat(u);return ae({},"".concat(r,"-wrapper"),Object.assign(Object.assign({clear:"both",maxWidth:"100%"},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),(ae(i={},r,Object.assign(Object.assign({},My(e)),{fontSize:d,background:h,borderRadius:"".concat(p,"px ").concat(p,"px 0 0")})),ae(i,"table",{width:"100%",textAlign:"start",borderRadius:"".concat(p,"px ").concat(p,"px 0 0"),borderCollapse:"separate",borderSpacing:0}),ae(i,"\n          ".concat(r,"-thead > tr > th,\n          ").concat(r,"-tbody > tr > td,\n          tfoot > tr > th,\n          tfoot > tr > td\n        "),{position:"relative",padding:"".concat(k,"px ").concat(s,"px"),overflowWrap:"break-word"}),ae(i,"".concat(r,"-title"),{padding:"".concat(a,"px ").concat(s,"px")}),ae(i,"".concat(r,"-thead"),(ae(t={},"\n          > tr > th,\n          > tr > td\n        ",ae({position:"relative",color:f,fontWeight:o,textAlign:"start",background:g,borderBottom:S,transition:"background ".concat(m," ease"),"&[colspan]:not([colspan='1'])":{textAlign:"center"}},"&:not(:last-child):not(".concat(r,"-selection-column):not(").concat(r,"-row-expand-icon-cell):not([colspan])::before"),{position:"absolute",top:"50%",insetInlineEnd:0,width:1,height:"1.6em",backgroundColor:v,transform:"translateY(-50%)",transition:"background-color ".concat(m),content:'""'})),ae(t,"> tr:not(:last-child) > th[colspan]",{borderBottom:0}),t)),ae(i,"".concat(r,"-tbody"),{"> tr":(n={"> td":ae({transition:"background ".concat(m,", border-color ").concat(m),borderBottom:S},"\n              > ".concat(r,"-wrapper:only-child,\n              > ").concat(r,"-expanded-row-fixed > ").concat(r,"-wrapper:only-child\n            "),ae({},r,ae({marginBlock:"-".concat(a,"px"),marginInline:"".concat(e.tableExpandColumnWidth-s,"px -").concat(s,"px")},"".concat(r,"-tbody > tr:last-child > td"),{borderBottom:0,"&:first-child, &:last-child":{borderRadius:0}})))},ae(n,"\n            &".concat(r,"-row:hover > td,\n            > td").concat(r,"-cell-row-hover\n          "),{background:y}),ae(n,"&".concat(r,"-row-selected"),{"> td":{background:x},"&:hover > td":{background:b}}),n)}),ae(i,"".concat(r,"-footer"),{padding:"".concat(a,"px ").concat(s,"px"),color:_,background:w}),i)))},CR=tx("Table",(function(e){var t=e.controlItemBgActive,n=e.controlItemBgActiveHover,i=e.colorTextPlaceholder,r=e.colorTextHeading,o=e.colorSplit,a=e.colorBorderSecondary,s=e.fontSize,l=e.padding,c=e.paddingXS,u=e.paddingSM,d=e.controlHeight,h=e.colorFillAlter,p=e.colorIcon,f=e.colorIconHover,m=e.opacityLoading,g=e.colorBgContainer,v=e.borderRadiusLG,y=e.colorFillContent,x=e.colorFillSecondary,b=e.controlInteractiveSize,_=new By(p),w=new By(f),k=t,S=new By(x).onBackground(g).toHexString(),C=new By(y).onBackground(g).toHexString(),E=new By(h).onBackground(g).toHexString(),T=Sy(e,{tableFontSize:s,tableBg:g,tableRadius:v,tablePaddingVertical:l,tablePaddingHorizontal:l,tablePaddingVerticalMiddle:u,tablePaddingHorizontalMiddle:c,tablePaddingVerticalSmall:c,tablePaddingHorizontalSmall:c,tableBorderColor:a,tableHeaderTextColor:r,tableHeaderBg:E,tableFooterTextColor:r,tableFooterBg:E,tableHeaderCellSplitColor:a,tableHeaderSortBg:S,tableHeaderSortHoverBg:C,tableHeaderIconColor:_.clone().setAlpha(_.getAlpha()*m).toRgbString(),tableHeaderIconColorHover:w.clone().setAlpha(w.getAlpha()*m).toRgbString(),tableBodySortBg:E,tableFixedHeaderSortActiveBg:S,tableHeaderFilterActiveBg:y,tableFilterDropdownBg:g,tableRowHoverBg:E,tableSelectedRowBg:k,tableSelectedRowHoverBg:n,zIndexTableFixed:2,zIndexTableSticky:3,tableFontSizeMiddle:s,tableFontSizeSmall:s,tableSelectionColumnWidth:d,tableExpandIconBg:g,tableExpandColumnWidth:b+2*e.padding,tableExpandedRowBg:h,tableFilterDropdownWidth:120,tableFilterDropdownHeight:264,tableFilterDropdownSearchWidth:140,tableScrollThumbSize:8,tableScrollThumbBg:i,tableScrollThumbBgHover:r,tableScrollBg:o});return[SR(T),gR(T),kR(T),_R(T),fR(T),uR(T),vR(T),pR(T),kR(T),hR(T),xR(T),mR(T),wR(T),dR(T),bR(T),yR(T)]})),ER=[];function TR(e,n){var i,r=e.prefixCls,o=e.className,a=e.rootClassName,s=e.style,l=e.size,c=e.bordered,u=e.dropdownPrefixCls,d=e.dataSource,h=e.pagination,p=e.rowSelection,f=e.rowKey,m=void 0===f?"key":f,g=e.rowClassName,v=e.columns,y=e.children,x=e.childrenColumnName,b=e.onChange,_=e.getPopupContainer,w=e.loading,k=e.expandIcon,S=e.expandable,C=e.expandedRowRender,E=e.expandIconColumnIndex,T=e.indentSize,M=e.scroll,P=e.sortDirections,A=e.locale,I=e.showSorterTooltip,L=void 0===I||I;var D=t.useMemo((function(){return v||gS(y)}),[v,y]),O=t.useMemo((function(){return D.some((function(e){return e.responsive}))}),[D]),R=QS(O),z=t.useMemo((function(){var e=new Set(Object.keys(R).filter((function(e){return R[e]})));return D.filter((function(t){return!t.responsive||t.responsive.some((function(t){return e.has(t)}))}))}),[D,R]),F=Yp(e,["className","style","columns"]),B=t.useContext(lb),N=t.useContext(Kp),j=N.locale,V=void 0===j?h_:j,W=N.direction,U=N.renderEmpty,H=N.getPrefixCls,X=l||B,G=Object.assign(Object.assign({},V.Table),A),Y=d||ER,q=H("table",r),K=H("dropdown",u),$=Object.assign({childrenColumnName:x,expandIconColumnIndex:E},S),Z=$.childrenColumnName,J=void 0===Z?"children":Z,Q=t.useMemo((function(){return Y.some((function(e){return null===e||void 0===e?void 0:e[J]}))?"nest":C||S&&S.expandedRowRender?"row":null}),[Y]),ee={body:t.useRef()},te=t.useMemo((function(){return"function"===typeof m?m:function(e){return null===e||void 0===e?void 0:e[m]}}),[m]),ne=function(e,n,i){var r=t.useRef({});return[function(t){if(!r.current||r.current.data!==e||r.current.childrenColumnName!==n||r.current.getRowKey!==i){var o=new Map;!function e(t){t.forEach((function(t,r){var a=i(t,r);o.set(a,t),t&&"object"===typeof t&&n in t&&e(t[n]||[])}))}(e),r.current={data:e,childrenColumnName:n,kvMap:o,getRowKey:i}}return r.current.kvMap.get(t)}]}(Y,J,te),ie=pe(ne,1)[0],re={},oe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Object.assign(Object.assign({},re),e);n&&(re.resetPagination(),i.pagination.current&&(i.pagination.current=1),h&&h.onChange&&h.onChange(1,i.pagination.pageSize)),M&&!1!==M.scrollToFirstRowOnChange&&ee.body.current&&FM(0,{getContainer:function(){return ee.body.current}}),null===b||void 0===b||b(i.pagination,i.filters,i.sorter,{currentDataSource:DO(aR(Y,i.sorterStates,J),i.filterStates),action:t})},se=function(e){var n=e.prefixCls,i=e.mergedColumns,r=e.onSorterChange,o=e.sortDirections,a=e.tableLocale,s=e.showSorterTooltip,l=pe(t.useState(nR(i,!0)),2),c=l[0],u=l[1],d=t.useMemo((function(){var e=!0,t=nR(i,!1);if(!t.length)return c;var n=[];function r(t){e?n.push(t):n.push(Object.assign(Object.assign({},t),{sortOrder:null}))}var o=null;return t.forEach((function(t){null===o?(r(t),t.sortOrder&&(!1===t.multiplePriority?e=!1:o=!0)):(o&&!1!==t.multiplePriority||(e=!1),r(t))})),n}),[i,c]),h=t.useMemo((function(){var e=d.map((function(e){return{column:e.column,order:e.sortOrder}}));return{sortColumns:e,sortColumn:e[0]&&e[0].column,sortOrder:e[0]&&e[0].order}}),[d]);function p(e){var t;t=!1!==e.multiplePriority&&d.length&&!1!==d[0].multiplePriority?[].concat(Ne(d.filter((function(t){return t.key!==e.key}))),[e]):[e],u(t),r(oR(t),t)}return[function(e){return iR(n,e,d,p,o,a,s)},d,h,function(){return oR(d)}]}({prefixCls:q,mergedColumns:z,onSorterChange:function(e,t){oe({sorter:e,sorterStates:t},"sort",!1)},sortDirections:P||["ascend","descend"],tableLocale:G,showSorterTooltip:L}),le=pe(se,4),ce=le[0],ue=le[1],de=le[2],he=le[3],fe=t.useMemo((function(){return aR(Y,ue,J)}),[Y,ue]);re.sorter=he(),re.sorterStates=ue;var me=RO({prefixCls:q,locale:G,dropdownPrefixCls:K,mergedColumns:z,onFilterChange:function(e,t){oe({filters:e,filterStates:t},"filter",!0)},getPopupContainer:_}),ge=pe(me,3),ve=ge[0],ye=ge[1],xe=ge[2],be=DO(fe,ye);re.filters=xe,re.filterStates=ye;var _e=pe(lR(t.useMemo((function(){var e={};return Object.keys(xe).forEach((function(t){null!==xe[t]&&(e[t]=xe[t])})),Object.assign(Object.assign({},de),{filters:e})}),[de,xe])),1)[0],we=function(e,n,i){var r=n&&"object"===typeof n?n:{},o=r.total,a=void 0===o?0:o,s=FO(r,["total"]),l=pe((0,t.useState)((function(){return{current:"defaultCurrent"in s?s.defaultCurrent:1,pageSize:"defaultPageSize"in s?s.defaultPageSize:BO}})),2),c=l[0],u=l[1],d=zO(c,s,{total:a>0?a:e}),h=Math.ceil((a||e)/d.pageSize);d.current>h&&(d.current=h||1);var p=function(e,t){u({current:null!==e&&void 0!==e?e:1,pageSize:t||d.pageSize})};return!1===n?[{},function(){}]:[Object.assign(Object.assign({},d),{onChange:function(e,t){var r;n&&(null===(r=n.onChange)||void 0===r||r.call(n,e,t)),p(e,t),i(e,t||(null===d||void 0===d?void 0:d.pageSize))}}),p]}(be.length,h,(function(e,t){oe({pagination:Object.assign(Object.assign({},re.pagination),{current:e,pageSize:t})},"paginate")})),ke=pe(we,2),Se=ke[0],Ce=ke[1];re.pagination=!1===h?{}:function(e,t){var n={current:e.current,pageSize:e.pageSize},i=t&&"object"===typeof t?t:{};return Object.keys(i).forEach((function(t){var i=e[t];"function"!==typeof i&&(n[t]=i)})),n}(Se,h),re.resetPagination=Ce;var Ee=t.useMemo((function(){if(!1===h||!Se.pageSize)return be;var e=Se.current,t=void 0===e?1:e,n=Se.total,i=Se.pageSize,r=void 0===i?BO:i;return be.length<n?be.length>r?be.slice((t-1)*r,t*r):be:be.slice((t-1)*r,t*r)}),[!!h,be,Se&&Se.current,Se&&Se.pageSize,Se&&Se.total]),Te=pe(XO(p,{prefixCls:q,data:be,pageData:Ee,getRowKey:te,getRecordByKey:ie,expandType:Q,childrenColumnName:J,locale:G,getPopupContainer:_}),2),Me=Te[0],Pe=Te[1];$.__PARENT_RENDER_ICON__=$.expandIcon,$.expandIcon=$.expandIcon||k||BM(G),"nest"===Q&&void 0===$.expandIconColumnIndex?$.expandIconColumnIndex=p?1:0:$.expandIconColumnIndex>0&&p&&($.expandIconColumnIndex-=1),"number"!==typeof $.indentSize&&($.indentSize="number"===typeof T?T:15);var Ae,Ie,Le,De=t.useCallback((function(e){return _e(Me(ve(ce(e))))}),[ce,ve,Me]);if(!1!==h&&(null===Se||void 0===Se?void 0:Se.total)){var Oe;Oe=Se.size?Se.size:"small"===X||"middle"===X?"small":void 0;var Re=function(e){return t.createElement(CM,Object.assign({},Se,{className:wh()("".concat(q,"-pagination ").concat(q,"-pagination-").concat(e),Se.className),size:Oe}))},ze="rtl"===W?"left":"right",Fe=Se.position;if(null!==Fe&&Array.isArray(Fe)){var Be=Fe.find((function(e){return e.includes("top")})),je=Fe.find((function(e){return e.includes("bottom")})),Ve=Fe.every((function(e){return"none"==="".concat(e)}));Be||je||Ve||(Ie=Re(ze)),Be&&(Ae=Re(Be.toLowerCase().replace("top",""))),je&&(Ie=Re(je.toLowerCase().replace("bottom","")))}else Ie=Re(ze)}"boolean"===typeof w?Le={spinning:w}:"object"===typeof w&&(Le=Object.assign({spinning:!0},w));var We=pe(CR(q),2),Ue=We[0],He=We[1],Xe=wh()("".concat(q,"-wrapper"),ae({},"".concat(q,"-wrapper-rtl"),"rtl"===W),o,a,He),Ge=A&&A.emptyText||(null===U||void 0===U?void 0:U("Table"))||t.createElement(qS,{componentName:"Table"});return Ue(t.createElement("div",{ref:n,className:Xe,style:s},t.createElement(RM,Object.assign({spinning:!1},Le),Ae,t.createElement(cR,Object.assign({},F,{columns:z,direction:W,expandable:$,prefixCls:q,className:wh()((i={},ae(i,"".concat(q,"-middle"),"middle"===X),ae(i,"".concat(q,"-small"),"small"===X),ae(i,"".concat(q,"-bordered"),c),ae(i,"".concat(q,"-empty"),0===Y.length),i)),data:Ee,rowKey:te,rowClassName:function(e,t,n){var i;return i="function"===typeof g?wh()(g(e,t,n)):wh()(g),wh()(ae({},"".concat(q,"-row-selected"),Pe.has(te(e,t))),i)},emptyText:Ge,internalHooks:LS,internalRefs:ee,transformColumns:De})),Ie)))}var MR=t.forwardRef(TR);function PR(e,n){var i=t.useRef(0);return i.current+=1,t.createElement(MR,Object.assign({},e,{ref:n,_renderTimes:i.current}))}var AR=t.forwardRef(PR);AR.SELECTION_COLUMN=NO,AR.EXPAND_COLUMN=ak,AR.SELECTION_ALL=jO,AR.SELECTION_INVERT=VO,AR.SELECTION_NONE=WO,AR.Column=FS,AR.ColumnGroup=BS,AR.Summary=Mk;var IR=AR;var LR=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.name,i=e.strict,r=void 0===i||i,o=e.hookName,a=void 0===o?"useContext":o,s=e.providerName,l=void 0===s?"Provider":s,c=e.errorMessage,u=(0,t.createContext)(void 0);return u.displayName=n,[u.Provider,function e(){var n,i,o=(0,t.useContext)(u);if(!o&&r){var s=new Error(null!=c?c:(i=l,"".concat(a," returned `undefined`. Seems you forgot to wrap component within ").concat(i)));throw s.name="ContextError",null==(n=Error.captureStackTrace)||n.call(Error,s,e),s}return o},u]}({strict:!1,name:"ButtonGroupContext"}),DR=pe(LR,2),OR=(DR[0],DR[1]),RR=["children","className"];function zR(e){var n=e.children,i=e.className,r=ln(e,RR),o=(0,t.isValidElement)(n)?(0,t.cloneElement)(n,{"aria-hidden":!0,focusable:!1}):n,a=un("chakra-button__icon",i);return(0,fe.jsx)(Do.span,le(le({display:"inline-flex",alignSelf:"center",flexShrink:0},r),{},{className:a,children:o}))}zR.displayName="ButtonIcon";function FR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ho(t)}var BR=["label","thickness","speed","emptyColor","className"],NR=function(){var e=FR.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),jR=Oo((function(e,t){var n=Ca("Spinner",e),i=ji(e),r=i.label,o=void 0===r?"Loading...":r,a=i.thickness,s=void 0===a?"2px":a,l=i.speed,c=void 0===l?"0.45s":l,u=i.emptyColor,d=void 0===u?"transparent":u,h=i.className,p=ln(i,BR),f=un("chakra-spinner",h),m=le({display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:s,borderBottomColor:d,borderLeftColor:d,animation:"".concat(NR," ").concat(c," linear infinite")},n);return(0,fe.jsx)(Do.div,le(le({ref:t,__css:m,className:f},p),{},{children:o&&(0,fe.jsx)(Do.span,{srOnly:!0,children:o})}))}));jR.displayName="Spinner";var VR=["label","placement","spacing","children","className","__css"];function WR(e){var n=e.label,i=e.placement,r=e.spacing,o=void 0===r?"0.5rem":r,a=e.children,s=void 0===a?(0,fe.jsx)(jR,{color:"currentColor",width:"1em",height:"1em"}):a,l=e.className,c=e.__css,u=ln(e,VR),d=un("chakra-button__spinner",l),h="start"===i?"marginEnd":"marginStart",p=(0,t.useMemo)((function(){var e;return le((ae(e={display:"flex",alignItems:"center",position:n?"relative":"absolute"},h,n?o:0),ae(e,"fontSize","1em"),ae(e,"lineHeight","normal"),e),c)}),[c,n,h,o]);return(0,fe.jsx)(Do.div,le(le({className:d},u),{},{__css:p,children:s}))}function UR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){!function(e,t){if(null!=e)if("function"!==typeof e)try{e.current=t}catch(n){throw new Error("Cannot assign value '".concat(t,"' to ref '").concat(e,"'"))}else e(t)}(t,e)}))}}function HR(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(0,t.useMemo)((function(){return UR.apply(void 0,n)}),n)}WR.displayName="ButtonSpinner";var XR=["isDisabled","isLoading","isActive","children","leftIcon","rightIcon","loadingText","iconSpacing","type","spinner","spinnerPlacement","className","as"],GR=Oo((function(e,n){var i=OR(),r=Ca("Button",le(le({},i),e)),o=ji(e),a=o.isDisabled,s=void 0===a?null==i?void 0:i.isDisabled:a,l=o.isLoading,c=o.isActive,u=o.children,d=o.leftIcon,h=o.rightIcon,p=o.loadingText,f=o.iconSpacing,m=void 0===f?"0.5rem":f,g=o.type,v=o.spinner,y=o.spinnerPlacement,x=void 0===y?"start":y,b=o.className,_=o.as,w=ln(o,XR),k=(0,t.useMemo)((function(){var e=le(le({},null==r?void 0:r._focus),{},{zIndex:1});return le(le({display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none"},r),!!i&&{_focus:e})}),[r,i]),S=function(e){var n=pe((0,t.useState)(!e),2),i=n[0],r=n[1],o=(0,t.useCallback)((function(e){e&&r("BUTTON"===e.tagName)}),[]);return{ref:o,type:i?"button":void 0}}(_),C=S.ref,E=S.type,T={rightIcon:h,leftIcon:d,iconSpacing:m,children:u};return(0,fe.jsxs)(Do.button,le(le({ref:HR(n,C),as:_,type:null!=g?g:E,"data-active":fn(c),"data-loading":fn(l),__css:k,className:un("chakra-button",b)},w),{},{disabled:s||l,children:[l&&"start"===x&&(0,fe.jsx)(WR,{className:"chakra-button__spinner--start",label:p,placement:"start",spacing:m,children:v}),l?p||(0,fe.jsx)(Do.span,{opacity:0,children:(0,fe.jsx)(YR,le({},T))}):(0,fe.jsx)(YR,le({},T)),l&&"end"===x&&(0,fe.jsx)(WR,{className:"chakra-button__spinner--end",label:p,placement:"end",spacing:m,children:v})]}))}));function YR(e){var t=e.leftIcon,n=e.rightIcon,i=e.children,r=e.iconSpacing;return(0,fe.jsxs)(fe.Fragment,{children:[t&&(0,fe.jsx)(zR,{marginEnd:r,children:t}),i,n&&(0,fe.jsx)(zR,{marginStart:r,children:n})]})}GR.displayName="Button";var qR=function(){var e=re(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(we);case 2:return e.next=4,we.get("/api/withdrawals/request");case 4:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),KR=function(){var e=re(ne().mark((function e(t,n){var i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(we);case 2:return e.next=4,we.patch("/api/withdrawals/request/".concat(t),n);case 4:return i=e.sent,e.abrupt("return",null===i||void 0===i?void 0:i.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$R={fetchWithdrawals:qR,updateWithdrawal:KR};function ZR(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=ZR(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}var JR=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=ZR(e))&&(i&&(i+=" "),i+=t);return i},QR=["theme","type"],ez=["delay","staleId"],tz=function(e){return"number"==typeof e&&!isNaN(e)},nz=function(e){return"string"==typeof e},iz=function(e){return"function"==typeof e},rz=function(e){return nz(e)||iz(e)?e:null},oz=function(e){return(0,t.isValidElement)(e)||nz(e)||iz(e)||tz(e)};function az(e){var n=e.enter,i=e.exit,r=e.appendPosition,o=void 0!==r&&r,a=e.collapse,s=void 0===a||a,l=e.collapseDuration,c=void 0===l?300:l;return function(e){var r=e.children,a=e.position,l=e.preventExitTransition,u=e.done,d=e.nodeRef,h=e.isIn,p=o?"".concat(n,"--").concat(a):n,f=o?"".concat(i,"--").concat(a):i,m=(0,t.useRef)(0);return(0,t.useLayoutEffect)((function(){var e,t=d.current,n=p.split(" "),i=function e(i){var r;i.target===d.current&&(t.dispatchEvent(new Event("d")),t.removeEventListener("animationend",e),t.removeEventListener("animationcancel",e),0===m.current&&"animationcancel"!==i.type&&(r=t.classList).remove.apply(r,Ne(n)))};(e=t.classList).add.apply(e,Ne(n)),t.addEventListener("animationend",i),t.addEventListener("animationcancel",i)}),[]),(0,t.useEffect)((function(){var e=d.current,t=function t(){e.removeEventListener("animationend",t),s?function(e,t,n){void 0===n&&(n=300);var i=e.scrollHeight,r=e.style;requestAnimationFrame((function(){r.minHeight="initial",r.height=i+"px",r.transition="all ".concat(n,"ms"),requestAnimationFrame((function(){r.height="0",r.padding="0",r.margin="0",setTimeout(t,n)}))}))}(e,u,c):u()};h||(l?t():(m.current=1,e.className+=" ".concat(f),e.addEventListener("animationend",t)))}),[h]),t.createElement(t.Fragment,null,r)}}function sz(e,t){return{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}}var lz={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){var t=arguments,n=this;this.list.has(e)&&this.list.get(e).forEach((function(i){var r=setTimeout((function(){i.apply(void 0,Ne([].slice.call(t,1)))}),0);n.emitQueue.has(e)||n.emitQueue.set(e,[]),n.emitQueue.get(e).push(r)}))}},cz=function(e){var n=e.theme,i=e.type,r=ln(e,QR);return t.createElement("svg",le({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-".concat(i,")")},r))},uz={info:function(e){return t.createElement(cz,le({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return t.createElement(cz,le({},e),t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return t.createElement(cz,le({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return t.createElement(cz,le({},e),t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return t.createElement("div",{className:"Toastify__spinner"})}};function dz(e){var n=(0,t.useReducer)((function(e){return e+1}),0),i=pe(n,2)[1],r=pe((0,t.useState)([]),2),o=r[0],a=r[1],s=(0,t.useRef)(null),l=(0,t.useRef)(new Map).current,c=function(e){return-1!==o.indexOf(e)},u=(0,t.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:c,getToast:function(e){return l.get(e)}}).current;function d(e){var t=e.containerId;!u.props.limit||t&&u.containerId!==t||(u.count-=u.queue.length,u.queue=[])}function h(e){a((function(t){return null==e?[]:t.filter((function(t){return t!==e}))}))}function p(){var e=u.queue.shift();m(e.toastContent,e.toastProps,e.staleId)}function f(e,n){var r=n.delay,o=n.staleId,a=ln(n,ez);if(oz(e)&&!function(e){return!s.current||u.props.enableMultiContainer&&e.containerId!==u.props.containerId||l.has(e.toastId)&&null==e.updateId}(a)){var c=a.toastId,d=a.updateId,f=a.data,g=u.props,v=function(){return h(c)},y=null==d;y&&u.count++;var x,b,_=le(le(le({},g),{},{style:g.toastStyle,key:u.toastKey++},a),{},{toastId:c,updateId:d,data:f,closeToast:v,isIn:!1,className:rz(a.className||g.toastClassName),bodyClassName:rz(a.bodyClassName||g.bodyClassName),progressClassName:rz(a.progressClassName||g.progressClassName),autoClose:!a.isLoading&&(x=a.autoClose,b=g.autoClose,!1===x||tz(x)&&x>0?x:b),deleteToast:function(){var e=sz(l.get(c),"removed");l.delete(c),lz.emit(4,e);var t=u.queue.length;if(u.count=null==c?u.count-u.displayedToast:u.count-1,u.count<0&&(u.count=0),t>0){var n=null==c?u.props.limit:1;if(1===t||1===n)u.displayedToast++,p();else{var r=n>t?t:n;u.displayedToast=r;for(var o=0;o<r;o++)p()}}else i()}});_.iconOut=function(e){var n=e.theme,i=e.type,r=e.isLoading,o=e.icon,a=null,s={theme:n,type:i};return!1===o||(iz(o)?a=o(s):(0,t.isValidElement)(o)?a=(0,t.cloneElement)(o,s):nz(o)||tz(o)?a=o:r?a=uz.spinner():function(e){return e in uz}(i)&&(a=uz[i](s))),a}(_),iz(a.onOpen)&&(_.onOpen=a.onOpen),iz(a.onClose)&&(_.onClose=a.onClose),_.closeButton=g.closeButton,!1===a.closeButton||oz(a.closeButton)?_.closeButton=a.closeButton:!0===a.closeButton&&(_.closeButton=!oz(g.closeButton)||g.closeButton);var w=e;(0,t.isValidElement)(e)&&!nz(e.type)?w=(0,t.cloneElement)(e,{closeToast:v,toastProps:_,data:f}):iz(e)&&(w=e({closeToast:v,toastProps:_,data:f})),g.limit&&g.limit>0&&u.count>g.limit&&y?u.queue.push({toastContent:w,toastProps:_,staleId:o}):tz(r)?setTimeout((function(){m(w,_,o)}),r):m(w,_,o)}}function m(e,t,n){var i=t.toastId;n&&l.delete(n);var r={content:e,props:t};l.set(i,r),a((function(e){return[].concat(Ne(e),[i]).filter((function(e){return e!==n}))})),lz.emit(4,sz(r,null==r.props.updateId?"added":"updated"))}return(0,t.useEffect)((function(){return u.containerId=e.containerId,lz.cancelEmit(3).on(0,f).on(1,(function(e){return s.current&&h(e)})).on(5,d).emit(2,u),function(){l.clear(),lz.emit(3,u)}}),[]),(0,t.useEffect)((function(){u.props=e,u.isToastActive=c,u.displayedToast=o.length})),{getToastToRender:function(t){var n=new Map,i=Array.from(l.values());return e.newestOnTop&&i.reverse(),i.forEach((function(e){var t=e.props.position;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(function(e){return t(e[0],e[1])}))},containerRef:s,isToastActive:c}}function hz(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function pz(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function fz(e){var n=pe((0,t.useState)(!1),2),i=n[0],r=n[1],o=pe((0,t.useState)(!1),2),a=o[0],s=o[1],l=(0,t.useRef)(null),c=(0,t.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,u=(0,t.useRef)(e),d=e.autoClose,h=e.pauseOnHover,p=e.closeToast,f=e.onClick,m=e.closeOnClick;function g(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),c.didMove=!1,document.addEventListener("mousemove",b),document.addEventListener("mouseup",_),document.addEventListener("touchmove",b),document.addEventListener("touchend",_);var n=l.current;c.canCloseOnClick=!0,c.canDrag=!0,c.boundingRect=n.getBoundingClientRect(),n.style.transition="",c.x=hz(t.nativeEvent),c.y=pz(t.nativeEvent),"x"===e.draggableDirection?(c.start=c.x,c.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(c.start=c.y,c.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function v(t){if(c.boundingRect){var n=c.boundingRect,i=n.top,r=n.bottom,o=n.left,a=n.right;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&c.x>=o&&c.x<=a&&c.y>=i&&c.y<=r?x():y()}}function y(){r(!0)}function x(){r(!1)}function b(t){var n=l.current;c.canDrag&&n&&(c.didMove=!0,i&&x(),c.x=hz(t),c.y=pz(t),c.delta="x"===e.draggableDirection?c.x-c.start:c.y-c.start,c.start!==c.x&&(c.canCloseOnClick=!1),n.style.transform="translate".concat(e.draggableDirection,"(").concat(c.delta,"px)"),n.style.opacity=""+(1-Math.abs(c.delta/c.removalDistance)))}function _(){document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",_),document.removeEventListener("touchmove",b),document.removeEventListener("touchend",_);var t=l.current;if(c.canDrag&&c.didMove&&t){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance)return s(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate".concat(e.draggableDirection,"(0)"),t.style.opacity="1"}}(0,t.useEffect)((function(){u.current=e})),(0,t.useEffect)((function(){return l.current&&l.current.addEventListener("d",y,{once:!0}),iz(e.onOpen)&&e.onOpen((0,t.isValidElement)(e.children)&&e.children.props),function(){var e=u.current;iz(e.onClose)&&e.onClose((0,t.isValidElement)(e.children)&&e.children.props)}}),[]),(0,t.useEffect)((function(){return e.pauseOnFocusLoss&&(document.hasFocus()||x(),window.addEventListener("focus",y),window.addEventListener("blur",x)),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",y),window.removeEventListener("blur",x))}}),[e.pauseOnFocusLoss]);var w={onMouseDown:g,onTouchStart:g,onMouseUp:v,onTouchEnd:v};return d&&h&&(w.onMouseEnter=x,w.onMouseLeave=y),m&&(w.onClick=function(e){f&&f(e),c.canCloseOnClick&&p()}),{playToast:y,pauseToast:x,isRunning:i,preventExitTransition:a,toastRef:l,eventHandlers:w}}function mz(e){var n=e.closeToast,i=e.theme,r=e.ariaLabel,o=void 0===r?"close":r;return t.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(i),type:"button",onClick:function(e){e.stopPropagation(),n(e)},"aria-label":o},t.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},t.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function gz(e){var n=e.delay,i=e.isRunning,r=e.closeToast,o=e.type,a=void 0===o?"default":o,s=e.hide,l=e.className,c=e.style,u=e.controlledProgress,d=e.progress,h=e.rtl,p=e.isIn,f=e.theme,m=s||u&&0===d,g=le(le({},c),{},{animationDuration:"".concat(n,"ms"),animationPlayState:i?"running":"paused",opacity:m?0:1});u&&(g.transform="scaleX(".concat(d,")"));var v=JR("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(f),"Toastify__progress-bar--".concat(a),{"Toastify__progress-bar--rtl":h}),y=iz(l)?l({rtl:h,type:a,defaultClassName:v}):JR(v,l);return t.createElement("div",ae({role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:y,style:g},u&&d>=1?"onTransitionEnd":"onAnimationEnd",u&&d<1?null:function(){p&&r()}))}var vz=function(e){var n=fz(e),i=n.isRunning,r=n.preventExitTransition,o=n.toastRef,a=n.eventHandlers,s=e.closeButton,l=e.children,c=e.autoClose,u=e.onClick,d=e.type,h=e.hideProgressBar,p=e.closeToast,f=e.transition,m=e.position,g=e.className,v=e.style,y=e.bodyClassName,x=e.bodyStyle,b=e.progressClassName,_=e.progressStyle,w=e.updateId,k=e.role,S=e.progress,C=e.rtl,E=e.toastId,T=e.deleteToast,M=e.isIn,P=e.isLoading,A=e.iconOut,I=e.closeOnClick,L=e.theme,D=JR("Toastify__toast","Toastify__toast-theme--".concat(L),"Toastify__toast--".concat(d),{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":I}),O=iz(g)?g({rtl:C,position:m,type:d,defaultClassName:D}):JR(D,g),R=!!S||!c,z={closeToast:p,type:d,theme:L},F=null;return!1===s||(F=iz(s)?s(z):(0,t.isValidElement)(s)?(0,t.cloneElement)(s,z):mz(z)),t.createElement(f,{isIn:M,done:T,position:m,preventExitTransition:r,nodeRef:o},t.createElement("div",le(le({id:E,onClick:u,className:O},a),{},{style:v,ref:o}),t.createElement("div",le(le({},M&&{role:k}),{},{className:iz(y)?y({type:d}):JR("Toastify__toast-body",y),style:x}),null!=A&&t.createElement("div",{className:JR("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!P})},A),t.createElement("div",null,l)),F,t.createElement(gz,le(le({},w&&!R?{key:"pb-".concat(w)}:{}),{},{rtl:C,theme:L,delay:c,isRunning:i,isIn:M,closeToast:p,hide:h,type:d,style:_,className:b,controlledProgress:R,progress:S||0}))))},yz=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},xz=az(yz("bounce",!0)),bz=(az(yz("slide",!0)),az(yz("zoom")),az(yz("flip")),(0,t.forwardRef)((function(e,n){var i=dz(e),r=i.getToastToRender,o=i.containerRef,a=i.isToastActive,s=e.className,l=e.style,c=e.rtl,u=e.containerId;function d(e){var t=JR("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":c});return iz(s)?s({position:e,rtl:c,defaultClassName:t}):JR(t,rz(s))}return(0,t.useEffect)((function(){n&&(n.current=o.current)}),[]),t.createElement("div",{ref:o,className:"Toastify",id:u},r((function(e,n){var i=n.length?le({},l):le(le({},l),{},{pointerEvents:"none"});return t.createElement("div",{className:d(e),style:i,key:"container-".concat(e)},n.map((function(e,i){var r=e.content,o=e.props;return t.createElement(vz,le(le({},o),{},{isIn:a(o.toastId),style:le(le({},o.style),{},{"--nth":i+1,"--len":n.length}),key:"toast-".concat(o.key)}),r)})))})))})));bz.displayName="ToastContainer",bz.defaultProps={position:"top-right",transition:xz,autoClose:5e3,closeButton:mz,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var _z,wz=new Map,kz=[],Sz=1;function Cz(){return""+Sz++}function Ez(e){return e&&(nz(e.toastId)||tz(e.toastId))?e.toastId:Cz()}function Tz(e,t){return wz.size>0?lz.emit(0,e,t):kz.push({content:e,options:t}),t.toastId}function Mz(e,t){return le(le({},t),{},{type:t&&t.type||e,toastId:Ez(t)})}function Pz(e){return function(t,n){return Tz(t,Mz(e,n))}}function Az(e,t){return Tz(e,Mz("default",t))}Az.loading=function(e,t){return Tz(e,Mz("default",le({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},Az.promise=function(e,t,n){var i,r=t.pending,o=t.error,a=t.success;r&&(i=nz(r)?Az.loading(r,n):Az.loading(r.render,le(le({},n),r)));var s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null,delay:100},l=function(e,t,r){if(null!=t){var o=le(le(le({type:e},s),n),{},{data:r}),a=nz(t)?{render:t}:t;return i?Az.update(i,le(le({},o),a)):Az(a.render,le(le({},o),a)),r}Az.dismiss(i)},c=iz(e)?e():e;return c.then((function(e){return l("success",a,e)})).catch((function(e){return l("error",o,e)})),c},Az.success=Pz("success"),Az.info=Pz("info"),Az.error=Pz("error"),Az.warning=Pz("warning"),Az.warn=Az.warning,Az.dark=function(e,t){return Tz(e,Mz("default",le({theme:"dark"},t)))},Az.dismiss=function(e){wz.size>0?lz.emit(1,e):kz=kz.filter((function(t){return null!=e&&t.options.toastId!==e}))},Az.clearWaitingQueue=function(e){return void 0===e&&(e={}),lz.emit(5,e)},Az.isActive=function(e){var t=!1;return wz.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},Az.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,i=wz.get(n||_z);return i&&i.getToast(e)}(e,t);if(n){var i=n.props,r=n.content,o=le(le(le({},i),t),{},{toastId:t.toastId||e,updateId:Cz()});o.toastId!==e&&(o.staleId=e);var a=o.render||r;delete o.render,Tz(a,o)}}),0)},Az.done=function(e){Az.update(e,{progress:1})},Az.onChange=function(e){return lz.on(4,e),function(){lz.off(4,e)}},Az.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Az.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},lz.on(2,(function(e){_z=e.containerId||e,wz.set(_z,e),kz.forEach((function(e){lz.emit(0,e.content,e.options)})),kz=[]})).on(3,(function(e){wz.delete(e.containerId||e),0===wz.size&&lz.off(0).off(1).off(5)}));var Iz=["handleClick","text","className"],Lz=function(){var e=pe((0,t.useState)(!1),2),n=e[0],i=e[1],r=pe((0,t.useState)([]),2),o=r[0],a=r[1],s=(0,t.useCallback)(re(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,$R.fetchWithdrawals();case 4:t=e.sent,a(t),i(!1),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),i(!1),Az.error("Withdrawals fetch error: ",null===e.t0||void 0===e.t0?void 0:e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,9]])}))),[]),l=(0,t.useCallback)(function(){var e=re(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,$R.updateWithdrawal(t,{status:"rejected"});case 4:i(!1),s(),Az.success("Withdrawal rejected."),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),i(!1),Az.error("Withdrawals fetch error: ",null===e.t0||void 0===e.t0?void 0:e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),[s]),c=[{title:"Code",dataIndex:"code"},{title:"Business",dataIndex:"business",render:function(e,t){var n;return(0,fe.jsx)("span",{children:null===t||void 0===t||null===(n=t.business)||void 0===n?void 0:n.name})}},{title:"Phone number",dataIndex:"phone_number",render:function(e,t){var n,i,r,o,a,s,l,c;return(0,fe.jsx)(fe.Fragment,{children:null!==t&&void 0!==t&&t.phone?(0,fe.jsx)("span",{children:(null===t||void 0===t||null===(n=t.phone)||void 0===n?void 0:n.substring(0,4))+"***"+(null===t||void 0===t||null===(i=t.phone)||void 0===i?void 0:i.substring((null===t||void 0===t||null===(r=t.phone)||void 0===r?void 0:r.length)-3,null===t||void 0===t||null===(o=t.phone)||void 0===o?void 0:o.length))}):(0,fe.jsx)("span",{children:(null===t||void 0===t||null===(a=t.phone_number)||void 0===a?void 0:a.substring(0,4))+"***"+(null===t||void 0===t||null===(s=t.phone_number)||void 0===s?void 0:s.substring((null===t||void 0===t||null===(l=t.phone_number)||void 0===l?void 0:l.length)-3,null===t||void 0===t||null===(c=t.phone_number)||void 0===c?void 0:c.length))})})}},{title:"Amount",dataIndex:"amount"},{title:"Transaction id",dataIndex:"transaction_id"},{title:"Status",dataIndex:"status",render:function(e,t){return(0,fe.jsx)(fe.Fragment,{children:"approved"===(null===t||void 0===t?void 0:t.status)?(0,fe.jsx)(Oz,{text:"Approved",className:"bg-green-500 text-white"}):"pending"===(null===t||void 0===t?void 0:t.status)?(0,fe.jsx)(Oz,{text:"Pending",className:"bg-yellow-400 text-gray-50"}):(0,fe.jsx)(Oz,{text:"Rejected",className:"bg-red-500 text-gray-50"})})}},{title:"Date",dataIndex:"createdAt",render:function(e,t){return(0,fe.jsx)("span",{children:hs()(null===t||void 0===t?void 0:t.createdAt).format("YYYY-MM-DD HH:mm:ss")})}},{title:"Action",dataIndex:"action",render:function(e,t){return(0,fe.jsx)(fe.Fragment,{children:"rejected"!==(null===t||void 0===t?void 0:t.status)&&(0,fe.jsxs)(Fo,{className:"flex gap-1 justify-start",children:[(0,fe.jsx)(Dz,{text:"Confirm",className:"bg-success"}),(0,fe.jsx)(b_,{title:"Reject the withdrawal?",description:"Are you sure to reject this withdrawal?",onConfirm:function(){return l(null===t||void 0===t?void 0:t._id)},okText:"Yes",cancelText:"No",okButtonProps:{className:"bg-primary text-slate-800"},children:(0,fe.jsx)("div",{children:(0,fe.jsx)(Dz,{className:"bg-red-600",text:"Reject"})})})]})})}}];return(0,t.useEffect)((function(){s()}),[s]),(0,fe.jsxs)(Aa,{children:[(0,fe.jsx)("div",{className:"text-md py-2 font-bold",children:"WITHDRAWAL REQUESTS"}),(0,fe.jsx)(ok,{theme:{token:{colorPrimary:"#FFD600",colorPrimaryTextActive:"#19411D",colorPrimaryText:"#19411D",colorPrimaryBg:"#FFD600"}},children:(0,fe.jsx)(IR,{style:{fontSize:"11px",marginTop:"10px",background:"white"},rowKey:function(e){return e.id},loading:n,pagination:{defaultPageSize:30,showSizeChanger:!0,pageSizeOptions:["10","20","30","50","100"]},columns:c,dataSource:o})})]})},Dz=function(e){var t=e.handleClick,n=e.text,i=e.className,r=ln(e,Iz);return(0,fe.jsx)(GR,le(le({className:"text-sm py-1.5 px-3 rounded ".concat(i," "),onClick:t},r),{},{children:n}))},Oz=function(e){e.handleClick;var t=e.text,n=e.className;return(0,fe.jsx)("div",{className:"text-xs font-semibold rounded-full p-1 text-center  ".concat(n," "),children:t})},Rz=["axis"],zz=Do("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});zz.displayName="Center";var Fz={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}},Bz=(Oo((function(e,t){var n=e.axis,i=void 0===n?"both":n,r=ln(e,Rz);return(0,fe.jsx)(Do.div,le(le({ref:t,__css:Fz[i]},r),{},{position:"absolute"}))})),function(){var e=re(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(we);case 2:return e.next=4,we.get("/api/all_riders");case 4:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),Nz=function(){var e=re(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(we);case 2:return e.next=4,we.post("/api/rider_path",{riders:t});case 4:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),jz=function(){var e=re(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(we);case 2:return e.next=4,we.get("/api/rider_path/"+t);case 4:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Vz={getRiders:Bz,getCoordinates:Nz,getCurrentRiderCoordinates:jz},Wz=function(e){var t=e.name,n=e.handleClick;return(0,fe.jsxs)(ba,{className:"py-3 px-1 gap-2 m-1 border-b border-gray-400 hover:bg-slate-200 cursor-pointer ",onClick:n,children:[(0,fe.jsx)(Jo,{className:"text-2xl text-gray-500"}),(0,fe.jsx)("span",{className:"text-sm text-slate-800",children:t})]})},Uz=X((function(e){return{riders:e.userDetails.riders,coordinates:e.tracker.coordinates}}))((function(e){var n=e.riders,i=e.coordinates,r=e.handleHide,o=e.isOpen,a=e.handlePan,s=pe((0,t.useState)(n),2),l=s[0],c=s[1],u=pe((0,t.useState)(""),2),d=u[0],h=u[1];return(0,t.useEffect)((function(){var e=null===n||void 0===n?void 0:n.filter((function(e){var t,n;return null===e||void 0===e||null===(t=e.name)||void 0===t||null===(n=t.toLowerCase())||void 0===n?void 0:n.includes(d)}));c(e)}),[n,d]),(0,fe.jsxs)("div",{className:"h-[90vh] absolute right-1 z-20  top-[60px] bottom-0  bg-slate-50 overflow-y-scroll duration-300 ".concat(o?"w-[250px]":"w-0"),children:[(0,fe.jsxs)("div",{className:"bg-white shadow px-2 py-3 top-0 sticky left-0 right-0",children:[(0,fe.jsxs)(ba,{justifyContent:"space-between",alignItems:"center",children:[(0,fe.jsx)("span",{className:"text-md font-semibold mb-2",children:"Riders"}),(0,fe.jsx)("button",{className:"p-2 hover:outline-none",onClick:r,children:(0,fe.jsx)(Ko,{})})]}),(0,fe.jsxs)("div",{className:"flex gap-2 rounded-full border-gray-500 border items-center overflow-hidden",children:[(0,fe.jsx)(ea,{className:"text-sm ml-2 shrink-0"}),(0,fe.jsx)("input",{className:"flex-1 h-8 focus:outline-none text-sm",placeholder:"phone number",onChange:function(e){var t;return h(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)}})]})]}),(0,fe.jsx)("div",{className:"px-2",children:null===l||void 0===l?void 0:l.map((function(e){return(0,fe.jsx)(Wz,{name:null===e||void 0===e?void 0:e.name,handleClick:function(){var t,n;return a(null===(t=i[null===e||void 0===e?void 0:e._id][0])||void 0===t?void 0:t.lat,null===(n=i[null===e||void 0===e?void 0:e._id][0])||void 0===n?void 0:n.lng,null===e||void 0===e?void 0:e._id)}})}))})]})})),Hz=function(e){var t=e.handleClick;return(0,fe.jsx)("button",{className:"rounded-full p-3 shadow-md absolute top-20 right-2 z-10 h-10 w-10 bg-yellow-400 text-black cursor-pointer",onClick:t,children:(0,fe.jsx)(qo,{className:"text-xl"})})},Xz=X((function(e){return{riders:e.userDetails.riders,coordinates:e.tracker.coordinates}}),(function(e){return{fetchCoords:function(t){return e((n=t,function(){var e=re(ne().mark((function e(t){var i,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"FETCH_COORDINATES"}),e.next=4,Vz.getCoordinates(n);case 4:return i=e.sent,r=null===i||void 0===i?void 0:i.paths,t({type:"FETCH_COORDINATES_SUCCESSFUL",payload:r}),e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),t({type:"FETCH_COORDINATES_ERROR",payload:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()));var n},updateRider:function(t){return e({type:"UPDATE_RIDER",payload:t})}}}))((function(e){var n,i,r,o,a,s,l=e.riders,c=e.coordinates,u=e.fetchCoords,d=(e.updateRider,(0,t.useRef)()),h=pe((0,t.useState)(null),2),p=h[0],f=h[1],m=pe((0,t.useState)(null),2),g=m[0],v=m[1],y=pe((0,t.useState)(!1),2),x=y[0],b=y[1],_=pe((0,t.useState)({}),2),w=_[0],k=_[1],S=pe((0,t.useState)(null===(n=l[0])||void 0===n?void 0:n._id),2),C=S[0],E=S[1],T=pe((0,t.useState)(!1),2),M=T[0],P=T[1],A=(0,t.useMemo)((function(){return{lat:-1.2878412,lng:36.8278173}}),[]),I=(0,t.useMemo)((function(){return{disableDefaultUI:!0,clickableIcons:!1,mapId:"f2dbb0573bbff1b1"}}),[]),L=(0,t.useCallback)((function(e){return d.current=e}),[]);(0,t.useEffect)((function(){var e=null===l||void 0===l?void 0:l.map((function(e){return null===e||void 0===e?void 0:e._id}));u(e);var t=setInterval((function(){u(e)}),1e4);return function(){return clearInterval(t)}}),[u,l]),(0,t.useEffect)((function(){k(c)}),[c]);var D=(0,t.useCallback)(re(ne().mark((function e(){var t,n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),e.next=4,Vz.getCurrentRiderCoordinates(null===p||void 0===p||null===(t=p.rider)||void 0===t?void 0:t._id);case 4:n=e.sent,k((function(e){var t,i,r,o,a,s,l,c,u,d,h;return le(le({},e),{},ae({},null===p||void 0===p||null===(t=p.rider)||void 0===t?void 0:t._id,{_id:null===n||void 0===n||null===(i=n.paths)||void 0===i||null===(r=i.id)||void 0===r?void 0:r._id,rider:null===n||void 0===n||null===(o=n.paths)||void 0===o||null===(a=o.id)||void 0===a?void 0:a.rider,lng:null===n||void 0===n||null===(s=n.paths)||void 0===s||null===(l=s.id)||void 0===l?void 0:l.lng,lat:null===n||void 0===n||null===(c=n.paths)||void 0===c||null===(u=c.id)||void 0===u?void 0:u.lat,createdAt:null===n||void 0===n||null===(d=n.paths)||void 0===d||null===(h=d.id)||void 0===h?void 0:h.createdAt}))})),v(n),setTimeout((function(){f(null)}),2500),b(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("FETCH CURRENT RIDER DETAILS ERROR:",e.t0),b(!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])}))),[null===p||void 0===p||null===(i=p.rider)||void 0===i?void 0:i._id]),O=(0,t.useCallback)((function(e,t){var n;null===(n=d.current)||void 0===n||n.panTo({lat:Number(e),lng:Number(t)}),d.current.setZoom(17)}),[]);return(0,t.useEffect)((function(){var e,t=null===p||void 0===p||null===(e=p.rider)||void 0===e?void 0:e._id,n=w[t],i=n?n[0]:{};null!==i&&void 0!==i&&i.lat&&O(null===i||void 0===i?void 0:i.lat,null===i||void 0===i?void 0:i.lng)}),[w,p,O]),(0,fe.jsxs)(Aa,{children:[(0,fe.jsx)("div",{className:"map bg-slate-300  w-full h-full overflow-y-hidden",children:(0,fe.jsxs)(jc,{zoom:13,center:A,mapContainerClassName:"map-container",options:I,onLoad:L,mapContainerStyle:{height:"92vh",width:"100%"},children:[null===(r=Object.values(w))||void 0===r?void 0:r.map((function(e){var t,n,i,r,o;return(0,fe.jsx)(hu,{position:{lat:Number(null===(t=e[0])||void 0===t?void 0:t.lat),lng:Number(null===(n=e[0])||void 0===n?void 0:n.lng)},onClick:function(){return f(e[0])},icon:{url:C!==(null===(r=e[0])||void 0===r?void 0:r._id)?"https://i0.wp.com/www.worth.com/wp-content/uploads/2017/09/map-marker-icon.png":"https://www.pngkey.com/png/full/48-480344_maps-clipart-map-pin-grey-google-maps-marker.png",scaledSize:C!==(null===(o=e[0])||void 0===o?void 0:o._id)?new window.google.maps.Size(50,50):new window.google.maps.Size(35,50)}},null===(i=e[0])||void 0===i?void 0:i._id)})),(null===p||void 0===p?void 0:p._id)&&(0,fe.jsx)(hd,{onCloseClick:function(){f(null)},options:{pixelOffset:new window.google.maps.Size(0,-40)},position:{lat:Number(null===p||void 0===p?void 0:p.lat),lng:Number(null===p||void 0===p?void 0:p.lng)},children:(0,fe.jsxs)("div",{style:{opacity:.75,padding:3},children:[(0,fe.jsxs)(ba,{children:[(0,fe.jsx)("span",{className:"font-bold",children:"Name: "}),(0,fe.jsx)("div",{className:"text",children:null===p||void 0===p?void 0:p.rider.name})]}),(0,fe.jsxs)(ba,{children:[(0,fe.jsx)("span",{className:"font-bold",children:"Agent: "}),(0,fe.jsxs)("div",{className:"text",children:[(null===g||void 0===g||null===(o=g.packages)||void 0===o?void 0:o.agents)||0," "]})]}),(0,fe.jsxs)(ba,{children:[(0,fe.jsx)("span",{className:"font-bold",children:"Doorstep: "}),(0,fe.jsxs)("div",{className:"text",children:[(null===g||void 0===g||null===(a=g.packages)||void 0===a?void 0:a.doorstep)||0," "]})]}),(0,fe.jsxs)(ba,{children:[(0,fe.jsx)("span",{className:"font-bold",children:"Errand: "}),(0,fe.jsxs)("div",{className:"text",children:[(null===g||void 0===g||null===(s=g.packages)||void 0===s?void 0:s.errand)||0," "]})]}),(0,fe.jsx)(ba,{justifyContent:"center",py:"2",children:(0,fe.jsx)(GR,{onClick:D,isLoading:x,loadingText:"fetching",className:"py-1 px-2 bg-slate-500 text-white rounded-sm hover:scale-[0.995] hover:text-xs hover:font-semibold duration-300",children:"Refetch"})})]})})]})}),(0,fe.jsx)(Uz,{handleHide:function(){return P(!1)},isOpen:M,handlePan:function(e,t,n){E(n),f(c[n][0]),O(e,t)}}),(0,fe.jsx)(Hz,{handleClick:function(){return P(!0)}})]})}));var Gz=function(){return Qc({googleMapsApiKey:"AIzaSyDctWcs7BwfAxWypCIhI2tnEOyIi5FCqLk"}).isLoaded?(0,fe.jsx)(Xz,{}):(0,fe.jsx)(Aa,{children:(0,fe.jsx)(zz,{h:"92vh",bg:"#fff",overflowY:"hidden",children:(0,fe.jsx)("span",{className:"text-3xl font-semibold text-gray-70",children:"Loading . . ."})})})},Yz=function(){return jt([{path:"/",element:(0,fe.jsx)(Jt,{})},{path:"/sellers",element:(0,fe.jsx)($a,{})},{path:"/dashboard",element:(0,fe.jsx)(Va,{})},{path:"/seller/:id",element:(0,fe.jsx)(as,{})},{path:"/agent-agent-packages",element:(0,fe.jsx)(ps,{})},{path:"/seller/:bussiness_id/products",element:(0,fe.jsx)(es,{})},{path:"/collections",element:(0,fe.jsx)(nl,{})},{path:"/packages",element:(0,fe.jsx)(vs,{})},{path:"/riders",element:(0,fe.jsx)(As,{})},{path:"/mpesa-payments",element:(0,fe.jsx)(Ls,{})},{path:"/rent-a-shelf",element:(0,fe.jsx)(uh,{})},{path:"/rent-a-shelf/:shop/businesses",element:(0,fe.jsx)(dh,{})},{path:"/rent-a-shelf/:shop/business/:business",element:(0,fe.jsx)(mh,{})},{path:"/wahehouse",element:(0,fe.jsx)(Ds,{})},{path:"/wahehouse/:slug",element:(0,fe.jsx)(il,{})},{path:"/wahehouse/assign/:rider",element:(0,fe.jsx)(rl,{})},{path:"/wahehouse/agent-agent/pick-package-from-rider/:rider",element:(0,fe.jsx)(Hs,{})},{path:"/wahehouse/agent-agent/packages",element:(0,fe.jsx)(Js,{})},{path:"/wahehouse/agent-agent/assign-package-to/:rider",element:(0,fe.jsx)(Rs,{})},{path:"/wahehouse/agent-agent/:slug/agents",element:(0,fe.jsx)(Xs,{})},{path:"/wahehouse/doorstep/packages",element:(0,fe.jsx)(Vs,{})},{path:"/wahehouse/doorstep/pick-packages",element:(0,fe.jsx)(Ws,{})},{path:"/wahehouse/doorstep/pick-packages-from/:rider",element:(0,fe.jsx)(Us,{})},{path:"/wahehouse/doorstep/give-package-to-rider",element:(0,fe.jsx)(Gs,{})},{path:"/wahehouse/doorstep/assign-rider",element:(0,fe.jsx)(Ys,{})},{path:"/business",element:(0,fe.jsx)(ch,{})},{path:"/wahehouse/errand/packages",element:(0,fe.jsx)(qs,{})},{path:"/wahehouse/errand/pick-packages",element:(0,fe.jsx)(Ks,{})},{path:"/wahehouse/errand/pick-packages-from/:rider",element:(0,fe.jsx)($s,{})},{path:"/wahehouse/errand/give-package-to-rider",element:(0,fe.jsx)(Zs,{})},{path:"/wahehouse/errand/assign-rider",element:(0,fe.jsx)(Zs,{})},{path:"/setup",element:(0,fe.jsx)(xh,{})},{path:"/switch-board",element:(0,fe.jsx)(Ac,{})},{path:"/track/:riders",element:(0,fe.jsx)(lh,{})},{path:"/agents",element:(0,fe.jsx)(js,{})},{path:"/agent/:name",element:(0,fe.jsx)(ol,{})},{path:"/mpesa/withdrawals",element:(0,fe.jsx)(Lz,{})},{path:"/tracker",element:(0,fe.jsx)(Gz,{})}])},qz=X((function(e){return{riders:e.riders}}),(function(e){return{setRiders:function(t){return e({type:"SET_RIDERS",payload:t})}}}))((function(e){e.riders;var n=e.setRiders,i=(0,t.useCallback)(re(ne().mark((function e(){var t,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null===(t=JSON.parse(localStorage.getItem("riders")))||void 0===t?void 0:t.length)>0)){e.next=5;break}n(t),e.next=10;break;case 5:return e.next=7,Vz.getRiders();case 7:i=e.sent,n(i),localStorage.setItem("riders",JSON.stringify(i));case 10:case"end":return e.stop()}}),e)}))),[]);return t.useEffect((function(){i()}),[i]),(0,fe.jsx)(nn,{children:(0,fe.jsx)(Yz,{})})})),Kz=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),i(e),r(e),o(e),a(e)}))};function $z(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Zz="function"===typeof Symbol&&Symbol.observable||"@@observable",Jz=function(){return Math.random().toString(36).substring(7).split("").join(".")},Qz={INIT:"@@redux/INIT"+Jz(),REPLACE:"@@redux/REPLACE"+Jz(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Jz()}};function eF(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function tF(e,t,n){var i;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error($z(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error($z(1));return n(tF)(e,t)}if("function"!==typeof e)throw new Error($z(2));var r=e,o=t,a=[],s=a,l=!1;function c(){s===a&&(s=a.slice())}function u(){if(l)throw new Error($z(3));return o}function d(e){if("function"!==typeof e)throw new Error($z(4));if(l)throw new Error($z(5));var t=!0;return c(),s.push(e),function(){if(t){if(l)throw new Error($z(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),a=null}}}function h(e){if(!eF(e))throw new Error($z(7));if("undefined"===typeof e.type)throw new Error($z(8));if(l)throw new Error($z(9));try{l=!0,o=r(o,e)}finally{l=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:Qz.INIT}),(i={dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error($z(10));r=e,h({type:Qz.REPLACE})}})[Zz]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error($z(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[Zz]=function(){return this},e},i}function nF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function iF(e){return function(t){var n=t.dispatch,i=t.getState;return function(t){return function(r){return"function"===typeof r?r(n,i,e):t(r)}}}}var rF=iF();rF.withExtraArgument=iF;var oF=rF,aF={package:{},errors:[],error:"",packages:[],to_door_packages:[],rented_shelf_packages:[],agentloading:!0,doorloading:!0,loading:!0};var sF={errors:[],error:"",users:[],user:{},admins:[],riders:[],loading:!1};var lF={locations:[],errors:[],error:"",packages:[],loading:!0};var cF={products:[],errors:[],error:"",packages:[],product:{},loading:!1};var uF={bussiness:{},errors:[],error:"",bussinsses:[],loading:!1};var dF={zones:[],errors:[],error:"",agents:[],rs_agents:[],routes:[],packs:[],loading:!1};var hF={package:{},errors:[],error:"",packages:[],to_door_packages:[],shelf_packages_tracks:[],agent_packages_tracks:[],door_packages_tracks:[],agentloading:!0,doorloading:!0,loading:!0};var pF={destinations:[],zone_pricing:[],errors:[],error:"",payments:[],loading:!1};var fF={coordinates:{},loading:!1,error:""};var mF={riders:[],errors:[],error:"",payments:[],loading:!1};var gF={PackageDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aF,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECIEVE_PACKAGE":case"REJECT_PACKAGE":case"ADD_PACKAGE":case"DELETE_TODO":case"FETCH_TODOS":return le(le({},e),{},{loading:!0});case"RECIEVE_PACKAGE_SUCCESSFUL":case"REJECT_PACKAGE_SUCCESSFUL":case"ADD_PACKAGE_SUCCESSFUL":case"DELETE_TODO_SUCCESSFUL":return le(le({},e),{},{loading:!1});case"RECIEVE_PACKAGE_FAIL":case"REJECT_PACKAGE_FAIL":case"ADD_PACKAGE_FAIL":case"DELETE_TODO_FAIL":case"FETCH_TODOS_FAIL":return le(le({},e),{},{loading:!0,error:t.payload});case"FETCH_AGENTS_PACKAGES":return le(le({},e),{},{agentloading:!0});case"FETCH_AGENTS_PACKAGES_SUCCESSFUL":return le(le({},e),{},{agentloading:!1,packages:t.payload.agent_packages});case"FETCH_AGENTS_PACKAGES_FAIL":return le(le({},e),{},{agentloading:!0,error:t.payload});case"FETCH_TODOS_SUCCESSFUL":return le(le({},e),{},{loading:!1,rented_shelf_packages:t.payload.shelves});case"FETCH_DOORSTEP":return le(le({},e),{},{doorloading:!0});case"FETCH_DOORSTEP_SUCCESSFUL":return le(le({},e),{},{doorloading:!1,to_door_packages:t.payload.doorstep_packages});case"FETCH_DOORSTEP_FAIL":return le(le({},e),{},{doorloading:!0,error:t.payload});default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sF,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_RIDERS":return le(le({},e),{},{riders:t.payload});case"LOGIN":case"REGISTER_USER":case"FETCH_ADMINS":case"FETCH_USERS":return le(le({},e),{},{loading:!0});case"LOGIN_SUCCESSFUL":return le(le({},e),{},{loading:!1,user:t.payload});case"LOGIN_FAIL":return le(le({},e),{},{loading:!1,error:t.payload});case"REGISTER_USER_SUCCESSFUL":return le(le({},e),{},{loading:!1});case"REGISTER_USER_FAIL":case"FETCH_ADMINS_FAIL":case"FETCH_USERS_FAIL":return le(le({},e),{},{loading:!0,error:t.payload});case"FETCH_ADMINS_SUCCESSFUL":return le(le({},e),{},{loading:!1,admins:t.payload});case"FETCH_USERS_SUCCESSFUL":return le(le({},e),{},{loading:!1,users:t.payload});case"CLEAR":return le(le({},e),{},{loading:!1,error:""});default:return e}},LocationDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lF,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_LOCATION":case"ADD_THRIFT":return le(le({},e),{},{loading:!0});case"FETCH_LOCATION_SUCCESSFUL":case"ADD_THRIFT_SUCCESSFUL":return le(le({},e),{},{loading:!1,locations:t.payload});case"FETCH_LOCATION_FAIL":case"ADD_THRIFT_FAIL":return le(le({},e),{},{loading:!0,error:t.payload});default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cF,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PRODUCT":case"FETCH_PRODUCTS":case"ADD_PACKAGE":case"DELETE_TODO":case"FETCH_TODOS":return le(le({},e),{},{loading:!0});case"FETCH_PRODUCT_SUCCESSFUL":return le(le({},e),{},{loading:!1,product:t.payload});case"FETCH_PRODUCT_FAIL":case"FETCH_PRODUCTS_FAIL":case"ADD_PACKAGE_FAIL":case"DELETE_TODO_FAIL":case"FETCH_TODOS_FAIL":return le(le({},e),{},{loading:!0,error:t.payload});case"FETCH_PRODUCTS_SUCCESSFUL":return le(le({},e),{},{loading:!1,products:t.payload});case"ADD_PACKAGE_SUCCESSFUL":case"DELETE_TODO_SUCCESSFUL":return le(le({},e),{},{loading:!1});case"FETCH_TODOS_SUCCESSFUL":return le(le({},e),{},{loading:!1,packages:t.payload});default:return e}},bussiness:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uF,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_BUSSINESS":return le(le({},e),{},{loading:!0});case"FETCH_BUSSINESS_SUCCESSFUL":return le(le({},e),{},{loading:!1,bussinsses:t.payload});case"FETCH_BUSSINESS_FAIL":return le(le({},e),{},{loading:!1,error:t.payload});default:return e}},ridersDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mF,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_RIDERS":case"FETCH_PAYMENTS":case"ADD_RIDER":return le(le({},e),{},{loading:!0});case"FETCH_RIDERS_SUCCESSFUL":return le(le({},e),{},{loading:!1,riders:t.payload});case"FETCH_RIDERS_FAIL":case"FETCH_PAYMENTS_FAIL":case"ADD_RIDER_FAIL":return le(le({},e),{},{loading:!0,error:t.payload});case"FETCH_PAYMENTS_SUCCESSFUL":return le(le({},e),{},{loading:!1,payments:t.payload});case"ADD_RIDER_SUCCESSFUL":return le(le({},e),{},{loading:!1});default:return e}},agentsData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dF,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_AGENTS_PACK":case"FETCH_AGENTS":case"FETCH_RS_AGENTS":case"FETCH_ZONES":case"FETCH_ROUTES":case"FETCH_WEBPACKAGES":return le(le({},e),{},{loading:!0});case"FETCH_AGENTS_PACK_SUCCESSFUL":case"FETCH_WEBPACKAGES_SUCCESSFUL":return le(le({},e),{},{loading:!1,packs:t.payload});case"FETCH_AGENTS_PACK_FAIL":case"FETCH_AGENTS_FAIL":case"FETCH_RS_AGENTS_FAIL":case"FETCH_ZONES_FAIL":case"FETCH_ROUTES_FAIL":case"FETCH_WEBPACKAGES_FAIL":return le(le({},e),{},{loading:!0,error:t.payload});case"FETCH_AGENTS_SUCCESSFUL":return le(le({},e),{},{loading:!1,agents:t.payload});case"FETCH_RS_AGENTS_SUCCESSFUL":return le(le({},e),{},{loading:!1,rs_agents:t.payload});case"FETCH_ZONES_SUCCESSFUL":return le(le({},e),{},{loading:!1,zones:t.payload});case"FETCH_ROUTES_SUCCESSFUL":return le(le({},e),{},{loading:!1,routes:t.payload});default:return e}},switchboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hF,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_RENT_SHELF":case"FETCH_AGENT":case"FETCH_DOOR_STEP":return le(le({},e),{},{loading:!0});case"FETCH_RENT_SHELF_SUCCESSFUL":return le(le({},e),{},{loading:!1,shelf_packages_tracks:t.payload});case"FETCH_RENT_SHELF_FAIL":case"FETCH_AGENT_FAIL":case"FETCH_DOOR_STEP_FAIL":return le(le({},e),{},{loading:!0,error:t.payload});case"FETCH_AGENT_SUCCESSFUL":return le(le({},e),{},{loading:!1,agent_packages_tracks:t.payload});case"FETCH_DOOR_STEP_SUCCESSFUL":return le(le({},e),{},{loading:!1,door_packages_tracks:t.payload});default:return e}},Destination:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pF,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DESTINATIONS":case"FETCH_ZONE_PRICING":return le(le({},e),{},{loading:!0});case"FETCH_DESTINATIONS_SUCCESSFUL":return le(le({},e),{},{loading:!1,destinations:t.payload});case"FETCH_DESTINATIONS_FAIL":case"FETCH_ZONE_PRICING_FAIL":return le(le({},e),{},{loading:!0,error:t.payload});case"FETCH_ZONE_PRICING_SUCCESSFUL":return le(le({},e),{},{loading:!1,zone_pricing:t.payload});default:return e}},tracker:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fF,i=arguments.length>1?arguments[1]:void 0;switch(i.type){case"UPDATE_RIDER":return le(le({},n),{},{coordinates:le(le({},null===n||void 0===n?void 0:n.coordinates),{},ae({},null===(e=i.payload)||void 0===e?void 0:e.id,null===(t=i.payload)||void 0===t?void 0:t.data))});case"FETCH_COORDINATES":return le(le({},n),{},{loading:!0});case"FETCH_COORDINATES_SUCCESSFUL":return le(le({},n),{},{loading:!1,coordinates:i.payload});case"FETCH_COORDINATES_ERROR":return le(le({},n),{},{loading:!1,error:null===i||void 0===i?void 0:i.payload});default:return n}}},vF=function(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var r=t[i];0,"function"===typeof e[r]&&(n[r]=e[r])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Qz.INIT}))throw new Error($z(12));if("undefined"===typeof n(void 0,{type:Qz.PROBE_UNKNOWN_ACTION()}))throw new Error($z(13))}))}(n)}catch(_F){o=_F}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var i=!1,r={},s=0;s<a.length;s++){var l=a[s],c=n[l],u=e[l],d=c(u,t);if("undefined"===typeof d){t&&t.type;throw new Error($z(14))}r[l]=d,i=i||d!==u}return(i=i||a.length!==Object.keys(e).length)?r:e}}(gF),yF=tF(vF,{},(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||nF)(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),i=function(){throw new Error($z(15))},r={getState:n.getState,dispatch:function(){return i.apply(void 0,arguments)}},o=t.map((function(e){return e(r)}));return i=nF.apply(void 0,o)(n.dispatch),le(le({},n),{},{dispatch:i})}}}(oF))),xF=yF;r.render((0,fe.jsx)(t.StrictMode,{children:(0,fe.jsx)(h,{store:xF,children:(0,fe.jsx)(qz,{})})}),document.getElementById("root")),Kz()}()}();
//# sourceMappingURL=main.15e20d83.js.map